(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('@import"https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600&display=swap";#near-wallet-selector-modal{--backdrop-bg: #26262630;--heading-color: #222222;--text-color: #676767;--sidebar-border-color: #EDEDED;--selected-wallet-bg: #4F7CD1;--selected-wallet-bg-hover: transparent;--wallet-option-border-color: #A7A7A730;--wallet-option-bg-hover: #6494ee3d;--wallet-option-outline-color: #6494EE;--content-bg: #FAFAFA;--change-path-bg: #EDEDED;--home-button-bg: #EDEDED;--confirm-button-bg: #5F8AFA;--confirm-button-bg-hover: #5AA6FF;--error: #DB5555;--close-button-bg-color: #EDEDED;--close-button-fill-icon-color: #9F9F9F;--spinner-color: #676767;--bottom-section: #ececec;--mobile-text: #3e3e3e;--connected-green: #47E586;--gradient-dark-icon: radial-gradient(297.59% 179.46% at 91.67% -25%, #AEC2EA 0%, #95D1E4 100%);--get-wallet-option-bg-color: #F8F9FA;--get-wallet-option-bg-color-hover: #6494ee3d;--get-wallet-option-border-color: #C1C1C1;--get-wallet-outline-color: #6494EE;--get-wallet-option-box-shadow: 0px 2px 2px rgba(17, 22, 24, .04);--secondary-button-bg-color: #4F7CD129;--secondary-button-border-color: #4F7CD129;--secondary-button-text-color: #4F7CD1;--what-wallet-icon-color: #FFFFFF;--deprecated-icon-bg-color: #D7E2F7;--deprecated-icon-bg-color-selected: #4F7CD1}#near-wallet-selector-modal .dark-theme{--backdrop-bg: #26262630;--heading-color: #FFFFFF;--text-color: #C1C1C1;--sidebar-border-color: #313030;--selected-wallet-bg: #4F7CD1;--selected-wallet-bg-hover: #262626CC;--wallet-option-border-color: #A7A7A730;--wallet-option-bg-hover: #4f7cd13d;--wallet-option-outline-color: #4F7CD1;--content-bg: #232323;--change-path-bg: #161616;--home-button-bg: #313030;--confirm-button-bg: #5F8AFA;--confirm-button-bg-hover: #5AA6FF;--error: #DB5555;--close-button-bg-color: #313030;--close-button-fill-icon-color: #C1C1C1;--spinner-color: #FFFFFF;--bottom-section: #131313;--mobile-text: #c1c1c1;--connected-green: #47E586;--gradient-dark-icon: radial-gradient(124.37% 124.37% at 91.67% -25%, #112140 0%, #262B35 100%);--get-wallet-option-bg-color: #0000001F;--get-wallet-option-bg-color-hover: #4f7cd13d;--get-wallet-option-border-color: #313030;--get-wallet-outline-color: #4F7CD1;--get-wallet-option-box-shadow: 0px 2px 2px rgba(17, 22, 24, .04);--secondary-button-bg-color: #4F7CD129;--secondary-button-border-color: #4F7CD1;--secondary-button-text-color: #FFFFFF;--what-wallet-icon-color: #568FFC;--deprecated-icon-bg-color: #2F394E;--deprecated-icon-bg-color-selected: #4F7CD1}@media (prefers-color-scheme: dark){#near-wallet-selector-modal{--backdrop-bg: #26262630;--heading-color: #FFFFFF;--text-color: #C1C1C1;--sidebar-border-color: #313030;--selected-wallet-bg: #4F7CD1;--selected-wallet-bg-hover: #262626CC;--wallet-option-border-color: #A7A7A730;--wallet-option-bg-hover: #4f7cd13d;--wallet-option-outline-color: #4F7CD1;--content-bg: #232323;--change-path-bg: #161616;--home-button-bg: #313030;--confirm-button-bg: #5F8AFA;--confirm-button-bg-hover: #5AA6FF;--error: #DB5555;--close-button-bg-color: #313030;--close-button-fill-icon-color: #C1C1C1;--spinner-color: #FFFFFF;--bottom-section: #131313;--mobile-text: #c1c1c1;--connected-green: #47E586;--gradient-dark-icon: radial-gradient(124.37% 124.37% at 91.67% -25%, #112140 0%, #262B35 100%);--get-wallet-option-bg-color: #0000001F;--get-wallet-option-bg-color-hover: #4f7cd13d;--get-wallet-option-border-color: #313030;--get-wallet-outline-color: #4F7CD1;--get-wallet-option-box-shadow: 0px 2px 2px rgba(17, 22, 24, .04);--secondary-button-bg-color: #4F7CD129;--secondary-button-border-color:#4F7CD1;--secondary-button-text-color: #FFFFFF;--what-wallet-icon-color: #568FFC;--deprecated-icon-bg-color: #2F394E;--deprecated-icon-bg-color-selected: #4F7CD1}}.nws-modal-wrapper{position:fixed;top:0;bottom:0;left:0;right:0;opacity:0;visibility:hidden;color:var(--wallet-selector-text-color, var(--text-color));font-family:Manrope,sans-serif;font-weight:500;z-index:80;display:flex;justify-content:center;align-items:center}.nws-modal-wrapper .nws-modal-overlay{background:var(--wallet-selector-backdrop-bg, var(--backdrop-bg));height:100%;width:100%;position:absolute}.nws-modal-wrapper .nws-modal{background:var(--wallet-selector-content-bg, var(--content-bg));width:100%;max-width:812px;height:555px;border-radius:16px;position:absolute;left:50%;transform:translate(-50%);transition:visibility 0s linear 0s,opacity .25s 0s,transform .25s;background-color:var(--wallet-selector-content-bg, var(--content-bg));overflow-y:auto;font-size:16px;line-height:1.6;overflow:hidden;display:inline-flex}.nws-modal-wrapper .nws-modal *{box-sizing:border-box}.nws-modal-wrapper .nws-modal button{padding:.5em 1em;cursor:pointer;border:none}.nws-modal-wrapper .nws-modal .modal-left{width:35%;border-right:1px solid var(--wallet-selector-sidebar-border-color, var(--sidebar-border-color));padding:32px 24px;height:100%;overflow:auto}.nws-modal-wrapper .nws-modal .modal-left .modal-left-title h2{margin-top:0;margin-bottom:20px;font-size:18px;font-weight:700;color:var(--wallet-selector-heading-color, var(--heading-color))}.nws-modal-wrapper .nws-modal .modal-left::-webkit-scrollbar{width:10px}.nws-modal-wrapper .nws-modal .wallet-options-wrapper{margin-bottom:20px}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .description{margin-top:0;margin-bottom:0}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list{margin:0;list-style-type:none;padding:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px}.single-wallet{display:flex;flex-wrap:nowrap;flex-direction:row;align-content:center;align-items:center;justify-content:space-between;width:100%;column-gap:24px;padding:12px;cursor:pointer}.single-wallet:focus-within{outline:var(--wallet-option-outline-color) solid 2px}.single-wallet .icon{height:48px;width:auto}.single-wallet .icon img{width:100%;height:auto;max-width:48px}.single-wallet .content{width:50%}.single-wallet .content .name{font-family:inherit;font-style:normal;font-weight:700;font-size:14px;line-height:24px;color:#fff}.single-wallet .content .description{font-family:inherit;font-style:normal;font-weight:700;font-size:14px;line-height:150%}.single-wallet .button-get{margin-left:auto;margin-right:0}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar{border-radius:8px;justify-content:flex-start;column-gap:12px;cursor:pointer}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar:hover{background-color:var(--wallet-selector-wallet-option-bg-hover, var(--wallet-option-bg-hover))}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar.selected-wallet{padding:12px;background-color:var(--wallet-selector-selected-wallet-bg, var(--selected-wallet-bg));outline:none}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar.selected-wallet .content .title{color:#fff}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar.deprecated-wallet .icon,.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar.deprecated-wallet .title{opacity:.4}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar.deprecated-wallet{position:relative}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar .warning-triangle{display:flex;position:absolute;top:2px;left:42px;background:var(--content-bg);border-top-left-radius:63px;border-bottom-left-radius:10px}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar:hover .warning-triangle{background-color:var(--deprecated-icon-bg-color)}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.selected-wallet.sidebar .warning-triangle{background-color:var(--deprecated-icon-bg-color-selected)}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar .icon{width:40px;height:40px;background-color:#fff;padding:5px;border-radius:5px;position:relative}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar.connected-wallet .icon:before{content:"";display:block;width:10px;height:10px;background-color:var(--connected-green);border-radius:50%;position:absolute;top:-8px;right:-8px}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar.connected-wallet .icon:before{border:3px solid var(--wallet-selector-content-bg, var(--content-bg))}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar.selected-wallet.connected-wallet .icon:before{border:3px solid var(--wallet-selector-selected-wallet-bg, var(--selected-wallet-bg))}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar .content{height:32px;width:auto}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar .content .title{font-style:normal;font-weight:500;font-size:14px;line-height:32px;align-items:center;color:var(--wallet-selector-heading-color, var(--heading-color));margin-left:10px}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar .content .description{display:none}.nws-modal-wrapper .nws-modal .modal-right{width:65%;padding:32px;overflow:auto}.nws-modal-wrapper .nws-modal .modal-right::-webkit-scrollbar{width:10px}.nws-modal-wrapper .nws-modal .wallet-home-wrapper .get-wallet-wrapper,.nws-modal-wrapper .nws-modal .wallet-home-wrapper .wallet-info-wrapper,.nws-modal-wrapper .nws-modal .connecting-wrapper,.nws-modal-wrapper .nws-modal .wallet-not-installed-wrapper,.nws-modal-wrapper .nws-modal .switch-network-message-wrapper{margin-top:91px;padding:0 28px}.nws-modal-wrapper .nws-modal .connecting-wrapper-err{margin-top:45px;padding:0 28px}.nws-modal-wrapper .nws-modal .wallet-home-wrapper .get-wallet-wrapper{margin:20px 0 0;padding:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:10px}.nws-modal-wrapper .nws-modal .modal-right .wallet-what{display:flex;align-content:center;flex-direction:row;align-items:flex-start;width:100%;gap:32px;justify-content:flex-start;flex-wrap:nowrap}.nws-modal-wrapper .nws-modal .modal-right .wallet-what+.wallet-what{margin-top:50px}.nws-modal-wrapper .nws-modal .modal-right .wallet-what .icon-side{width:56px;height:56px;padding:8px;background:var(--gradient-dark-icon);border-radius:12px;color:var(--what-wallet-icon-color)}.nws-modal-wrapper .nws-modal .modal-right .wallet-what .icon-side svg{opacity:.7}.nws-modal-wrapper .nws-modal .modal-right .wallet-what .content-side{width:100%}.nws-modal-wrapper .nws-modal .modal-right .wallet-what .content-side h3{margin:0 auto 8px 0;font-family:inherit;font-style:normal;font-weight:700;font-size:16px;line-height:24px;color:var(--wallet-selector-text-color, var(--heading-color))}.nws-modal-wrapper .nws-modal .modal-right .wallet-what .content-side p{margin:0;font-family:inherit;font-style:normal;font-weight:400;font-size:14px;line-height:150%;word-break:break-word}.nws-modal-wrapper .nws-modal .modal-right .nws-modal-header h3.middleTitle{text-align:center;margin:4px auto;font-size:18px;color:var(--wallet-selector-heading-color, var(--heading-color))}.nws-modal-wrapper .nws-modal .modal-right .nws-modal-body.get-wallet-body{padding-left:32px;padding-right:0;row-gap:16px;margin-top:64px}.nws-modal-wrapper .nws-modal .nws-modal-body button.middleButton{background-color:var(--wallet-selector-selected-wallet-bg, var(--selected-wallet-bg));font:inherit;border-radius:4px;color:#fff;font-weight:700;font-size:14px;line-height:24px;border-color:var(--wallet-selector-selected-wallet-bg, var(--selected-wallet-bg));display:block;margin:25px auto 12px;border:.1em solid var(--wallet-selector-selected-wallet-bg, var(--selected-wallet-bg))}.nws-modal-wrapper .nws-modal .nws-modal-body button.get-wallet{margin:4px 0;background-color:var(--wallet-selector-home-button-bg, var(--home-button-bg));border-radius:4px;padding:8px 24px;border-width:0;font-style:normal;font-weight:700;font-size:14px;line-height:24px;font-family:inherit;color:#6494ee}.nws-modal-wrapper .nws-modal .nws-modal-header{width:100%;display:flex;flex:1;align-items:flex-start;justify-content:flex-start}.nws-modal-wrapper .nws-modal .nws-modal-header .close-button{display:flex;justify-content:center;align-items:center;border:0;cursor:pointer;height:32px;width:32px;padding:0;background-color:var(--wallet-selector-close-button-bg-color, var(--close-button-bg-color));border-radius:50px}.nws-modal-wrapper .nws-modal .nws-modal-header .close-button svg{fill:var(--wallet-selector-close-button-fill-icon-color, var(--close-button-fill-icon-color))}.nws-modal-wrapper .nws-modal .back-button{background:transparent;width:32px;height:32px;border-radius:50%;display:block;border:none;padding:4px}.nws-modal-wrapper .nws-modal .nws-modal-header-wrapper{display:flex;align-items:center}.nws-modal-wrapper .nws-modal .nws-modal-header .close-button:active{background:transparent}.nws-modal-wrapper .nws-modal .nws-modal-header .close-button svg{pointer-events:none}.nws-modal-wrapper .nws-modal .nws-modal-header h2{margin-top:0;margin-bottom:20px;font-size:18px;font-weight:700;color:var(--wallet-selector-heading-color, var(--heading-color))}.nws-modal-wrapper .nws-modal .action-buttons{display:flex;justify-content:space-between;align-items:center}.nws-modal-wrapper .nws-modal .lang-selector-wrapper{position:absolute;bottom:15px;right:50px;display:none}.nws-modal-wrapper .nws-modal .lang-selector{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjc1IDE5LjI1TDE2IDEyLjc1TDE5LjI1IDE5LjI1IiBzdHJva2U9IiNDMUMxQzEiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE0IDE3LjI1SDE4IiBzdHJva2U9IiNDMUMxQzEiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTQuNzUgNi43NUgxMy4yNSIgc3Ryb2tlPSIjQzFDMUMxIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik05IDYuNVY0Ljc1IiBzdHJva2U9IiNDMUMxQzEiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTExLjI1IDYuNzVDMTEuMjUgNi43NSAxMS4yNSA5LjI1IDkuMjUgMTEuMjVDNy4yNSAxMy4yNSA0Ljc1IDEzLjI1IDQuNzUgMTMuMjUiIHN0cm9rZT0iI0MxQzFDMSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIuMjUgMTMuMjVDMTIuMjUgMTMuMjUgOS43NSAxMy4yNSA3Ljc1IDExLjI1QzcuMzQ1NTEgMTAuODQ1NSA2Ljc1IDkuNzUgNi43NSA5Ljc1IiBzdHJva2U9IiNDMUMxQzEiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==) 5px center / 20px 20px no-repeat transparent;border:0;cursor:pointer;font-size:16px;height:32px;outline:none;padding-right:54px;position:relative;-webkit-user-select:none;user-select:none;width:54px;z-index:1;text-indent:54px}.nws-modal-wrapper .nws-modal .lang-selector-wrapper:after{content:"";border-color:#72727a;border-style:solid;border-width:2px 2px 0 0;display:inline-block;position:absolute;right:10px;top:calc(50% - 10px);transform:rotate(135deg) translateY(-50%);height:7px;width:7px}.nws-modal-wrapper .nws-modal .switch-network-message-wrapper .content .network-id{color:var(--wallet-selector-selected-wallet-bg, var(--selected-wallet-bg))}.nws-modal-wrapper .nws-modal .derivation-path-wrapper{padding:0 26px}.nws-modal-wrapper .nws-modal .derivation-path-wrapper .enter-derivation-path .ledger-image{display:flex;justify-content:center;margin-top:53px;margin-bottom:40px}.nws-modal-wrapper .nws-modal .derivation-path-wrapper .enter-derivation-path .ledger-description{font-size:14px;text-align:center}.nws-modal-wrapper .nws-modal .derivation-path-wrapper .enter-derivation-path .ledger-description p{margin:14px 0}.nws-modal-wrapper .nws-modal .derivation-path-wrapper .enter-derivation-path .ledger-description .specify-path{color:var(--wallet-selector-selected-wallet-bg, var(--selected-wallet-bg));cursor:pointer}.nws-modal-wrapper .nws-modal .derivation-path-wrapper .derivation-path-list{display:flex;justify-content:center;flex-direction:column;margin-bottom:16px}.nws-modal-wrapper .specify-path-wrapper .change-path-wrapper{display:flex;justify-content:center;margin-top:91px}.nws-modal-wrapper .specify-path-wrapper .change-path-wrapper .display-path{background:var(--home-button-bg);color:#606060;padding:16px;border-radius:8px;letter-spacing:1px;font-weight:700}.nws-modal-wrapper .specify-path-wrapper .change-path-wrapper .change-path{background:var(--change-path-bg);display:flex;justify-content:space-between;align-items:center;margin-left:10px;width:63px;padding:0 5px;border-radius:8px}.nws-modal-wrapper .specify-path-wrapper .change-path-wrapper .change-path .path-value{width:100%;text-align:center;font-weight:700}.nws-modal-wrapper .nws-modal .specify-path-wrapper p{margin:14px}.nws-modal-wrapper .nws-modal .specify-path-wrapper .path-description{font-size:14px;margin-top:24px;text-align:center}.nws-modal-wrapper .nws-modal .specify-path-wrapper .what-link{font-size:14px;text-align:center;color:var(--selected-wallet-bg);cursor:pointer}.nws-modal-wrapper .nws-modal .specify-path-wrapper .what-link a{text-decoration:none;color:var(--selected-wallet-bg);font-size:14px}.nws-modal-wrapper .specify-path-wrapper .change-path-wrapper .change-path .buttons-wrapper{display:flex;flex-direction:column}.nws-modal-wrapper .specify-path-wrapper .change-path-wrapper .change-path .buttons-wrapper button{padding:0;width:23px;background-color:var(--home-button-bg);border:none}.nws-modal-wrapper .nws-modal .no-accounts-found-wrapper{margin-top:50px;font-size:14px}.nws-modal-wrapper .nws-modal .enter-custom-account{margin-top:20px}.nws-modal-wrapper .nws-modal .enter-custom-account p{text-align:center;font-size:14px}.nws-modal-wrapper .nws-modal .enter-custom-account .input-wrapper{display:flex;justify-content:center;margin-top:90px}.nws-modal-wrapper .nws-modal .enter-custom-account .input-wrapper input{text-align:center;color:var(--wallet-selector-heading-color, var(--heading-color));border:1px solid var(--confirm-button-bg-hover);padding:6px 8px;border-radius:50px}.nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper p{font-size:14px;text-align:center;margin-top:20px}.nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .button-wrapper{display:flex;justify-content:center}.nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .button-wrapper button{color:var(--selected-wallet-bg);font-weight:600;background-color:transparent;border-radius:20px;font-size:14px;border:1px solid var(--selected-wallet-bg);width:78px;padding:6px 8px}.nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .form{margin-top:96px}.nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .nws-form-control{display:flex;flex-direction:column;margin-bottom:16px;padding:10px;color:var(--text-color)}.nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .nws-form-control .account{border-bottom:1px solid var(--sidebar-border-color);padding:16px 0;color:var(--wallet-selector-heading-color, var(--heading-color))}.nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .nws-form-control .account input[type=checkbox]{width:25px;-ms-transform:scale(2);-moz-transform:scale(2);-webkit-transform:scale(2);-o-transform:scale(2);transform:scale(1.7);padding:10px}.nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .nws-form-control label{color:inherit}.nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .action-buttons{justify-content:flex-end}.nws-modal-wrapper .nws-modal .overview-wrapper p{font-size:14px;text-align:center}.nws-modal-wrapper .nws-modal .overview-wrapper .accounts{margin-top:96px}.nws-modal-wrapper .nws-modal .overview-wrapper .account{border-bottom:1px solid var(--sidebar-border-color);padding:16px 0;color:var(--wallet-selector-heading-color, var(--heading-color))}.nws-modal-wrapper .nws-modal .connecting-wrapper .content{display:flex;flex-direction:column;align-items:center}.nws-modal-wrapper .wallet-not-installed-wrapper .refresh-link{color:#5f8afa;cursor:pointer}.nws-modal-wrapper .wallet-not-installed-wrapper .wallet-data{display:flex;align-items:center}.nws-modal-wrapper .wallet-not-installed-wrapper .wallet-data p{margin:0 0 0 10px}.nws-modal-wrapper .wallet-not-installed-wrapper p{margin:16px 0}.nws-modal-wrapper .wallet-not-installed-wrapper .wallet-data .wallet-icon-box{width:40px;height:40px}.nws-modal-wrapper .wallet-not-installed-wrapper .wallet-data .wallet-icon-box img{width:100%;height:auto}.open{opacity:1;visibility:visible;transition:visibility 0s linear 0s,opacity .25s 0s}.nws-modal-wrapper .spinner{margin-right:10px;--size: 160px;--border: 6px;width:var(--size);height:var(--size);border-radius:50%;position:relative;display:flex;align-items:center;justify-content:center}.nws-modal-wrapper .spinner .icon{width:calc(var(--size) / 1.2);height:calc(var(--size) / 1.2);border:1px solid rgba(0,0,0,.05);border-radius:50%;box-shadow:#0000000d 0 10px 20px}.nws-modal-wrapper .spinner img{width:100%;height:auto}@keyframes spin{to{transform:rotate(360deg)}}@media (max-width: 600px){.nws-modal-wrapper .nws-modal-wrapper .nws-modal{width:250px}.nws-modal-wrapper .nws-modal-wrapper .nws-modal .derivation-path-wrapper .derivation-path-list input{max-width:140px}.nws-modal-wrapper .nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .nws-form-control{flex-direction:column}.nws-modal-wrapper .nws-modal-wrapper .nws-modal .choose-ledger-account-form-wrapper .nws-form-control select{text-align:center}.nws-modal-wrapper .nws-modal .wallet-home-wrapper .get-wallet-wrapper{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}}.nws-modal-wrapper .nws-modal-wrapper.dark-theme .spinner .icon{box-shadow:0 10px 20px #ffffff0d}@media (prefers-color-scheme: dark){.nws-modal-wrapper .spinner .icon{box-shadow:0 10px 20px #ffffff0d}}@keyframes outAnimation{0%{opacity:1}to{opacity:0;visibility:hidden}}.connecting-wrapper{display:flex;flex-direction:column;flex-wrap:nowrap;align-items:center;justify-content:flex-start}.connecting-wrapper .content .icon{width:80px;height:80px;background-color:#fff;border-radius:10px;padding:10px;position:relative}.connecting-wrapper .content .icon .green-dot{position:absolute;width:30px;height:30px;background-color:var(--connected-green);top:-10px;right:-10px;border-radius:50%;border:5px solid var(--wallet-selector-content-bg, var(--content-bg))}.connecting-wrapper .content .icon img{width:100%;height:auto}.connecting-wrapper .content h3{margin:16px 0}.connecting-wrapper .content .connecting-name{font-style:normal;font-weight:700;font-size:16px;line-height:24px;display:flex;align-items:center;text-align:center;color:var(--wallet-selector-heading-color, var(--heading-color))}.connecting-wrapper .content .connecting-message{font-size:14px;margin-top:16px}.connecting-wrapper .content .connecting-details{font-style:normal;font-weight:500;font-size:14px;line-height:24px;display:flex;align-items:center;margin-top:40px}.connecting-wrapper .content .connecting-details span{color:var(--wallet-selector-selected-wallet-bg, var(--selected-wallet-bg))}.connecting-wrapper .content .connecting-details .spinner{width:25px;height:auto;animation:spinner 2s linear infinite}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.nws-modal-wrapper .nws-modal .nws-modal-body .alert-message .connection button{padding:10px 24px;gap:8px;background:var(--secondary-button-bg-color);border:1px solid var(--secondary-button-border-color);border-radius:4px;font-style:normal;font-weight:700;font-size:14px;line-height:24px;color:var(--secondary-button-text-color)}.nws-modal-wrapper .nws-modal .nws-modal-body .alert-message .connection .error-wrapper{vertical-align:middle;align-items:center;display:flex;flex-wrap:nowrap;justify-content:center;flex-direction:column;column-gap:12px;font-style:normal;font-weight:500;font-size:14px;line-height:150%;text-align:center}.nws-modal-wrapper .nws-modal .nws-modal-body .alert-message .connection .error{color:#ce5a6f;vertical-align:middle;align-items:center;display:flex;flex-wrap:nowrap;justify-content:center;flex-direction:row;column-gap:12px;font-style:normal;font-weight:500;font-size:14px;line-height:150%;text-align:center}.nws-modal-wrapper .nws-modal .nws-modal-body .alert-message .connection .error-wrapper .error svg{color:var(--wallet-selector-content-bg,var(--content-bg))}.nws-modal-wrapper .nws-modal .nws-modal-body .alert-message .connection .error-wrapper p{word-break:break-word;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;overflow:hidden;margin:14px 0}.nws-modal-wrapper .nws-modal .nws-modal-body .alert-message .connection .success{color:#4fd98f}.nws-modal-wrapper .nws-modal .connecting-wrapper .content{padding:25px}.connecting-wrapper .content .connecting-details{margin-top:20px}.connecting-wrapper .wallet-connected-success{display:flex;align-items:center}.connecting-wrapper .wallet-connected-success svg{color:var(--content-bg)}.connecting-wrapper .wallet-connected-success span{font-size:14px;margin-left:10px;color:var(--wallet-selector-connected-green, var(--connected-green))}.single-wallet-get{display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;justify-content:space-between;width:100%;flex-grow:1;padding:14px;height:100%;margin:0 auto auto;align-content:center;border:1px solid var(--get-wallet-option-border-color);box-shadow:var(--get-wallet-option-box-shadow);border-radius:8px;position:relative;background-color:var(--get-wallet-option-bg-color);cursor:pointer}.single-wallet-get:hover{background:var(--get-wallet-option-bg-color-hover)}.single-wallet-get:focus-within{outline:var(--get-wallet-outline-color) solid 2px}.single-wallet-get .icon{min-width:32px;max-height:32px;margin-bottom:8px;width:32px;height:32px;background-color:#fff;padding:5px;border-radius:5px;position:relative}.single-wallet-get .icon img{width:100%;height:auto;max-width:48px}.single-wallet-get .title{font-family:inherit;font-style:normal;font-weight:500;font-size:14px;line-height:24px;align-items:center;color:var(--heading-color);text-align:center}.single-wallet-get .type{font-weight:400;font-size:10px;line-height:12px;margin-top:0;color:var(--text-color);text-align:center}.single-wallet-get .small-icon{position:absolute;top:8px;right:8px}.single-wallet-get .small-icon svg{color:#4c5155}.single-wallet-get:hover .small-icon svg{color:#4f7cd1}.single-wallet-get .description{font-family:inherit;font-style:normal;font-weight:400;font-size:14px;line-height:150%;align-items:center}.single-wallet-get .button-get{margin-left:auto;margin-right:0}.connected-flag{color:var(--connected-green);border:1px solid var(--connected-green);border-radius:50px;padding:3px 10px;display:flex;align-items:center}.connected-flag:before{content:"";display:block;width:10px;height:10px;border-radius:50%;background-color:var(--connected-green);margin-right:5px}.scan-qr-code{display:flex;flex-direction:column;align-items:center;justify-content:space-between;height:100%}.scan-qr-code .qr-code>div:first-of-type{padding:20px;margin-bottom:20px;border-radius:16px;background:#fff}.scan-qr-code .qr-code{height:calc(100% - 200px);border:1px solid var(--wallet-selector-content-bg, var(--content-bg));border-radius:4px;text-align:center;margin-top:64px}.scan-qr-code .qr-code svg{width:239px;height:239px}.scan-qr-code .qr-code .copy-btn{cursor:pointer;display:flex;align-items:center;justify-content:center;text-align:center;color:var(--selected-wallet-bg);font-size:14px}.scan-qr-code .qr-code .copy-btn svg{margin-right:5px;width:24px;height:24px}.scan-qr-code .qr-code .notification{font-size:14px}.scan-qr-code .footer{position:relative;display:flex;align-items:center;justify-content:space-between;gap:24px;padding:24px;bottom:0;font-size:14px}.scan-qr-code .footer .btn{background:var(--secondary-button-bg-color);color:var(--secondary-button-text-color);border:1px solid var(--secondary-button-border-color);border-radius:4px;font-weight:700;font-size:14px;line-height:24px;padding:8px 24px}@media (min-width: 577px){.nws-modal-wrapper .nws-modal .modal-right .nws-modal-body .what-wallet-mobile{display:none}.scan-qr-code .footer{position:absolute}}@media (min-width: 769px){.button-spacing{margin:90px}}@media (max-width: 768px){.nws-modal-wrapper .nws-modal .wallet-home-wrapper .wallet-info-wrapper{margin-top:45px}.button-spacing{margin:45px}.nws-modal-wrapper .nws-modal .modal-left{width:40%;border-right:1px solid var(--wallet-selector-sidebar-border-color, var(--sidebar-border-color));padding:32px 16px;height:100%;max-height:70vh;overflow:auto}.nws-modal-wrapper .nws-modal .modal-right{width:60%;padding:32px 16px;overflow:auto}.nws-modal-wrapper .nws-modal .wallet-home-wrapper .wallet-info-wrapper{padding:0 0 0 10px}.nws-modal-wrapper .nws-modal .derivation-path-wrapper .enter-derivation-path .ledger-image{margin-top:30px;margin-bottom:35px}}@media (max-width: 576px){.nws-modal-wrapper .nws-modal .wallet-home-wrapper .get-wallet-wrapper,.nws-modal-wrapper .nws-modal .wallet-home-wrapper .wallet-info-wrapper,.nws-modal-wrapper .nws-modal .connecting-wrapper,.nws-modal-wrapper .nws-modal .wallet-not-installed-wrapper,.nws-modal-wrapper .nws-modal .switch-network-message-wrapper{margin-top:20px}.nws-modal-wrapper .nws-modal .modal-left .modal-left-title h2{text-align:center}.nws-modal-wrapper .wallet-not-installed-wrapper>p{margin:20px 0 30px;max-width:500px}.nws-modal-wrapper .nws-modal .nws-modal-body button.get-wallet{background-color:var(--wallet-selector-home-button-bg, var(--content-bg))}.nws-modal-wrapper .nws-modal .modal-right .nws-modal-body .what-wallet-hide{display:none}.nws-modal-wrapper .nws-modal .modal-right .nws-modal-body .what-wallet-mobile p{font-size:14px;text-align:center;margin:auto}.nws-modal-wrapper .nws-modal{width:100%;display:block;overflow:auto;bottom:0;height:500px;background:var(--wallet-selector-mobile-bottom-section, var(--bottom-section));border-radius:16px 16px 0 0}.nws-modal-wrapper .nws-modal .modal-left{width:100%;background-color:var(--wallet-selector-content-bg, var(--content-bg));height:auto;padding:32px 12px}.nws-modal-wrapper .nws-modal .modal-left .nws-modal-body{display:flex;overflow:auto}.nws-modal-wrapper .nws-modal .modal-left .nws-modal-body .wallet-options-wrapper{margin:auto}.nws-modal-wrapper .nws-modal .modal-right{width:100%;background-color:var(--wallet-selector-mobile-bottom-section, var(--bottom-section))}.nws-modal-wrapper .nws-modal .connecting-wrapper .content{padding-top:0}.connecting-wrapper .content .icon .green-dot{border-color:var(--wallet-selector-mobile-bottom-section, var(--bottom-section))}.nws-modal-wrapper .nws-modal .modal-right .nws-modal-header h3.middleTitle{text-align:center;font-size:16px;margin:4px auto}.nws-modal-wrapper .nws-modal .modal-right .nws-modal-header h3.middleTitle.-open{padding-right:32px}.nws-modal-wrapper .nws-modal .modal-right .nws-modal-body .content{font-size:14px;text-align:center;color:var(--mobile-text);margin:0}.nws-modal-wrapper .nws-modal .modal-right .nws-modal-body{margin-top:10px;padding:0}.nws-modal-wrapper .nws-modal .nws-modal-body button.middleButton{margin:25px auto 12px}.nws-modal-wrapper .nws-modal .modal-header{display:block;font-size:18px;text-align:center}.nws-modal-wrapper .nws-modal .nws-modal-header .close-button{position:absolute;right:30px;top:30px}.nws-modal-wrapper .nws-modal .nws-modal-header h2{font-size:18px;text-align:center}.nws-modal-wrapper .nws-modal .wallet-options-wrapper{margin-bottom:0}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .description{display:none}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list{display:flex;overflow:auto;padding-block:10px;grid-gap:0;gap:0}.nws-modal-wrapper .nws-modal .info{display:none;width:90px}.single-wallet{display:block;min-width:76px;max-width:76px}.single-wallet.sidebar .icon{width:56px;height:56px;margin:auto}.single-wallet.sidebar .content{width:auto}.nws-modal-wrapper .nws-modal .wallet-options-wrapper .options-list .single-wallet.sidebar .content .title{font-size:12px;line-height:16px;margin-top:10px;text-align:center;margin-left:0!important;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.single-wallet.wallet-connect,.single-wallet.my-near-wallet{word-break:break-word}.single-wallet-get:hover{background-color:#4f7cd129}.nws-modal-wrapper .nws-modal .derivation-path-wrapper .enter-derivation-path .ledger-image,.nws-modal-wrapper .specify-path-wrapper .change-path-wrapper{margin-top:30px;margin-bottom:30px}.nws-modal-wrapper .nws-modal .derivation-path-wrapper .enter-derivation-path .ledger-description>p{max-width:450px;margin-left:auto;margin-right:auto}.nws-modal-wrapper ::-webkit-scrollbar{height:4px;width:4px;background:var(--backdrop-bg)}.nws-modal-wrapper ::-webkit-scrollbar-thumb:horizontal{background:var(--close-button-fill-icon-color);border-radius:10px}}')),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
var dr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),$r=dr(exports=>{function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in e)){const a=Object.getOwnPropertyDescriptor(o,c);a&&Object.defineProperty(e,c,a.get?a:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();const global$u=globalThis||void 0||self;var buffer$8={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$1=0,len=code$6.length;i$1<len;++i$1)lookup[i$1]=code$6[i$1],revLookup[code$6.charCodeAt(i$1)]=i$1;revLookup[45]=62,revLookup[95]=63;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var o=n===t?0:4-n%4;return[n,o]}function byteLength(e){var t=getLens(e),n=t[0],o=t[1];return(n+o)*3/4-o}function _byteLength(e,t,n){return(t+n)*3/4-n}function toByteArray(e){var t,n=getLens(e),o=n[0],c=n[1],a=new Arr(_byteLength(e,o,c)),u=0,h=c>0?o-4:o,v;for(v=0;v<h;v+=4)t=revLookup[e.charCodeAt(v)]<<18|revLookup[e.charCodeAt(v+1)]<<12|revLookup[e.charCodeAt(v+2)]<<6|revLookup[e.charCodeAt(v+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=t&255;return c===2&&(t=revLookup[e.charCodeAt(v)]<<2|revLookup[e.charCodeAt(v+1)]>>4,a[u++]=t&255),c===1&&(t=revLookup[e.charCodeAt(v)]<<10|revLookup[e.charCodeAt(v+1)]<<4|revLookup[e.charCodeAt(v+2)]>>2,a[u++]=t>>8&255,a[u++]=t&255),a}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,t,n){for(var o,c=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),c.push(tripletToBase64(o));return c.join("")}function fromByteArray(e){for(var t,n=e.length,o=n%3,c=[],a=16383,u=0,h=n-o;u<h;u+=a)c.push(encodeChunk(e,u,u+a>h?h:u+a));return o===1?(t=e[n-1],c.push(lookup[t>>2]+lookup[t<<4&63]+"==")):o===2&&(t=(e[n-2]<<8)+e[n-1],c.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),c.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(e,t,n,o,c){var a,u,h=c*8-o-1,v=(1<<h)-1,b=v>>1,y=-7,w=n?c-1:0,O=n?-1:1,P=e[t+w];for(w+=O,a=P&(1<<-y)-1,P>>=-y,y+=h;y>0;a=a*256+e[t+w],w+=O,y-=8);for(u=a&(1<<-y)-1,a>>=-y,y+=o;y>0;u=u*256+e[t+w],w+=O,y-=8);if(a===0)a=1-b;else{if(a===v)return u?NaN:(P?-1:1)*(1/0);u=u+Math.pow(2,o),a=a-b}return(P?-1:1)*u*Math.pow(2,a-o)},ieee754$1.write=function(e,t,n,o,c,a){var u,h,v,b=a*8-c-1,y=(1<<b)-1,w=y>>1,O=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=o?0:a-1,C=o?1:-1,x=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(h=isNaN(t)?1:0,u=y):(u=Math.floor(Math.log(t)/Math.LN2),t*(v=Math.pow(2,-u))<1&&(u--,v*=2),u+w>=1?t+=O/v:t+=O*Math.pow(2,1-w),t*v>=2&&(u++,v/=2),u+w>=y?(h=0,u=y):u+w>=1?(h=(t*v-1)*Math.pow(2,c),u=u+w):(h=t*Math.pow(2,w-1)*Math.pow(2,c),u=0));c>=8;e[n+P]=h&255,P+=C,h/=256,c-=8);for(u=u<<c|h,b+=c;b>0;e[n+P]=u&255,P+=C,u/=256,b-=8);e[n+P-C]|=x*128};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/(function(e){const t=base64Js,n=ieee754$1,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=y,e.SlowBuffer=ee,e.INSPECT_MAX_BYTES=50;const c=2147483647;e.kMaxLength=c;const{Uint8Array:a,ArrayBuffer:u,SharedArrayBuffer:h}=globalThis;y.TYPED_ARRAY_SUPPORT=v(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{const J=new a(1),le={foo:function(){return 42}};return Object.setPrototypeOf(le,a.prototype),Object.setPrototypeOf(J,le),J.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function b(J){if(J>c)throw new RangeError('The value "'+J+'" is invalid for option "size"');const le=new a(J);return Object.setPrototypeOf(le,y.prototype),le}function y(J,le,ue){if(typeof J=="number"){if(typeof le=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(J)}return w(J,le,ue)}y.poolSize=8192;function w(J,le,ue){if(typeof J=="string")return x(J,le);if(u.isView(J))return k(J);if(J==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J);if(pt(J,u)||J&&pt(J.buffer,u)||typeof h<"u"&&(pt(J,h)||J&&pt(J.buffer,h)))return B(J,le,ue);if(typeof J=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const pe=J.valueOf&&J.valueOf();if(pe!=null&&pe!==J)return y.from(pe,le,ue);const Ie=q(J);if(Ie)return Ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof J[Symbol.toPrimitive]=="function")return y.from(J[Symbol.toPrimitive]("string"),le,ue);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}y.from=function(J,le,ue){return w(J,le,ue)},Object.setPrototypeOf(y.prototype,a.prototype),Object.setPrototypeOf(y,a);function O(J){if(typeof J!="number")throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function P(J,le,ue){return O(J),J<=0?b(J):le!==void 0?typeof ue=="string"?b(J).fill(le,ue):b(J).fill(le):b(J)}y.alloc=function(J,le,ue){return P(J,le,ue)};function C(J){return O(J),b(J<0?0:V(J)|0)}y.allocUnsafe=function(J){return C(J)},y.allocUnsafeSlow=function(J){return C(J)};function x(J,le){if((typeof le!="string"||le==="")&&(le="utf8"),!y.isEncoding(le))throw new TypeError("Unknown encoding: "+le);const ue=te(J,le)|0;let pe=b(ue);const Ie=pe.write(J,le);return Ie!==ue&&(pe=pe.slice(0,Ie)),pe}function D(J){const le=J.length<0?0:V(J.length)|0,ue=b(le);for(let pe=0;pe<le;pe+=1)ue[pe]=J[pe]&255;return ue}function k(J){if(pt(J,a)){const le=new a(J);return B(le.buffer,le.byteOffset,le.byteLength)}return D(J)}function B(J,le,ue){if(le<0||J.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<le+(ue||0))throw new RangeError('"length" is outside of buffer bounds');let pe;return le===void 0&&ue===void 0?pe=new a(J):ue===void 0?pe=new a(J,le):pe=new a(J,le,ue),Object.setPrototypeOf(pe,y.prototype),pe}function q(J){if(y.isBuffer(J)){const le=V(J.length)|0,ue=b(le);return ue.length===0||J.copy(ue,0,0,le),ue}if(J.length!==void 0)return typeof J.length!="number"||je(J.length)?b(0):D(J);if(J.type==="Buffer"&&Array.isArray(J.data))return D(J.data)}function V(J){if(J>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return J|0}function ee(J){return+J!=J&&(J=0),y.alloc(+J)}y.isBuffer=function(J){return J!=null&&J._isBuffer===!0&&J!==y.prototype},y.compare=function(J,le){if(pt(J,a)&&(J=y.from(J,J.offset,J.byteLength)),pt(le,a)&&(le=y.from(le,le.offset,le.byteLength)),!y.isBuffer(J)||!y.isBuffer(le))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===le)return 0;let ue=J.length,pe=le.length;for(let Ie=0,_e=Math.min(ue,pe);Ie<_e;++Ie)if(J[Ie]!==le[Ie]){ue=J[Ie],pe=le[Ie];break}return ue<pe?-1:pe<ue?1:0},y.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(J,le){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(J.length===0)return y.alloc(0);let ue;if(le===void 0)for(le=0,ue=0;ue<J.length;++ue)le+=J[ue].length;const pe=y.allocUnsafe(le);let Ie=0;for(ue=0;ue<J.length;++ue){let _e=J[ue];if(pt(_e,a))Ie+_e.length>pe.length?(y.isBuffer(_e)||(_e=y.from(_e)),_e.copy(pe,Ie)):a.prototype.set.call(pe,_e,Ie);else if(y.isBuffer(_e))_e.copy(pe,Ie);else throw new TypeError('"list" argument must be an Array of Buffers');Ie+=_e.length}return pe};function te(J,le){if(y.isBuffer(J))return J.length;if(u.isView(J)||pt(J,u))return J.byteLength;if(typeof J!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);const ue=J.length,pe=arguments.length>2&&arguments[2]===!0;if(!pe&&ue===0)return 0;let Ie=!1;for(;;)switch(le){case"ascii":case"latin1":case"binary":return ue;case"utf8":case"utf-8":return Se(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue*2;case"hex":return ue>>>1;case"base64":return Me(J).length;default:if(Ie)return pe?-1:Se(J).length;le=(""+le).toLowerCase(),Ie=!0}}y.byteLength=te;function ce(J,le,ue){let pe=!1;if((le===void 0||le<0)&&(le=0),le>this.length||((ue===void 0||ue>this.length)&&(ue=this.length),ue<=0)||(ue>>>=0,le>>>=0,ue<=le))return"";for(J||(J="utf8");;)switch(J){case"hex":return U(this,le,ue);case"utf8":case"utf-8":return T(this,le,ue);case"ascii":return E(this,le,ue);case"latin1":case"binary":return M(this,le,ue);case"base64":return I(this,le,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,le,ue);default:if(pe)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),pe=!0}}y.prototype._isBuffer=!0;function Q(J,le,ue){const pe=J[le];J[le]=J[ue],J[ue]=pe}y.prototype.swap16=function(){const J=this.length;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let le=0;le<J;le+=2)Q(this,le,le+1);return this},y.prototype.swap32=function(){const J=this.length;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let le=0;le<J;le+=4)Q(this,le,le+3),Q(this,le+1,le+2);return this},y.prototype.swap64=function(){const J=this.length;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let le=0;le<J;le+=8)Q(this,le,le+7),Q(this,le+1,le+6),Q(this,le+2,le+5),Q(this,le+3,le+4);return this},y.prototype.toString=function(){const J=this.length;return J===0?"":arguments.length===0?T(this,0,J):ce.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(J){if(!y.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J?!0:y.compare(this,J)===0},y.prototype.inspect=function(){let J="";const le=e.INSPECT_MAX_BYTES;return J=this.toString("hex",0,le).replace(/(.{2})/g,"$1 ").trim(),this.length>le&&(J+=" ... "),"<Buffer "+J+">"},o&&(y.prototype[o]=y.prototype.inspect),y.prototype.compare=function(J,le,ue,pe,Ie){if(pt(J,a)&&(J=y.from(J,J.offset,J.byteLength)),!y.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(le===void 0&&(le=0),ue===void 0&&(ue=J?J.length:0),pe===void 0&&(pe=0),Ie===void 0&&(Ie=this.length),le<0||ue>J.length||pe<0||Ie>this.length)throw new RangeError("out of range index");if(pe>=Ie&&le>=ue)return 0;if(pe>=Ie)return-1;if(le>=ue)return 1;if(le>>>=0,ue>>>=0,pe>>>=0,Ie>>>=0,this===J)return 0;let _e=Ie-pe,Ae=ue-le;const bt=Math.min(_e,Ae),xe=this.slice(pe,Ie),Ke=J.slice(le,ue);for(let wt=0;wt<bt;++wt)if(xe[wt]!==Ke[wt]){_e=xe[wt],Ae=Ke[wt];break}return _e<Ae?-1:Ae<_e?1:0};function ne(J,le,ue,pe,Ie){if(J.length===0)return-1;if(typeof ue=="string"?(pe=ue,ue=0):ue>2147483647?ue=2147483647:ue<-2147483648&&(ue=-2147483648),ue=+ue,je(ue)&&(ue=Ie?0:J.length-1),ue<0&&(ue=J.length+ue),ue>=J.length){if(Ie)return-1;ue=J.length-1}else if(ue<0)if(Ie)ue=0;else return-1;if(typeof le=="string"&&(le=y.from(le,pe)),y.isBuffer(le))return le.length===0?-1:fe(J,le,ue,pe,Ie);if(typeof le=="number")return le=le&255,typeof a.prototype.indexOf=="function"?Ie?a.prototype.indexOf.call(J,le,ue):a.prototype.lastIndexOf.call(J,le,ue):fe(J,[le],ue,pe,Ie);throw new TypeError("val must be string, number or Buffer")}function fe(J,le,ue,pe,Ie){let _e=1,Ae=J.length,bt=le.length;if(pe!==void 0&&(pe=String(pe).toLowerCase(),pe==="ucs2"||pe==="ucs-2"||pe==="utf16le"||pe==="utf-16le")){if(J.length<2||le.length<2)return-1;_e=2,Ae/=2,bt/=2,ue/=2}function xe(wt,De){return _e===1?wt[De]:wt.readUInt16BE(De*_e)}let Ke;if(Ie){let wt=-1;for(Ke=ue;Ke<Ae;Ke++)if(xe(J,Ke)===xe(le,wt===-1?0:Ke-wt)){if(wt===-1&&(wt=Ke),Ke-wt+1===bt)return wt*_e}else wt!==-1&&(Ke-=Ke-wt),wt=-1}else for(ue+bt>Ae&&(ue=Ae-bt),Ke=ue;Ke>=0;Ke--){let wt=!0;for(let De=0;De<bt;De++)if(xe(J,Ke+De)!==xe(le,De)){wt=!1;break}if(wt)return Ke}return-1}y.prototype.includes=function(J,le,ue){return this.indexOf(J,le,ue)!==-1},y.prototype.indexOf=function(J,le,ue){return ne(this,J,le,ue,!0)},y.prototype.lastIndexOf=function(J,le,ue){return ne(this,J,le,ue,!1)};function l(J,le,ue,pe){ue=Number(ue)||0;const Ie=J.length-ue;pe?(pe=Number(pe),pe>Ie&&(pe=Ie)):pe=Ie;const _e=le.length;pe>_e/2&&(pe=_e/2);let Ae;for(Ae=0;Ae<pe;++Ae){const bt=parseInt(le.substr(Ae*2,2),16);if(je(bt))return Ae;J[ue+Ae]=bt}return Ae}function p(J,le,ue,pe){return Re(Se(le,J.length-ue),J,ue,pe)}function m(J,le,ue,pe){return Re(Pe(le),J,ue,pe)}function _(J,le,ue,pe){return Re(Me(le),J,ue,pe)}function A(J,le,ue,pe){return Re(nt(le,J.length-ue),J,ue,pe)}y.prototype.write=function(J,le,ue,pe){if(le===void 0)pe="utf8",ue=this.length,le=0;else if(ue===void 0&&typeof le=="string")pe=le,ue=this.length,le=0;else if(isFinite(le))le=le>>>0,isFinite(ue)?(ue=ue>>>0,pe===void 0&&(pe="utf8")):(pe=ue,ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ie=this.length-le;if((ue===void 0||ue>Ie)&&(ue=Ie),J.length>0&&(ue<0||le<0)||le>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let _e=!1;for(;;)switch(pe){case"hex":return l(this,J,le,ue);case"utf8":case"utf-8":return p(this,J,le,ue);case"ascii":case"latin1":case"binary":return m(this,J,le,ue);case"base64":return _(this,J,le,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,J,le,ue);default:if(_e)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),_e=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(J,le,ue){return le===0&&ue===J.length?t.fromByteArray(J):t.fromByteArray(J.slice(le,ue))}function T(J,le,ue){ue=Math.min(J.length,ue);const pe=[];let Ie=le;for(;Ie<ue;){const _e=J[Ie];let Ae=null,bt=_e>239?4:_e>223?3:_e>191?2:1;if(Ie+bt<=ue){let xe,Ke,wt,De;switch(bt){case 1:_e<128&&(Ae=_e);break;case 2:xe=J[Ie+1],(xe&192)===128&&(De=(_e&31)<<6|xe&63,De>127&&(Ae=De));break;case 3:xe=J[Ie+1],Ke=J[Ie+2],(xe&192)===128&&(Ke&192)===128&&(De=(_e&15)<<12|(xe&63)<<6|Ke&63,De>2047&&(De<55296||De>57343)&&(Ae=De));break;case 4:xe=J[Ie+1],Ke=J[Ie+2],wt=J[Ie+3],(xe&192)===128&&(Ke&192)===128&&(wt&192)===128&&(De=(_e&15)<<18|(xe&63)<<12|(Ke&63)<<6|wt&63,De>65535&&De<1114112&&(Ae=De))}}Ae===null?(Ae=65533,bt=1):Ae>65535&&(Ae-=65536,pe.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),pe.push(Ae),Ie+=bt}return d(pe)}const S=4096;function d(J){const le=J.length;if(le<=S)return String.fromCharCode.apply(String,J);let ue="",pe=0;for(;pe<le;)ue+=String.fromCharCode.apply(String,J.slice(pe,pe+=S));return ue}function E(J,le,ue){let pe="";ue=Math.min(J.length,ue);for(let Ie=le;Ie<ue;++Ie)pe+=String.fromCharCode(J[Ie]&127);return pe}function M(J,le,ue){let pe="";ue=Math.min(J.length,ue);for(let Ie=le;Ie<ue;++Ie)pe+=String.fromCharCode(J[Ie]);return pe}function U(J,le,ue){const pe=J.length;(!le||le<0)&&(le=0),(!ue||ue<0||ue>pe)&&(ue=pe);let Ie="";for(let _e=le;_e<ue;++_e)Ie+=Be[J[_e]];return Ie}function F(J,le,ue){const pe=J.slice(le,ue);let Ie="";for(let _e=0;_e<pe.length-1;_e+=2)Ie+=String.fromCharCode(pe[_e]+pe[_e+1]*256);return Ie}y.prototype.slice=function(J,le){const ue=this.length;J=~~J,le=le===void 0?ue:~~le,J<0?(J+=ue,J<0&&(J=0)):J>ue&&(J=ue),le<0?(le+=ue,le<0&&(le=0)):le>ue&&(le=ue),le<J&&(le=J);const pe=this.subarray(J,le);return Object.setPrototypeOf(pe,y.prototype),pe};function N(J,le,ue){if(J%1!==0||J<0)throw new RangeError("offset is not uint");if(J+le>ue)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(J,le,ue){J=J>>>0,le=le>>>0,ue||N(J,le,this.length);let pe=this[J],Ie=1,_e=0;for(;++_e<le&&(Ie*=256);)pe+=this[J+_e]*Ie;return pe},y.prototype.readUintBE=y.prototype.readUIntBE=function(J,le,ue){J=J>>>0,le=le>>>0,ue||N(J,le,this.length);let pe=this[J+--le],Ie=1;for(;le>0&&(Ie*=256);)pe+=this[J+--le]*Ie;return pe},y.prototype.readUint8=y.prototype.readUInt8=function(J,le){return J=J>>>0,le||N(J,1,this.length),this[J]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(J,le){return J=J>>>0,le||N(J,2,this.length),this[J]|this[J+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(J,le){return J=J>>>0,le||N(J,2,this.length),this[J]<<8|this[J+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(J,le){return J=J>>>0,le||N(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+this[J+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(J,le){return J=J>>>0,le||N(J,4,this.length),this[J]*16777216+(this[J+1]<<16|this[J+2]<<8|this[J+3])},y.prototype.readBigUInt64LE=vt(function(J){J=J>>>0,Te(J,"offset");const le=this[J],ue=this[J+7];(le===void 0||ue===void 0)&&ve(J,this.length-8);const pe=le+this[++J]*2**8+this[++J]*2**16+this[++J]*2**24,Ie=this[++J]+this[++J]*2**8+this[++J]*2**16+ue*2**24;return BigInt(pe)+(BigInt(Ie)<<BigInt(32))}),y.prototype.readBigUInt64BE=vt(function(J){J=J>>>0,Te(J,"offset");const le=this[J],ue=this[J+7];(le===void 0||ue===void 0)&&ve(J,this.length-8);const pe=le*2**24+this[++J]*2**16+this[++J]*2**8+this[++J],Ie=this[++J]*2**24+this[++J]*2**16+this[++J]*2**8+ue;return(BigInt(pe)<<BigInt(32))+BigInt(Ie)}),y.prototype.readIntLE=function(J,le,ue){J=J>>>0,le=le>>>0,ue||N(J,le,this.length);let pe=this[J],Ie=1,_e=0;for(;++_e<le&&(Ie*=256);)pe+=this[J+_e]*Ie;return Ie*=128,pe>=Ie&&(pe-=Math.pow(2,8*le)),pe},y.prototype.readIntBE=function(J,le,ue){J=J>>>0,le=le>>>0,ue||N(J,le,this.length);let pe=le,Ie=1,_e=this[J+--pe];for(;pe>0&&(Ie*=256);)_e+=this[J+--pe]*Ie;return Ie*=128,_e>=Ie&&(_e-=Math.pow(2,8*le)),_e},y.prototype.readInt8=function(J,le){return J=J>>>0,le||N(J,1,this.length),this[J]&128?(255-this[J]+1)*-1:this[J]},y.prototype.readInt16LE=function(J,le){J=J>>>0,le||N(J,2,this.length);const ue=this[J]|this[J+1]<<8;return ue&32768?ue|4294901760:ue},y.prototype.readInt16BE=function(J,le){J=J>>>0,le||N(J,2,this.length);const ue=this[J+1]|this[J]<<8;return ue&32768?ue|4294901760:ue},y.prototype.readInt32LE=function(J,le){return J=J>>>0,le||N(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},y.prototype.readInt32BE=function(J,le){return J=J>>>0,le||N(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},y.prototype.readBigInt64LE=vt(function(J){J=J>>>0,Te(J,"offset");const le=this[J],ue=this[J+7];(le===void 0||ue===void 0)&&ve(J,this.length-8);const pe=this[J+4]+this[J+5]*2**8+this[J+6]*2**16+(ue<<24);return(BigInt(pe)<<BigInt(32))+BigInt(le+this[++J]*256+this[++J]*65536+this[++J]*16777216)}),y.prototype.readBigInt64BE=vt(function(J){J=J>>>0,Te(J,"offset");const le=this[J],ue=this[J+7];(le===void 0||ue===void 0)&&ve(J,this.length-8);const pe=(le<<24)+this[++J]*2**16+this[++J]*2**8+this[++J];return(BigInt(pe)<<BigInt(32))+BigInt(this[++J]*16777216+this[++J]*65536+this[++J]*256+ue)}),y.prototype.readFloatLE=function(J,le){return J=J>>>0,le||N(J,4,this.length),n.read(this,J,!0,23,4)},y.prototype.readFloatBE=function(J,le){return J=J>>>0,le||N(J,4,this.length),n.read(this,J,!1,23,4)},y.prototype.readDoubleLE=function(J,le){return J=J>>>0,le||N(J,8,this.length),n.read(this,J,!0,52,8)},y.prototype.readDoubleBE=function(J,le){return J=J>>>0,le||N(J,8,this.length),n.read(this,J,!1,52,8)};function L(J,le,ue,pe,Ie,_e){if(!y.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if(le>Ie||le<_e)throw new RangeError('"value" argument is out of bounds');if(ue+pe>J.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(J,le,ue,pe){if(J=+J,le=le>>>0,ue=ue>>>0,!pe){const Ae=Math.pow(2,8*ue)-1;L(this,J,le,ue,Ae,0)}let Ie=1,_e=0;for(this[le]=J&255;++_e<ue&&(Ie*=256);)this[le+_e]=J/Ie&255;return le+ue},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(J,le,ue,pe){if(J=+J,le=le>>>0,ue=ue>>>0,!pe){const Ae=Math.pow(2,8*ue)-1;L(this,J,le,ue,Ae,0)}let Ie=ue-1,_e=1;for(this[le+Ie]=J&255;--Ie>=0&&(_e*=256);)this[le+Ie]=J/_e&255;return le+ue},y.prototype.writeUint8=y.prototype.writeUInt8=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,1,255,0),this[le]=J&255,le+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,2,65535,0),this[le]=J&255,this[le+1]=J>>>8,le+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,2,65535,0),this[le]=J>>>8,this[le+1]=J&255,le+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,4,4294967295,0),this[le+3]=J>>>24,this[le+2]=J>>>16,this[le+1]=J>>>8,this[le]=J&255,le+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,4,4294967295,0),this[le]=J>>>24,this[le+1]=J>>>16,this[le+2]=J>>>8,this[le+3]=J&255,le+4};function H(J,le,ue,pe,Ie){we(le,pe,Ie,J,ue,7);let _e=Number(le&BigInt(4294967295));J[ue++]=_e,_e=_e>>8,J[ue++]=_e,_e=_e>>8,J[ue++]=_e,_e=_e>>8,J[ue++]=_e;let Ae=Number(le>>BigInt(32)&BigInt(4294967295));return J[ue++]=Ae,Ae=Ae>>8,J[ue++]=Ae,Ae=Ae>>8,J[ue++]=Ae,Ae=Ae>>8,J[ue++]=Ae,ue}function Y(J,le,ue,pe,Ie){we(le,pe,Ie,J,ue,7);let _e=Number(le&BigInt(4294967295));J[ue+7]=_e,_e=_e>>8,J[ue+6]=_e,_e=_e>>8,J[ue+5]=_e,_e=_e>>8,J[ue+4]=_e;let Ae=Number(le>>BigInt(32)&BigInt(4294967295));return J[ue+3]=Ae,Ae=Ae>>8,J[ue+2]=Ae,Ae=Ae>>8,J[ue+1]=Ae,Ae=Ae>>8,J[ue]=Ae,ue+8}y.prototype.writeBigUInt64LE=vt(function(J,le=0){return H(this,J,le,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=vt(function(J,le=0){return Y(this,J,le,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(J,le,ue,pe){if(J=+J,le=le>>>0,!pe){const bt=Math.pow(2,8*ue-1);L(this,J,le,ue,bt-1,-bt)}let Ie=0,_e=1,Ae=0;for(this[le]=J&255;++Ie<ue&&(_e*=256);)J<0&&Ae===0&&this[le+Ie-1]!==0&&(Ae=1),this[le+Ie]=(J/_e>>0)-Ae&255;return le+ue},y.prototype.writeIntBE=function(J,le,ue,pe){if(J=+J,le=le>>>0,!pe){const bt=Math.pow(2,8*ue-1);L(this,J,le,ue,bt-1,-bt)}let Ie=ue-1,_e=1,Ae=0;for(this[le+Ie]=J&255;--Ie>=0&&(_e*=256);)J<0&&Ae===0&&this[le+Ie+1]!==0&&(Ae=1),this[le+Ie]=(J/_e>>0)-Ae&255;return le+ue},y.prototype.writeInt8=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,1,127,-128),J<0&&(J=255+J+1),this[le]=J&255,le+1},y.prototype.writeInt16LE=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,2,32767,-32768),this[le]=J&255,this[le+1]=J>>>8,le+2},y.prototype.writeInt16BE=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,2,32767,-32768),this[le]=J>>>8,this[le+1]=J&255,le+2},y.prototype.writeInt32LE=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,4,2147483647,-2147483648),this[le]=J&255,this[le+1]=J>>>8,this[le+2]=J>>>16,this[le+3]=J>>>24,le+4},y.prototype.writeInt32BE=function(J,le,ue){return J=+J,le=le>>>0,ue||L(this,J,le,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[le]=J>>>24,this[le+1]=J>>>16,this[le+2]=J>>>8,this[le+3]=J&255,le+4},y.prototype.writeBigInt64LE=vt(function(J,le=0){return H(this,J,le,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=vt(function(J,le=0){return Y(this,J,le,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(J,le,ue,pe,Ie,_e){if(ue+pe>J.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("Index out of range")}function de(J,le,ue,pe,Ie){return le=+le,ue=ue>>>0,Ie||Z(J,le,ue,4),n.write(J,le,ue,pe,23,4),ue+4}y.prototype.writeFloatLE=function(J,le,ue){return de(this,J,le,!0,ue)},y.prototype.writeFloatBE=function(J,le,ue){return de(this,J,le,!1,ue)};function he(J,le,ue,pe,Ie){return le=+le,ue=ue>>>0,Ie||Z(J,le,ue,8),n.write(J,le,ue,pe,52,8),ue+8}y.prototype.writeDoubleLE=function(J,le,ue){return he(this,J,le,!0,ue)},y.prototype.writeDoubleBE=function(J,le,ue){return he(this,J,le,!1,ue)},y.prototype.copy=function(J,le,ue,pe){if(!y.isBuffer(J))throw new TypeError("argument should be a Buffer");if(ue||(ue=0),!pe&&pe!==0&&(pe=this.length),le>=J.length&&(le=J.length),le||(le=0),pe>0&&pe<ue&&(pe=ue),pe===ue||J.length===0||this.length===0)return 0;if(le<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),J.length-le<pe-ue&&(pe=J.length-le+ue);const Ie=pe-ue;return this===J&&typeof a.prototype.copyWithin=="function"?this.copyWithin(le,ue,pe):a.prototype.set.call(J,this.subarray(ue,pe),le),Ie},y.prototype.fill=function(J,le,ue,pe){if(typeof J=="string"){if(typeof le=="string"?(pe=le,le=0,ue=this.length):typeof ue=="string"&&(pe=ue,ue=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!y.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(J.length===1){const _e=J.charCodeAt(0);(pe==="utf8"&&_e<128||pe==="latin1")&&(J=_e)}}else typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=Number(J));if(le<0||this.length<le||this.length<ue)throw new RangeError("Out of range index");if(ue<=le)return this;le=le>>>0,ue=ue===void 0?this.length:ue>>>0,J||(J=0);let Ie;if(typeof J=="number")for(Ie=le;Ie<ue;++Ie)this[Ie]=J;else{const _e=y.isBuffer(J)?J:y.from(J,pe),Ae=_e.length;if(Ae===0)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(Ie=0;Ie<ue-le;++Ie)this[Ie+le]=_e[Ie%Ae]}return this};const re={};function ae(J,le,ue){re[J]=class extends ue{constructor(){super(),Object.defineProperty(this,"message",{value:le.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${J}]`,this.stack,delete this.name}get code(){return J}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${J}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(J){return J?`${J} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(J,le){return`The "${J}" argument must be of type number. Received type ${typeof le}`},TypeError),ae("ERR_OUT_OF_RANGE",function(J,le,ue){let pe=`The value of "${J}" is out of range.`,Ie=ue;return Number.isInteger(ue)&&Math.abs(ue)>4294967296?Ie=be(String(ue)):typeof ue=="bigint"&&(Ie=String(ue),(ue>BigInt(2)**BigInt(32)||ue<-(BigInt(2)**BigInt(32)))&&(Ie=be(Ie)),Ie+="n"),pe+=` It must be ${le}. Received ${Ie}`,pe},RangeError);function be(J){let le="",ue=J.length;const pe=J[0]==="-"?1:0;for(;ue>=pe+4;ue-=3)le=`_${J.slice(ue-3,ue)}${le}`;return`${J.slice(0,ue)}${le}`}function ye(J,le,ue){Te(le,"offset"),(J[le]===void 0||J[le+ue]===void 0)&&ve(le,J.length-(ue+1))}function we(J,le,ue,pe,Ie,_e){if(J>ue||J<le){const Ae=typeof le=="bigint"?"n":"";let bt;throw le===0||le===BigInt(0)?bt=`>= 0${Ae} and < 2${Ae} ** ${(_e+1)*8}${Ae}`:bt=`>= -(2${Ae} ** ${(_e+1)*8-1}${Ae}) and < 2 ** ${(_e+1)*8-1}${Ae}`,new re.ERR_OUT_OF_RANGE("value",bt,J)}ye(pe,Ie,_e)}function Te(J,le){if(typeof J!="number")throw new re.ERR_INVALID_ARG_TYPE(le,"number",J)}function ve(J,le,ue){throw Math.floor(J)!==J?(Te(J,ue),new re.ERR_OUT_OF_RANGE("offset","an integer",J)):le<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${le}`,J)}const Ce=/[^+/0-9A-Za-z-_]/g;function Oe(J){if(J=J.split("=")[0],J=J.trim().replace(Ce,""),J.length<2)return"";for(;J.length%4!==0;)J=J+"=";return J}function Se(J,le){le=le||1/0;let ue;const pe=J.length;let Ie=null;const _e=[];for(let Ae=0;Ae<pe;++Ae){if(ue=J.charCodeAt(Ae),ue>55295&&ue<57344){if(!Ie){if(ue>56319){(le-=3)>-1&&_e.push(239,191,189);continue}else if(Ae+1===pe){(le-=3)>-1&&_e.push(239,191,189);continue}Ie=ue;continue}if(ue<56320){(le-=3)>-1&&_e.push(239,191,189),Ie=ue;continue}ue=(Ie-55296<<10|ue-56320)+65536}else Ie&&(le-=3)>-1&&_e.push(239,191,189);if(Ie=null,ue<128){if((le-=1)<0)break;_e.push(ue)}else if(ue<2048){if((le-=2)<0)break;_e.push(ue>>6|192,ue&63|128)}else if(ue<65536){if((le-=3)<0)break;_e.push(ue>>12|224,ue>>6&63|128,ue&63|128)}else if(ue<1114112){if((le-=4)<0)break;_e.push(ue>>18|240,ue>>12&63|128,ue>>6&63|128,ue&63|128)}else throw new Error("Invalid code point")}return _e}function Pe(J){const le=[];for(let ue=0;ue<J.length;++ue)le.push(J.charCodeAt(ue)&255);return le}function nt(J,le){let ue,pe,Ie;const _e=[];for(let Ae=0;Ae<J.length&&!((le-=2)<0);++Ae)ue=J.charCodeAt(Ae),pe=ue>>8,Ie=ue%256,_e.push(Ie),_e.push(pe);return _e}function Me(J){return t.toByteArray(Oe(J))}function Re(J,le,ue,pe){let Ie;for(Ie=0;Ie<pe&&!(Ie+ue>=le.length||Ie>=J.length);++Ie)le[Ie+ue]=J[Ie];return Ie}function pt(J,le){return J instanceof le||J!=null&&J.constructor!=null&&J.constructor.name!=null&&J.constructor.name===le.name}function je(J){return J!==J}const Be=function(){const J="0123456789abcdef",le=new Array(256);for(let ue=0;ue<16;++ue){const pe=ue*16;for(let Ie=0;Ie<16;++Ie)le[pe+Ie]=J[ue]+J[Ie]}return le}();function vt(J){return typeof BigInt>"u"?Ne:J}function Ne(){throw new Error("BigInt not supported")}})(buffer$8);const Buffer$E=buffer$8.Buffer,Blob$1=buffer$8.Blob,BlobOptions=buffer$8.BlobOptions,Buffer$1$1=buffer$8.Buffer,File=buffer$8.File,FileOptions=buffer$8.FileOptions,INSPECT_MAX_BYTES=buffer$8.INSPECT_MAX_BYTES,SlowBuffer=buffer$8.SlowBuffer,TranscodeEncoding=buffer$8.TranscodeEncoding,atob=buffer$8.atob,btoa=buffer$8.btoa,constants$d=buffer$8.constants,isAscii=buffer$8.isAscii,isUtf8=buffer$8.isUtf8,kMaxLength=buffer$8.kMaxLength,kStringMaxLength=buffer$8.kStringMaxLength,resolveObjectURL=buffer$8.resolveObjectURL,transcode=buffer$8.transcode,dist$1=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob,btoa,constants:constants$d,default:Buffer$E,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));var commonjsGlobal$7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var c=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,c.get?c:{enumerable:!0,get:function(){return e[o]}})}),n}var browserIndex$9={},browserIndex$8={},keystore$7={},lib$I={},in_memory_key_store$7={},lib$H={},constants$c={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyType=void 0,function(t){t[t.ED25519=0]="ED25519"}(e.KeyType||(e.KeyType={}))})(constants$c);var key_pair$7={},key_pair_base$3={};Object.defineProperty(key_pair_base$3,"__esModule",{value:!0}),key_pair_base$3.KeyPairBase=void 0;let KeyPairBase$3=class{};key_pair_base$3.KeyPairBase=KeyPairBase$3;var key_pair_ed25519$3={},lib$G={},bn$6={exports:{}};const require$$0$5=getAugmentedNamespace(dist$1);bn$6.exports,function(e){(function(t,n){function o(m,_){if(!m)throw new Error(_||"Assertion failed")}function c(m,_){m.super_=_;var A=function(){};A.prototype=_.prototype,m.prototype=new A,m.prototype.constructor=m}function a(m,_,A){if(a.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((_==="le"||_==="be")&&(A=_,_=10),this._init(m||0,_||10,A||"be"))}typeof t=="object"?t.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$5.Buffer}catch{}a.isBN=function(m){return m instanceof a?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===a.wordSize&&Array.isArray(m.words)},a.max=function(m,_){return m.cmp(_)>0?m:_},a.min=function(m,_){return m.cmp(_)<0?m:_},a.prototype._init=function(m,_,A){if(typeof m=="number")return this._initNumber(m,_,A);if(typeof m=="object")return this._initArray(m,_,A);_==="hex"&&(_=16),o(_===(_|0)&&_>=2&&_<=36),m=m.toString().replace(/\s+/g,"");var I=0;m[0]==="-"&&(I++,this.negative=1),I<m.length&&(_===16?this._parseHex(m,I,A):(this._parseBase(m,_,I),A==="le"&&this._initArray(this.toArray(),_,A)))},a.prototype._initNumber=function(m,_,A){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(o(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),_,A)},a.prototype._initArray=function(m,_,A){if(o(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var T,S,d=0;if(A==="be")for(I=m.length-1,T=0;I>=0;I-=3)S=m[I]|m[I-1]<<8|m[I-2]<<16,this.words[T]|=S<<d&67108863,this.words[T+1]=S>>>26-d&67108863,d+=24,d>=26&&(d-=26,T++);else if(A==="le")for(I=0,T=0;I<m.length;I+=3)S=m[I]|m[I+1]<<8|m[I+2]<<16,this.words[T]|=S<<d&67108863,this.words[T+1]=S>>>26-d&67108863,d+=24,d>=26&&(d-=26,T++);return this._strip()};function h(m,_){var A=m.charCodeAt(_);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;o(!1,"Invalid character in "+m)}function v(m,_,A){var I=h(m,A);return A-1>=_&&(I|=h(m,A-1)<<4),I}a.prototype._parseHex=function(m,_,A){this.length=Math.ceil((m.length-_)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var T=0,S=0,d;if(A==="be")for(I=m.length-1;I>=_;I-=2)d=v(m,_,I)<<T,this.words[S]|=d&67108863,T>=18?(T-=18,S+=1,this.words[S]|=d>>>26):T+=8;else{var E=m.length-_;for(I=E%2===0?_+1:_;I<m.length;I+=2)d=v(m,_,I)<<T,this.words[S]|=d&67108863,T>=18?(T-=18,S+=1,this.words[S]|=d>>>26):T+=8}this._strip()};function b(m,_,A,I){for(var T=0,S=0,d=Math.min(m.length,A),E=_;E<d;E++){var M=m.charCodeAt(E)-48;T*=I,M>=49?S=M-49+10:M>=17?S=M-17+10:S=M,o(M>=0&&S<I,"Invalid character"),T+=S}return T}a.prototype._parseBase=function(m,_,A){this.words=[0],this.length=1;for(var I=0,T=1;T<=67108863;T*=_)I++;I--,T=T/_|0;for(var S=m.length-A,d=S%I,E=Math.min(S,S-d)+A,M=0,U=A;U<E;U+=I)M=b(m,U,U+I,_),this.imuln(T),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(d!==0){var F=1;for(M=b(m,U,m.length,_),U=0;U<d;U++)F*=_;this.imuln(F),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},a.prototype.copy=function(m){m.words=new Array(this.length);for(var _=0;_<this.length;_++)m.words[_]=this.words[_];m.length=this.length,m.negative=this.negative,m.red=this.red};function y(m,_){m.words=_.words,m.length=_.length,m.negative=_.negative,m.red=_.red}if(a.prototype._move=function(m){y(m,this)},a.prototype.clone=function(){var m=new a(null);return this.copy(m),m},a.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=w}catch{a.prototype.inspect=w}else a.prototype.inspect=w;function w(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(m,_){m=m||10,_=_|0||1;var A;if(m===16||m==="hex"){A="";for(var I=0,T=0,S=0;S<this.length;S++){var d=this.words[S],E=((d<<I|T)&16777215).toString(16);T=d>>>24-I&16777215,I+=2,I>=26&&(I-=26,S--),T!==0||S!==this.length-1?A=O[6-E.length]+E+A:A=E+A}for(T!==0&&(A=T.toString(16)+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(m===(m|0)&&m>=2&&m<=36){var M=P[m],U=C[m];A="";var F=this.clone();for(F.negative=0;!F.isZero();){var N=F.modrn(U).toString(m);F=F.idivn(U),F.isZero()?A=N+A:A=O[M-N.length]+N+A}for(this.isZero()&&(A="0"+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},a.prototype.toJSON=function(){return this.toString(16,2)},u&&(a.prototype.toBuffer=function(m,_){return this.toArrayLike(u,m,_)}),a.prototype.toArray=function(m,_){return this.toArrayLike(Array,m,_)};var x=function(m,_){return m.allocUnsafe?m.allocUnsafe(_):new m(_)};a.prototype.toArrayLike=function(m,_,A){this._strip();var I=this.byteLength(),T=A||Math.max(1,I);o(I<=T,"byte array longer than desired length"),o(T>0,"Requested array length <= 0");var S=x(m,T),d=_==="le"?"LE":"BE";return this["_toArrayLike"+d](S,I),S},a.prototype._toArrayLikeLE=function(m,_){for(var A=0,I=0,T=0,S=0;T<this.length;T++){var d=this.words[T]<<S|I;m[A++]=d&255,A<m.length&&(m[A++]=d>>8&255),A<m.length&&(m[A++]=d>>16&255),S===6?(A<m.length&&(m[A++]=d>>24&255),I=0,S=0):(I=d>>>24,S+=2)}if(A<m.length)for(m[A++]=I;A<m.length;)m[A++]=0},a.prototype._toArrayLikeBE=function(m,_){for(var A=m.length-1,I=0,T=0,S=0;T<this.length;T++){var d=this.words[T]<<S|I;m[A--]=d&255,A>=0&&(m[A--]=d>>8&255),A>=0&&(m[A--]=d>>16&255),S===6?(A>=0&&(m[A--]=d>>24&255),I=0,S=0):(I=d>>>24,S+=2)}if(A>=0)for(m[A--]=I;A>=0;)m[A--]=0},Math.clz32?a.prototype._countBits=function(m){return 32-Math.clz32(m)}:a.prototype._countBits=function(m){var _=m,A=0;return _>=4096&&(A+=13,_>>>=13),_>=64&&(A+=7,_>>>=7),_>=8&&(A+=4,_>>>=4),_>=2&&(A+=2,_>>>=2),A+_},a.prototype._zeroBits=function(m){if(m===0)return 26;var _=m,A=0;return _&8191||(A+=13,_>>>=13),_&127||(A+=7,_>>>=7),_&15||(A+=4,_>>>=4),_&3||(A+=2,_>>>=2),_&1||A++,A},a.prototype.bitLength=function(){var m=this.words[this.length-1],_=this._countBits(m);return(this.length-1)*26+_};function D(m){for(var _=new Array(m.bitLength()),A=0;A<_.length;A++){var I=A/26|0,T=A%26;_[A]=m.words[I]>>>T&1}return _}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,_=0;_<this.length;_++){var A=this._zeroBits(this.words[_]);if(m+=A,A!==26)break}return m},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},a.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var _=0;_<m.length;_++)this.words[_]=this.words[_]|m.words[_];return this._strip()},a.prototype.ior=function(m){return o((this.negative|m.negative)===0),this.iuor(m)},a.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},a.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},a.prototype.iuand=function(m){var _;this.length>m.length?_=m:_=this;for(var A=0;A<_.length;A++)this.words[A]=this.words[A]&m.words[A];return this.length=_.length,this._strip()},a.prototype.iand=function(m){return o((this.negative|m.negative)===0),this.iuand(m)},a.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},a.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},a.prototype.iuxor=function(m){var _,A;this.length>m.length?(_=this,A=m):(_=m,A=this);for(var I=0;I<A.length;I++)this.words[I]=_.words[I]^A.words[I];if(this!==_)for(;I<_.length;I++)this.words[I]=_.words[I];return this.length=_.length,this._strip()},a.prototype.ixor=function(m){return o((this.negative|m.negative)===0),this.iuxor(m)},a.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},a.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},a.prototype.inotn=function(m){o(typeof m=="number"&&m>=0);var _=Math.ceil(m/26)|0,A=m%26;this._expand(_),A>0&&_--;for(var I=0;I<_;I++)this.words[I]=~this.words[I]&67108863;return A>0&&(this.words[I]=~this.words[I]&67108863>>26-A),this._strip()},a.prototype.notn=function(m){return this.clone().inotn(m)},a.prototype.setn=function(m,_){o(typeof m=="number"&&m>=0);var A=m/26|0,I=m%26;return this._expand(A+1),_?this.words[A]=this.words[A]|1<<I:this.words[A]=this.words[A]&~(1<<I),this._strip()},a.prototype.iadd=function(m){var _;if(this.negative!==0&&m.negative===0)return this.negative=0,_=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,_=this.isub(m),m.negative=1,_._normSign();var A,I;this.length>m.length?(A=this,I=m):(A=m,I=this);for(var T=0,S=0;S<I.length;S++)_=(A.words[S]|0)+(I.words[S]|0)+T,this.words[S]=_&67108863,T=_>>>26;for(;T!==0&&S<A.length;S++)_=(A.words[S]|0)+T,this.words[S]=_&67108863,T=_>>>26;if(this.length=A.length,T!==0)this.words[this.length]=T,this.length++;else if(A!==this)for(;S<A.length;S++)this.words[S]=A.words[S];return this},a.prototype.add=function(m){var _;return m.negative!==0&&this.negative===0?(m.negative=0,_=this.sub(m),m.negative^=1,_):m.negative===0&&this.negative!==0?(this.negative=0,_=m.sub(this),this.negative=1,_):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},a.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var _=this.iadd(m);return m.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var A=this.cmp(m);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,T;A>0?(I=this,T=m):(I=m,T=this);for(var S=0,d=0;d<T.length;d++)_=(I.words[d]|0)-(T.words[d]|0)+S,S=_>>26,this.words[d]=_&67108863;for(;S!==0&&d<I.length;d++)_=(I.words[d]|0)+S,S=_>>26,this.words[d]=_&67108863;if(S===0&&d<I.length&&I!==this)for(;d<I.length;d++)this.words[d]=I.words[d];return this.length=Math.max(this.length,d),I!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(m){return this.clone().isub(m)};function k(m,_,A){A.negative=_.negative^m.negative;var I=m.length+_.length|0;A.length=I,I=I-1|0;var T=m.words[0]|0,S=_.words[0]|0,d=T*S,E=d&67108863,M=d/67108864|0;A.words[0]=E;for(var U=1;U<I;U++){for(var F=M>>>26,N=M&67108863,L=Math.min(U,_.length-1),H=Math.max(0,U-m.length+1);H<=L;H++){var Y=U-H|0;T=m.words[Y]|0,S=_.words[H]|0,d=T*S+N,F+=d/67108864|0,N=d&67108863}A.words[U]=N|0,M=F|0}return M!==0?A.words[U]=M|0:A.length--,A._strip()}var B=function(m,_,A){var I=m.words,T=_.words,S=A.words,d=0,E,M,U,F=I[0]|0,N=F&8191,L=F>>>13,H=I[1]|0,Y=H&8191,Z=H>>>13,de=I[2]|0,he=de&8191,re=de>>>13,ae=I[3]|0,be=ae&8191,ye=ae>>>13,we=I[4]|0,Te=we&8191,ve=we>>>13,Ce=I[5]|0,Oe=Ce&8191,Se=Ce>>>13,Pe=I[6]|0,nt=Pe&8191,Me=Pe>>>13,Re=I[7]|0,pt=Re&8191,je=Re>>>13,Be=I[8]|0,vt=Be&8191,Ne=Be>>>13,J=I[9]|0,le=J&8191,ue=J>>>13,pe=T[0]|0,Ie=pe&8191,_e=pe>>>13,Ae=T[1]|0,bt=Ae&8191,xe=Ae>>>13,Ke=T[2]|0,wt=Ke&8191,De=Ke>>>13,He=T[3]|0,Pt=He&8191,Ue=He>>>13,We=T[4]|0,St=We&8191,Fe=We>>>13,Ve=T[5]|0,Ot=Ve&8191,Ge=Ve>>>13,ze=T[6]|0,Tt=ze&8191,oe=ze>>>13,X=T[7]|0,ie=X&8191,z=X>>>13,se=T[8]|0,me=se&8191,$e=se>>>13,ge=T[9]|0,Le=ge&8191,Je=ge>>>13;A.negative=m.negative^_.negative,A.length=19,E=Math.imul(N,Ie),M=Math.imul(N,_e),M=M+Math.imul(L,Ie)|0,U=Math.imul(L,_e);var Ye=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,E=Math.imul(Y,Ie),M=Math.imul(Y,_e),M=M+Math.imul(Z,Ie)|0,U=Math.imul(Z,_e),E=E+Math.imul(N,bt)|0,M=M+Math.imul(N,xe)|0,M=M+Math.imul(L,bt)|0,U=U+Math.imul(L,xe)|0;var ht=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(ht>>>26)|0,ht&=67108863,E=Math.imul(he,Ie),M=Math.imul(he,_e),M=M+Math.imul(re,Ie)|0,U=Math.imul(re,_e),E=E+Math.imul(Y,bt)|0,M=M+Math.imul(Y,xe)|0,M=M+Math.imul(Z,bt)|0,U=U+Math.imul(Z,xe)|0,E=E+Math.imul(N,wt)|0,M=M+Math.imul(N,De)|0,M=M+Math.imul(L,wt)|0,U=U+Math.imul(L,De)|0;var Ze=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,E=Math.imul(be,Ie),M=Math.imul(be,_e),M=M+Math.imul(ye,Ie)|0,U=Math.imul(ye,_e),E=E+Math.imul(he,bt)|0,M=M+Math.imul(he,xe)|0,M=M+Math.imul(re,bt)|0,U=U+Math.imul(re,xe)|0,E=E+Math.imul(Y,wt)|0,M=M+Math.imul(Y,De)|0,M=M+Math.imul(Z,wt)|0,U=U+Math.imul(Z,De)|0,E=E+Math.imul(N,Pt)|0,M=M+Math.imul(N,Ue)|0,M=M+Math.imul(L,Pt)|0,U=U+Math.imul(L,Ue)|0;var dt=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,E=Math.imul(Te,Ie),M=Math.imul(Te,_e),M=M+Math.imul(ve,Ie)|0,U=Math.imul(ve,_e),E=E+Math.imul(be,bt)|0,M=M+Math.imul(be,xe)|0,M=M+Math.imul(ye,bt)|0,U=U+Math.imul(ye,xe)|0,E=E+Math.imul(he,wt)|0,M=M+Math.imul(he,De)|0,M=M+Math.imul(re,wt)|0,U=U+Math.imul(re,De)|0,E=E+Math.imul(Y,Pt)|0,M=M+Math.imul(Y,Ue)|0,M=M+Math.imul(Z,Pt)|0,U=U+Math.imul(Z,Ue)|0,E=E+Math.imul(N,St)|0,M=M+Math.imul(N,Fe)|0,M=M+Math.imul(L,St)|0,U=U+Math.imul(L,Fe)|0;var Xe=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,E=Math.imul(Oe,Ie),M=Math.imul(Oe,_e),M=M+Math.imul(Se,Ie)|0,U=Math.imul(Se,_e),E=E+Math.imul(Te,bt)|0,M=M+Math.imul(Te,xe)|0,M=M+Math.imul(ve,bt)|0,U=U+Math.imul(ve,xe)|0,E=E+Math.imul(be,wt)|0,M=M+Math.imul(be,De)|0,M=M+Math.imul(ye,wt)|0,U=U+Math.imul(ye,De)|0,E=E+Math.imul(he,Pt)|0,M=M+Math.imul(he,Ue)|0,M=M+Math.imul(re,Pt)|0,U=U+Math.imul(re,Ue)|0,E=E+Math.imul(Y,St)|0,M=M+Math.imul(Y,Fe)|0,M=M+Math.imul(Z,St)|0,U=U+Math.imul(Z,Fe)|0,E=E+Math.imul(N,Ot)|0,M=M+Math.imul(N,Ge)|0,M=M+Math.imul(L,Ot)|0,U=U+Math.imul(L,Ge)|0;var mt=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(mt>>>26)|0,mt&=67108863,E=Math.imul(nt,Ie),M=Math.imul(nt,_e),M=M+Math.imul(Me,Ie)|0,U=Math.imul(Me,_e),E=E+Math.imul(Oe,bt)|0,M=M+Math.imul(Oe,xe)|0,M=M+Math.imul(Se,bt)|0,U=U+Math.imul(Se,xe)|0,E=E+Math.imul(Te,wt)|0,M=M+Math.imul(Te,De)|0,M=M+Math.imul(ve,wt)|0,U=U+Math.imul(ve,De)|0,E=E+Math.imul(be,Pt)|0,M=M+Math.imul(be,Ue)|0,M=M+Math.imul(ye,Pt)|0,U=U+Math.imul(ye,Ue)|0,E=E+Math.imul(he,St)|0,M=M+Math.imul(he,Fe)|0,M=M+Math.imul(re,St)|0,U=U+Math.imul(re,Fe)|0,E=E+Math.imul(Y,Ot)|0,M=M+Math.imul(Y,Ge)|0,M=M+Math.imul(Z,Ot)|0,U=U+Math.imul(Z,Ge)|0,E=E+Math.imul(N,Tt)|0,M=M+Math.imul(N,oe)|0,M=M+Math.imul(L,Tt)|0,U=U+Math.imul(L,oe)|0;var lt=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(lt>>>26)|0,lt&=67108863,E=Math.imul(pt,Ie),M=Math.imul(pt,_e),M=M+Math.imul(je,Ie)|0,U=Math.imul(je,_e),E=E+Math.imul(nt,bt)|0,M=M+Math.imul(nt,xe)|0,M=M+Math.imul(Me,bt)|0,U=U+Math.imul(Me,xe)|0,E=E+Math.imul(Oe,wt)|0,M=M+Math.imul(Oe,De)|0,M=M+Math.imul(Se,wt)|0,U=U+Math.imul(Se,De)|0,E=E+Math.imul(Te,Pt)|0,M=M+Math.imul(Te,Ue)|0,M=M+Math.imul(ve,Pt)|0,U=U+Math.imul(ve,Ue)|0,E=E+Math.imul(be,St)|0,M=M+Math.imul(be,Fe)|0,M=M+Math.imul(ye,St)|0,U=U+Math.imul(ye,Fe)|0,E=E+Math.imul(he,Ot)|0,M=M+Math.imul(he,Ge)|0,M=M+Math.imul(re,Ot)|0,U=U+Math.imul(re,Ge)|0,E=E+Math.imul(Y,Tt)|0,M=M+Math.imul(Y,oe)|0,M=M+Math.imul(Z,Tt)|0,U=U+Math.imul(Z,oe)|0,E=E+Math.imul(N,ie)|0,M=M+Math.imul(N,z)|0,M=M+Math.imul(L,ie)|0,U=U+Math.imul(L,z)|0;var yt=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(yt>>>26)|0,yt&=67108863,E=Math.imul(vt,Ie),M=Math.imul(vt,_e),M=M+Math.imul(Ne,Ie)|0,U=Math.imul(Ne,_e),E=E+Math.imul(pt,bt)|0,M=M+Math.imul(pt,xe)|0,M=M+Math.imul(je,bt)|0,U=U+Math.imul(je,xe)|0,E=E+Math.imul(nt,wt)|0,M=M+Math.imul(nt,De)|0,M=M+Math.imul(Me,wt)|0,U=U+Math.imul(Me,De)|0,E=E+Math.imul(Oe,Pt)|0,M=M+Math.imul(Oe,Ue)|0,M=M+Math.imul(Se,Pt)|0,U=U+Math.imul(Se,Ue)|0,E=E+Math.imul(Te,St)|0,M=M+Math.imul(Te,Fe)|0,M=M+Math.imul(ve,St)|0,U=U+Math.imul(ve,Fe)|0,E=E+Math.imul(be,Ot)|0,M=M+Math.imul(be,Ge)|0,M=M+Math.imul(ye,Ot)|0,U=U+Math.imul(ye,Ge)|0,E=E+Math.imul(he,Tt)|0,M=M+Math.imul(he,oe)|0,M=M+Math.imul(re,Tt)|0,U=U+Math.imul(re,oe)|0,E=E+Math.imul(Y,ie)|0,M=M+Math.imul(Y,z)|0,M=M+Math.imul(Z,ie)|0,U=U+Math.imul(Z,z)|0,E=E+Math.imul(N,me)|0,M=M+Math.imul(N,$e)|0,M=M+Math.imul(L,me)|0,U=U+Math.imul(L,$e)|0;var _t=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(_t>>>26)|0,_t&=67108863,E=Math.imul(le,Ie),M=Math.imul(le,_e),M=M+Math.imul(ue,Ie)|0,U=Math.imul(ue,_e),E=E+Math.imul(vt,bt)|0,M=M+Math.imul(vt,xe)|0,M=M+Math.imul(Ne,bt)|0,U=U+Math.imul(Ne,xe)|0,E=E+Math.imul(pt,wt)|0,M=M+Math.imul(pt,De)|0,M=M+Math.imul(je,wt)|0,U=U+Math.imul(je,De)|0,E=E+Math.imul(nt,Pt)|0,M=M+Math.imul(nt,Ue)|0,M=M+Math.imul(Me,Pt)|0,U=U+Math.imul(Me,Ue)|0,E=E+Math.imul(Oe,St)|0,M=M+Math.imul(Oe,Fe)|0,M=M+Math.imul(Se,St)|0,U=U+Math.imul(Se,Fe)|0,E=E+Math.imul(Te,Ot)|0,M=M+Math.imul(Te,Ge)|0,M=M+Math.imul(ve,Ot)|0,U=U+Math.imul(ve,Ge)|0,E=E+Math.imul(be,Tt)|0,M=M+Math.imul(be,oe)|0,M=M+Math.imul(ye,Tt)|0,U=U+Math.imul(ye,oe)|0,E=E+Math.imul(he,ie)|0,M=M+Math.imul(he,z)|0,M=M+Math.imul(re,ie)|0,U=U+Math.imul(re,z)|0,E=E+Math.imul(Y,me)|0,M=M+Math.imul(Y,$e)|0,M=M+Math.imul(Z,me)|0,U=U+Math.imul(Z,$e)|0,E=E+Math.imul(N,Le)|0,M=M+Math.imul(N,Je)|0,M=M+Math.imul(L,Le)|0,U=U+Math.imul(L,Je)|0;var gt=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(gt>>>26)|0,gt&=67108863,E=Math.imul(le,bt),M=Math.imul(le,xe),M=M+Math.imul(ue,bt)|0,U=Math.imul(ue,xe),E=E+Math.imul(vt,wt)|0,M=M+Math.imul(vt,De)|0,M=M+Math.imul(Ne,wt)|0,U=U+Math.imul(Ne,De)|0,E=E+Math.imul(pt,Pt)|0,M=M+Math.imul(pt,Ue)|0,M=M+Math.imul(je,Pt)|0,U=U+Math.imul(je,Ue)|0,E=E+Math.imul(nt,St)|0,M=M+Math.imul(nt,Fe)|0,M=M+Math.imul(Me,St)|0,U=U+Math.imul(Me,Fe)|0,E=E+Math.imul(Oe,Ot)|0,M=M+Math.imul(Oe,Ge)|0,M=M+Math.imul(Se,Ot)|0,U=U+Math.imul(Se,Ge)|0,E=E+Math.imul(Te,Tt)|0,M=M+Math.imul(Te,oe)|0,M=M+Math.imul(ve,Tt)|0,U=U+Math.imul(ve,oe)|0,E=E+Math.imul(be,ie)|0,M=M+Math.imul(be,z)|0,M=M+Math.imul(ye,ie)|0,U=U+Math.imul(ye,z)|0,E=E+Math.imul(he,me)|0,M=M+Math.imul(he,$e)|0,M=M+Math.imul(re,me)|0,U=U+Math.imul(re,$e)|0,E=E+Math.imul(Y,Le)|0,M=M+Math.imul(Y,Je)|0,M=M+Math.imul(Z,Le)|0,U=U+Math.imul(Z,Je)|0;var at=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(at>>>26)|0,at&=67108863,E=Math.imul(le,wt),M=Math.imul(le,De),M=M+Math.imul(ue,wt)|0,U=Math.imul(ue,De),E=E+Math.imul(vt,Pt)|0,M=M+Math.imul(vt,Ue)|0,M=M+Math.imul(Ne,Pt)|0,U=U+Math.imul(Ne,Ue)|0,E=E+Math.imul(pt,St)|0,M=M+Math.imul(pt,Fe)|0,M=M+Math.imul(je,St)|0,U=U+Math.imul(je,Fe)|0,E=E+Math.imul(nt,Ot)|0,M=M+Math.imul(nt,Ge)|0,M=M+Math.imul(Me,Ot)|0,U=U+Math.imul(Me,Ge)|0,E=E+Math.imul(Oe,Tt)|0,M=M+Math.imul(Oe,oe)|0,M=M+Math.imul(Se,Tt)|0,U=U+Math.imul(Se,oe)|0,E=E+Math.imul(Te,ie)|0,M=M+Math.imul(Te,z)|0,M=M+Math.imul(ve,ie)|0,U=U+Math.imul(ve,z)|0,E=E+Math.imul(be,me)|0,M=M+Math.imul(be,$e)|0,M=M+Math.imul(ye,me)|0,U=U+Math.imul(ye,$e)|0,E=E+Math.imul(he,Le)|0,M=M+Math.imul(he,Je)|0,M=M+Math.imul(re,Le)|0,U=U+Math.imul(re,Je)|0;var $t=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,E=Math.imul(le,Pt),M=Math.imul(le,Ue),M=M+Math.imul(ue,Pt)|0,U=Math.imul(ue,Ue),E=E+Math.imul(vt,St)|0,M=M+Math.imul(vt,Fe)|0,M=M+Math.imul(Ne,St)|0,U=U+Math.imul(Ne,Fe)|0,E=E+Math.imul(pt,Ot)|0,M=M+Math.imul(pt,Ge)|0,M=M+Math.imul(je,Ot)|0,U=U+Math.imul(je,Ge)|0,E=E+Math.imul(nt,Tt)|0,M=M+Math.imul(nt,oe)|0,M=M+Math.imul(Me,Tt)|0,U=U+Math.imul(Me,oe)|0,E=E+Math.imul(Oe,ie)|0,M=M+Math.imul(Oe,z)|0,M=M+Math.imul(Se,ie)|0,U=U+Math.imul(Se,z)|0,E=E+Math.imul(Te,me)|0,M=M+Math.imul(Te,$e)|0,M=M+Math.imul(ve,me)|0,U=U+Math.imul(ve,$e)|0,E=E+Math.imul(be,Le)|0,M=M+Math.imul(be,Je)|0,M=M+Math.imul(ye,Le)|0,U=U+Math.imul(ye,Je)|0;var ot=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(ot>>>26)|0,ot&=67108863,E=Math.imul(le,St),M=Math.imul(le,Fe),M=M+Math.imul(ue,St)|0,U=Math.imul(ue,Fe),E=E+Math.imul(vt,Ot)|0,M=M+Math.imul(vt,Ge)|0,M=M+Math.imul(Ne,Ot)|0,U=U+Math.imul(Ne,Ge)|0,E=E+Math.imul(pt,Tt)|0,M=M+Math.imul(pt,oe)|0,M=M+Math.imul(je,Tt)|0,U=U+Math.imul(je,oe)|0,E=E+Math.imul(nt,ie)|0,M=M+Math.imul(nt,z)|0,M=M+Math.imul(Me,ie)|0,U=U+Math.imul(Me,z)|0,E=E+Math.imul(Oe,me)|0,M=M+Math.imul(Oe,$e)|0,M=M+Math.imul(Se,me)|0,U=U+Math.imul(Se,$e)|0,E=E+Math.imul(Te,Le)|0,M=M+Math.imul(Te,Je)|0,M=M+Math.imul(ve,Le)|0,U=U+Math.imul(ve,Je)|0;var it=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(it>>>26)|0,it&=67108863,E=Math.imul(le,Ot),M=Math.imul(le,Ge),M=M+Math.imul(ue,Ot)|0,U=Math.imul(ue,Ge),E=E+Math.imul(vt,Tt)|0,M=M+Math.imul(vt,oe)|0,M=M+Math.imul(Ne,Tt)|0,U=U+Math.imul(Ne,oe)|0,E=E+Math.imul(pt,ie)|0,M=M+Math.imul(pt,z)|0,M=M+Math.imul(je,ie)|0,U=U+Math.imul(je,z)|0,E=E+Math.imul(nt,me)|0,M=M+Math.imul(nt,$e)|0,M=M+Math.imul(Me,me)|0,U=U+Math.imul(Me,$e)|0,E=E+Math.imul(Oe,Le)|0,M=M+Math.imul(Oe,Je)|0,M=M+Math.imul(Se,Le)|0,U=U+Math.imul(Se,Je)|0;var st=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(st>>>26)|0,st&=67108863,E=Math.imul(le,Tt),M=Math.imul(le,oe),M=M+Math.imul(ue,Tt)|0,U=Math.imul(ue,oe),E=E+Math.imul(vt,ie)|0,M=M+Math.imul(vt,z)|0,M=M+Math.imul(Ne,ie)|0,U=U+Math.imul(Ne,z)|0,E=E+Math.imul(pt,me)|0,M=M+Math.imul(pt,$e)|0,M=M+Math.imul(je,me)|0,U=U+Math.imul(je,$e)|0,E=E+Math.imul(nt,Le)|0,M=M+Math.imul(nt,Je)|0,M=M+Math.imul(Me,Le)|0,U=U+Math.imul(Me,Je)|0;var tt=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(tt>>>26)|0,tt&=67108863,E=Math.imul(le,ie),M=Math.imul(le,z),M=M+Math.imul(ue,ie)|0,U=Math.imul(ue,z),E=E+Math.imul(vt,me)|0,M=M+Math.imul(vt,$e)|0,M=M+Math.imul(Ne,me)|0,U=U+Math.imul(Ne,$e)|0,E=E+Math.imul(pt,Le)|0,M=M+Math.imul(pt,Je)|0,M=M+Math.imul(je,Le)|0,U=U+Math.imul(je,Je)|0;var ke=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(ke>>>26)|0,ke&=67108863,E=Math.imul(le,me),M=Math.imul(le,$e),M=M+Math.imul(ue,me)|0,U=Math.imul(ue,$e),E=E+Math.imul(vt,Le)|0,M=M+Math.imul(vt,Je)|0,M=M+Math.imul(Ne,Le)|0,U=U+Math.imul(Ne,Je)|0;var qe=(d+E|0)+((M&8191)<<13)|0;d=(U+(M>>>13)|0)+(qe>>>26)|0,qe&=67108863,E=Math.imul(le,Le),M=Math.imul(le,Je),M=M+Math.imul(ue,Le)|0,U=Math.imul(ue,Je);var rt=(d+E|0)+((M&8191)<<13)|0;return d=(U+(M>>>13)|0)+(rt>>>26)|0,rt&=67108863,S[0]=Ye,S[1]=ht,S[2]=Ze,S[3]=dt,S[4]=Xe,S[5]=mt,S[6]=lt,S[7]=yt,S[8]=_t,S[9]=gt,S[10]=at,S[11]=$t,S[12]=ot,S[13]=it,S[14]=st,S[15]=tt,S[16]=ke,S[17]=qe,S[18]=rt,d!==0&&(S[19]=d,A.length++),A};Math.imul||(B=k);function q(m,_,A){A.negative=_.negative^m.negative,A.length=m.length+_.length;for(var I=0,T=0,S=0;S<A.length-1;S++){var d=T;T=0;for(var E=I&67108863,M=Math.min(S,_.length-1),U=Math.max(0,S-m.length+1);U<=M;U++){var F=S-U,N=m.words[F]|0,L=_.words[U]|0,H=N*L,Y=H&67108863;d=d+(H/67108864|0)|0,Y=Y+E|0,E=Y&67108863,d=d+(Y>>>26)|0,T+=d>>>26,d&=67108863}A.words[S]=E,I=d,d=T}return I!==0?A.words[S]=I:A.length--,A._strip()}function V(m,_,A){return q(m,_,A)}a.prototype.mulTo=function(m,_){var A,I=this.length+m.length;return this.length===10&&m.length===10?A=B(this,m,_):I<63?A=k(this,m,_):I<1024?A=q(this,m,_):A=V(this,m,_),A},a.prototype.mul=function(m){var _=new a(null);return _.words=new Array(this.length+m.length),this.mulTo(m,_)},a.prototype.mulf=function(m){var _=new a(null);return _.words=new Array(this.length+m.length),V(this,m,_)},a.prototype.imul=function(m){return this.clone().mulTo(m,this)},a.prototype.imuln=function(m){var _=m<0;_&&(m=-m),o(typeof m=="number"),o(m<67108864);for(var A=0,I=0;I<this.length;I++){var T=(this.words[I]|0)*m,S=(T&67108863)+(A&67108863);A>>=26,A+=T/67108864|0,A+=S>>>26,this.words[I]=S&67108863}return A!==0&&(this.words[I]=A,this.length++),_?this.ineg():this},a.prototype.muln=function(m){return this.clone().imuln(m)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(m){var _=D(m);if(_.length===0)return new a(1);for(var A=this,I=0;I<_.length&&_[I]===0;I++,A=A.sqr());if(++I<_.length)for(var T=A.sqr();I<_.length;I++,T=T.sqr())_[I]!==0&&(A=A.mul(T));return A},a.prototype.iushln=function(m){o(typeof m=="number"&&m>=0);var _=m%26,A=(m-_)/26,I=67108863>>>26-_<<26-_,T;if(_!==0){var S=0;for(T=0;T<this.length;T++){var d=this.words[T]&I,E=(this.words[T]|0)-d<<_;this.words[T]=E|S,S=d>>>26-_}S&&(this.words[T]=S,this.length++)}if(A!==0){for(T=this.length-1;T>=0;T--)this.words[T+A]=this.words[T];for(T=0;T<A;T++)this.words[T]=0;this.length+=A}return this._strip()},a.prototype.ishln=function(m){return o(this.negative===0),this.iushln(m)},a.prototype.iushrn=function(m,_,A){o(typeof m=="number"&&m>=0);var I;_?I=(_-_%26)/26:I=0;var T=m%26,S=Math.min((m-T)/26,this.length),d=67108863^67108863>>>T<<T,E=A;if(I-=S,I=Math.max(0,I),E){for(var M=0;M<S;M++)E.words[M]=this.words[M];E.length=S}if(S!==0)if(this.length>S)for(this.length-=S,M=0;M<this.length;M++)this.words[M]=this.words[M+S];else this.words[0]=0,this.length=1;var U=0;for(M=this.length-1;M>=0&&(U!==0||M>=I);M--){var F=this.words[M]|0;this.words[M]=U<<26-T|F>>>T,U=F&d}return E&&U!==0&&(E.words[E.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(m,_,A){return o(this.negative===0),this.iushrn(m,_,A)},a.prototype.shln=function(m){return this.clone().ishln(m)},a.prototype.ushln=function(m){return this.clone().iushln(m)},a.prototype.shrn=function(m){return this.clone().ishrn(m)},a.prototype.ushrn=function(m){return this.clone().iushrn(m)},a.prototype.testn=function(m){o(typeof m=="number"&&m>=0);var _=m%26,A=(m-_)/26,I=1<<_;if(this.length<=A)return!1;var T=this.words[A];return!!(T&I)},a.prototype.imaskn=function(m){o(typeof m=="number"&&m>=0);var _=m%26,A=(m-_)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(_!==0&&A++,this.length=Math.min(A,this.length),_!==0){var I=67108863^67108863>>>_<<_;this.words[this.length-1]&=I}return this._strip()},a.prototype.maskn=function(m){return this.clone().imaskn(m)},a.prototype.iaddn=function(m){return o(typeof m=="number"),o(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},a.prototype._iaddn=function(m){this.words[0]+=m;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},a.prototype.isubn=function(m){if(o(typeof m=="number"),o(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},a.prototype.addn=function(m){return this.clone().iaddn(m)},a.prototype.subn=function(m){return this.clone().isubn(m)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(m,_,A){var I=m.length+A,T;this._expand(I);var S,d=0;for(T=0;T<m.length;T++){S=(this.words[T+A]|0)+d;var E=(m.words[T]|0)*_;S-=E&67108863,d=(S>>26)-(E/67108864|0),this.words[T+A]=S&67108863}for(;T<this.length-A;T++)S=(this.words[T+A]|0)+d,d=S>>26,this.words[T+A]=S&67108863;if(d===0)return this._strip();for(o(d===-1),d=0,T=0;T<this.length;T++)S=-(this.words[T]|0)+d,d=S>>26,this.words[T]=S&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(m,_){var A=this.length-m.length,I=this.clone(),T=m,S=T.words[T.length-1]|0,d=this._countBits(S);A=26-d,A!==0&&(T=T.ushln(A),I.iushln(A),S=T.words[T.length-1]|0);var E=I.length-T.length,M;if(_!=="mod"){M=new a(null),M.length=E+1,M.words=new Array(M.length);for(var U=0;U<M.length;U++)M.words[U]=0}var F=I.clone()._ishlnsubmul(T,1,E);F.negative===0&&(I=F,M&&(M.words[E]=1));for(var N=E-1;N>=0;N--){var L=(I.words[T.length+N]|0)*67108864+(I.words[T.length+N-1]|0);for(L=Math.min(L/S|0,67108863),I._ishlnsubmul(T,L,N);I.negative!==0;)L--,I.negative=0,I._ishlnsubmul(T,1,N),I.isZero()||(I.negative^=1);M&&(M.words[N]=L)}return M&&M._strip(),I._strip(),_!=="div"&&A!==0&&I.iushrn(A),{div:M||null,mod:I}},a.prototype.divmod=function(m,_,A){if(o(!m.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var I,T,S;return this.negative!==0&&m.negative===0?(S=this.neg().divmod(m,_),_!=="mod"&&(I=S.div.neg()),_!=="div"&&(T=S.mod.neg(),A&&T.negative!==0&&T.iadd(m)),{div:I,mod:T}):this.negative===0&&m.negative!==0?(S=this.divmod(m.neg(),_),_!=="mod"&&(I=S.div.neg()),{div:I,mod:S.mod}):this.negative&m.negative?(S=this.neg().divmod(m.neg(),_),_!=="div"&&(T=S.mod.neg(),A&&T.negative!==0&&T.isub(m)),{div:S.div,mod:T}):m.length>this.length||this.cmp(m)<0?{div:new a(0),mod:this}:m.length===1?_==="div"?{div:this.divn(m.words[0]),mod:null}:_==="mod"?{div:null,mod:new a(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new a(this.modrn(m.words[0]))}:this._wordDiv(m,_)},a.prototype.div=function(m){return this.divmod(m,"div",!1).div},a.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},a.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},a.prototype.divRound=function(m){var _=this.divmod(m);if(_.mod.isZero())return _.div;var A=_.div.negative!==0?_.mod.isub(m):_.mod,I=m.ushrn(1),T=m.andln(1),S=A.cmp(I);return S<0||T===1&&S===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},a.prototype.modrn=function(m){var _=m<0;_&&(m=-m),o(m<=67108863);for(var A=67108864%m,I=0,T=this.length-1;T>=0;T--)I=(A*I+(this.words[T]|0))%m;return _?-I:I},a.prototype.modn=function(m){return this.modrn(m)},a.prototype.idivn=function(m){var _=m<0;_&&(m=-m),o(m<=67108863);for(var A=0,I=this.length-1;I>=0;I--){var T=(this.words[I]|0)+A*67108864;this.words[I]=T/m|0,A=T%m}return this._strip(),_?this.ineg():this},a.prototype.divn=function(m){return this.clone().idivn(m)},a.prototype.egcd=function(m){o(m.negative===0),o(!m.isZero());var _=this,A=m.clone();_.negative!==0?_=_.umod(m):_=_.clone();for(var I=new a(1),T=new a(0),S=new a(0),d=new a(1),E=0;_.isEven()&&A.isEven();)_.iushrn(1),A.iushrn(1),++E;for(var M=A.clone(),U=_.clone();!_.isZero();){for(var F=0,N=1;!(_.words[0]&N)&&F<26;++F,N<<=1);if(F>0)for(_.iushrn(F);F-- >0;)(I.isOdd()||T.isOdd())&&(I.iadd(M),T.isub(U)),I.iushrn(1),T.iushrn(1);for(var L=0,H=1;!(A.words[0]&H)&&L<26;++L,H<<=1);if(L>0)for(A.iushrn(L);L-- >0;)(S.isOdd()||d.isOdd())&&(S.iadd(M),d.isub(U)),S.iushrn(1),d.iushrn(1);_.cmp(A)>=0?(_.isub(A),I.isub(S),T.isub(d)):(A.isub(_),S.isub(I),d.isub(T))}return{a:S,b:d,gcd:A.iushln(E)}},a.prototype._invmp=function(m){o(m.negative===0),o(!m.isZero());var _=this,A=m.clone();_.negative!==0?_=_.umod(m):_=_.clone();for(var I=new a(1),T=new a(0),S=A.clone();_.cmpn(1)>0&&A.cmpn(1)>0;){for(var d=0,E=1;!(_.words[0]&E)&&d<26;++d,E<<=1);if(d>0)for(_.iushrn(d);d-- >0;)I.isOdd()&&I.iadd(S),I.iushrn(1);for(var M=0,U=1;!(A.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(A.iushrn(M);M-- >0;)T.isOdd()&&T.iadd(S),T.iushrn(1);_.cmp(A)>=0?(_.isub(A),I.isub(T)):(A.isub(_),T.isub(I))}var F;return _.cmpn(1)===0?F=I:F=T,F.cmpn(0)<0&&F.iadd(m),F},a.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var _=this.clone(),A=m.clone();_.negative=0,A.negative=0;for(var I=0;_.isEven()&&A.isEven();I++)_.iushrn(1),A.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;A.isEven();)A.iushrn(1);var T=_.cmp(A);if(T<0){var S=_;_=A,A=S}else if(T===0||A.cmpn(1)===0)break;_.isub(A)}while(!0);return A.iushln(I)},a.prototype.invm=function(m){return this.egcd(m).a.umod(m)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(m){return this.words[0]&m},a.prototype.bincn=function(m){o(typeof m=="number");var _=m%26,A=(m-_)/26,I=1<<_;if(this.length<=A)return this._expand(A+1),this.words[A]|=I,this;for(var T=I,S=A;T!==0&&S<this.length;S++){var d=this.words[S]|0;d+=T,T=d>>>26,d&=67108863,this.words[S]=d}return T!==0&&(this.words[S]=T,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(m){var _=m<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var A;if(this.length>1)A=1;else{_&&(m=-m),o(m<=67108863,"Number is too big");var I=this.words[0]|0;A=I===m?0:I<m?-1:1}return this.negative!==0?-A|0:A},a.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var _=this.ucmp(m);return this.negative!==0?-_|0:_},a.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var _=0,A=this.length-1;A>=0;A--){var I=this.words[A]|0,T=m.words[A]|0;if(I!==T){I<T?_=-1:I>T&&(_=1);break}}return _},a.prototype.gtn=function(m){return this.cmpn(m)===1},a.prototype.gt=function(m){return this.cmp(m)===1},a.prototype.gten=function(m){return this.cmpn(m)>=0},a.prototype.gte=function(m){return this.cmp(m)>=0},a.prototype.ltn=function(m){return this.cmpn(m)===-1},a.prototype.lt=function(m){return this.cmp(m)===-1},a.prototype.lten=function(m){return this.cmpn(m)<=0},a.prototype.lte=function(m){return this.cmp(m)<=0},a.prototype.eqn=function(m){return this.cmpn(m)===0},a.prototype.eq=function(m){return this.cmp(m)===0},a.red=function(m){return new l(m)},a.prototype.toRed=function(m){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(m){return this.red=m,this},a.prototype.forceRed=function(m){return o(!this.red,"Already a number in reduction context"),this._forceRed(m)},a.prototype.redAdd=function(m){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},a.prototype.redIAdd=function(m){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},a.prototype.redSub=function(m){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},a.prototype.redISub=function(m){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},a.prototype.redShl=function(m){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},a.prototype.redMul=function(m){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},a.prototype.redIMul=function(m){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(m){return o(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var ee={k256:null,p224:null,p192:null,p25519:null};function te(m,_){this.name=m,this.p=new a(_,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}te.prototype._tmp=function(){var m=new a(null);return m.words=new Array(Math.ceil(this.n/13)),m},te.prototype.ireduce=function(m){var _=m,A;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),A=_.bitLength();while(A>this.n);var I=A<this.n?-1:_.ucmp(this.p);return I===0?(_.words[0]=0,_.length=1):I>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},te.prototype.split=function(m,_){m.iushrn(this.n,0,_)},te.prototype.imulK=function(m){return m.imul(this.k)};function ce(){te.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(ce,te),ce.prototype.split=function(m,_){for(var A=4194303,I=Math.min(m.length,9),T=0;T<I;T++)_.words[T]=m.words[T];if(_.length=I,m.length<=9){m.words[0]=0,m.length=1;return}var S=m.words[9];for(_.words[_.length++]=S&A,T=10;T<m.length;T++){var d=m.words[T]|0;m.words[T-10]=(d&A)<<4|S>>>22,S=d}S>>>=22,m.words[T-10]=S,S===0&&m.length>10?m.length-=10:m.length-=9},ce.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var _=0,A=0;A<m.length;A++){var I=m.words[A]|0;_+=I*977,m.words[A]=_&67108863,_=I*64+(_/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function Q(){te.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(Q,te);function ne(){te.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(ne,te);function fe(){te.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(fe,te),fe.prototype.imulK=function(m){for(var _=0,A=0;A<m.length;A++){var I=(m.words[A]|0)*19+_,T=I&67108863;I>>>=26,m.words[A]=T,_=I}return _!==0&&(m.words[m.length++]=_),m},a._prime=function(m){if(ee[m])return ee[m];var _;if(m==="k256")_=new ce;else if(m==="p224")_=new Q;else if(m==="p192")_=new ne;else if(m==="p25519")_=new fe;else throw new Error("Unknown prime "+m);return ee[m]=_,_};function l(m){if(typeof m=="string"){var _=a._prime(m);this.m=_.p,this.prime=_}else o(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}l.prototype._verify1=function(m){o(m.negative===0,"red works only with positives"),o(m.red,"red works only with red numbers")},l.prototype._verify2=function(m,_){o((m.negative|_.negative)===0,"red works only with positives"),o(m.red&&m.red===_.red,"red works only with red numbers")},l.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(y(m,m.umod(this.m)._forceRed(this)),m)},l.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},l.prototype.add=function(m,_){this._verify2(m,_);var A=m.add(_);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},l.prototype.iadd=function(m,_){this._verify2(m,_);var A=m.iadd(_);return A.cmp(this.m)>=0&&A.isub(this.m),A},l.prototype.sub=function(m,_){this._verify2(m,_);var A=m.sub(_);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},l.prototype.isub=function(m,_){this._verify2(m,_);var A=m.isub(_);return A.cmpn(0)<0&&A.iadd(this.m),A},l.prototype.shl=function(m,_){return this._verify1(m),this.imod(m.ushln(_))},l.prototype.imul=function(m,_){return this._verify2(m,_),this.imod(m.imul(_))},l.prototype.mul=function(m,_){return this._verify2(m,_),this.imod(m.mul(_))},l.prototype.isqr=function(m){return this.imul(m,m.clone())},l.prototype.sqr=function(m){return this.mul(m,m)},l.prototype.sqrt=function(m){if(m.isZero())return m.clone();var _=this.m.andln(3);if(o(_%2===1),_===3){var A=this.m.add(new a(1)).iushrn(2);return this.pow(m,A)}for(var I=this.m.subn(1),T=0;!I.isZero()&&I.andln(1)===0;)T++,I.iushrn(1);o(!I.isZero());var S=new a(1).toRed(this),d=S.redNeg(),E=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new a(2*M*M).toRed(this);this.pow(M,E).cmp(d)!==0;)M.redIAdd(d);for(var U=this.pow(M,I),F=this.pow(m,I.addn(1).iushrn(1)),N=this.pow(m,I),L=T;N.cmp(S)!==0;){for(var H=N,Y=0;H.cmp(S)!==0;Y++)H=H.redSqr();o(Y<L);var Z=this.pow(U,new a(1).iushln(L-Y-1));F=F.redMul(Z),U=Z.redSqr(),N=N.redMul(U),L=Y}return F},l.prototype.invm=function(m){var _=m._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},l.prototype.pow=function(m,_){if(_.isZero())return new a(1).toRed(this);if(_.cmpn(1)===0)return m.clone();var A=4,I=new Array(1<<A);I[0]=new a(1).toRed(this),I[1]=m;for(var T=2;T<I.length;T++)I[T]=this.mul(I[T-1],m);var S=I[0],d=0,E=0,M=_.bitLength()%26;for(M===0&&(M=26),T=_.length-1;T>=0;T--){for(var U=_.words[T],F=M-1;F>=0;F--){var N=U>>F&1;if(S!==I[0]&&(S=this.sqr(S)),N===0&&d===0){E=0;continue}d<<=1,d|=N,E++,!(E!==A&&(T!==0||F!==0))&&(S=this.mul(S,I[d]),E=0,d=0)}M=26}return S},l.prototype.convertTo=function(m){var _=m.umod(this.m);return _===m?_.clone():_},l.prototype.convertFrom=function(m){var _=m.clone();return _.red=null,_},a.mont=function(m){return new p(m)};function p(m){l.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(p,l),p.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},p.prototype.convertFrom=function(m){var _=this.imod(m.mul(this.rinv));return _.red=null,_},p.prototype.imul=function(m,_){if(m.isZero()||_.isZero())return m.words[0]=0,m.length=1,m;var A=m.imul(_),I=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=A.isub(I).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},p.prototype.mul=function(m,_){if(m.isZero()||_.isZero())return new a(0)._forceRed(this);var A=m.mul(_),I=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=A.isub(I).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},p.prototype.invm=function(m){var _=this.imod(m._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(e,commonjsGlobal$7)}(bn$6);var bnExports$6=bn$6.exports,safeBuffer$2={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=require$$0$5,o=n.Buffer;function c(u,h){for(var v in u)h[v]=u[v]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(c(n,t),t.Buffer=a);function a(u,h,v){return o(u,h,v)}a.prototype=Object.create(o.prototype),c(o,a),a.from=function(u,h,v){if(typeof u=="number")throw new TypeError("Argument must not be a number");return o(u,h,v)},a.alloc=function(u,h,v){if(typeof u!="number")throw new TypeError("Argument must be a number");var b=o(u);return h!==void 0?typeof v=="string"?b.fill(h,v):b.fill(h):b.fill(0),b},a.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return o(u)},a.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}})(safeBuffer$2,safeBuffer$2.exports);var safeBufferExports$1=safeBuffer$2.exports,_Buffer=safeBufferExports$1.Buffer;function base$3(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var o=0;o<e.length;o++){var c=e.charAt(o),a=c.charCodeAt(0);if(t[a]!==255)throw new TypeError(c+" is ambiguous");t[a]=o}var u=e.length,h=e.charAt(0),v=Math.log(u)/Math.log(256),b=Math.log(256)/Math.log(u);function y(P){if((Array.isArray(P)||P instanceof Uint8Array)&&(P=_Buffer.from(P)),!_Buffer.isBuffer(P))throw new TypeError("Expected Buffer");if(P.length===0)return"";for(var C=0,x=0,D=0,k=P.length;D!==k&&P[D]===0;)D++,C++;for(var B=(k-D)*b+1>>>0,q=new Uint8Array(B);D!==k;){for(var V=P[D],ee=0,te=B-1;(V!==0||ee<x)&&te!==-1;te--,ee++)V+=256*q[te]>>>0,q[te]=V%u>>>0,V=V/u>>>0;if(V!==0)throw new Error("Non-zero carry");x=ee,D++}for(var ce=B-x;ce!==B&&q[ce]===0;)ce++;for(var Q=h.repeat(C);ce<B;++ce)Q+=e.charAt(q[ce]);return Q}function w(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return _Buffer.alloc(0);for(var C=0,x=0,D=0;P[C]===h;)x++,C++;for(var k=(P.length-C)*v+1>>>0,B=new Uint8Array(k);C<P.length;){var q=t[P.charCodeAt(C)];if(q===255)return;for(var V=0,ee=k-1;(q!==0||V<D)&&ee!==-1;ee--,V++)q+=u*B[ee]>>>0,B[ee]=q%256>>>0,q=q/256>>>0;if(q!==0)throw new Error("Non-zero carry");D=V,C++}for(var te=k-D;te!==k&&B[te]===0;)te++;var ce=_Buffer.allocUnsafe(x+(k-te));ce.fill(0,0,x);for(var Q=x;te!==k;)ce[Q++]=B[te++];return ce}function O(P){var C=w(P);if(C)return C;throw new Error("Non-base"+u+" character")}return{encode:y,decodeUnsafe:w,decode:O}}var src$1=base$3,basex$3=src$1,ALPHABET$3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$3=basex$3(ALPHABET$3);function inRange(e,t,n){return t<=e&&e<=n}function ToDictionary(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(e){for(var t=String(e),n=t.length,o=0,c=[];o<n;){var a=t.charCodeAt(o);if(a<55296||a>57343)c.push(a);else if(56320<=a&&a<=57343)c.push(65533);else if(55296<=a&&a<=56319)if(o===n-1)c.push(65533);else{var u=e.charCodeAt(o+1);if(56320<=u&&u<=57343){var h=a&1023,v=u&1023;c.push(65536+(h<<10)+v),o+=1}else c.push(65533)}o+=1}return c}function codePointsToString(e){for(var t="",n=0;n<e.length;++n){var o=e[n];o<=65535?t+=String.fromCharCode(o):(o-=65536,t+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return t}var end_of_stream=-1;function Stream$1(e){this.tokens=[].slice.call(e)}Stream$1.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var finished=-1;function decoderError(e,t){if(e)throw TypeError("Decoder error");return t||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(e,t){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(e,t);if(e=e!==void 0?String(e).toLowerCase():DEFAULT_ENCODING,e!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");t=ToDictionary(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=ToDictionary(t),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var o=new Stream$1(n),c=[],a;!o.endOfStream()&&(a=this._decoder.handler(o,o.read()),a!==finished);)a!==null&&(Array.isArray(a)?c.push.apply(c,a):c.push(a));if(!this._streaming){do{if(a=this._decoder.handler(o,o.read()),a===finished)break;a!==null&&(Array.isArray(a)?c.push.apply(c,a):c.push(a))}while(!o.endOfStream());this._decoder=null}return c.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(c[0]===65279?(this._BOMseen=!0,c.shift()):this._BOMseen=!0),codePointsToString(c)}};function TextEncoder$1(e,t){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(e,t);if(e=e!==void 0?String(e).toLowerCase():DEFAULT_ENCODING,e!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");t=ToDictionary(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(e,t){e=e?String(e):"",t=ToDictionary(t),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=!!t.stream;for(var n=[],o=new Stream$1(stringToCodePoints(e)),c;!o.endOfStream()&&(c=this._encoder.handler(o,o.read()),c!==finished);)Array.isArray(c)?n.push.apply(n,c):n.push(c);if(!this._streaming){for(;c=this._encoder.handler(o,o.read()),c!==finished;)Array.isArray(c)?n.push.apply(n,c):n.push(c);this._encoder=null}return new Uint8Array(n)}};function UTF8Decoder(e){var t=e.fatal,n=0,o=0,c=0,a=128,u=191;this.handler=function(h,v){if(v===end_of_stream&&c!==0)return c=0,decoderError(t);if(v===end_of_stream)return finished;if(c===0){if(inRange(v,0,127))return v;if(inRange(v,194,223))c=1,n=v-192;else if(inRange(v,224,239))v===224&&(a=160),v===237&&(u=159),c=2,n=v-224;else if(inRange(v,240,244))v===240&&(a=144),v===244&&(u=143),c=3,n=v-240;else return decoderError(t);return n=n<<6*c,null}if(!inRange(v,a,u))return n=c=o=0,a=128,u=191,h.prepend(v),decoderError(t);if(a=128,u=191,o+=1,n+=v-128<<6*(c-o),o!==c)return null;var b=n;return n=c=o=0,b}}function UTF8Encoder(e){e.fatal,this.handler=function(t,n){if(n===end_of_stream)return finished;if(inRange(n,0,127))return n;var o,c;inRange(n,128,2047)?(o=1,c=192):inRange(n,2048,65535)?(o=2,c=224):inRange(n,65536,1114111)&&(o=3,c=240);for(var a=[(n>>6*o)+c];o>0;){var u=n>>6*(o-1);a.push(128|u&63),o-=1}return a}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:TextDecoder$1,TextEncoder:TextEncoder$1},Symbol.toStringTag,{value:"Module"})),require$$2$2=getAugmentedNamespace(encoding$1);var __createBinding$j=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$j=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__decorate=commonjsGlobal$7&&commonjsGlobal$7.__decorate||function(e,t,n,o){var c=arguments.length,a=c<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,n):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,o);else for(var h=e.length-1;h>=0;h--)(u=e[h])&&(a=(c<3?u(a):c>3?u(t,n,a):u(t,n))||a);return c>3&&a&&Object.defineProperty(t,n,a),a},__importStar$j=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&__createBinding$j(t,e,n);return __setModuleDefault$j(t,e),t},__importDefault$L=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lib$G,"__esModule",{value:!0}),lib$G.deserializeUnchecked=lib$G.deserialize=lib$G.serialize=lib$G.BinaryReader=lib$G.BinaryWriter=lib$G.BorshError=lib$G.baseDecode=lib$G.baseEncode=void 0;const bn_js_1$u=__importDefault$L(bnExports$6),bs58_1=__importDefault$L(bs58$3),encoding=__importStar$j(require$$2$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(e){return typeof e=="string"&&(e=Buffer$E.from(e,"utf8")),bs58_1.default.encode(Buffer$E.from(e))}lib$G.baseEncode=baseEncode;function baseDecode(e){return Buffer$E.from(bs58_1.default.decode(e))}lib$G.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$G.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer$E.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer$E.concat([this.buf,Buffer$E.alloc(INITIAL_LENGTH)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer$E.from(new bn_js_1$u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer$E.from(new bn_js_1$u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer$E.from(new bn_js_1$u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer$E.from(new bn_js_1$u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer$E.concat([Buffer$E.from(this.buf.subarray(0,this.length)),t,Buffer$E.alloc(INITIAL_LENGTH)]),this.length+=t.length}writeString(t){this.maybeResize();const n=Buffer$E.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(Buffer$E.from(t))}writeArray(t,n){this.maybeResize(),this.writeU32(t.length);for(const o of t)this.maybeResize(),n(o)}toArray(){return this.buf.subarray(0,this.length)}}lib$G.BinaryWriter=BinaryWriter;function handlingRangeError(e,t,n){const o=n.value;n.value=function(...c){try{return o.apply(this,c)}catch(a){if(a instanceof RangeError){const u=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(u)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw a}}}class BinaryReader{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new bn_js_1$u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new bn_js_1$u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new bn_js_1$u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new bn_js_1$u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new BorshError(`Expected buffer length ${t} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,n}readString(){const t=this.readU32(),n=this.readBuffer(t);try{return textDecoder.decode(n)}catch(o){throw new BorshError(`Error decoding UTF-8 string: ${o}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const n=this.readU32(),o=Array();for(let c=0;c<n;++c)o.push(t());return o}}__decorate([handlingRangeError],BinaryReader.prototype,"readU8",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU16",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU32",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU64",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU128",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU256",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU512",null),__decorate([handlingRangeError],BinaryReader.prototype,"readString",null),__decorate([handlingRangeError],BinaryReader.prototype,"readFixedArray",null),__decorate([handlingRangeError],BinaryReader.prototype,"readArray",null),lib$G.BinaryReader=BinaryReader;function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function serializeField(e,t,n,o,c){try{if(typeof o=="string")c[`write${capitalizeFirstLetter(o)}`](n);else if(o instanceof Array)if(typeof o[0]=="number"){if(n.length!==o[0])throw new BorshError(`Expecting byte array of length ${o[0]}, but got ${n.length} bytes`);c.writeFixedArray(n)}else if(o.length===2&&typeof o[1]=="number"){if(n.length!==o[1])throw new BorshError(`Expecting byte array of length ${o[1]}, but got ${n.length} bytes`);for(let a=0;a<o[1];a++)serializeField(e,null,n[a],o[0],c)}else c.writeArray(n,a=>{serializeField(e,t,a,o[0],c)});else if(o.kind!==void 0)switch(o.kind){case"option":{n==null?c.writeU8(0):(c.writeU8(1),serializeField(e,t,n,o.type,c));break}case"map":{c.writeU32(n.size),n.forEach((a,u)=>{serializeField(e,t,u,o.key,c),serializeField(e,t,a,o.value,c)});break}default:throw new BorshError(`FieldType ${o} unrecognized`)}else serializeStruct(e,n,c)}catch(a){throw a instanceof BorshError&&a.addToFieldPath(t),a}}function serializeStruct(e,t,n){if(typeof t.borshSerialize=="function"){t.borshSerialize(n);return}const o=e.get(t.constructor);if(!o)throw new BorshError(`Class ${t.constructor.name} is missing in schema`);if(o.kind==="struct")o.fields.map(([c,a])=>{serializeField(e,c,t[c],a,n)});else if(o.kind==="enum"){const c=t[o.field];for(let a=0;a<o.values.length;++a){const[u,h]=o.values[a];if(u===c){n.writeU8(a),serializeField(e,u,t[u],h,n);break}}}else throw new BorshError(`Unexpected schema kind: ${o.kind} for ${t.constructor.name}`)}function serialize$k(e,t,n=BinaryWriter){const o=new n;return serializeStruct(e,t,o),o.toArray()}lib$G.serialize=serialize$k;function deserializeField(e,t,n,o){try{if(typeof n=="string")return o[`read${capitalizeFirstLetter(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return o.readFixedArray(n[0]);if(typeof n[1]=="number"){const c=[];for(let a=0;a<n[1];a++)c.push(deserializeField(e,null,n[0],o));return c}else return o.readArray(()=>deserializeField(e,t,n[0],o))}if(n.kind==="option")return o.readU8()?deserializeField(e,t,n.type,o):void 0;if(n.kind==="map"){let c=new Map;const a=o.readU32();for(let u=0;u<a;u++){const h=deserializeField(e,t,n.key,o),v=deserializeField(e,t,n.value,o);c.set(h,v)}return c}return deserializeStruct(e,n,o)}catch(c){throw c instanceof BorshError&&c.addToFieldPath(t),c}}function deserializeStruct(e,t,n){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(n);const o=e.get(t);if(!o)throw new BorshError(`Class ${t.name} is missing in schema`);if(o.kind==="struct"){const c={};for(const[a,u]of e.get(t).fields)c[a]=deserializeField(e,a,u,n);return new t(c)}if(o.kind==="enum"){const c=n.readU8();if(c>=o.values.length)throw new BorshError(`Enum index: ${c} is out of range`);const[a,u]=o.values[c],h=deserializeField(e,a,u,n);return new t({[a]:h})}throw new BorshError(`Unexpected schema kind: ${o.kind} for ${t.constructor.name}`)}function deserialize$f(e,t,n,o=BinaryReader){const c=new o(n),a=deserializeStruct(e,t,c);if(c.offset<n.length)throw new BorshError(`Unexpected ${n.length-c.offset} bytes after deserialized data`);return a}lib$G.deserialize=deserialize$f;function deserializeUnchecked(e,t,n,o=BinaryReader){const c=new o(n);return deserializeStruct(e,t,c)}lib$G.deserializeUnchecked=deserializeUnchecked;function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}},cryptoBrowserify={};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var browser$n={exports:{}},process$a=browser$n.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch{try{return cachedSetTimeout.call(null,e,0)}catch{return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch{try{return cachedClearTimeout.call(null,e)}catch{return cachedClearTimeout.call(this,e)}}}var queue$6=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$6=currentQueue.concat(queue$6):queueIndex=-1,queue$6.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue$6.length;t;){for(currentQueue=queue$6,queue$6=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue$6.length}currentQueue=null,draining=!1,runClearTimeout(e)}}process$a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue$6.push(new Item(e,t)),queue$6.length===1&&!draining&&runTimeout(drainQueue)};function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)},process$a.title="browser",process$a.browser=!0,process$a.env={},process$a.argv=[],process$a.version="",process$a.versions={};function noop$5(){}process$a.on=noop$5,process$a.addListener=noop$5,process$a.once=noop$5,process$a.off=noop$5,process$a.removeListener=noop$5,process$a.removeAllListeners=noop$5,process$a.emit=noop$5,process$a.prependListener=noop$5,process$a.prependOnceListener=noop$5,process$a.listeners=function(e){return[]},process$a.binding=function(e){throw new Error("process.binding is not supported")},process$a.cwd=function(){return"/"},process$a.chdir=function(e){throw new Error("process.chdir is not supported")},process$a.umask=function(){return 0};var browserExports$1=browser$n.exports;const process$1$5=getDefaultExportFromCjs(browserExports$1);var browser$m={exports:{}},MAX_BYTES=65536,MAX_UINT32$1=4294967295;function oldBrowser$1(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$D=safeBufferExports$1.Buffer,crypto$6=commonjsGlobal$7.crypto||commonjsGlobal$7.msCrypto;crypto$6&&crypto$6.getRandomValues?browser$m.exports=randomBytes$2:browser$m.exports=oldBrowser$1;function randomBytes$2(e,t){if(e>MAX_UINT32$1)throw new RangeError("requested too many random bytes");var n=Buffer$D.allocUnsafe(e);if(e>0)if(e>MAX_BYTES)for(var o=0;o<e;o+=MAX_BYTES)crypto$6.getRandomValues(n.slice(o,o+MAX_BYTES));else crypto$6.getRandomValues(n);return typeof t=="function"?process$1$5.nextTick(function(){t(null,n)}):n}var browserExports=browser$m.exports,inherits_browser$3={exports:{}};typeof Object.create=="function"?inherits_browser$3.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$3.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var inherits_browserExports$3=inherits_browser$3.exports,events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN=Number.isNaN||function(e){return e!==e};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1,events.exports.once=once,EventEmitter$1.EventEmitter=EventEmitter$1,EventEmitter$1.prototype._events=void 0,EventEmitter$1.prototype._eventsCount=0,EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}}),EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter$1.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:e._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter$1.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o=e==="error",c=this._events;if(c!==void 0)o=o&&c.error===void 0;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var u=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw u.context=a,u}var h=c[e];if(h===void 0)return!1;if(typeof h=="function")ReflectApply(h,this,t);else for(var v=h.length,b=arrayClone(h,v),n=0;n<v;++n)ReflectApply(b[n],this,t);return!0};function _addListener(e,t,n,o){var c,a,u;if(checkListener(n),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),u=a[t]),u===void 0)u=a[t]=n,++e._eventsCount;else if(typeof u=="function"?u=a[t]=o?[n,u]:[u,n]:o?u.unshift(n):u.push(n),c=_getMaxListeners(e),c>0&&u.length>c&&!u.warned){u.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=u.length,ProcessEmitWarning(h)}return e}EventEmitter$1.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener,EventEmitter$1.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,n){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},c=onceWrapper.bind(o);return c.listener=n,o.wrapFn=c,c}EventEmitter$1.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter$1.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter$1.prototype.removeListener=function(e,t){var n,o,c,a,u;if(checkListener(t),o=this._events,o===void 0)return this;if(n=o[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(c=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){u=n[a].listener,c=a;break}if(c<0)return this;c===0?n.shift():spliceOne(n,c),n.length===1&&(o[e]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this},EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener,EventEmitter$1.prototype.removeAllListeners=function(e){var t,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var c=Object.keys(n),a;for(o=0;o<c.length;++o)a=c[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this};function _listeners(e,t,n){var o=e._events;if(o===void 0)return[];var c=o[t];return c===void 0?[]:typeof c=="function"?n?[c.listener||c]:[c]:n?unwrapListeners(c):arrayClone(c,c.length)}EventEmitter$1.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter$1.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter$1.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,t){for(var n=new Array(t),o=0;o<t;++o)n[o]=e[o];return n}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function once(e,t){return new Promise(function(n,o){function c(u){e.removeListener(t,a),o(u)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",c),n([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,a,{once:!0}),t!=="error"&&addErrorHandlerIfEventEmitter(e,c,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,n){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",t,n)}function eventTargetAgnosticAddListener(e,t,n,o){if(typeof e.on=="function")o.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function c(a){o.once&&e.removeEventListener(t,c),n(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var eventsExports=events.exports,streamBrowser$1,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser$1=eventsExports.EventEmitter),streamBrowser$1}var util$8={},types$g={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==o||a.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},esErrors=Error,_eval=EvalError,range=RangeError,ref$3=ReferenceError,syntax=SyntaxError,type$6=TypeError,uri$6=URIError,origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test$9={__proto__:null,foo:{}},$Object$9=Object,hasProto$1=function(){return{__proto__:test$9}.foo===test$9.foo&&!(test$9 instanceof $Object$9)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$3=Object.prototype.toString,max$8=Math.max,funcType="[object Function]",concatty=function(e,t){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var c=0;c<t.length;c+=1)n[c+e.length]=t[c];return n},slicy=function(e,t){for(var n=[],o=t,c=0;o<e.length;o+=1,c+=1)n[c]=e[o];return n},joiny=function(e,t){for(var n="",o=0;o<e.length;o+=1)n+=e[o],o+1<e.length&&(n+=t);return n},implementation$1=function(e){var t=this;if(typeof t!="function"||toStr$3.apply(t)!==funcType)throw new TypeError(ERROR_MESSAGE+t);for(var n=slicy(arguments,1),o,c=function(){if(this instanceof o){var b=t.apply(this,concatty(n,arguments));return Object(b)===b?b:this}return t.apply(e,concatty(n,arguments))},a=max$8(0,t.length-n.length),u=[],h=0;h<a;h++)u[h]="$"+h;if(o=Function("binder","return function ("+joiny(u,",")+"){ return binder.apply(this,arguments); }")(c),t.prototype){var v=function(){};v.prototype=t.prototype,o.prototype=new v,v.prototype=null}return o},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,call$o=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$e=functionBind,hasown=bind$e.call(call$o,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError$4=range,$ReferenceError=ref$3,$SyntaxError$1=syntax,$TypeError$l=type$6,$URIError=uri$6,$Function=Function,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$l},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(e){return e.__proto__}:null),needsEval={},TypedArray$2=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError$4,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray$2,"%TypeError%":$TypeError$l,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(e){var errorProto=getProto$1(getProto$1(e));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function e(t){var n;if(t==="%AsyncFunction%")n=getEvalledConstructor("async function () {}");else if(t==="%GeneratorFunction%")n=getEvalledConstructor("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=getEvalledConstructor("async function* () {}");else if(t==="%AsyncGenerator%"){var o=e("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var c=e("%AsyncGenerator%");c&&getProto$1&&(n=getProto$1(c.prototype))}return INTRINSICS[t]=n,n},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$d=functionBind,hasOwn$g=hasown,$concat=bind$d.call(Function.call,Array.prototype.concat),$spliceApply=bind$d.call(Function.apply,Array.prototype.splice),$replace=bind$d.call(Function.call,String.prototype.replace),$strSlice=bind$d.call(Function.call,String.prototype.slice),$exec=bind$d.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var t=$strSlice(e,0,1),n=$strSlice(e,-1);if(t==="%"&&n!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var o=[];return $replace(e,rePropName,function(c,a,u,h){o[o.length]=u?$replace(h,reEscapeChar,"$1"):a||c}),o},getBaseIntrinsic=function(e,t){var n=e,o;if(hasOwn$g(LEGACY_ALIASES,n)&&(o=LEGACY_ALIASES[n],n="%"+o[0]+"%"),hasOwn$g(INTRINSICS,n)){var c=INTRINSICS[n];if(c===needsEval&&(c=doEval(n)),typeof c>"u"&&!t)throw new $TypeError$l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:c}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,t){if(typeof e!="string"||e.length===0)throw new $TypeError$l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new $TypeError$l('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=stringToPath(e),o=n.length>0?n[0]:"",c=getBaseIntrinsic("%"+o+"%",t),a=c.name,u=c.value,h=!1,v=c.alias;v&&(o=v[0],$spliceApply(n,$concat([0,1],v)));for(var b=1,y=!0;b<n.length;b+=1){var w=n[b],O=$strSlice(w,0,1),P=$strSlice(w,-1);if((O==='"'||O==="'"||O==="`"||P==='"'||P==="'"||P==="`")&&O!==P)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((w==="constructor"||!y)&&(h=!0),o+="."+w,a="%"+o+"%",hasOwn$g(INTRINSICS,a))u=INTRINSICS[a];else if(u!=null){if(!(w in u)){if(!t)throw new $TypeError$l("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&b+1>=n.length){var C=$gOPD$1(u,w);y=!!C,y&&"get"in C&&!("originalValue"in C.get)?u=C.get:u=u[w]}else y=hasOwn$g(u,w),u=u[w];y&&!h&&(INTRINSICS[a]=u)}}return u},callBind$2={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var e=getIntrinsic,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return esDefineProperty=t,esDefineProperty}var GetIntrinsic$2=getIntrinsic,$gOPD=GetIntrinsic$2("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,$defineProperty$7=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$k=type$6,gopd=gopd$1,defineDataProperty=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$k("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new $TypeError$k("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$k("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$k("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$k("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$k("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,h=!!gopd&&gopd(e,t);if($defineProperty$7)$defineProperty$7(e,t,{configurable:a===null&&h?h.configurable:!a,enumerable:o===null&&h?h.enumerable:!o,value:n,writable:c===null&&h?h.writable:!c});else if(u||!o&&!c&&!a)e[t]=n;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty$6=requireEsDefineProperty(),hasPropertyDescriptors=function(){return!!$defineProperty$6};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty$6)return null;try{return $defineProperty$6([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$1=getIntrinsic,define$1=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError$j=type$6,$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function(e,t){if(typeof e!="function")throw new $TypeError$j("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||$floor(t)!==t)throw new $TypeError$j("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,c=!0;if("length"in e&&gOPD$1){var a=gOPD$1(e,"length");a&&!a.configurable&&(o=!1),a&&!a.writable&&(c=!1)}return(o||c||!n)&&(hasDescriptors?define$1(e,"length",t,!0,!0):define$1(e,"length",t)),e};(function(e){var t=functionBind,n=getIntrinsic,o=setFunctionLength,c=type$6,a=n("%Function.prototype.apply%"),u=n("%Function.prototype.call%"),h=n("%Reflect.apply%",!0)||t.call(u,a),v=requireEsDefineProperty(),b=n("%Math.max%");e.exports=function(w){if(typeof w!="function")throw new c("a function is required");var O=h(t,u,arguments);return o(O,1+b(0,w.length-(arguments.length-1)),!0)};var y=function(){return h(t,a,arguments)};v?v(e.exports,"apply",{value:y}):e.exports.apply=y})(callBind$2);var callBindExports=callBind$2.exports,GetIntrinsic=getIntrinsic,callBind$1=callBindExports,$indexOf$1=callBind$1(GetIntrinsic("String.prototype.indexOf")),callBound$2=function(e,t){var n=GetIntrinsic(e,!!t);return typeof n=="function"&&$indexOf$1(e,".prototype.")>-1?callBind$1(n):n},hasToStringTag$3=shams(),callBound$1=callBound$2,$toString$6=callBound$1("Object.prototype.toString"),isStandardArguments=function(e){return hasToStringTag$3&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$6(e)==="[object Arguments]"},isLegacyArguments=function(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$toString$6(e)!=="[object Array]"&&$toString$6(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(e){if(typeof e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(e)))return!0;if(!hasToStringTag$2){var t=toStr$2.call(e);return t==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var n=getGeneratorFunc();GeneratorFunction=n?getProto(n):!1}return getProto(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(e){e!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(e){try{var t=fnToStr.call(e);return constructorRegex.test(t)}catch{return!1}},tryFunctionObject=function(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=toStr$1.call(e);return(t===ddaClass||t===ddaClass2||t===ddaClass3||t===objectClass)&&e("")==null}catch{}return!1})}var isCallable$s=reflectApply?function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(t){if(t!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var t=toStr$1.call(e);return t!==fnClass&&t!==genClass&&!/^\[object HTML/.test(t)?!1:tryFunctionObject(e)},isCallable$r=isCallable$s,toStr=Object.prototype.toString,hasOwnProperty$8=Object.prototype.hasOwnProperty,forEachArray=function(e,t,n){for(var o=0,c=e.length;o<c;o++)hasOwnProperty$8.call(e,o)&&(n==null?t(e[o],o,e):t.call(n,e[o],o,e))},forEachString=function(e,t,n){for(var o=0,c=e.length;o<c;o++)n==null?t(e.charAt(o),o,e):t.call(n,e.charAt(o),o,e)},forEachObject=function(e,t,n){for(var o in e)hasOwnProperty$8.call(e,o)&&(n==null?t(e[o],o,e):t.call(n,e[o],o,e))},forEach$2=function(e,t,n){if(!isCallable$r(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),toStr.call(e)==="[object Array]"?forEachArray(e,t,o):typeof e=="string"?forEachString(e,t,o):forEachObject(e,t,o)},forEach_1=forEach$2,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$1=typeof globalThis>"u"?commonjsGlobal$7:globalThis,availableTypedArrays$1=function(){for(var e=[],t=0;t<possibleNames.length;t++)typeof g$1[possibleNames[t]]=="function"&&(e[e.length]=possibleNames[t]);return e},forEach$1=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound=callBound$2,gOPD=gopd$1,$toString$5=callBound("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal$7:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),getPrototypeOf$5=Object.getPrototypeOf,$indexOf=callBound("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf$5?forEach$1(typedArrays,function(e){var t=new g[e];if(Symbol.toStringTag in t){var n=getPrototypeOf$5(t),o=gOPD(n,Symbol.toStringTag);if(!o){var c=getPrototypeOf$5(n);o=gOPD(c,Symbol.toStringTag)}cache["$"+e]=callBind(o.get)}}):forEach$1(typedArrays,function(e){var t=new g[e],n=t.slice||t.set;n&&(cache["$"+e]=callBind(n))});var tryTypedArrays=function(e){var t=!1;return forEach$1(cache,function(n,o){if(!t)try{"$"+n(e)===o&&(t=$slice(o,1))}catch{}}),t},trySlices=function(e){var t=!1;return forEach$1(cache,function(n,o){if(!t)try{n(e),t=$slice(o,1)}catch{}}),t},whichTypedArray$1=function(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag){var t=$slice($toString$5(e),8,-1);return $indexOf(typedArrays,t)>-1?t:t!=="Object"?!1:trySlices(e)}return gOPD?tryTypedArrays(e):null},whichTypedArray=whichTypedArray$1,isTypedArray$2=function(e){return!!whichTypedArray(e)};(function(e){var t=isArguments,n=isGeneratorFunction,o=whichTypedArray$1,c=isTypedArray$2;function a(Oe){return Oe.call.bind(Oe)}var u=typeof BigInt<"u",h=typeof Symbol<"u",v=a(Object.prototype.toString),b=a(Number.prototype.valueOf),y=a(String.prototype.valueOf),w=a(Boolean.prototype.valueOf);if(u)var O=a(BigInt.prototype.valueOf);if(h)var P=a(Symbol.prototype.valueOf);function C(Oe,Se){if(typeof Oe!="object")return!1;try{return Se(Oe),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=c;function x(Oe){return typeof Promise<"u"&&Oe instanceof Promise||Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"&&typeof Oe.catch=="function"}e.isPromise=x;function D(Oe){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Oe):c(Oe)||F(Oe)}e.isArrayBufferView=D;function k(Oe){return o(Oe)==="Uint8Array"}e.isUint8Array=k;function B(Oe){return o(Oe)==="Uint8ClampedArray"}e.isUint8ClampedArray=B;function q(Oe){return o(Oe)==="Uint16Array"}e.isUint16Array=q;function V(Oe){return o(Oe)==="Uint32Array"}e.isUint32Array=V;function ee(Oe){return o(Oe)==="Int8Array"}e.isInt8Array=ee;function te(Oe){return o(Oe)==="Int16Array"}e.isInt16Array=te;function ce(Oe){return o(Oe)==="Int32Array"}e.isInt32Array=ce;function Q(Oe){return o(Oe)==="Float32Array"}e.isFloat32Array=Q;function ne(Oe){return o(Oe)==="Float64Array"}e.isFloat64Array=ne;function fe(Oe){return o(Oe)==="BigInt64Array"}e.isBigInt64Array=fe;function l(Oe){return o(Oe)==="BigUint64Array"}e.isBigUint64Array=l;function p(Oe){return v(Oe)==="[object Map]"}p.working=typeof Map<"u"&&p(new Map);function m(Oe){return typeof Map>"u"?!1:p.working?p(Oe):Oe instanceof Map}e.isMap=m;function _(Oe){return v(Oe)==="[object Set]"}_.working=typeof Set<"u"&&_(new Set);function A(Oe){return typeof Set>"u"?!1:_.working?_(Oe):Oe instanceof Set}e.isSet=A;function I(Oe){return v(Oe)==="[object WeakMap]"}I.working=typeof WeakMap<"u"&&I(new WeakMap);function T(Oe){return typeof WeakMap>"u"?!1:I.working?I(Oe):Oe instanceof WeakMap}e.isWeakMap=T;function S(Oe){return v(Oe)==="[object WeakSet]"}S.working=typeof WeakSet<"u"&&S(new WeakSet);function d(Oe){return S(Oe)}e.isWeakSet=d;function E(Oe){return v(Oe)==="[object ArrayBuffer]"}E.working=typeof ArrayBuffer<"u"&&E(new ArrayBuffer);function M(Oe){return typeof ArrayBuffer>"u"?!1:E.working?E(Oe):Oe instanceof ArrayBuffer}e.isArrayBuffer=M;function U(Oe){return v(Oe)==="[object DataView]"}U.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&U(new DataView(new ArrayBuffer(1),0,1));function F(Oe){return typeof DataView>"u"?!1:U.working?U(Oe):Oe instanceof DataView}e.isDataView=F;var N=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function L(Oe){return v(Oe)==="[object SharedArrayBuffer]"}function H(Oe){return typeof N>"u"?!1:(typeof L.working>"u"&&(L.working=L(new N)),L.working?L(Oe):Oe instanceof N)}e.isSharedArrayBuffer=H;function Y(Oe){return v(Oe)==="[object AsyncFunction]"}e.isAsyncFunction=Y;function Z(Oe){return v(Oe)==="[object Map Iterator]"}e.isMapIterator=Z;function de(Oe){return v(Oe)==="[object Set Iterator]"}e.isSetIterator=de;function he(Oe){return v(Oe)==="[object Generator]"}e.isGeneratorObject=he;function re(Oe){return v(Oe)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=re;function ae(Oe){return C(Oe,b)}e.isNumberObject=ae;function be(Oe){return C(Oe,y)}e.isStringObject=be;function ye(Oe){return C(Oe,w)}e.isBooleanObject=ye;function we(Oe){return u&&C(Oe,O)}e.isBigIntObject=we;function Te(Oe){return h&&C(Oe,P)}e.isSymbolObject=Te;function ve(Oe){return ae(Oe)||be(Oe)||ye(Oe)||we(Oe)||Te(Oe)}e.isBoxedPrimitive=ve;function Ce(Oe){return typeof Uint8Array<"u"&&(M(Oe)||H(Oe))}e.isAnyArrayBuffer=Ce,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Oe){Object.defineProperty(e,Oe,{enumerable:!1,value:function(){throw new Error(Oe+" is not supported in userland")}})})})(types$g);var isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(e){var t={},n=Object.getOwnPropertyDescriptors||function(F){for(var N=Object.keys(F),L={},H=0;H<N.length;H++)L[N[H]]=Object.getOwnPropertyDescriptor(F,N[H]);return L},o=/%[sdj%]/g;e.format=function(F){if(!te(F)){for(var N=[],L=0;L<arguments.length;L++)N.push(h(arguments[L]));return N.join(" ")}for(var L=1,H=arguments,Y=H.length,Z=String(F).replace(o,function(re){if(re==="%%")return"%";if(L>=Y)return re;switch(re){case"%s":return String(H[L++]);case"%d":return Number(H[L++]);case"%j":try{return JSON.stringify(H[L++])}catch{return"[Circular]"}default:return re}}),de=H[L];L<Y;de=H[++L])q(de)||!fe(de)?Z+=" "+de:Z+=" "+h(de);return Z},e.deprecate=function(F,N){if(typeof process$1$5<"u"&&process$1$5.noDeprecation===!0)return F;if(typeof process$1$5>"u")return function(){return e.deprecate(F,N).apply(this,arguments)};var L=!1;function H(){if(!L){if(process$1$5.throwDeprecation)throw new Error(N);process$1$5.traceDeprecation?console.trace(N):console.error(N),L=!0}return F.apply(this,arguments)}return H};var c={},a=/^$/;if(t.NODE_DEBUG){var u=t.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+u+"$","i")}e.debuglog=function(F){if(F=F.toUpperCase(),!c[F])if(a.test(F)){var N=process$1$5.pid;c[F]=function(){var L=e.format.apply(e,arguments);console.error("%s %d: %s",F,N,L)}}else c[F]=function(){};return c[F]};function h(F,N){var L={seen:[],stylize:b};return arguments.length>=3&&(L.depth=arguments[2]),arguments.length>=4&&(L.colors=arguments[3]),B(N)?L.showHidden=N:N&&e._extend(L,N),Q(L.showHidden)&&(L.showHidden=!1),Q(L.depth)&&(L.depth=2),Q(L.colors)&&(L.colors=!1),Q(L.customInspect)&&(L.customInspect=!0),L.colors&&(L.stylize=v),w(L,F,L.depth)}e.inspect=h,h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},h.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function v(F,N){var L=h.styles[N];return L?"\x1B["+h.colors[L][0]+"m"+F+"\x1B["+h.colors[L][1]+"m":F}function b(F,N){return F}function y(F){var N={};return F.forEach(function(L,H){N[L]=!0}),N}function w(F,N,L){if(F.customInspect&&N&&m(N.inspect)&&N.inspect!==e.inspect&&!(N.constructor&&N.constructor.prototype===N)){var H=N.inspect(L,F);return te(H)||(H=w(F,H,L)),H}var Y=O(F,N);if(Y)return Y;var Z=Object.keys(N),de=y(Z);if(F.showHidden&&(Z=Object.getOwnPropertyNames(N)),p(N)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return P(N);if(Z.length===0){if(m(N)){var he=N.name?": "+N.name:"";return F.stylize("[Function"+he+"]","special")}if(ne(N))return F.stylize(RegExp.prototype.toString.call(N),"regexp");if(l(N))return F.stylize(Date.prototype.toString.call(N),"date");if(p(N))return P(N)}var re="",ae=!1,be=["{","}"];if(k(N)&&(ae=!0,be=["[","]"]),m(N)){var ye=N.name?": "+N.name:"";re=" [Function"+ye+"]"}if(ne(N)&&(re=" "+RegExp.prototype.toString.call(N)),l(N)&&(re=" "+Date.prototype.toUTCString.call(N)),p(N)&&(re=" "+P(N)),Z.length===0&&(!ae||N.length==0))return be[0]+re+be[1];if(L<0)return ne(N)?F.stylize(RegExp.prototype.toString.call(N),"regexp"):F.stylize("[Object]","special");F.seen.push(N);var we;return ae?we=C(F,N,L,de,Z):we=Z.map(function(Te){return x(F,N,L,de,Te,ae)}),F.seen.pop(),D(we,re,be)}function O(F,N){if(Q(N))return F.stylize("undefined","undefined");if(te(N)){var L="'"+JSON.stringify(N).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(L,"string")}if(ee(N))return F.stylize(""+N,"number");if(B(N))return F.stylize(""+N,"boolean");if(q(N))return F.stylize("null","null")}function P(F){return"["+Error.prototype.toString.call(F)+"]"}function C(F,N,L,H,Y){for(var Z=[],de=0,he=N.length;de<he;++de)d(N,String(de))?Z.push(x(F,N,L,H,String(de),!0)):Z.push("");return Y.forEach(function(re){re.match(/^\d+$/)||Z.push(x(F,N,L,H,re,!0))}),Z}function x(F,N,L,H,Y,Z){var de,he,re;if(re=Object.getOwnPropertyDescriptor(N,Y)||{value:N[Y]},re.get?re.set?he=F.stylize("[Getter/Setter]","special"):he=F.stylize("[Getter]","special"):re.set&&(he=F.stylize("[Setter]","special")),d(H,Y)||(de="["+Y+"]"),he||(F.seen.indexOf(re.value)<0?(q(L)?he=w(F,re.value,null):he=w(F,re.value,L-1),he.indexOf(`
`)>-1&&(Z?he=he.split(`
`).map(function(ae){return"  "+ae}).join(`
`).slice(2):he=`
`+he.split(`
`).map(function(ae){return"   "+ae}).join(`
`))):he=F.stylize("[Circular]","special")),Q(de)){if(Z&&Y.match(/^\d+$/))return he;de=JSON.stringify(""+Y),de.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(de=de.slice(1,-1),de=F.stylize(de,"name")):(de=de.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),de=F.stylize(de,"string"))}return de+": "+he}function D(F,N,L){var H=F.reduce(function(Y,Z){return Z.indexOf(`
`)>=0,Y+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return H>60?L[0]+(N===""?"":N+`
 `)+" "+F.join(`,
  `)+" "+L[1]:L[0]+N+" "+F.join(", ")+" "+L[1]}e.types=types$g;function k(F){return Array.isArray(F)}e.isArray=k;function B(F){return typeof F=="boolean"}e.isBoolean=B;function q(F){return F===null}e.isNull=q;function V(F){return F==null}e.isNullOrUndefined=V;function ee(F){return typeof F=="number"}e.isNumber=ee;function te(F){return typeof F=="string"}e.isString=te;function ce(F){return typeof F=="symbol"}e.isSymbol=ce;function Q(F){return F===void 0}e.isUndefined=Q;function ne(F){return fe(F)&&A(F)==="[object RegExp]"}e.isRegExp=ne,e.types.isRegExp=ne;function fe(F){return typeof F=="object"&&F!==null}e.isObject=fe;function l(F){return fe(F)&&A(F)==="[object Date]"}e.isDate=l,e.types.isDate=l;function p(F){return fe(F)&&(A(F)==="[object Error]"||F instanceof Error)}e.isError=p,e.types.isNativeError=p;function m(F){return typeof F=="function"}e.isFunction=m;function _(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}e.isPrimitive=_,e.isBuffer=isBufferBrowser;function A(F){return Object.prototype.toString.call(F)}function I(F){return F<10?"0"+F.toString(10):F.toString(10)}var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var F=new Date,N=[I(F.getHours()),I(F.getMinutes()),I(F.getSeconds())].join(":");return[F.getDate(),T[F.getMonth()],N].join(" ")}e.log=function(){console.log("%s - %s",S(),e.format.apply(e,arguments))},e.inherits=inherits_browserExports$3,e._extend=function(F,N){if(!N||!fe(N))return F;for(var L=Object.keys(N),H=L.length;H--;)F[L[H]]=N[L[H]];return F};function d(F,N){return Object.prototype.hasOwnProperty.call(F,N)}var E=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');if(E&&F[E]){var N=F[E];if(typeof N!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(N,E,{value:N,enumerable:!1,writable:!1,configurable:!0}),N}function N(){for(var L,H,Y=new Promise(function(he,re){L=he,H=re}),Z=[],de=0;de<arguments.length;de++)Z.push(arguments[de]);Z.push(function(he,re){he?H(he):L(re)});try{F.apply(this,Z)}catch(he){H(he)}return Y}return Object.setPrototypeOf(N,Object.getPrototypeOf(F)),E&&Object.defineProperty(N,E,{value:N,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(N,n(F))},e.promisify.custom=E;function M(F,N){if(!F){var L=new Error("Promise was rejected with a falsy value");L.reason=F,F=L}return N(F)}function U(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function N(){for(var L=[],H=0;H<arguments.length;H++)L.push(arguments[H]);var Y=L.pop();if(typeof Y!="function")throw new TypeError("The last argument must be of type Function");var Z=this,de=function(){return Y.apply(Z,arguments)};F.apply(this,L).then(function(he){process$1$5.nextTick(de.bind(null,null,he))},function(he){process$1$5.nextTick(M.bind(null,he,de))})}return Object.setPrototypeOf(N,Object.getPrototypeOf(F)),Object.defineProperties(N,n(F)),N}e.callbackify=U})(util$8);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function e(C,x){var D=Object.keys(C);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(C);x&&(k=k.filter(function(B){return Object.getOwnPropertyDescriptor(C,B).enumerable})),D.push.apply(D,k)}return D}function t(C){for(var x=1;x<arguments.length;x++){var D=arguments[x]!=null?arguments[x]:{};x%2?e(Object(D),!0).forEach(function(k){n(C,k,D[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(D)):e(Object(D)).forEach(function(k){Object.defineProperty(C,k,Object.getOwnPropertyDescriptor(D,k))})}return C}function n(C,x,D){return x=u(x),x in C?Object.defineProperty(C,x,{value:D,enumerable:!0,configurable:!0,writable:!0}):C[x]=D,C}function o(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}function c(C,x){for(var D=0;D<x.length;D++){var k=x[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,u(k.key),k)}}function a(C,x,D){return x&&c(C.prototype,x),Object.defineProperty(C,"prototype",{writable:!1}),C}function u(C){var x=h(C,"string");return typeof x=="symbol"?x:String(x)}function h(C,x){if(typeof C!="object"||C===null)return C;var D=C[Symbol.toPrimitive];if(D!==void 0){var k=D.call(C,x||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(C)}var v=require$$0$5,b=v.Buffer,y=util$8,w=y.inspect,O=w&&w.custom||"inspect";function P(C,x,D){b.prototype.copy.call(C,x,D)}return buffer_list=function(){function C(){o(this,C),this.head=null,this.tail=null,this.length=0}return a(C,[{key:"push",value:function(x){var D={data:x,next:null};this.length>0?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(x){var D={data:x,next:this.head};this.length===0&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var D=this.head,k=""+D.data;D=D.next;)k+=x+D.data;return k}},{key:"concat",value:function(x){if(this.length===0)return b.alloc(0);for(var D=b.allocUnsafe(x>>>0),k=this.head,B=0;k;)P(k.data,D,B),B+=k.data.length,k=k.next;return D}},{key:"consume",value:function(x,D){var k;return x<this.head.data.length?(k=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?k=this.shift():k=D?this._getString(x):this._getBuffer(x),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var D=this.head,k=1,B=D.data;for(x-=B.length;D=D.next;){var q=D.data,V=x>q.length?q.length:x;if(V===q.length?B+=q:B+=q.slice(0,x),x-=V,x===0){V===q.length?(++k,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=q.slice(V));break}++k}return this.length-=k,B}},{key:"_getBuffer",value:function(x){var D=b.allocUnsafe(x),k=this.head,B=1;for(k.data.copy(D),x-=k.data.length;k=k.next;){var q=k.data,V=x>q.length?q.length:x;if(q.copy(D,D.length-x,0,V),x-=V,x===0){V===q.length?(++B,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=q.slice(V));break}++B}return this.length-=B,D}},{key:O,value:function(x,D){return w(this,t(t({},D),{},{depth:0,customInspect:!1}))}}]),C}(),buffer_list}var destroy_1$1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1$1;hasRequiredDestroy=1;function e(u,h){var v=this,b=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return b||y?(h?h(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1$5.nextTick(c,this,u)):process$1$5.nextTick(c,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(w){!h&&w?v._writableState?v._writableState.errorEmitted?process$1$5.nextTick(n,v):(v._writableState.errorEmitted=!0,process$1$5.nextTick(t,v,w)):process$1$5.nextTick(t,v,w):h?(process$1$5.nextTick(n,v),h(w)):process$1$5.nextTick(n,v)}),this)}function t(u,h){c(u,h),n(u)}function n(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(u,h){u.emit("error",h)}function a(u,h){var v=u._readableState,b=u._writableState;v&&v.autoDestroy||b&&b.autoDestroy?u.destroy(h):u.emit("error",h)}return destroy_1$1={destroy:e,undestroy:o,errorOrDestroy:a},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function e(h,v){h.prototype=Object.create(v.prototype),h.prototype.constructor=h,h.__proto__=v}var t={};function n(h,v,b){b||(b=Error);function y(O,P,C){return typeof v=="string"?v:v(O,P,C)}var w=function(O){e(P,O);function P(C,x,D){return O.call(this,y(C,x,D))||this}return P}(b);w.prototype.name=b.name,w.prototype.code=h,t[h]=w}function o(h,v){if(Array.isArray(h)){var b=h.length;return h=h.map(function(y){return String(y)}),b>2?"one of ".concat(v," ").concat(h.slice(0,b-1).join(", "),", or ")+h[b-1]:b===2?"one of ".concat(v," ").concat(h[0]," or ").concat(h[1]):"of ".concat(v," ").concat(h[0])}else return"of ".concat(v," ").concat(String(h))}function c(h,v,b){return h.substr(0,v.length)===v}function a(h,v,b){return(b===void 0||b>h.length)&&(b=h.length),h.substring(b-v.length,b)===v}function u(h,v,b){return typeof b!="number"&&(b=0),b+v.length>h.length?!1:h.indexOf(v,b)!==-1}return n("ERR_INVALID_OPT_VALUE",function(h,v){return'The value "'+v+'" is invalid for option "'+h+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(h,v,b){var y;typeof v=="string"&&c(v,"not ")?(y="must not be",v=v.replace(/^not /,"")):y="must be";var w;if(a(h," argument"))w="The ".concat(h," ").concat(y," ").concat(o(v,"type"));else{var O=u(h,".")?"property":"argument";w='The "'.concat(h,'" ').concat(O," ").concat(y," ").concat(o(v,"type"))}return w+=". Received type ".concat(typeof b),w},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=t,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var e=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function t(o,c,a){return o.highWaterMark!=null?o.highWaterMark:c?o[a]:null}function n(o,c,a,u){var h=t(c,u,a);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var v=u?a:"highWaterMark";throw new e(v,h)}return Math.floor(h)}return o.objectMode?16:16384}return state={getHighWaterMark:n},state}var browser$l=deprecate;function deprecate(e,t){if(config$1("noDeprecation"))return e;var n=!1;function o(){if(!n){if(config$1("throwDeprecation"))throw new Error(t);config$1("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return o}function config$1(e){try{if(!commonjsGlobal$7.localStorage)return!1}catch{return!1}var t=commonjsGlobal$7.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=Q;function e(H){var Y=this;this.next=null,this.entry=null,this.finish=function(){L(Y,H)}}var t;Q.WritableState=te;var n={deprecate:browser$l},o=requireStreamBrowser(),c=require$$0$5.Buffer,a=(typeof commonjsGlobal$7<"u"?commonjsGlobal$7:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(H){return c.from(H)}function h(H){return c.isBuffer(H)||H instanceof a}var v=requireDestroy(),b=requireState(),y=b.getHighWaterMark,w=requireErrorsBrowser().codes,O=w.ERR_INVALID_ARG_TYPE,P=w.ERR_METHOD_NOT_IMPLEMENTED,C=w.ERR_MULTIPLE_CALLBACK,x=w.ERR_STREAM_CANNOT_PIPE,D=w.ERR_STREAM_DESTROYED,k=w.ERR_STREAM_NULL_VALUES,B=w.ERR_STREAM_WRITE_AFTER_END,q=w.ERR_UNKNOWN_ENCODING,V=v.errorOrDestroy;inherits_browserExports$3(Q,o);function ee(){}function te(H,Y,Z){t=t||require_stream_duplex$1(),H=H||{},typeof Z!="boolean"&&(Z=Y instanceof t),this.objectMode=!!H.objectMode,Z&&(this.objectMode=this.objectMode||!!H.writableObjectMode),this.highWaterMark=y(this,H,"writableHighWaterMark",Z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var de=H.decodeStrings===!1;this.decodeStrings=!de,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){I(Y,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}te.prototype.getBuffer=function(){for(var H=this.bufferedRequest,Y=[];H;)Y.push(H),H=H.next;return Y},function(){try{Object.defineProperty(te.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ce;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(H){return ce.call(this,H)?!0:this!==Q?!1:H&&H._writableState instanceof te}})):ce=function(H){return H instanceof this};function Q(H){t=t||require_stream_duplex$1();var Y=this instanceof t;if(!Y&&!ce.call(Q,this))return new Q(H);this._writableState=new te(H,this,Y),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),o.call(this)}Q.prototype.pipe=function(){V(this,new x)};function ne(H,Y){var Z=new B;V(H,Z),process$1$5.nextTick(Y,Z)}function fe(H,Y,Z,de){var he;return Z===null?he=new k:typeof Z!="string"&&!Y.objectMode&&(he=new O("chunk",["string","Buffer"],Z)),he?(V(H,he),process$1$5.nextTick(de,he),!1):!0}Q.prototype.write=function(H,Y,Z){var de=this._writableState,he=!1,re=!de.objectMode&&h(H);return re&&!c.isBuffer(H)&&(H=u(H)),typeof Y=="function"&&(Z=Y,Y=null),re?Y="buffer":Y||(Y=de.defaultEncoding),typeof Z!="function"&&(Z=ee),de.ending?ne(this,Z):(re||fe(this,de,H,Z))&&(de.pendingcb++,he=p(this,de,re,H,Y,Z)),he},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,!H.writing&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&d(this,H))},Q.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new q(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function l(H,Y,Z){return!H.objectMode&&H.decodeStrings!==!1&&typeof Y=="string"&&(Y=c.from(Y,Z)),Y}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function p(H,Y,Z,de,he,re){if(!Z){var ae=l(Y,de,he);de!==ae&&(Z=!0,he="buffer",de=ae)}var be=Y.objectMode?1:de.length;Y.length+=be;var ye=Y.length<Y.highWaterMark;if(ye||(Y.needDrain=!0),Y.writing||Y.corked){var we=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:de,encoding:he,isBuf:Z,callback:re,next:null},we?we.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else m(H,Y,!1,be,de,he,re);return ye}function m(H,Y,Z,de,he,re,ae){Y.writelen=de,Y.writecb=ae,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new D("write")):Z?H._writev(he,Y.onwrite):H._write(he,re,Y.onwrite),Y.sync=!1}function _(H,Y,Z,de,he){--Y.pendingcb,Z?(process$1$5.nextTick(he,de),process$1$5.nextTick(F,H,Y),H._writableState.errorEmitted=!0,V(H,de)):(he(de),H._writableState.errorEmitted=!0,V(H,de),F(H,Y))}function A(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}function I(H,Y){var Z=H._writableState,de=Z.sync,he=Z.writecb;if(typeof he!="function")throw new C;if(A(Z),Y)_(H,Z,de,Y,he);else{var re=E(Z)||H.destroyed;!re&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&d(H,Z),de?process$1$5.nextTick(T,H,Z,re,he):T(H,Z,re,he)}}function T(H,Y,Z,de){Z||S(H,Y),Y.pendingcb--,de(),F(H,Y)}function S(H,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,H.emit("drain"))}function d(H,Y){Y.bufferProcessing=!0;var Z=Y.bufferedRequest;if(H._writev&&Z&&Z.next){var de=Y.bufferedRequestCount,he=new Array(de),re=Y.corkedRequestsFree;re.entry=Z;for(var ae=0,be=!0;Z;)he[ae]=Z,Z.isBuf||(be=!1),Z=Z.next,ae+=1;he.allBuffers=be,m(H,Y,!0,Y.length,he,"",re.finish),Y.pendingcb++,Y.lastBufferedRequest=null,re.next?(Y.corkedRequestsFree=re.next,re.next=null):Y.corkedRequestsFree=new e(Y),Y.bufferedRequestCount=0}else{for(;Z;){var ye=Z.chunk,we=Z.encoding,Te=Z.callback,ve=Y.objectMode?1:ye.length;if(m(H,Y,!1,ve,ye,we,Te),Z=Z.next,Y.bufferedRequestCount--,Y.writing)break}Z===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=Z,Y.bufferProcessing=!1}Q.prototype._write=function(H,Y,Z){Z(new P("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(H,Y,Z){var de=this._writableState;return typeof H=="function"?(Z=H,H=null,Y=null):typeof Y=="function"&&(Z=Y,Y=null),H!=null&&this.write(H,Y),de.corked&&(de.corked=1,this.uncork()),de.ending||N(this,de,Z),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function E(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function M(H,Y){H._final(function(Z){Y.pendingcb--,Z&&V(H,Z),Y.prefinished=!0,H.emit("prefinish"),F(H,Y)})}function U(H,Y){!Y.prefinished&&!Y.finalCalled&&(typeof H._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,process$1$5.nextTick(M,H,Y)):(Y.prefinished=!0,H.emit("prefinish")))}function F(H,Y){var Z=E(Y);if(Z&&(U(H,Y),Y.pendingcb===0&&(Y.finished=!0,H.emit("finish"),Y.autoDestroy))){var de=H._readableState;(!de||de.autoDestroy&&de.endEmitted)&&H.destroy()}return Z}function N(H,Y,Z){Y.ending=!0,F(H,Y),Z&&(Y.finished?process$1$5.nextTick(Z):H.once("finish",Z)),Y.ended=!0,H.writable=!1}function L(H,Y,Z){var de=H.entry;for(H.entry=null;de;){var he=de.callback;Y.pendingcb--,he(Z),de=de.next}Y.corkedRequestsFree.next=H}return Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),Q.prototype.destroy=v.destroy,Q.prototype._undestroy=v.undestroy,Q.prototype._destroy=function(H,Y){Y(H)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var e=Object.keys||function(b){var y=[];for(var w in b)y.push(w);return y};_stream_duplex$1=u;var t=require_stream_readable$1(),n=require_stream_writable$1();inherits_browserExports$3(u,t);for(var o=e(n.prototype),c=0;c<o.length;c++){var a=o[c];u.prototype[a]||(u.prototype[a]=n.prototype[a])}function u(b){if(!(this instanceof u))return new u(b);t.call(this,b),n.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(){this._writableState.ended||process$1$5.nextTick(v,this)}function v(b){b.end()}return Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=b,this._writableState.destroyed=b)}}),_stream_duplex$1}var string_decoder={},Buffer$C=safeBufferExports$1.Buffer,isEncoding=Buffer$C.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!="string"&&(Buffer$C.isEncoding===isEncoding||!isEncoding(e)))throw new Error("Unknown encoding: "+e);return t||e}string_decoder.StringDecoder=StringDecoder$1;function StringDecoder$1(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$C.allocUnsafe(t)}StringDecoder$1.prototype.write=function(e){if(e.length===0)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},StringDecoder$1.prototype.end=utf8End,StringDecoder$1.prototype.text=utf8Text,StringDecoder$1.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function utf8CheckByte(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function utf8CheckIncomplete(e,t,n){var o=t.length-1;if(o<n)return 0;var c=utf8CheckByte(t[o]);return c>=0?(c>0&&(e.lastNeed=c-1),c):--o<n||c===-2?0:(c=utf8CheckByte(t[o]),c>=0?(c>0&&(e.lastNeed=c-2),c):--o<n||c===-2?0:(c=utf8CheckByte(t[o]),c>=0?(c>0&&(c===2?c=0:e.lastNeed=c-3),c):0))}function utf8CheckExtraBytes(e,t,n){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,n=utf8CheckExtraBytes(this,e);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function utf8Text(e,t){var n=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var o=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,o),e.toString("utf8",t,o)}function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function utf16Text(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var o=n.charCodeAt(n.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function base64Text(e,t){var n=(e.length-t)%3;return n===0?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var e=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var u=!1;return function(){if(!u){u=!0;for(var h=arguments.length,v=new Array(h),b=0;b<h;b++)v[b]=arguments[b];a.apply(this,v)}}}function n(){}function o(a){return a.setHeader&&typeof a.abort=="function"}function c(a,u,h){if(typeof u=="function")return c(a,null,u);u||(u={}),h=t(h||n);var v=u.readable||u.readable!==!1&&a.readable,b=u.writable||u.writable!==!1&&a.writable,y=function(){a.writable||O()},w=a._writableState&&a._writableState.finished,O=function(){b=!1,w=!0,v||h.call(a)},P=a._readableState&&a._readableState.endEmitted,C=function(){v=!1,P=!0,b||h.call(a)},x=function(B){h.call(a,B)},D=function(){var B;if(v&&!P)return(!a._readableState||!a._readableState.ended)&&(B=new e),h.call(a,B);if(b&&!w)return(!a._writableState||!a._writableState.ended)&&(B=new e),h.call(a,B)},k=function(){a.req.on("finish",O)};return o(a)?(a.on("complete",O),a.on("abort",D),a.req?k():a.on("request",k)):b&&!a._writableState&&(a.on("end",y),a.on("close",y)),a.on("end",C),a.on("finish",O),u.error!==!1&&a.on("error",x),a.on("close",D),function(){a.removeListener("complete",O),a.removeListener("abort",D),a.removeListener("request",k),a.req&&a.req.removeListener("finish",O),a.removeListener("end",y),a.removeListener("close",y),a.removeListener("finish",O),a.removeListener("end",C),a.removeListener("error",x),a.removeListener("close",D)}}return endOfStream=c,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var e;function t(q,V,ee){return V=n(V),V in q?Object.defineProperty(q,V,{value:ee,enumerable:!0,configurable:!0,writable:!0}):q[V]=ee,q}function n(q){var V=o(q,"string");return typeof V=="symbol"?V:String(V)}function o(q,V){if(typeof q!="object"||q===null)return q;var ee=q[Symbol.toPrimitive];if(ee!==void 0){var te=ee.call(q,V||"default");if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(q)}var c=requireEndOfStream(),a=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),v=Symbol("ended"),b=Symbol("lastPromise"),y=Symbol("handlePromise"),w=Symbol("stream");function O(q,V){return{value:q,done:V}}function P(q){var V=q[a];if(V!==null){var ee=q[w].read();ee!==null&&(q[b]=null,q[a]=null,q[u]=null,V(O(ee,!1)))}}function C(q){process$1$5.nextTick(P,q)}function x(q,V){return function(ee,te){q.then(function(){if(V[v]){ee(O(void 0,!0));return}V[y](ee,te)},te)}}var D=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((e={get stream(){return this[w]},next:function(){var q=this,V=this[h];if(V!==null)return Promise.reject(V);if(this[v])return Promise.resolve(O(void 0,!0));if(this[w].destroyed)return new Promise(function(Q,ne){process$1$5.nextTick(function(){q[h]?ne(q[h]):Q(O(void 0,!0))})});var ee=this[b],te;if(ee)te=new Promise(x(ee,this));else{var ce=this[w].read();if(ce!==null)return Promise.resolve(O(ce,!1));te=new Promise(this[y])}return this[b]=te,te}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var q=this;return new Promise(function(V,ee){q[w].destroy(null,function(te){if(te){ee(te);return}V(O(void 0,!0))})})}),e),D),B=function(q){var V,ee=Object.create(k,(V={},t(V,w,{value:q,writable:!0}),t(V,a,{value:null,writable:!0}),t(V,u,{value:null,writable:!0}),t(V,h,{value:null,writable:!0}),t(V,v,{value:q._readableState.endEmitted,writable:!0}),t(V,y,{value:function(te,ce){var Q=ee[w].read();Q?(ee[b]=null,ee[a]=null,ee[u]=null,te(O(Q,!1))):(ee[a]=te,ee[u]=ce)},writable:!0}),V));return ee[b]=null,c(q,function(te){if(te&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=ee[u];ce!==null&&(ee[b]=null,ee[a]=null,ee[u]=null,ce(te)),ee[h]=te;return}var Q=ee[a];Q!==null&&(ee[b]=null,ee[a]=null,ee[u]=null,Q(O(void 0,!0))),ee[v]=!0}),q.on("readable",C.bind(null,ee)),ee};return async_iterator=B,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=ne;var e;ne.ReadableState=Q,eventsExports.EventEmitter;var t=function(re,ae){return re.listeners(ae).length},n=requireStreamBrowser(),o=require$$0$5.Buffer,c=(typeof commonjsGlobal$7<"u"?commonjsGlobal$7:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(re){return o.from(re)}function u(re){return o.isBuffer(re)||re instanceof c}var h=util$8,v;h&&h.debuglog?v=h.debuglog("stream"):v=function(){};var b=requireBuffer_list(),y=requireDestroy(),w=requireState(),O=w.getHighWaterMark,P=requireErrorsBrowser().codes,C=P.ERR_INVALID_ARG_TYPE,x=P.ERR_STREAM_PUSH_AFTER_EOF,D=P.ERR_METHOD_NOT_IMPLEMENTED,k=P.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,B,q,V;inherits_browserExports$3(ne,n);var ee=y.errorOrDestroy,te=["error","close","destroy","pause","resume"];function ce(re,ae,be){if(typeof re.prependListener=="function")return re.prependListener(ae,be);!re._events||!re._events[ae]?re.on(ae,be):Array.isArray(re._events[ae])?re._events[ae].unshift(be):re._events[ae]=[be,re._events[ae]]}function Q(re,ae,be){e=e||require_stream_duplex$1(),re=re||{},typeof be!="boolean"&&(be=ae instanceof e),this.objectMode=!!re.objectMode,be&&(this.objectMode=this.objectMode||!!re.readableObjectMode),this.highWaterMark=O(this,re,"readableHighWaterMark",be),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=re.emitClose!==!1,this.autoDestroy=!!re.autoDestroy,this.destroyed=!1,this.defaultEncoding=re.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,re.encoding&&(B||(B=string_decoder.StringDecoder),this.decoder=new B(re.encoding),this.encoding=re.encoding)}function ne(re){if(e=e||require_stream_duplex$1(),!(this instanceof ne))return new ne(re);var ae=this instanceof e;this._readableState=new Q(re,this,ae),this.readable=!0,re&&(typeof re.read=="function"&&(this._read=re.read),typeof re.destroy=="function"&&(this._destroy=re.destroy)),n.call(this)}Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),ne.prototype.destroy=y.destroy,ne.prototype._undestroy=y.undestroy,ne.prototype._destroy=function(re,ae){ae(re)},ne.prototype.push=function(re,ae){var be=this._readableState,ye;return be.objectMode?ye=!0:typeof re=="string"&&(ae=ae||be.defaultEncoding,ae!==be.encoding&&(re=o.from(re,ae),ae=""),ye=!0),fe(this,re,ae,!1,ye)},ne.prototype.unshift=function(re){return fe(this,re,null,!0,!1)};function fe(re,ae,be,ye,we){v("readableAddChunk",ae);var Te=re._readableState;if(ae===null)Te.reading=!1,I(re,Te);else{var ve;if(we||(ve=p(Te,ae)),ve)ee(re,ve);else if(Te.objectMode||ae&&ae.length>0)if(typeof ae!="string"&&!Te.objectMode&&Object.getPrototypeOf(ae)!==o.prototype&&(ae=a(ae)),ye)Te.endEmitted?ee(re,new k):l(re,Te,ae,!0);else if(Te.ended)ee(re,new x);else{if(Te.destroyed)return!1;Te.reading=!1,Te.decoder&&!be?(ae=Te.decoder.write(ae),Te.objectMode||ae.length!==0?l(re,Te,ae,!1):d(re,Te)):l(re,Te,ae,!1)}else ye||(Te.reading=!1,d(re,Te))}return!Te.ended&&(Te.length<Te.highWaterMark||Te.length===0)}function l(re,ae,be,ye){ae.flowing&&ae.length===0&&!ae.sync?(ae.awaitDrain=0,re.emit("data",be)):(ae.length+=ae.objectMode?1:be.length,ye?ae.buffer.unshift(be):ae.buffer.push(be),ae.needReadable&&T(re)),d(re,ae)}function p(re,ae){var be;return!u(ae)&&typeof ae!="string"&&ae!==void 0&&!re.objectMode&&(be=new C("chunk",["string","Buffer","Uint8Array"],ae)),be}ne.prototype.isPaused=function(){return this._readableState.flowing===!1},ne.prototype.setEncoding=function(re){B||(B=string_decoder.StringDecoder);var ae=new B(re);this._readableState.decoder=ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var be=this._readableState.buffer.head,ye="";be!==null;)ye+=ae.write(be.data),be=be.next;return this._readableState.buffer.clear(),ye!==""&&this._readableState.buffer.push(ye),this._readableState.length=ye.length,this};var m=1073741824;function _(re){return re>=m?re=m:(re--,re|=re>>>1,re|=re>>>2,re|=re>>>4,re|=re>>>8,re|=re>>>16,re++),re}function A(re,ae){return re<=0||ae.length===0&&ae.ended?0:ae.objectMode?1:re!==re?ae.flowing&&ae.length?ae.buffer.head.data.length:ae.length:(re>ae.highWaterMark&&(ae.highWaterMark=_(re)),re<=ae.length?re:ae.ended?ae.length:(ae.needReadable=!0,0))}ne.prototype.read=function(re){v("read",re),re=parseInt(re,10);var ae=this._readableState,be=re;if(re!==0&&(ae.emittedReadable=!1),re===0&&ae.needReadable&&((ae.highWaterMark!==0?ae.length>=ae.highWaterMark:ae.length>0)||ae.ended))return v("read: emitReadable",ae.length,ae.ended),ae.length===0&&ae.ended?Z(this):T(this),null;if(re=A(re,ae),re===0&&ae.ended)return ae.length===0&&Z(this),null;var ye=ae.needReadable;v("need readable",ye),(ae.length===0||ae.length-re<ae.highWaterMark)&&(ye=!0,v("length less than watermark",ye)),ae.ended||ae.reading?(ye=!1,v("reading or ended",ye)):ye&&(v("do read"),ae.reading=!0,ae.sync=!0,ae.length===0&&(ae.needReadable=!0),this._read(ae.highWaterMark),ae.sync=!1,ae.reading||(re=A(be,ae)));var we;return re>0?we=Y(re,ae):we=null,we===null?(ae.needReadable=ae.length<=ae.highWaterMark,re=0):(ae.length-=re,ae.awaitDrain=0),ae.length===0&&(ae.ended||(ae.needReadable=!0),be!==re&&ae.ended&&Z(this)),we!==null&&this.emit("data",we),we};function I(re,ae){if(v("onEofChunk"),!ae.ended){if(ae.decoder){var be=ae.decoder.end();be&&be.length&&(ae.buffer.push(be),ae.length+=ae.objectMode?1:be.length)}ae.ended=!0,ae.sync?T(re):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,S(re)))}}function T(re){var ae=re._readableState;v("emitReadable",ae.needReadable,ae.emittedReadable),ae.needReadable=!1,ae.emittedReadable||(v("emitReadable",ae.flowing),ae.emittedReadable=!0,process$1$5.nextTick(S,re))}function S(re){var ae=re._readableState;v("emitReadable_",ae.destroyed,ae.length,ae.ended),!ae.destroyed&&(ae.length||ae.ended)&&(re.emit("readable"),ae.emittedReadable=!1),ae.needReadable=!ae.flowing&&!ae.ended&&ae.length<=ae.highWaterMark,H(re)}function d(re,ae){ae.readingMore||(ae.readingMore=!0,process$1$5.nextTick(E,re,ae))}function E(re,ae){for(;!ae.reading&&!ae.ended&&(ae.length<ae.highWaterMark||ae.flowing&&ae.length===0);){var be=ae.length;if(v("maybeReadMore read 0"),re.read(0),be===ae.length)break}ae.readingMore=!1}ne.prototype._read=function(re){ee(this,new D("_read()"))},ne.prototype.pipe=function(re,ae){var be=this,ye=this._readableState;switch(ye.pipesCount){case 0:ye.pipes=re;break;case 1:ye.pipes=[ye.pipes,re];break;default:ye.pipes.push(re);break}ye.pipesCount+=1,v("pipe count=%d opts=%j",ye.pipesCount,ae);var we=(!ae||ae.end!==!1)&&re!==process$1$5.stdout&&re!==process$1$5.stderr,Te=we?Ce:je;ye.endEmitted?process$1$5.nextTick(Te):be.once("end",Te),re.on("unpipe",ve);function ve(Be,vt){v("onunpipe"),Be===be&&vt&&vt.hasUnpiped===!1&&(vt.hasUnpiped=!0,Pe())}function Ce(){v("onend"),re.end()}var Oe=M(be);re.on("drain",Oe);var Se=!1;function Pe(){v("cleanup"),re.removeListener("close",Re),re.removeListener("finish",pt),re.removeListener("drain",Oe),re.removeListener("error",Me),re.removeListener("unpipe",ve),be.removeListener("end",Ce),be.removeListener("end",je),be.removeListener("data",nt),Se=!0,ye.awaitDrain&&(!re._writableState||re._writableState.needDrain)&&Oe()}be.on("data",nt);function nt(Be){v("ondata");var vt=re.write(Be);v("dest.write",vt),vt===!1&&((ye.pipesCount===1&&ye.pipes===re||ye.pipesCount>1&&he(ye.pipes,re)!==-1)&&!Se&&(v("false write response, pause",ye.awaitDrain),ye.awaitDrain++),be.pause())}function Me(Be){v("onerror",Be),je(),re.removeListener("error",Me),t(re,"error")===0&&ee(re,Be)}ce(re,"error",Me);function Re(){re.removeListener("finish",pt),je()}re.once("close",Re);function pt(){v("onfinish"),re.removeListener("close",Re),je()}re.once("finish",pt);function je(){v("unpipe"),be.unpipe(re)}return re.emit("pipe",be),ye.flowing||(v("pipe resume"),be.resume()),re};function M(re){return function(){var ae=re._readableState;v("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&t(re,"data")&&(ae.flowing=!0,H(re))}}ne.prototype.unpipe=function(re){var ae=this._readableState,be={hasUnpiped:!1};if(ae.pipesCount===0)return this;if(ae.pipesCount===1)return re&&re!==ae.pipes?this:(re||(re=ae.pipes),ae.pipes=null,ae.pipesCount=0,ae.flowing=!1,re&&re.emit("unpipe",this,be),this);if(!re){var ye=ae.pipes,we=ae.pipesCount;ae.pipes=null,ae.pipesCount=0,ae.flowing=!1;for(var Te=0;Te<we;Te++)ye[Te].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=he(ae.pipes,re);return ve===-1?this:(ae.pipes.splice(ve,1),ae.pipesCount-=1,ae.pipesCount===1&&(ae.pipes=ae.pipes[0]),re.emit("unpipe",this,be),this)},ne.prototype.on=function(re,ae){var be=n.prototype.on.call(this,re,ae),ye=this._readableState;return re==="data"?(ye.readableListening=this.listenerCount("readable")>0,ye.flowing!==!1&&this.resume()):re==="readable"&&!ye.endEmitted&&!ye.readableListening&&(ye.readableListening=ye.needReadable=!0,ye.flowing=!1,ye.emittedReadable=!1,v("on readable",ye.length,ye.reading),ye.length?T(this):ye.reading||process$1$5.nextTick(F,this)),be},ne.prototype.addListener=ne.prototype.on,ne.prototype.removeListener=function(re,ae){var be=n.prototype.removeListener.call(this,re,ae);return re==="readable"&&process$1$5.nextTick(U,this),be},ne.prototype.removeAllListeners=function(re){var ae=n.prototype.removeAllListeners.apply(this,arguments);return(re==="readable"||re===void 0)&&process$1$5.nextTick(U,this),ae};function U(re){var ae=re._readableState;ae.readableListening=re.listenerCount("readable")>0,ae.resumeScheduled&&!ae.paused?ae.flowing=!0:re.listenerCount("data")>0&&re.resume()}function F(re){v("readable nexttick read 0"),re.read(0)}ne.prototype.resume=function(){var re=this._readableState;return re.flowing||(v("resume"),re.flowing=!re.readableListening,N(this,re)),re.paused=!1,this};function N(re,ae){ae.resumeScheduled||(ae.resumeScheduled=!0,process$1$5.nextTick(L,re,ae))}function L(re,ae){v("resume",ae.reading),ae.reading||re.read(0),ae.resumeScheduled=!1,re.emit("resume"),H(re),ae.flowing&&!ae.reading&&re.read(0)}ne.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function H(re){var ae=re._readableState;for(v("flow",ae.flowing);ae.flowing&&re.read()!==null;);}ne.prototype.wrap=function(re){var ae=this,be=this._readableState,ye=!1;re.on("end",function(){if(v("wrapped end"),be.decoder&&!be.ended){var ve=be.decoder.end();ve&&ve.length&&ae.push(ve)}ae.push(null)}),re.on("data",function(ve){if(v("wrapped data"),be.decoder&&(ve=be.decoder.write(ve)),!(be.objectMode&&ve==null)&&!(!be.objectMode&&(!ve||!ve.length))){var Ce=ae.push(ve);Ce||(ye=!0,re.pause())}});for(var we in re)this[we]===void 0&&typeof re[we]=="function"&&(this[we]=function(ve){return function(){return re[ve].apply(re,arguments)}}(we));for(var Te=0;Te<te.length;Te++)re.on(te[Te],this.emit.bind(this,te[Te]));return this._read=function(ve){v("wrapped _read",ve),ye&&(ye=!1,re.resume())},this},typeof Symbol=="function"&&(ne.prototype[Symbol.asyncIterator]=function(){return q===void 0&&(q=requireAsync_iterator()),q(this)}),Object.defineProperty(ne.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ne.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ne.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),ne._fromList=Y,Object.defineProperty(ne.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(re,ae){if(ae.length===0)return null;var be;return ae.objectMode?be=ae.buffer.shift():!re||re>=ae.length?(ae.decoder?be=ae.buffer.join(""):ae.buffer.length===1?be=ae.buffer.first():be=ae.buffer.concat(ae.length),ae.buffer.clear()):be=ae.buffer.consume(re,ae.decoder),be}function Z(re){var ae=re._readableState;v("endReadable",ae.endEmitted),ae.endEmitted||(ae.ended=!0,process$1$5.nextTick(de,ae,re))}function de(re,ae){if(v("endReadableNT",re.endEmitted,re.length),!re.endEmitted&&re.length===0&&(re.endEmitted=!0,ae.readable=!1,ae.emit("end"),re.autoDestroy)){var be=ae._writableState;(!be||be.autoDestroy&&be.finished)&&ae.destroy()}}typeof Symbol=="function"&&(ne.from=function(re,ae){return V===void 0&&(V=requireFromBrowser()),V(ne,re,ae)});function he(re,ae){for(var be=0,ye=re.length;be<ye;be++)if(re[be]===ae)return be;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform$1;hasRequired_stream_transform=1,_stream_transform$1=h;var e=requireErrorsBrowser().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,n=e.ERR_MULTIPLE_CALLBACK,o=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=e.ERR_TRANSFORM_WITH_LENGTH_0,a=require_stream_duplex$1();inherits_browserExports$3(h,a);function u(y,w){var O=this._transformState;O.transforming=!1;var P=O.writecb;if(P===null)return this.emit("error",new n);O.writechunk=null,O.writecb=null,w!=null&&this.push(w),P(y);var C=this._readableState;C.reading=!1,(C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);a.call(this,y),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",v)}function v(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(w,O){b(y,w,O)}):b(this,null,null)}h.prototype.push=function(y,w){return this._transformState.needTransform=!1,a.prototype.push.call(this,y,w)},h.prototype._transform=function(y,w,O){O(new t("_transform()"))},h.prototype._write=function(y,w,O){var P=this._transformState;if(P.writecb=O,P.writechunk=y,P.writeencoding=w,!P.transforming){var C=this._readableState;(P.needTransform||C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}},h.prototype._read=function(y){var w=this._transformState;w.writechunk!==null&&!w.transforming?(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform)):w.needTransform=!0},h.prototype._destroy=function(y,w){a.prototype._destroy.call(this,y,function(O){w(O)})};function b(y,w,O){if(w)return y.emit("error",w);if(O!=null&&y.push(O),y._writableState.length)throw new c;if(y._transformState.transforming)throw new o;return y.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough$1;hasRequired_stream_passthrough=1,_stream_passthrough$1=t;var e=require_stream_transform();inherits_browserExports$3(t,e);function t(n){if(!(this instanceof t))return new t(n);e.call(this,n)}return t.prototype._transform=function(n,o,c){c(null,n)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var e;function t(O){var P=!1;return function(){P||(P=!0,O.apply(void 0,arguments))}}var n=requireErrorsBrowser().codes,o=n.ERR_MISSING_ARGS,c=n.ERR_STREAM_DESTROYED;function a(O){if(O)throw O}function u(O){return O.setHeader&&typeof O.abort=="function"}function h(O,P,C,x){x=t(x);var D=!1;O.on("close",function(){D=!0}),e===void 0&&(e=requireEndOfStream()),e(O,{readable:P,writable:C},function(B){if(B)return x(B);D=!0,x()});var k=!1;return function(B){if(!D&&!k){if(k=!0,u(O))return O.abort();if(typeof O.destroy=="function")return O.destroy();x(B||new c("pipe"))}}}function v(O){O()}function b(O,P){return O.pipe(P)}function y(O){return!O.length||typeof O[O.length-1]!="function"?a:O.pop()}function w(){for(var O=arguments.length,P=new Array(O),C=0;C<O;C++)P[C]=arguments[C];var x=y(P);if(Array.isArray(P[0])&&(P=P[0]),P.length<2)throw new o("streams");var D,k=P.map(function(B,q){var V=q<P.length-1,ee=q>0;return h(B,V,ee,function(te){D||(D=te),te&&k.forEach(v),!V&&(k.forEach(v),x(D))})});return P.reduce(b)}return pipeline_1=w,pipeline_1}var streamBrowserify=Stream,EE=eventsExports.EventEmitter,inherits$q=inherits_browserExports$3;inherits$q(Stream,EE),Stream.Readable=require_stream_readable$1(),Stream.Writable=require_stream_writable$1(),Stream.Duplex=require_stream_duplex$1(),Stream.Transform=require_stream_transform(),Stream.PassThrough=require_stream_passthrough(),Stream.finished=requireEndOfStream(),Stream.pipeline=requirePipeline(),Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(e,t){var n=this;function o(y){e.writable&&e.write(y)===!1&&n.pause&&n.pause()}n.on("data",o);function c(){n.readable&&n.resume&&n.resume()}e.on("drain",c),!e._isStdio&&(!t||t.end!==!1)&&(n.on("end",u),n.on("close",h));var a=!1;function u(){a||(a=!0,e.end())}function h(){a||(a=!0,typeof e.destroy=="function"&&e.destroy())}function v(y){if(b(),EE.listenerCount(this,"error")===0)throw y}n.on("error",v),e.on("error",v);function b(){n.removeListener("data",o),e.removeListener("drain",c),n.removeListener("end",u),n.removeListener("close",h),n.removeListener("error",v),e.removeListener("error",v),n.removeListener("end",b),n.removeListener("close",b),e.removeListener("close",b)}return n.on("end",b),n.on("close",b),e.on("close",b),e.emit("pipe",n),e};var Buffer$B=safeBufferExports$1.Buffer,Transform$7=streamBrowserify.Transform,inherits$p=inherits_browserExports$3;function throwIfNotStringOrBuffer(e,t){if(!Buffer$B.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}function HashBase$2(e){Transform$7.call(this),this._block=Buffer$B.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$p(HashBase$2,Transform$7),HashBase$2.prototype._transform=function(e,t,n){var o=null;try{this.update(e,t)}catch(c){o=c}n(o)},HashBase$2.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},HashBase$2.prototype.update=function(e,t){if(throwIfNotStringOrBuffer(e,"Data"),this._finalized)throw new Error("Digest already called");Buffer$B.isBuffer(e)||(e=Buffer$B.from(e,t));for(var n=this._block,o=0;this._blockOffset+e.length-o>=this._blockSize;){for(var c=this._blockOffset;c<this._blockSize;)n[c++]=e[o++];this._update(),this._blockOffset=0}for(;o<e.length;)n[this._blockOffset++]=e[o++];for(var a=0,u=e.length*8;u>0;++a)this._length[a]+=u,u=this._length[a]/4294967296|0,u>0&&(this._length[a]-=4294967296*u);return this},HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")},HashBase$2.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$o=inherits_browserExports$3,HashBase$1=hashBase,Buffer$A=safeBufferExports$1.Buffer,ARRAY16$1=new Array(16);function MD5$3(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$o(MD5$3,HashBase$1),MD5$3.prototype._update=function(){for(var e=ARRAY16$1,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var n=this._a,o=this._b,c=this._c,a=this._d;n=fnF(n,o,c,a,e[0],3614090360,7),a=fnF(a,n,o,c,e[1],3905402710,12),c=fnF(c,a,n,o,e[2],606105819,17),o=fnF(o,c,a,n,e[3],3250441966,22),n=fnF(n,o,c,a,e[4],4118548399,7),a=fnF(a,n,o,c,e[5],1200080426,12),c=fnF(c,a,n,o,e[6],2821735955,17),o=fnF(o,c,a,n,e[7],4249261313,22),n=fnF(n,o,c,a,e[8],1770035416,7),a=fnF(a,n,o,c,e[9],2336552879,12),c=fnF(c,a,n,o,e[10],4294925233,17),o=fnF(o,c,a,n,e[11],2304563134,22),n=fnF(n,o,c,a,e[12],1804603682,7),a=fnF(a,n,o,c,e[13],4254626195,12),c=fnF(c,a,n,o,e[14],2792965006,17),o=fnF(o,c,a,n,e[15],1236535329,22),n=fnG(n,o,c,a,e[1],4129170786,5),a=fnG(a,n,o,c,e[6],3225465664,9),c=fnG(c,a,n,o,e[11],643717713,14),o=fnG(o,c,a,n,e[0],3921069994,20),n=fnG(n,o,c,a,e[5],3593408605,5),a=fnG(a,n,o,c,e[10],38016083,9),c=fnG(c,a,n,o,e[15],3634488961,14),o=fnG(o,c,a,n,e[4],3889429448,20),n=fnG(n,o,c,a,e[9],568446438,5),a=fnG(a,n,o,c,e[14],3275163606,9),c=fnG(c,a,n,o,e[3],4107603335,14),o=fnG(o,c,a,n,e[8],1163531501,20),n=fnG(n,o,c,a,e[13],2850285829,5),a=fnG(a,n,o,c,e[2],4243563512,9),c=fnG(c,a,n,o,e[7],1735328473,14),o=fnG(o,c,a,n,e[12],2368359562,20),n=fnH(n,o,c,a,e[5],4294588738,4),a=fnH(a,n,o,c,e[8],2272392833,11),c=fnH(c,a,n,o,e[11],1839030562,16),o=fnH(o,c,a,n,e[14],4259657740,23),n=fnH(n,o,c,a,e[1],2763975236,4),a=fnH(a,n,o,c,e[4],1272893353,11),c=fnH(c,a,n,o,e[7],4139469664,16),o=fnH(o,c,a,n,e[10],3200236656,23),n=fnH(n,o,c,a,e[13],681279174,4),a=fnH(a,n,o,c,e[0],3936430074,11),c=fnH(c,a,n,o,e[3],3572445317,16),o=fnH(o,c,a,n,e[6],76029189,23),n=fnH(n,o,c,a,e[9],3654602809,4),a=fnH(a,n,o,c,e[12],3873151461,11),c=fnH(c,a,n,o,e[15],530742520,16),o=fnH(o,c,a,n,e[2],3299628645,23),n=fnI(n,o,c,a,e[0],4096336452,6),a=fnI(a,n,o,c,e[7],1126891415,10),c=fnI(c,a,n,o,e[14],2878612391,15),o=fnI(o,c,a,n,e[5],4237533241,21),n=fnI(n,o,c,a,e[12],1700485571,6),a=fnI(a,n,o,c,e[3],2399980690,10),c=fnI(c,a,n,o,e[10],4293915773,15),o=fnI(o,c,a,n,e[1],2240044497,21),n=fnI(n,o,c,a,e[8],1873313359,6),a=fnI(a,n,o,c,e[15],4264355552,10),c=fnI(c,a,n,o,e[6],2734768916,15),o=fnI(o,c,a,n,e[13],1309151649,21),n=fnI(n,o,c,a,e[4],4149444226,6),a=fnI(a,n,o,c,e[11],3174756917,10),c=fnI(c,a,n,o,e[2],718787259,15),o=fnI(o,c,a,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+o|0,this._c=this._c+c|0,this._d=this._d+a|0},MD5$3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Buffer$A.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function rotl$1(e,t){return e<<t|e>>>32-t}function fnF(e,t,n,o,c,a,u){return rotl$1(e+(t&n|~t&o)+c+a|0,u)+t|0}function fnG(e,t,n,o,c,a,u){return rotl$1(e+(t&o|n&~o)+c+a|0,u)+t|0}function fnH(e,t,n,o,c,a,u){return rotl$1(e+(t^n^o)+c+a|0,u)+t|0}function fnI(e,t,n,o,c,a,u){return rotl$1(e+(n^(t|~o))+c+a|0,u)+t|0}var md5_js=MD5$3,Buffer$z=require$$0$5.Buffer,inherits$n=inherits_browserExports$3,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr$1=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$4(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$n(RIPEMD160$4,HashBase),RIPEMD160$4.prototype._update=function(){for(var e=ARRAY16,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);for(var n=this._a|0,o=this._b|0,c=this._c|0,a=this._d|0,u=this._e|0,h=this._a|0,v=this._b|0,b=this._c|0,y=this._d|0,w=this._e|0,O=0;O<80;O+=1){var P,C;O<16?(P=fn1(n,o,c,a,u,e[zl[O]],hl[0],sl$1[O]),C=fn5(h,v,b,y,w,e[zr[O]],hr$1[0],sr$1[O])):O<32?(P=fn2(n,o,c,a,u,e[zl[O]],hl[1],sl$1[O]),C=fn4(h,v,b,y,w,e[zr[O]],hr$1[1],sr$1[O])):O<48?(P=fn3(n,o,c,a,u,e[zl[O]],hl[2],sl$1[O]),C=fn3(h,v,b,y,w,e[zr[O]],hr$1[2],sr$1[O])):O<64?(P=fn4(n,o,c,a,u,e[zl[O]],hl[3],sl$1[O]),C=fn2(h,v,b,y,w,e[zr[O]],hr$1[3],sr$1[O])):(P=fn5(n,o,c,a,u,e[zl[O]],hl[4],sl$1[O]),C=fn1(h,v,b,y,w,e[zr[O]],hr$1[4],sr$1[O])),n=u,u=a,a=rotl(c,10),c=o,o=P,h=w,w=y,y=rotl(b,10),b=v,v=C}var x=this._b+c+y|0;this._b=this._c+a+w|0,this._c=this._d+u+h|0,this._d=this._e+n+v|0,this._e=this._a+o+b|0,this._a=x},RIPEMD160$4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Buffer$z.alloc?Buffer$z.alloc(20):new Buffer$z(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};function rotl(e,t){return e<<t|e>>>32-t}function fn1(e,t,n,o,c,a,u,h){return rotl(e+(t^n^o)+a+u|0,h)+c|0}function fn2(e,t,n,o,c,a,u,h){return rotl(e+(t&n|~t&o)+a+u|0,h)+c|0}function fn3(e,t,n,o,c,a,u,h){return rotl(e+((t|~n)^o)+a+u|0,h)+c|0}function fn4(e,t,n,o,c,a,u,h){return rotl(e+(t&o|n&~o)+a+u|0,h)+c|0}function fn5(e,t,n,o,c,a,u,h){return rotl(e+(t^(n|~o))+a+u|0,h)+c|0}var ripemd160=RIPEMD160$4,sha_js={exports:{}},Buffer$y=safeBufferExports$1.Buffer;function Hash$7(e,t){this._block=Buffer$y.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Hash$7.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Buffer$y.from(e,t));for(var n=this._block,o=this._blockSize,c=e.length,a=this._len,u=0;u<c;){for(var h=a%o,v=Math.min(c-u,o-h),b=0;b<v;b++)n[h+b]=e[u+b];a+=v,u+=v,a%o===0&&this._update(n)}return this._len+=c,this},Hash$7.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var o=(n&4294967295)>>>0,c=(n-o)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$7=Hash$7,inherits$m=inherits_browserExports$3,Hash$6=hash$7,Buffer$x=safeBufferExports$1.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha(){this.init(),this._w=W$5,Hash$6.call(this,64,56)}inherits$m(Sha,Hash$6),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(e){return e<<5|e>>>27}function rotl30$1(e){return e<<30|e>>>2}function ft$1(e,t,n,o){return e===0?t&n|~t&o:e===2?t&n|t&o|n&o:t^n^o}Sha.prototype._update=function(e){for(var t=this._w,n=this._a|0,o=this._b|0,c=this._c|0,a=this._d|0,u=this._e|0,h=0;h<16;++h)t[h]=e.readInt32BE(h*4);for(;h<80;++h)t[h]=t[h-3]^t[h-8]^t[h-14]^t[h-16];for(var v=0;v<80;++v){var b=~~(v/20),y=rotl5$1(n)+ft$1(b,o,c,a)+u+t[v]+K$4[b]|0;u=a,a=c,c=rotl30$1(o),o=n,n=y}this._a=n+this._a|0,this._b=o+this._b|0,this._c=c+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},Sha.prototype._hash=function(){var e=Buffer$x.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var sha$4=Sha,inherits$l=inherits_browserExports$3,Hash$5=hash$7,Buffer$w=safeBufferExports$1.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$4=new Array(80);function Sha1(){this.init(),this._w=W$4,Hash$5.call(this,64,56)}inherits$l(Sha1,Hash$5),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(e){return e<<1|e>>>31}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,n,o){return e===0?t&n|~t&o:e===2?t&n|t&o|n&o:t^n^o}Sha1.prototype._update=function(e){for(var t=this._w,n=this._a|0,o=this._b|0,c=this._c|0,a=this._d|0,u=this._e|0,h=0;h<16;++h)t[h]=e.readInt32BE(h*4);for(;h<80;++h)t[h]=rotl1(t[h-3]^t[h-8]^t[h-14]^t[h-16]);for(var v=0;v<80;++v){var b=~~(v/20),y=rotl5(n)+ft(b,o,c,a)+u+t[v]+K$3[b]|0;u=a,a=c,c=rotl30(o),o=n,n=y}this._a=n+this._a|0,this._b=o+this._b|0,this._c=c+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},Sha1.prototype._hash=function(){var e=Buffer$w.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var sha1$1=Sha1,inherits$k=inherits_browserExports$3,Hash$4=hash$7,Buffer$v=safeBufferExports$1.Buffer,K$2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$3=new Array(64);function Sha256$1(){this.init(),this._w=W$3,Hash$4.call(this,64,56)}inherits$k(Sha256$1,Hash$4),Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(e,t,n){return n^e&(t^n)}function maj$1(e,t,n){return e&t|n&(e|t)}function sigma0$1(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function sigma1$1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gamma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function gamma1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Sha256$1.prototype._update=function(e){for(var t=this._w,n=this._a|0,o=this._b|0,c=this._c|0,a=this._d|0,u=this._e|0,h=this._f|0,v=this._g|0,b=this._h|0,y=0;y<16;++y)t[y]=e.readInt32BE(y*4);for(;y<64;++y)t[y]=gamma1(t[y-2])+t[y-7]+gamma0(t[y-15])+t[y-16]|0;for(var w=0;w<64;++w){var O=b+sigma1$1(u)+ch(u,h,v)+K$2[w]+t[w]|0,P=sigma0$1(n)+maj$1(n,o,c)|0;b=v,v=h,h=u,u=a+O|0,a=c,c=o,o=n,n=O+P|0}this._a=n+this._a|0,this._b=o+this._b|0,this._c=c+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=h+this._f|0,this._g=v+this._g|0,this._h=b+this._h|0},Sha256$1.prototype._hash=function(){var e=Buffer$v.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var sha256$5=Sha256$1,inherits$j=inherits_browserExports$3,Sha256=sha256$5,Hash$3=hash$7,Buffer$u=safeBufferExports$1.Buffer,W$2=new Array(64);function Sha224(){this.init(),this._w=W$2,Hash$3.call(this,64,56)}inherits$j(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var e=Buffer$u.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var sha224$1=Sha224,inherits$i=inherits_browserExports$3,Hash$2=hash$7,Buffer$t=safeBufferExports$1.Buffer,K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$1=new Array(160);function Sha512(){this.init(),this._w=W$1,Hash$2.call(this,128,112)}inherits$i(Sha512,Hash$2),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(e,t,n){return n^e&(t^n)}function maj(e,t,n){return e&t|n&(e|t)}function sigma0(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function sigma1(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Gamma0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Gamma0l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Gamma1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Gamma1l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function getCarry(e,t){return e>>>0<t>>>0?1:0}Sha512.prototype._update=function(e){for(var t=this._w,n=this._ah|0,o=this._bh|0,c=this._ch|0,a=this._dh|0,u=this._eh|0,h=this._fh|0,v=this._gh|0,b=this._hh|0,y=this._al|0,w=this._bl|0,O=this._cl|0,P=this._dl|0,C=this._el|0,x=this._fl|0,D=this._gl|0,k=this._hl|0,B=0;B<32;B+=2)t[B]=e.readInt32BE(B*4),t[B+1]=e.readInt32BE(B*4+4);for(;B<160;B+=2){var q=t[B-30],V=t[B-15*2+1],ee=Gamma0(q,V),te=Gamma0l(V,q);q=t[B-4],V=t[B-4+1];var ce=Gamma1(q,V),Q=Gamma1l(V,q),ne=t[B-7*2],fe=t[B-7*2+1],l=t[B-16*2],p=t[B-16*2+1],m=te+fe|0,_=ee+ne+getCarry(m,te)|0;m=m+Q|0,_=_+ce+getCarry(m,Q)|0,m=m+p|0,_=_+l+getCarry(m,p)|0,t[B]=_,t[B+1]=m}for(var A=0;A<160;A+=2){_=t[A],m=t[A+1];var I=maj(n,o,c),T=maj(y,w,O),S=sigma0(n,y),d=sigma0(y,n),E=sigma1(u,C),M=sigma1(C,u),U=K$1[A],F=K$1[A+1],N=Ch(u,h,v),L=Ch(C,x,D),H=k+M|0,Y=b+E+getCarry(H,k)|0;H=H+L|0,Y=Y+N+getCarry(H,L)|0,H=H+F|0,Y=Y+U+getCarry(H,F)|0,H=H+m|0,Y=Y+_+getCarry(H,m)|0;var Z=d+T|0,de=S+I+getCarry(Z,d)|0;b=v,k=D,v=h,D=x,h=u,x=C,C=P+H|0,u=a+Y+getCarry(C,P)|0,a=c,P=O,c=o,O=w,o=n,w=y,y=H+Z|0,n=Y+de+getCarry(y,H)|0}this._al=this._al+y|0,this._bl=this._bl+w|0,this._cl=this._cl+O|0,this._dl=this._dl+P|0,this._el=this._el+C|0,this._fl=this._fl+x|0,this._gl=this._gl+D|0,this._hl=this._hl+k|0,this._ah=this._ah+n+getCarry(this._al,y)|0,this._bh=this._bh+o+getCarry(this._bl,w)|0,this._ch=this._ch+c+getCarry(this._cl,O)|0,this._dh=this._dh+a+getCarry(this._dl,P)|0,this._eh=this._eh+u+getCarry(this._el,C)|0,this._fh=this._fh+h+getCarry(this._fl,x)|0,this._gh=this._gh+v+getCarry(this._gl,D)|0,this._hh=this._hh+b+getCarry(this._hl,k)|0},Sha512.prototype._hash=function(){var e=Buffer$t.allocUnsafe(64);function t(n,o,c){e.writeInt32BE(n,c),e.writeInt32BE(o,c+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var sha512$2=Sha512,inherits$h=inherits_browserExports$3,SHA512$3=sha512$2,Hash$1=hash$7,Buffer$s=safeBufferExports$1.Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash$1.call(this,128,112)}inherits$h(Sha384,SHA512$3),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var e=Buffer$s.allocUnsafe(48);function t(n,o,c){e.writeInt32BE(n,c),e.writeInt32BE(o,c+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var sha384$1=Sha384,exports=sha_js.exports=function(e){e=e.toLowerCase();var t=exports[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};exports.sha=sha$4,exports.sha1=sha1$1,exports.sha224=sha224$1,exports.sha256=sha256$5,exports.sha384=sha384$1,exports.sha512=sha512$2;var sha_jsExports=sha_js.exports,Buffer$r=safeBufferExports$1.Buffer,Transform$6=streamBrowserify.Transform,StringDecoder=string_decoder.StringDecoder,inherits$g=inherits_browserExports$3;function CipherBase$1(e){Transform$6.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$g(CipherBase$1,Transform$6),CipherBase$1.prototype.update=function(e,t,n){typeof e=="string"&&(e=Buffer$r.from(e,t));var o=this._update(e);return this.hashMode?this:(n&&(o=this._toString(o,n)),o)},CipherBase$1.prototype.setAutoPadding=function(){},CipherBase$1.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase$1.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase$1.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase$1.prototype._transform=function(e,t,n){var o;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(c){o=c}finally{n(o)}},CipherBase$1.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(n){t=n}e(t)},CipherBase$1.prototype._finalOrDigest=function(e){var t=this.__final()||Buffer$r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},CipherBase$1.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new StringDecoder(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var o=this._decoder.write(e);return n&&(o+=this._decoder.end()),o};var cipherBase=CipherBase$1,inherits$f=inherits_browserExports$3,MD5$2=md5_js,RIPEMD160$3=ripemd160,sha$3=sha_jsExports,Base$5=cipherBase;function Hash(e){Base$5.call(this,"digest"),this._hash=e}inherits$f(Hash,Base$5),Hash.prototype._update=function(e){this._hash.update(e)},Hash.prototype._final=function(){return this._hash.digest()};var browser$k=function(e){return e=e.toLowerCase(),e==="md5"?new MD5$2:e==="rmd160"||e==="ripemd160"?new RIPEMD160$3:new Hash(sha$3(e))},inherits$e=inherits_browserExports$3,Buffer$q=safeBufferExports$1.Buffer,Base$4=cipherBase,ZEROS$2=Buffer$q.alloc(128),blocksize=64;function Hmac$3(e,t){Base$4.call(this,"digest"),typeof t=="string"&&(t=Buffer$q.from(t)),this._alg=e,this._key=t,t.length>blocksize?t=e(t):t.length<blocksize&&(t=Buffer$q.concat([t,ZEROS$2],blocksize));for(var n=this._ipad=Buffer$q.allocUnsafe(blocksize),o=this._opad=Buffer$q.allocUnsafe(blocksize),c=0;c<blocksize;c++)n[c]=t[c]^54,o[c]=t[c]^92;this._hash=[n]}inherits$e(Hmac$3,Base$4),Hmac$3.prototype._update=function(e){this._hash.push(e)},Hmac$3.prototype._final=function(){var e=this._alg(Buffer$q.concat(this._hash));return this._alg(Buffer$q.concat([this._opad,e]))};var legacy=Hmac$3,MD5$1=md5_js,md5$2=function(e){return new MD5$1().update(e).digest()},inherits$d=inherits_browserExports$3,Legacy=legacy,Base$3=cipherBase,Buffer$p=safeBufferExports$1.Buffer,md5$1=md5$2,RIPEMD160$2=ripemd160,sha$2=sha_jsExports,ZEROS$1=Buffer$p.alloc(128);function Hmac$2(e,t){Base$3.call(this,"digest"),typeof t=="string"&&(t=Buffer$p.from(t));var n=e==="sha512"||e==="sha384"?128:64;if(this._alg=e,this._key=t,t.length>n){var o=e==="rmd160"?new RIPEMD160$2:sha$2(e);t=o.update(t).digest()}else t.length<n&&(t=Buffer$p.concat([t,ZEROS$1],n));for(var c=this._ipad=Buffer$p.allocUnsafe(n),a=this._opad=Buffer$p.allocUnsafe(n),u=0;u<n;u++)c[u]=t[u]^54,a[u]=t[u]^92;this._hash=e==="rmd160"?new RIPEMD160$2:sha$2(e),this._hash.update(c)}inherits$d(Hmac$2,Base$3),Hmac$2.prototype._update=function(e){this._hash.update(e)},Hmac$2.prototype._final=function(){var e=this._hash.digest(),t=this._alg==="rmd160"?new RIPEMD160$2:sha$2(this._alg);return t.update(this._opad).update(e).digest()};var browser$j=function(e,t){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Hmac$2("rmd160",t):e==="md5"?new Legacy(md5$1,t):new Hmac$2(e,t)};const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$4={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$4,sha224,sha384,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos=require$$6,browser$i={},MAX_ALLOC=Math.pow(2,30)-1,precondition=function(e,t){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof t!="number")throw new TypeError("Key length not a number");if(t<0||t>MAX_ALLOC||t!==t)throw new TypeError("Bad key length")},defaultEncoding$2;if(commonjsGlobal$7.process&&commonjsGlobal$7.process.browser)defaultEncoding$2="utf-8";else if(commonjsGlobal$7.process&&commonjsGlobal$7.process.version){var pVersionMajor=parseInt(process$1$5.version.split(".")[0].slice(1),10);defaultEncoding$2=pVersionMajor>=6?"utf-8":"binary"}else defaultEncoding$2="utf-8";var defaultEncoding_1=defaultEncoding$2,Buffer$o=safeBufferExports$1.Buffer,toBuffer$2=function(e,t,n){if(Buffer$o.isBuffer(e))return e;if(typeof e=="string")return Buffer$o.from(e,t);if(ArrayBuffer.isView(e))return Buffer$o.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")},md5=md5$2,RIPEMD160$1=ripemd160,sha$1=sha_jsExports,Buffer$n=safeBufferExports$1.Buffer,checkParameters$1=precondition,defaultEncoding$1=defaultEncoding_1,toBuffer$1=toBuffer$2,ZEROS=Buffer$n.alloc(128),sizes={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac$1(e,t,n){var o=getDigest(e),c=e==="sha512"||e==="sha384"?128:64;t.length>c?t=o(t):t.length<c&&(t=Buffer$n.concat([t,ZEROS],c));for(var a=Buffer$n.allocUnsafe(c+sizes[e]),u=Buffer$n.allocUnsafe(c+sizes[e]),h=0;h<c;h++)a[h]=t[h]^54,u[h]=t[h]^92;var v=Buffer$n.allocUnsafe(c+n+4);a.copy(v,0,0,c),this.ipad1=v,this.ipad2=a,this.opad=u,this.alg=e,this.blocksize=c,this.hash=o,this.size=sizes[e]}Hmac$1.prototype.run=function(e,t){e.copy(t,this.blocksize);var n=this.hash(t);return n.copy(this.opad,this.blocksize),this.hash(this.opad)};function getDigest(e){function t(o){return sha$1(e).update(o).digest()}function n(o){return new RIPEMD160$1().update(o).digest()}return e==="rmd160"||e==="ripemd160"?n:e==="md5"?md5:t}function pbkdf2(e,t,n,o,c){checkParameters$1(n,o),e=toBuffer$1(e,defaultEncoding$1,"Password"),t=toBuffer$1(t,defaultEncoding$1,"Salt"),c=c||"sha1";var a=new Hmac$1(c,e,t.length),u=Buffer$n.allocUnsafe(o),h=Buffer$n.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var v=0,b=sizes[c],y=Math.ceil(o/b),w=1;w<=y;w++){h.writeUInt32BE(w,t.length);for(var O=a.run(h,a.ipad1),P=O,C=1;C<n;C++){P=a.run(P,a.ipad2);for(var x=0;x<b;x++)O[x]^=P[x]}O.copy(u,v),v+=b}return u}var syncBrowser=pbkdf2,Buffer$m=safeBufferExports$1.Buffer,checkParameters=precondition,defaultEncoding=defaultEncoding_1,sync=syncBrowser,toBuffer=toBuffer$2,ZERO_BUF,subtle=commonjsGlobal$7.crypto&&commonjsGlobal$7.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[];function checkNative(e){if(commonjsGlobal$7.process&&!commonjsGlobal$7.process.browser||!subtle||!subtle.importKey||!subtle.deriveBits)return Promise.resolve(!1);if(checks[e]!==void 0)return checks[e];ZERO_BUF=ZERO_BUF||Buffer$m.alloc(8);var t=browserPbkdf2(ZERO_BUF,ZERO_BUF,10,128,e).then(function(){return!0}).catch(function(){return!1});return checks[e]=t,t}var nextTick$1;function getNextTick(){return nextTick$1||(commonjsGlobal$7.process&&commonjsGlobal$7.process.nextTick?nextTick$1=commonjsGlobal$7.process.nextTick:commonjsGlobal$7.queueMicrotask?nextTick$1=commonjsGlobal$7.queueMicrotask:commonjsGlobal$7.setImmediate?nextTick$1=commonjsGlobal$7.setImmediate:nextTick$1=commonjsGlobal$7.setTimeout,nextTick$1)}function browserPbkdf2(e,t,n,o,c){return subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(a){return subtle.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:c}},a,o<<3)}).then(function(a){return Buffer$m.from(a)})}function resolvePromise(e,t){e.then(function(n){getNextTick()(function(){t(null,n)})},function(n){getNextTick()(function(){t(n)})})}var async=function(e,t,n,o,c,a){typeof c=="function"&&(a=c,c=void 0),c=c||"sha1";var u=toBrowser[c.toLowerCase()];if(!u||typeof commonjsGlobal$7.Promise!="function"){getNextTick()(function(){var h;try{h=sync(e,t,n,o,c)}catch(v){return a(v)}a(null,h)});return}if(checkParameters(n,o),e=toBuffer(e,defaultEncoding,"Password"),t=toBuffer(t,defaultEncoding,"Salt"),typeof a!="function")throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(u).then(function(h){return h?browserPbkdf2(e,t,n,o,u):sync(e,t,n,o,c)}),a)};browser$i.pbkdf2=async,browser$i.pbkdf2Sync=syncBrowser;var browser$h={},des$2={},utils$$={};utils$$.readUInt32BE=function(e,t){var n=e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t];return n>>>0},utils$$.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=t&255},utils$$.ip=function(e,t,n,o){for(var c=0,a=0,u=6;u>=0;u-=2){for(var h=0;h<=24;h+=8)c<<=1,c|=t>>>h+u&1;for(var h=0;h<=24;h+=8)c<<=1,c|=e>>>h+u&1}for(var u=6;u>=0;u-=2){for(var h=1;h<=25;h+=8)a<<=1,a|=t>>>h+u&1;for(var h=1;h<=25;h+=8)a<<=1,a|=e>>>h+u&1}n[o+0]=c>>>0,n[o+1]=a>>>0},utils$$.rip=function(e,t,n,o){for(var c=0,a=0,u=0;u<4;u++)for(var h=24;h>=0;h-=8)c<<=1,c|=t>>>h+u&1,c<<=1,c|=e>>>h+u&1;for(var u=4;u<8;u++)for(var h=24;h>=0;h-=8)a<<=1,a|=t>>>h+u&1,a<<=1,a|=e>>>h+u&1;n[o+0]=c>>>0,n[o+1]=a>>>0},utils$$.pc1=function(e,t,n,o){for(var c=0,a=0,u=7;u>=5;u--){for(var h=0;h<=24;h+=8)c<<=1,c|=t>>h+u&1;for(var h=0;h<=24;h+=8)c<<=1,c|=e>>h+u&1}for(var h=0;h<=24;h+=8)c<<=1,c|=t>>h+u&1;for(var u=1;u<=3;u++){for(var h=0;h<=24;h+=8)a<<=1,a|=t>>h+u&1;for(var h=0;h<=24;h+=8)a<<=1,a|=e>>h+u&1}for(var h=0;h<=24;h+=8)a<<=1,a|=e>>h+u&1;n[o+0]=c>>>0,n[o+1]=a>>>0},utils$$.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$$.pc2=function(e,t,n,o){for(var c=0,a=0,u=pc2table.length>>>1,h=0;h<u;h++)c<<=1,c|=e>>>pc2table[h]&1;for(var h=u;h<pc2table.length;h++)a<<=1,a|=t>>>pc2table[h]&1;n[o+0]=c>>>0,n[o+1]=a>>>0},utils$$.expand=function(e,t,n){var o=0,c=0;o=(e&1)<<5|e>>>27;for(var a=23;a>=15;a-=4)o<<=6,o|=e>>>a&63;for(var a=11;a>=3;a-=4)c|=e>>>a&63,c<<=6;c|=(e&31)<<1|e>>>31,t[n+0]=o>>>0,t[n+1]=c>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$$.substitute=function(e,t){for(var n=0,o=0;o<4;o++){var c=e>>>18-o*6&63,a=sTable[o*64+c];n<<=4,n|=a}for(var o=0;o<4;o++){var c=t>>>18-o*6&63,a=sTable[4*64+o*64+c];n<<=4,n|=a}return n>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];utils$$.permute=function(e){for(var t=0,n=0;n<permuteTable.length;n++)t<<=1,t|=e>>>permuteTable[n]&1;return t>>>0},utils$$.padSplit=function(e,t,n){for(var o=e.toString(2);o.length<t;)o="0"+o;for(var c=[],a=0;a<t;a+=n)c.push(o.slice(a,a+n));return c.join(" ")};var minimalisticAssert=assert$m;function assert$m(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$m.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var assert$l=minimalisticAssert;function Cipher$3(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=e.padding!==!1}var cipher=Cipher$3;Cipher$3.prototype._init=function(){},Cipher$3.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)},Cipher$3.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),o=0;o<n;o++)this.buffer[this.bufferOff+o]=e[t+o];return this.bufferOff+=n,n},Cipher$3.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},Cipher$3.prototype._updateEncrypt=function(e){var t=0,n=0,o=(this.bufferOff+e.length)/this.blockSize|0,c=new Array(o*this.blockSize);this.bufferOff!==0&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(c,n)));for(var a=e.length-(e.length-t)%this.blockSize;t<a;t+=this.blockSize)this._update(e,t,c,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return c},Cipher$3.prototype._updateDecrypt=function(e){for(var t=0,n=0,o=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,c=new Array(o*this.blockSize);o>0;o--)t+=this._buffer(e,t),n+=this._flushBuffer(c,n);return t+=this._buffer(e,t),c},Cipher$3.prototype.final=function(e){var t;e&&(t=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),t?t.concat(n):n},Cipher$3.prototype._pad=function(e,t){if(t===0)return!1;for(;t<e.length;)e[t++]=0;return!0},Cipher$3.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},Cipher$3.prototype._unpad=function(e){return e},Cipher$3.prototype._finalDecrypt=function(){assert$l.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var assert$k=minimalisticAssert,inherits$c=inherits_browserExports$3,utils$_=utils$$,Cipher$2=cipher;function DESState(){this.tmp=new Array(2),this.keys=null}function DES$3(e){Cipher$2.call(this,e);var t=new DESState;this._desState=t,this.deriveKeys(t,e.key)}inherits$c(DES$3,Cipher$2);var des$1=DES$3;DES$3.create=function(e){return new DES$3(e)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES$3.prototype.deriveKeys=function(e,t){e.keys=new Array(32),assert$k.equal(t.length,this.blockSize,"Invalid key length");var n=utils$_.readUInt32BE(t,0),o=utils$_.readUInt32BE(t,4);utils$_.pc1(n,o,e.tmp,0),n=e.tmp[0],o=e.tmp[1];for(var c=0;c<e.keys.length;c+=2){var a=shiftTable[c>>>1];n=utils$_.r28shl(n,a),o=utils$_.r28shl(o,a),utils$_.pc2(n,o,e.keys,c)}},DES$3.prototype._update=function(e,t,n,o){var c=this._desState,a=utils$_.readUInt32BE(e,t),u=utils$_.readUInt32BE(e,t+4);utils$_.ip(a,u,c.tmp,0),a=c.tmp[0],u=c.tmp[1],this.type==="encrypt"?this._encrypt(c,a,u,c.tmp,0):this._decrypt(c,a,u,c.tmp,0),a=c.tmp[0],u=c.tmp[1],utils$_.writeUInt32BE(n,a,o),utils$_.writeUInt32BE(n,u,o+4)},DES$3.prototype._pad=function(e,t){if(this.padding===!1)return!1;for(var n=e.length-t,o=t;o<e.length;o++)e[o]=n;return!0},DES$3.prototype._unpad=function(e){if(this.padding===!1)return e;for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)assert$k.equal(e[n],t);return e.slice(0,e.length-t)},DES$3.prototype._encrypt=function(e,t,n,o,c){for(var a=t,u=n,h=0;h<e.keys.length;h+=2){var v=e.keys[h],b=e.keys[h+1];utils$_.expand(u,e.tmp,0),v^=e.tmp[0],b^=e.tmp[1];var y=utils$_.substitute(v,b),w=utils$_.permute(y),O=u;u=(a^w)>>>0,a=O}utils$_.rip(u,a,o,c)},DES$3.prototype._decrypt=function(e,t,n,o,c){for(var a=n,u=t,h=e.keys.length-2;h>=0;h-=2){var v=e.keys[h],b=e.keys[h+1];utils$_.expand(a,e.tmp,0),v^=e.tmp[0],b^=e.tmp[1];var y=utils$_.substitute(v,b),w=utils$_.permute(y),O=a;a=(u^w)>>>0,u=O}utils$_.rip(a,u,o,c)};var cbc$1={},assert$j=minimalisticAssert,inherits$b=inherits_browserExports$3,proto={};function CBCState(e){assert$j.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function instantiate(e){function t(a){e.call(this,a),this._cbcInit()}inherits$b(t,e);for(var n=Object.keys(proto),o=0;o<n.length;o++){var c=n[o];t.prototype[c]=proto[c]}return t.create=function(a){return new t(a)},t}cbc$1.instantiate=instantiate,proto._cbcInit=function(){var e=new CBCState(this.options.iv);this._cbcState=e},proto._update=function(e,t,n,o){var c=this._cbcState,a=this.constructor.super_.prototype,u=c.iv;if(this.type==="encrypt"){for(var h=0;h<this.blockSize;h++)u[h]^=e[t+h];a._update.call(this,u,0,n,o);for(var h=0;h<this.blockSize;h++)u[h]=n[o+h]}else{a._update.call(this,e,t,n,o);for(var h=0;h<this.blockSize;h++)n[o+h]^=u[h];for(var h=0;h<this.blockSize;h++)u[h]=e[t+h]}};var assert$i=minimalisticAssert,inherits$a=inherits_browserExports$3,Cipher$1=cipher,DES$2=des$1;function EDEState(e,t){assert$i.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),o=t.slice(8,16),c=t.slice(16,24);e==="encrypt"?this.ciphers=[DES$2.create({type:"encrypt",key:n}),DES$2.create({type:"decrypt",key:o}),DES$2.create({type:"encrypt",key:c})]:this.ciphers=[DES$2.create({type:"decrypt",key:c}),DES$2.create({type:"encrypt",key:o}),DES$2.create({type:"decrypt",key:n})]}function EDE(e){Cipher$1.call(this,e);var t=new EDEState(this.type,this.options.key);this._edeState=t}inherits$a(EDE,Cipher$1);var ede=EDE;EDE.create=function(e){return new EDE(e)},EDE.prototype._update=function(e,t,n,o){var c=this._edeState;c.ciphers[0]._update(e,t,n,o),c.ciphers[1]._update(n,o,n,o),c.ciphers[2]._update(n,o,n,o)},EDE.prototype._pad=DES$2.prototype._pad,EDE.prototype._unpad=DES$2.prototype._unpad,des$2.utils=utils$$,des$2.Cipher=cipher,des$2.DES=des$1,des$2.CBC=cbc$1,des$2.EDE=ede;var CipherBase=cipherBase,des=des$2,inherits$9=inherits_browserExports$3,Buffer$l=safeBufferExports$1.Buffer,modes$3={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes$3.des=modes$3["des-cbc"],modes$3.des3=modes$3["des-ede3-cbc"];var browserifyDes=DES$1;inherits$9(DES$1,CipherBase);function DES$1(e){CipherBase.call(this);var t=e.mode.toLowerCase(),n=modes$3[t],o;e.decrypt?o="decrypt":o="encrypt";var c=e.key;Buffer$l.isBuffer(c)||(c=Buffer$l.from(c)),(t==="des-ede"||t==="des-ede-cbc")&&(c=Buffer$l.concat([c,c.slice(0,8)]));var a=e.iv;Buffer$l.isBuffer(a)||(a=Buffer$l.from(a)),this._des=n.create({key:c,iv:a,type:o})}DES$1.prototype._update=function(e){return Buffer$l.from(this._des.update(e))},DES$1.prototype._final=function(){return Buffer$l.from(this._des.final())};var browser$g={},encrypter={},ecb={};ecb.encrypt=function(e,t){return e._cipher.encryptBlock(t)},ecb.decrypt=function(e,t){return e._cipher.decryptBlock(t)};var cbc={},bufferXor=function(e,t){for(var n=Math.min(e.length,t.length),o=new Buffer$E(n),c=0;c<n;++c)o[c]=e[c]^t[c];return o},xor$7=bufferXor;cbc.encrypt=function(e,t){var n=xor$7(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},cbc.decrypt=function(e,t){var n=e._prev;e._prev=t;var o=e._cipher.decryptBlock(t);return xor$7(o,n)};var cfb={},Buffer$k=safeBufferExports$1.Buffer,xor$6=bufferXor;function encryptStart(e,t,n){var o=t.length,c=xor$6(t,e._cache);return e._cache=e._cache.slice(o),e._prev=Buffer$k.concat([e._prev,n?t:c]),c}cfb.encrypt=function(e,t,n){for(var o=Buffer$k.allocUnsafe(0),c;t.length;)if(e._cache.length===0&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=Buffer$k.allocUnsafe(0)),e._cache.length<=t.length)c=e._cache.length,o=Buffer$k.concat([o,encryptStart(e,t.slice(0,c),n)]),t=t.slice(c);else{o=Buffer$k.concat([o,encryptStart(e,t,n)]);break}return o};var cfb8={},Buffer$j=safeBufferExports$1.Buffer;function encryptByte$1(e,t,n){var o=e._cipher.encryptBlock(e._prev),c=o[0]^t;return e._prev=Buffer$j.concat([e._prev.slice(1),Buffer$j.from([n?t:c])]),c}cfb8.encrypt=function(e,t,n){for(var o=t.length,c=Buffer$j.allocUnsafe(o),a=-1;++a<o;)c[a]=encryptByte$1(e,t[a],n);return c};var cfb1={},Buffer$i=safeBufferExports$1.Buffer;function encryptByte(e,t,n){for(var o,c=-1,a=8,u=0,h,v;++c<a;)o=e._cipher.encryptBlock(e._prev),h=t&1<<7-c?128:0,v=o[0]^h,u+=(v&128)>>c%8,e._prev=shiftIn(e._prev,n?h:v);return u}function shiftIn(e,t){var n=e.length,o=-1,c=Buffer$i.allocUnsafe(e.length);for(e=Buffer$i.concat([e,Buffer$i.from([t])]);++o<n;)c[o]=e[o]<<1|e[o+1]>>7;return c}cfb1.encrypt=function(e,t,n){for(var o=t.length,c=Buffer$i.allocUnsafe(o),a=-1;++a<o;)c[a]=encryptByte(e,t[a],n);return c};var ofb={},xor$5=bufferXor;function getBlock$1(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}ofb.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=Buffer$E.concat([e._cache,getBlock$1(e)]);var n=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),xor$5(t,n)};var ctr={};function incr32$2(e){for(var t=e.length,n;t--;)if(n=e.readUInt8(t),n===255)e.writeUInt8(0,t);else{n++,e.writeUInt8(n,t);break}}var incr32_1=incr32$2,xor$4=bufferXor,Buffer$h=safeBufferExports$1.Buffer,incr32$1=incr32_1;function getBlock(e){var t=e._cipher.encryptBlockRaw(e._prev);return incr32$1(e._prev),t}var blockSize=16;ctr.encrypt=function(e,t){var n=Math.ceil(t.length/blockSize),o=e._cache.length;e._cache=Buffer$h.concat([e._cache,Buffer$h.allocUnsafe(n*blockSize)]);for(var c=0;c<n;c++){var a=getBlock(e),u=o+c*blockSize;e._cache.writeUInt32BE(a[0],u+0),e._cache.writeUInt32BE(a[1],u+4),e._cache.writeUInt32BE(a[2],u+8),e._cache.writeUInt32BE(a[3],u+12)}var h=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),xor$4(t,h)};const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2$1={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modeModules={ECB:ecb,CBC:cbc,CFB:cfb,CFB8:cfb8,CFB1:cfb1,OFB:ofb,CTR:ctr,GCM:ctr},modes$2=require$$2$1;for(var key$3 in modes$2)modes$2[key$3].module=modeModules[modes$2[key$3].mode];var modes_1=modes$2,aes$5={},Buffer$g=safeBufferExports$1.Buffer;function asUInt32Array(e){Buffer$g.isBuffer(e)||(e=Buffer$g.from(e));for(var t=e.length/4|0,n=new Array(t),o=0;o<t;o++)n[o]=e.readUInt32BE(o*4);return n}function scrubVec(e){for(var t=0;t<e.length;e++)e[t]=0}function cryptBlock(e,t,n,o,c){for(var a=n[0],u=n[1],h=n[2],v=n[3],b=e[0]^t[0],y=e[1]^t[1],w=e[2]^t[2],O=e[3]^t[3],P,C,x,D,k=4,B=1;B<c;B++)P=a[b>>>24]^u[y>>>16&255]^h[w>>>8&255]^v[O&255]^t[k++],C=a[y>>>24]^u[w>>>16&255]^h[O>>>8&255]^v[b&255]^t[k++],x=a[w>>>24]^u[O>>>16&255]^h[b>>>8&255]^v[y&255]^t[k++],D=a[O>>>24]^u[b>>>16&255]^h[y>>>8&255]^v[w&255]^t[k++],b=P,y=C,w=x,O=D;return P=(o[b>>>24]<<24|o[y>>>16&255]<<16|o[w>>>8&255]<<8|o[O&255])^t[k++],C=(o[y>>>24]<<24|o[w>>>16&255]<<16|o[O>>>8&255]<<8|o[b&255])^t[k++],x=(o[w>>>24]<<24|o[O>>>16&255]<<16|o[b>>>8&255]<<8|o[y&255])^t[k++],D=(o[O>>>24]<<24|o[b>>>16&255]<<16|o[y>>>8&255]<<8|o[w&255])^t[k++],P=P>>>0,C=C>>>0,x=x>>>0,D=D>>>0,[P,C,x,D]}var RCON=[0,1,2,4,8,16,32,64,128,27,54],G=function(){for(var e=new Array(256),t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var n=[],o=[],c=[[],[],[],[]],a=[[],[],[],[]],u=0,h=0,v=0;v<256;++v){var b=h^h<<1^h<<2^h<<3^h<<4;b=b>>>8^b&255^99,n[u]=b,o[b]=u;var y=e[u],w=e[y],O=e[w],P=e[b]*257^b*16843008;c[0][u]=P<<24|P>>>8,c[1][u]=P<<16|P>>>16,c[2][u]=P<<8|P>>>24,c[3][u]=P,P=O*16843009^w*65537^y*257^u*16843008,a[0][b]=P<<24|P>>>8,a[1][b]=P<<16|P>>>16,a[2][b]=P<<8|P>>>24,a[3][b]=P,u===0?u=h=1:(u=y^e[e[e[O^y]]],h^=e[e[h]])}return{SBOX:n,INV_SBOX:o,SUB_MIX:c,INV_SUB_MIX:a}}();function AES(e){this._key=asUInt32Array(e),this._reset()}AES.blockSize=16,AES.keySize=32,AES.prototype.blockSize=AES.blockSize,AES.prototype.keySize=AES.keySize,AES.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,o=(n+1)*4,c=[],a=0;a<t;a++)c[a]=e[a];for(a=t;a<o;a++){var u=c[a-1];a%t===0?(u=u<<8|u>>>24,u=G.SBOX[u>>>24]<<24|G.SBOX[u>>>16&255]<<16|G.SBOX[u>>>8&255]<<8|G.SBOX[u&255],u^=RCON[a/t|0]<<24):t>6&&a%t===4&&(u=G.SBOX[u>>>24]<<24|G.SBOX[u>>>16&255]<<16|G.SBOX[u>>>8&255]<<8|G.SBOX[u&255]),c[a]=c[a-t]^u}for(var h=[],v=0;v<o;v++){var b=o-v,y=c[b-(v%4?0:4)];v<4||b<=4?h[v]=y:h[v]=G.INV_SUB_MIX[0][G.SBOX[y>>>24]]^G.INV_SUB_MIX[1][G.SBOX[y>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[y>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[y&255]]}this._nRounds=n,this._keySchedule=c,this._invKeySchedule=h},AES.prototype.encryptBlockRaw=function(e){return e=asUInt32Array(e),cryptBlock(e,this._keySchedule,G.SUB_MIX,G.SBOX,this._nRounds)},AES.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=Buffer$g.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},AES.prototype.decryptBlock=function(e){e=asUInt32Array(e);var t=e[1];e[1]=e[3],e[3]=t;var n=cryptBlock(e,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX,this._nRounds),o=Buffer$g.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)},aes$5.AES=AES;var Buffer$f=safeBufferExports$1.Buffer,ZEROES=Buffer$f.alloc(16,0);function toArray$1(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function fromArray(e){var t=Buffer$f.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function GHASH$1(e){this.h=e,this.state=Buffer$f.alloc(16,0),this.cache=Buffer$f.allocUnsafe(0)}GHASH$1.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},GHASH$1.prototype._multiply=function(){for(var e=toArray$1(this.h),t=[0,0,0,0],n,o,c,a=-1;++a<128;){for(o=(this.state[~~(a/8)]&1<<7-a%8)!==0,o&&(t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3]),c=(e[3]&1)!==0,n=3;n>0;n--)e[n]=e[n]>>>1|(e[n-1]&1)<<31;e[0]=e[0]>>>1,c&&(e[0]=e[0]^-520093696)}this.state=fromArray(t)},GHASH$1.prototype.update=function(e){this.cache=Buffer$f.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},GHASH$1.prototype.final=function(e,t){return this.cache.length&&this.ghash(Buffer$f.concat([this.cache,ZEROES],16)),this.ghash(fromArray([0,e,0,t])),this.state};var ghash=GHASH$1,aes$4=aes$5,Buffer$e=safeBufferExports$1.Buffer,Transform$5=cipherBase,inherits$8=inherits_browserExports$3,GHASH=ghash,xor$3=bufferXor,incr32=incr32_1;function xorTest(e,t){var n=0;e.length!==t.length&&n++;for(var o=Math.min(e.length,t.length),c=0;c<o;++c)n+=e[c]^t[c];return n}function calcIv(e,t,n){if(t.length===12)return e._finID=Buffer$e.concat([t,Buffer$e.from([0,0,0,1])]),Buffer$e.concat([t,Buffer$e.from([0,0,0,2])]);var o=new GHASH(n),c=t.length,a=c%16;o.update(t),a&&(a=16-a,o.update(Buffer$e.alloc(a,0))),o.update(Buffer$e.alloc(8,0));var u=c*8,h=Buffer$e.alloc(8);h.writeUIntBE(u,0,8),o.update(h),e._finID=o.state;var v=Buffer$e.from(e._finID);return incr32(v),v}function StreamCipher$3(e,t,n,o){Transform$5.call(this);var c=Buffer$e.alloc(4,0);this._cipher=new aes$4.AES(t);var a=this._cipher.encryptBlock(c);this._ghash=new GHASH(a),n=calcIv(this,n,a),this._prev=Buffer$e.from(n),this._cache=Buffer$e.allocUnsafe(0),this._secCache=Buffer$e.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}inherits$8(StreamCipher$3,Transform$5),StreamCipher$3.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=Buffer$e.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},StreamCipher$3.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=xor$3(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},StreamCipher$3.prototype.getAuthTag=function(){if(this._decrypt||!Buffer$e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},StreamCipher$3.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},StreamCipher$3.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};var authCipher=StreamCipher$3,aes$3=aes$5,Buffer$d=safeBufferExports$1.Buffer,Transform$4=cipherBase,inherits$7=inherits_browserExports$3;function StreamCipher$2(e,t,n,o){Transform$4.call(this),this._cipher=new aes$3.AES(t),this._prev=Buffer$d.from(n),this._cache=Buffer$d.allocUnsafe(0),this._secCache=Buffer$d.allocUnsafe(0),this._decrypt=o,this._mode=e}inherits$7(StreamCipher$2,Transform$4),StreamCipher$2.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},StreamCipher$2.prototype._final=function(){this._cipher.scrub()};var streamCipher=StreamCipher$2,Buffer$c=safeBufferExports$1.Buffer,MD5=md5_js;function EVP_BytesToKey(e,t,n,o){if(Buffer$c.isBuffer(e)||(e=Buffer$c.from(e,"binary")),t&&(Buffer$c.isBuffer(t)||(t=Buffer$c.from(t,"binary")),t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=n/8,a=Buffer$c.alloc(c),u=Buffer$c.alloc(o||0),h=Buffer$c.alloc(0);c>0||o>0;){var v=new MD5;v.update(h),v.update(e),t&&v.update(t),h=v.digest();var b=0;if(c>0){var y=a.length-c;b=Math.min(c,h.length),h.copy(a,y,0,b),c-=b}if(b<h.length&&o>0){var w=u.length-o,O=Math.min(o,h.length-b);h.copy(u,w,b,b+O),o-=O}}return h.fill(0),{key:a,iv:u}}var evp_bytestokey=EVP_BytesToKey,MODES$1=modes_1,AuthCipher$1=authCipher,Buffer$b=safeBufferExports$1.Buffer,StreamCipher$1=streamCipher,Transform$3=cipherBase,aes$2=aes$5,ebtk$2=evp_bytestokey,inherits$6=inherits_browserExports$3;function Cipher(e,t,n){Transform$3.call(this),this._cache=new Splitter$1,this._cipher=new aes$2.AES(t),this._prev=Buffer$b.from(n),this._mode=e,this._autopadding=!0}inherits$6(Cipher,Transform$3),Cipher.prototype._update=function(e){this._cache.add(e);for(var t,n,o=[];t=this._cache.get();)n=this._mode.encrypt(this,t),o.push(n);return Buffer$b.concat(o)};var PADDING=Buffer$b.alloc(16,16);Cipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(PADDING))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function Splitter$1(){this.cache=Buffer$b.allocUnsafe(0)}Splitter$1.prototype.add=function(e){this.cache=Buffer$b.concat([this.cache,e])},Splitter$1.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},Splitter$1.prototype.flush=function(){for(var e=16-this.cache.length,t=Buffer$b.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return Buffer$b.concat([this.cache,t])};function createCipheriv$1(e,t,n){var o=MODES$1[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if(typeof t=="string"&&(t=Buffer$b.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);if(typeof n=="string"&&(n=Buffer$b.from(n)),o.mode!=="GCM"&&n.length!==o.iv)throw new TypeError("invalid iv length "+n.length);return o.type==="stream"?new StreamCipher$1(o.module,t,n):o.type==="auth"?new AuthCipher$1(o.module,t,n):new Cipher(o.module,t,n)}function createCipher$1(e,t){var n=MODES$1[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var o=ebtk$2(t,!1,n.key,n.iv);return createCipheriv$1(e,o.key,o.iv)}encrypter.createCipheriv=createCipheriv$1,encrypter.createCipher=createCipher$1;var decrypter={},AuthCipher=authCipher,Buffer$a=safeBufferExports$1.Buffer,MODES=modes_1,StreamCipher=streamCipher,Transform$2=cipherBase,aes$1=aes$5,ebtk$1=evp_bytestokey,inherits$5=inherits_browserExports$3;function Decipher(e,t,n){Transform$2.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes$1.AES(t),this._prev=Buffer$a.from(n),this._mode=e,this._autopadding=!0}inherits$5(Decipher,Transform$2),Decipher.prototype._update=function(e){this._cache.add(e);for(var t,n,o=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),o.push(n);return Buffer$a.concat(o)},Decipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function Splitter(){this.cache=Buffer$a.allocUnsafe(0)}Splitter.prototype.add=function(e){this.cache=Buffer$a.concat([this.cache,e])},Splitter.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};function unpad(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var n=-1;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(t!==16)return e.slice(0,16-t)}function createDecipheriv$1(e,t,n){var o=MODES[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if(typeof n=="string"&&(n=Buffer$a.from(n)),o.mode!=="GCM"&&n.length!==o.iv)throw new TypeError("invalid iv length "+n.length);if(typeof t=="string"&&(t=Buffer$a.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);return o.type==="stream"?new StreamCipher(o.module,t,n,!0):o.type==="auth"?new AuthCipher(o.module,t,n,!0):new Decipher(o.module,t,n)}function createDecipher$1(e,t){var n=MODES[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var o=ebtk$1(t,!1,n.key,n.iv);return createDecipheriv$1(e,o.key,o.iv)}decrypter.createDecipher=createDecipher$1,decrypter.createDecipheriv=createDecipheriv$1;var ciphers$2=encrypter,deciphers=decrypter,modes$1=require$$2$1;function getCiphers$1(){return Object.keys(modes$1)}browser$g.createCipher=browser$g.Cipher=ciphers$2.createCipher,browser$g.createCipheriv=browser$g.Cipheriv=ciphers$2.createCipheriv,browser$g.createDecipher=browser$g.Decipher=deciphers.createDecipher,browser$g.createDecipheriv=browser$g.Decipheriv=deciphers.createDecipheriv,browser$g.listCiphers=browser$g.getCiphers=getCiphers$1;var modes={};(function(e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}})(modes);var DES=browserifyDes,aes=browser$g,aesModes=modes_1,desModes=modes,ebtk=evp_bytestokey;function createCipher(e,t){e=e.toLowerCase();var n,o;if(aesModes[e])n=aesModes[e].key,o=aesModes[e].iv;else if(desModes[e])n=desModes[e].key*8,o=desModes[e].iv;else throw new TypeError("invalid suite type");var c=ebtk(t,!1,n,o);return createCipheriv(e,c.key,c.iv)}function createDecipher(e,t){e=e.toLowerCase();var n,o;if(aesModes[e])n=aesModes[e].key,o=aesModes[e].iv;else if(desModes[e])n=desModes[e].key*8,o=desModes[e].iv;else throw new TypeError("invalid suite type");var c=ebtk(t,!1,n,o);return createDecipheriv(e,c.key,c.iv)}function createCipheriv(e,t,n){if(e=e.toLowerCase(),aesModes[e])return aes.createCipheriv(e,t,n);if(desModes[e])return new DES({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function createDecipheriv(e,t,n){if(e=e.toLowerCase(),aesModes[e])return aes.createDecipheriv(e,t,n);if(desModes[e])return new DES({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}browser$h.createCipher=browser$h.Cipher=createCipher,browser$h.createCipheriv=browser$h.Cipheriv=createCipheriv,browser$h.createDecipher=browser$h.Decipher=createDecipher,browser$h.createDecipheriv=browser$h.Decipheriv=createDecipheriv,browser$h.listCiphers=browser$h.getCiphers=getCiphers;var browser$f={},bn$5={exports:{}};bn$5.exports,function(e){(function(t,n){function o(l,p){if(!l)throw new Error(p||"Assertion failed")}function c(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function a(l,p,m){if(a.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof t=="object"?t.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$5.Buffer}catch{}a.isBN=function(l){return l instanceof a?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===a.wordSize&&Array.isArray(l.words)},a.max=function(l,p){return l.cmp(p)>0?l:p},a.min=function(l,p){return l.cmp(p)<0?l:p},a.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),o(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var _=0;l[0]==="-"&&(_++,this.negative=1),_<l.length&&(p===16?this._parseHex(l,_,m):(this._parseBase(l,p,_),m==="le"&&this._initArray(this.toArray(),p,m)))},a.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(o(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},a.prototype._initArray=function(l,p,m){if(o(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A,I,T=0;if(m==="be")for(_=l.length-1,A=0;_>=0;_-=3)I=l[_]|l[_-1]<<8|l[_-2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);else if(m==="le")for(_=0,A=0;_<l.length;_+=3)I=l[_]|l[_+1]<<8|l[_+2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);return this.strip()};function h(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function v(l,p,m){var _=h(l,m);return m-1>=p&&(_|=h(l,m-1)<<4),_}a.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A=0,I=0,T;if(m==="be")for(_=l.length-1;_>=p;_-=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8;else{var S=l.length-p;for(_=S%2===0?p+1:p;_<l.length;_+=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8}this.strip()};function b(l,p,m,_){for(var A=0,I=Math.min(l.length,m),T=p;T<I;T++){var S=l.charCodeAt(T)-48;A*=_,S>=49?A+=S-49+10:S>=17?A+=S-17+10:A+=S}return A}a.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var _=0,A=1;A<=67108863;A*=p)_++;_--,A=A/p|0;for(var I=l.length-m,T=I%_,S=Math.min(I,I-T)+m,d=0,E=m;E<S;E+=_)d=b(l,E,E+_,p),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var M=1;for(d=b(l,E,l.length,p),E=0;E<T;E++)M*=p;this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},a.prototype.clone=function(){var l=new a(null);return this.copy(l),l},a.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var _=0,A=0,I=0;I<this.length;I++){var T=this.words[I],S=((T<<_|A)&16777215).toString(16);A=T>>>24-_&16777215,A!==0||I!==this.length-1?m=y[6-S.length]+S+m:m=S+m,_+=2,_>=26&&(_-=26,I--)}for(A!==0&&(m=A.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var d=w[l],E=O[l];m="";var M=this.clone();for(M.negative=0;!M.isZero();){var U=M.modn(E).toString(l);M=M.idivn(E),M.isZero()?m=U+m:m=y[d-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(l,p){return o(typeof u<"u"),this.toArrayLike(u,l,p)},a.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},a.prototype.toArrayLike=function(l,p,m){var _=this.byteLength(),A=m||Math.max(1,_);o(_<=A,"byte array longer than desired length"),o(A>0,"Requested array length <= 0"),this.strip();var I=p==="le",T=new l(A),S,d,E=this.clone();if(I){for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[d]=S;for(;d<A;d++)T[d]=0}else{for(d=0;d<A-_;d++)T[d]=0;for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[A-d-1]=S}return T},Math.clz32?a.prototype._countBits=function(l){return 32-Math.clz32(l)}:a.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},a.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return p&8191||(m+=13,p>>>=13),p&127||(m+=7,p>>>=7),p&15||(m+=4,p>>>=4),p&3||(m+=2,p>>>=2),p&1||m++,m},a.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function P(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var _=m/26|0,A=m%26;p[m]=(l.words[_]&1<<A)>>>A}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},a.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},a.prototype.ior=function(l){return o((this.negative|l.negative)===0),this.iuor(l)},a.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},a.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},a.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},a.prototype.iand=function(l){return o((this.negative|l.negative)===0),this.iuand(l)},a.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},a.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},a.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var _=0;_<m.length;_++)this.words[_]=p.words[_]^m.words[_];if(this!==p)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=p.length,this.strip()},a.prototype.ixor=function(l){return o((this.negative|l.negative)===0),this.iuxor(l)},a.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},a.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},a.prototype.inotn=function(l){o(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var _=0;_<p;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this.strip()},a.prototype.notn=function(l){return this.clone().inotn(l)},a.prototype.setn=function(l,p){o(typeof l=="number"&&l>=0);var m=l/26|0,_=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this.strip()},a.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,_;this.length>l.length?(m=this,_=l):(m=l,_=this);for(var A=0,I=0;I<_.length;I++)p=(m.words[I]|0)+(_.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;for(;A!==0&&I<m.length;I++)p=(m.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;I<m.length;I++)this.words[I]=m.words[I];return this},a.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},a.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,A;m>0?(_=this,A=l):(_=l,A=this);for(var I=0,T=0;T<A.length;T++)p=(_.words[T]|0)-(A.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;for(;I!==0&&T<_.length;T++)p=(_.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;if(I===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(l){return this.clone().isub(l)};function C(l,p,m){m.negative=p.negative^l.negative;var _=l.length+p.length|0;m.length=_,_=_-1|0;var A=l.words[0]|0,I=p.words[0]|0,T=A*I,S=T&67108863,d=T/67108864|0;m.words[0]=S;for(var E=1;E<_;E++){for(var M=d>>>26,U=d&67108863,F=Math.min(E,p.length-1),N=Math.max(0,E-l.length+1);N<=F;N++){var L=E-N|0;A=l.words[L]|0,I=p.words[N]|0,T=A*I+U,M+=T/67108864|0,U=T&67108863}m.words[E]=U|0,d=M|0}return d!==0?m.words[E]=d|0:m.length--,m.strip()}var x=function(l,p,m){var _=l.words,A=p.words,I=m.words,T=0,S,d,E,M=_[0]|0,U=M&8191,F=M>>>13,N=_[1]|0,L=N&8191,H=N>>>13,Y=_[2]|0,Z=Y&8191,de=Y>>>13,he=_[3]|0,re=he&8191,ae=he>>>13,be=_[4]|0,ye=be&8191,we=be>>>13,Te=_[5]|0,ve=Te&8191,Ce=Te>>>13,Oe=_[6]|0,Se=Oe&8191,Pe=Oe>>>13,nt=_[7]|0,Me=nt&8191,Re=nt>>>13,pt=_[8]|0,je=pt&8191,Be=pt>>>13,vt=_[9]|0,Ne=vt&8191,J=vt>>>13,le=A[0]|0,ue=le&8191,pe=le>>>13,Ie=A[1]|0,_e=Ie&8191,Ae=Ie>>>13,bt=A[2]|0,xe=bt&8191,Ke=bt>>>13,wt=A[3]|0,De=wt&8191,He=wt>>>13,Pt=A[4]|0,Ue=Pt&8191,We=Pt>>>13,St=A[5]|0,Fe=St&8191,Ve=St>>>13,Ot=A[6]|0,Ge=Ot&8191,ze=Ot>>>13,Tt=A[7]|0,oe=Tt&8191,X=Tt>>>13,ie=A[8]|0,z=ie&8191,se=ie>>>13,me=A[9]|0,$e=me&8191,ge=me>>>13;m.negative=l.negative^p.negative,m.length=19,S=Math.imul(U,ue),d=Math.imul(U,pe),d=d+Math.imul(F,ue)|0,E=Math.imul(F,pe);var Le=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Le>>>26)|0,Le&=67108863,S=Math.imul(L,ue),d=Math.imul(L,pe),d=d+Math.imul(H,ue)|0,E=Math.imul(H,pe),S=S+Math.imul(U,_e)|0,d=d+Math.imul(U,Ae)|0,d=d+Math.imul(F,_e)|0,E=E+Math.imul(F,Ae)|0;var Je=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Je>>>26)|0,Je&=67108863,S=Math.imul(Z,ue),d=Math.imul(Z,pe),d=d+Math.imul(de,ue)|0,E=Math.imul(de,pe),S=S+Math.imul(L,_e)|0,d=d+Math.imul(L,Ae)|0,d=d+Math.imul(H,_e)|0,E=E+Math.imul(H,Ae)|0,S=S+Math.imul(U,xe)|0,d=d+Math.imul(U,Ke)|0,d=d+Math.imul(F,xe)|0,E=E+Math.imul(F,Ke)|0;var Ye=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(re,ue),d=Math.imul(re,pe),d=d+Math.imul(ae,ue)|0,E=Math.imul(ae,pe),S=S+Math.imul(Z,_e)|0,d=d+Math.imul(Z,Ae)|0,d=d+Math.imul(de,_e)|0,E=E+Math.imul(de,Ae)|0,S=S+Math.imul(L,xe)|0,d=d+Math.imul(L,Ke)|0,d=d+Math.imul(H,xe)|0,E=E+Math.imul(H,Ke)|0,S=S+Math.imul(U,De)|0,d=d+Math.imul(U,He)|0,d=d+Math.imul(F,De)|0,E=E+Math.imul(F,He)|0;var ht=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(ye,ue),d=Math.imul(ye,pe),d=d+Math.imul(we,ue)|0,E=Math.imul(we,pe),S=S+Math.imul(re,_e)|0,d=d+Math.imul(re,Ae)|0,d=d+Math.imul(ae,_e)|0,E=E+Math.imul(ae,Ae)|0,S=S+Math.imul(Z,xe)|0,d=d+Math.imul(Z,Ke)|0,d=d+Math.imul(de,xe)|0,E=E+Math.imul(de,Ke)|0,S=S+Math.imul(L,De)|0,d=d+Math.imul(L,He)|0,d=d+Math.imul(H,De)|0,E=E+Math.imul(H,He)|0,S=S+Math.imul(U,Ue)|0,d=d+Math.imul(U,We)|0,d=d+Math.imul(F,Ue)|0,E=E+Math.imul(F,We)|0;var Ze=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(ve,ue),d=Math.imul(ve,pe),d=d+Math.imul(Ce,ue)|0,E=Math.imul(Ce,pe),S=S+Math.imul(ye,_e)|0,d=d+Math.imul(ye,Ae)|0,d=d+Math.imul(we,_e)|0,E=E+Math.imul(we,Ae)|0,S=S+Math.imul(re,xe)|0,d=d+Math.imul(re,Ke)|0,d=d+Math.imul(ae,xe)|0,E=E+Math.imul(ae,Ke)|0,S=S+Math.imul(Z,De)|0,d=d+Math.imul(Z,He)|0,d=d+Math.imul(de,De)|0,E=E+Math.imul(de,He)|0,S=S+Math.imul(L,Ue)|0,d=d+Math.imul(L,We)|0,d=d+Math.imul(H,Ue)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(U,Fe)|0,d=d+Math.imul(U,Ve)|0,d=d+Math.imul(F,Fe)|0,E=E+Math.imul(F,Ve)|0;var dt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Se,ue),d=Math.imul(Se,pe),d=d+Math.imul(Pe,ue)|0,E=Math.imul(Pe,pe),S=S+Math.imul(ve,_e)|0,d=d+Math.imul(ve,Ae)|0,d=d+Math.imul(Ce,_e)|0,E=E+Math.imul(Ce,Ae)|0,S=S+Math.imul(ye,xe)|0,d=d+Math.imul(ye,Ke)|0,d=d+Math.imul(we,xe)|0,E=E+Math.imul(we,Ke)|0,S=S+Math.imul(re,De)|0,d=d+Math.imul(re,He)|0,d=d+Math.imul(ae,De)|0,E=E+Math.imul(ae,He)|0,S=S+Math.imul(Z,Ue)|0,d=d+Math.imul(Z,We)|0,d=d+Math.imul(de,Ue)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(L,Fe)|0,d=d+Math.imul(L,Ve)|0,d=d+Math.imul(H,Fe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(U,Ge)|0,d=d+Math.imul(U,ze)|0,d=d+Math.imul(F,Ge)|0,E=E+Math.imul(F,ze)|0;var Xe=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(Me,ue),d=Math.imul(Me,pe),d=d+Math.imul(Re,ue)|0,E=Math.imul(Re,pe),S=S+Math.imul(Se,_e)|0,d=d+Math.imul(Se,Ae)|0,d=d+Math.imul(Pe,_e)|0,E=E+Math.imul(Pe,Ae)|0,S=S+Math.imul(ve,xe)|0,d=d+Math.imul(ve,Ke)|0,d=d+Math.imul(Ce,xe)|0,E=E+Math.imul(Ce,Ke)|0,S=S+Math.imul(ye,De)|0,d=d+Math.imul(ye,He)|0,d=d+Math.imul(we,De)|0,E=E+Math.imul(we,He)|0,S=S+Math.imul(re,Ue)|0,d=d+Math.imul(re,We)|0,d=d+Math.imul(ae,Ue)|0,E=E+Math.imul(ae,We)|0,S=S+Math.imul(Z,Fe)|0,d=d+Math.imul(Z,Ve)|0,d=d+Math.imul(de,Fe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(L,Ge)|0,d=d+Math.imul(L,ze)|0,d=d+Math.imul(H,Ge)|0,E=E+Math.imul(H,ze)|0,S=S+Math.imul(U,oe)|0,d=d+Math.imul(U,X)|0,d=d+Math.imul(F,oe)|0,E=E+Math.imul(F,X)|0;var mt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(je,ue),d=Math.imul(je,pe),d=d+Math.imul(Be,ue)|0,E=Math.imul(Be,pe),S=S+Math.imul(Me,_e)|0,d=d+Math.imul(Me,Ae)|0,d=d+Math.imul(Re,_e)|0,E=E+Math.imul(Re,Ae)|0,S=S+Math.imul(Se,xe)|0,d=d+Math.imul(Se,Ke)|0,d=d+Math.imul(Pe,xe)|0,E=E+Math.imul(Pe,Ke)|0,S=S+Math.imul(ve,De)|0,d=d+Math.imul(ve,He)|0,d=d+Math.imul(Ce,De)|0,E=E+Math.imul(Ce,He)|0,S=S+Math.imul(ye,Ue)|0,d=d+Math.imul(ye,We)|0,d=d+Math.imul(we,Ue)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(re,Fe)|0,d=d+Math.imul(re,Ve)|0,d=d+Math.imul(ae,Fe)|0,E=E+Math.imul(ae,Ve)|0,S=S+Math.imul(Z,Ge)|0,d=d+Math.imul(Z,ze)|0,d=d+Math.imul(de,Ge)|0,E=E+Math.imul(de,ze)|0,S=S+Math.imul(L,oe)|0,d=d+Math.imul(L,X)|0,d=d+Math.imul(H,oe)|0,E=E+Math.imul(H,X)|0,S=S+Math.imul(U,z)|0,d=d+Math.imul(U,se)|0,d=d+Math.imul(F,z)|0,E=E+Math.imul(F,se)|0;var lt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Ne,ue),d=Math.imul(Ne,pe),d=d+Math.imul(J,ue)|0,E=Math.imul(J,pe),S=S+Math.imul(je,_e)|0,d=d+Math.imul(je,Ae)|0,d=d+Math.imul(Be,_e)|0,E=E+Math.imul(Be,Ae)|0,S=S+Math.imul(Me,xe)|0,d=d+Math.imul(Me,Ke)|0,d=d+Math.imul(Re,xe)|0,E=E+Math.imul(Re,Ke)|0,S=S+Math.imul(Se,De)|0,d=d+Math.imul(Se,He)|0,d=d+Math.imul(Pe,De)|0,E=E+Math.imul(Pe,He)|0,S=S+Math.imul(ve,Ue)|0,d=d+Math.imul(ve,We)|0,d=d+Math.imul(Ce,Ue)|0,E=E+Math.imul(Ce,We)|0,S=S+Math.imul(ye,Fe)|0,d=d+Math.imul(ye,Ve)|0,d=d+Math.imul(we,Fe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(re,Ge)|0,d=d+Math.imul(re,ze)|0,d=d+Math.imul(ae,Ge)|0,E=E+Math.imul(ae,ze)|0,S=S+Math.imul(Z,oe)|0,d=d+Math.imul(Z,X)|0,d=d+Math.imul(de,oe)|0,E=E+Math.imul(de,X)|0,S=S+Math.imul(L,z)|0,d=d+Math.imul(L,se)|0,d=d+Math.imul(H,z)|0,E=E+Math.imul(H,se)|0,S=S+Math.imul(U,$e)|0,d=d+Math.imul(U,ge)|0,d=d+Math.imul(F,$e)|0,E=E+Math.imul(F,ge)|0;var yt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Ne,_e),d=Math.imul(Ne,Ae),d=d+Math.imul(J,_e)|0,E=Math.imul(J,Ae),S=S+Math.imul(je,xe)|0,d=d+Math.imul(je,Ke)|0,d=d+Math.imul(Be,xe)|0,E=E+Math.imul(Be,Ke)|0,S=S+Math.imul(Me,De)|0,d=d+Math.imul(Me,He)|0,d=d+Math.imul(Re,De)|0,E=E+Math.imul(Re,He)|0,S=S+Math.imul(Se,Ue)|0,d=d+Math.imul(Se,We)|0,d=d+Math.imul(Pe,Ue)|0,E=E+Math.imul(Pe,We)|0,S=S+Math.imul(ve,Fe)|0,d=d+Math.imul(ve,Ve)|0,d=d+Math.imul(Ce,Fe)|0,E=E+Math.imul(Ce,Ve)|0,S=S+Math.imul(ye,Ge)|0,d=d+Math.imul(ye,ze)|0,d=d+Math.imul(we,Ge)|0,E=E+Math.imul(we,ze)|0,S=S+Math.imul(re,oe)|0,d=d+Math.imul(re,X)|0,d=d+Math.imul(ae,oe)|0,E=E+Math.imul(ae,X)|0,S=S+Math.imul(Z,z)|0,d=d+Math.imul(Z,se)|0,d=d+Math.imul(de,z)|0,E=E+Math.imul(de,se)|0,S=S+Math.imul(L,$e)|0,d=d+Math.imul(L,ge)|0,d=d+Math.imul(H,$e)|0,E=E+Math.imul(H,ge)|0;var _t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(Ne,xe),d=Math.imul(Ne,Ke),d=d+Math.imul(J,xe)|0,E=Math.imul(J,Ke),S=S+Math.imul(je,De)|0,d=d+Math.imul(je,He)|0,d=d+Math.imul(Be,De)|0,E=E+Math.imul(Be,He)|0,S=S+Math.imul(Me,Ue)|0,d=d+Math.imul(Me,We)|0,d=d+Math.imul(Re,Ue)|0,E=E+Math.imul(Re,We)|0,S=S+Math.imul(Se,Fe)|0,d=d+Math.imul(Se,Ve)|0,d=d+Math.imul(Pe,Fe)|0,E=E+Math.imul(Pe,Ve)|0,S=S+Math.imul(ve,Ge)|0,d=d+Math.imul(ve,ze)|0,d=d+Math.imul(Ce,Ge)|0,E=E+Math.imul(Ce,ze)|0,S=S+Math.imul(ye,oe)|0,d=d+Math.imul(ye,X)|0,d=d+Math.imul(we,oe)|0,E=E+Math.imul(we,X)|0,S=S+Math.imul(re,z)|0,d=d+Math.imul(re,se)|0,d=d+Math.imul(ae,z)|0,E=E+Math.imul(ae,se)|0,S=S+Math.imul(Z,$e)|0,d=d+Math.imul(Z,ge)|0,d=d+Math.imul(de,$e)|0,E=E+Math.imul(de,ge)|0;var gt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(gt>>>26)|0,gt&=67108863,S=Math.imul(Ne,De),d=Math.imul(Ne,He),d=d+Math.imul(J,De)|0,E=Math.imul(J,He),S=S+Math.imul(je,Ue)|0,d=d+Math.imul(je,We)|0,d=d+Math.imul(Be,Ue)|0,E=E+Math.imul(Be,We)|0,S=S+Math.imul(Me,Fe)|0,d=d+Math.imul(Me,Ve)|0,d=d+Math.imul(Re,Fe)|0,E=E+Math.imul(Re,Ve)|0,S=S+Math.imul(Se,Ge)|0,d=d+Math.imul(Se,ze)|0,d=d+Math.imul(Pe,Ge)|0,E=E+Math.imul(Pe,ze)|0,S=S+Math.imul(ve,oe)|0,d=d+Math.imul(ve,X)|0,d=d+Math.imul(Ce,oe)|0,E=E+Math.imul(Ce,X)|0,S=S+Math.imul(ye,z)|0,d=d+Math.imul(ye,se)|0,d=d+Math.imul(we,z)|0,E=E+Math.imul(we,se)|0,S=S+Math.imul(re,$e)|0,d=d+Math.imul(re,ge)|0,d=d+Math.imul(ae,$e)|0,E=E+Math.imul(ae,ge)|0;var at=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(Ne,Ue),d=Math.imul(Ne,We),d=d+Math.imul(J,Ue)|0,E=Math.imul(J,We),S=S+Math.imul(je,Fe)|0,d=d+Math.imul(je,Ve)|0,d=d+Math.imul(Be,Fe)|0,E=E+Math.imul(Be,Ve)|0,S=S+Math.imul(Me,Ge)|0,d=d+Math.imul(Me,ze)|0,d=d+Math.imul(Re,Ge)|0,E=E+Math.imul(Re,ze)|0,S=S+Math.imul(Se,oe)|0,d=d+Math.imul(Se,X)|0,d=d+Math.imul(Pe,oe)|0,E=E+Math.imul(Pe,X)|0,S=S+Math.imul(ve,z)|0,d=d+Math.imul(ve,se)|0,d=d+Math.imul(Ce,z)|0,E=E+Math.imul(Ce,se)|0,S=S+Math.imul(ye,$e)|0,d=d+Math.imul(ye,ge)|0,d=d+Math.imul(we,$e)|0,E=E+Math.imul(we,ge)|0;var $t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(Ne,Fe),d=Math.imul(Ne,Ve),d=d+Math.imul(J,Fe)|0,E=Math.imul(J,Ve),S=S+Math.imul(je,Ge)|0,d=d+Math.imul(je,ze)|0,d=d+Math.imul(Be,Ge)|0,E=E+Math.imul(Be,ze)|0,S=S+Math.imul(Me,oe)|0,d=d+Math.imul(Me,X)|0,d=d+Math.imul(Re,oe)|0,E=E+Math.imul(Re,X)|0,S=S+Math.imul(Se,z)|0,d=d+Math.imul(Se,se)|0,d=d+Math.imul(Pe,z)|0,E=E+Math.imul(Pe,se)|0,S=S+Math.imul(ve,$e)|0,d=d+Math.imul(ve,ge)|0,d=d+Math.imul(Ce,$e)|0,E=E+Math.imul(Ce,ge)|0;var ot=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,S=Math.imul(Ne,Ge),d=Math.imul(Ne,ze),d=d+Math.imul(J,Ge)|0,E=Math.imul(J,ze),S=S+Math.imul(je,oe)|0,d=d+Math.imul(je,X)|0,d=d+Math.imul(Be,oe)|0,E=E+Math.imul(Be,X)|0,S=S+Math.imul(Me,z)|0,d=d+Math.imul(Me,se)|0,d=d+Math.imul(Re,z)|0,E=E+Math.imul(Re,se)|0,S=S+Math.imul(Se,$e)|0,d=d+Math.imul(Se,ge)|0,d=d+Math.imul(Pe,$e)|0,E=E+Math.imul(Pe,ge)|0;var it=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(Ne,oe),d=Math.imul(Ne,X),d=d+Math.imul(J,oe)|0,E=Math.imul(J,X),S=S+Math.imul(je,z)|0,d=d+Math.imul(je,se)|0,d=d+Math.imul(Be,z)|0,E=E+Math.imul(Be,se)|0,S=S+Math.imul(Me,$e)|0,d=d+Math.imul(Me,ge)|0,d=d+Math.imul(Re,$e)|0,E=E+Math.imul(Re,ge)|0;var st=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(Ne,z),d=Math.imul(Ne,se),d=d+Math.imul(J,z)|0,E=Math.imul(J,se),S=S+Math.imul(je,$e)|0,d=d+Math.imul(je,ge)|0,d=d+Math.imul(Be,$e)|0,E=E+Math.imul(Be,ge)|0;var tt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(Ne,$e),d=Math.imul(Ne,ge),d=d+Math.imul(J,$e)|0,E=Math.imul(J,ge);var ke=(T+S|0)+((d&8191)<<13)|0;return T=(E+(d>>>13)|0)+(ke>>>26)|0,ke&=67108863,I[0]=Le,I[1]=Je,I[2]=Ye,I[3]=ht,I[4]=Ze,I[5]=dt,I[6]=Xe,I[7]=mt,I[8]=lt,I[9]=yt,I[10]=_t,I[11]=gt,I[12]=at,I[13]=$t,I[14]=ot,I[15]=it,I[16]=st,I[17]=tt,I[18]=ke,T!==0&&(I[19]=T,m.length++),m};Math.imul||(x=C);function D(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var _=0,A=0,I=0;I<m.length-1;I++){var T=A;A=0;for(var S=_&67108863,d=Math.min(I,p.length-1),E=Math.max(0,I-l.length+1);E<=d;E++){var M=I-E,U=l.words[M]|0,F=p.words[E]|0,N=U*F,L=N&67108863;T=T+(N/67108864|0)|0,L=L+S|0,S=L&67108863,T=T+(L>>>26)|0,A+=T>>>26,T&=67108863}m.words[I]=S,_=T,T=A}return _!==0?m.words[I]=_:m.length--,m.strip()}function k(l,p,m){var _=new B;return _.mulp(l,p,m)}a.prototype.mulTo=function(l,p){var m,_=this.length+l.length;return this.length===10&&l.length===10?m=x(this,l,p):_<63?m=C(this,l,p):_<1024?m=D(this,l,p):m=k(this,l,p),m};function B(l,p){this.x=l,this.y=p}B.prototype.makeRBT=function(l){for(var p=new Array(l),m=a.prototype._countBits(l)-1,_=0;_<l;_++)p[_]=this.revBin(_,m,l);return p},B.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var _=0,A=0;A<p;A++)_|=(l&1)<<p-A-1,l>>=1;return _},B.prototype.permute=function(l,p,m,_,A,I){for(var T=0;T<I;T++)_[T]=p[l[T]],A[T]=m[l[T]]},B.prototype.transform=function(l,p,m,_,A,I){this.permute(I,l,p,m,_,A);for(var T=1;T<A;T<<=1)for(var S=T<<1,d=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),M=0;M<A;M+=S)for(var U=d,F=E,N=0;N<T;N++){var L=m[M+N],H=_[M+N],Y=m[M+N+T],Z=_[M+N+T],de=U*Y-F*Z;Z=U*Z+F*Y,Y=de,m[M+N]=L+Y,_[M+N]=H+Z,m[M+N+T]=L-Y,_[M+N+T]=H-Z,N!==S&&(de=d*U-E*F,F=d*F+E*U,U=de)}},B.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,_=m&1,A=0;for(m=m/2|0;m;m=m>>>1)A++;return 1<<A+1+_},B.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var _=0;_<m/2;_++){var A=l[_];l[_]=l[m-_-1],l[m-_-1]=A,A=p[_],p[_]=-p[m-_-1],p[m-_-1]=-A}},B.prototype.normalize13b=function(l,p){for(var m=0,_=0;_<p/2;_++){var A=Math.round(l[2*_+1]/p)*8192+Math.round(l[2*_]/p)+m;l[_]=A&67108863,A<67108864?m=0:m=A/67108864|0}return l},B.prototype.convert13b=function(l,p,m,_){for(var A=0,I=0;I<p;I++)A=A+(l[I]|0),m[2*I]=A&8191,A=A>>>13,m[2*I+1]=A&8191,A=A>>>13;for(I=2*p;I<_;++I)m[I]=0;o(A===0),o((A&-8192)===0)},B.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},B.prototype.mulp=function(l,p,m){var _=2*this.guessLen13b(l.length,p.length),A=this.makeRBT(_),I=this.stub(_),T=new Array(_),S=new Array(_),d=new Array(_),E=new Array(_),M=new Array(_),U=new Array(_),F=m.words;F.length=_,this.convert13b(l.words,l.length,T,_),this.convert13b(p.words,p.length,E,_),this.transform(T,I,S,d,_,A),this.transform(E,I,M,U,_,A);for(var N=0;N<_;N++){var L=S[N]*M[N]-d[N]*U[N];d[N]=S[N]*U[N]+d[N]*M[N],S[N]=L}return this.conjugate(S,d,_),this.transform(S,d,F,I,_,A),this.conjugate(F,I,_),this.normalize13b(F,_),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},a.prototype.mul=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},a.prototype.mulf=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),k(this,l,p)},a.prototype.imul=function(l){return this.clone().mulTo(l,this)},a.prototype.imuln=function(l){o(typeof l=="number"),o(l<67108864);for(var p=0,m=0;m<this.length;m++){var _=(this.words[m]|0)*l,A=(_&67108863)+(p&67108863);p>>=26,p+=_/67108864|0,p+=A>>>26,this.words[m]=A&67108863}return p!==0&&(this.words[m]=p,this.length++),this},a.prototype.muln=function(l){return this.clone().imuln(l)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(l){var p=P(l);if(p.length===0)return new a(1);for(var m=this,_=0;_<p.length&&p[_]===0;_++,m=m.sqr());if(++_<p.length)for(var A=m.sqr();_<p.length;_++,A=A.sqr())p[_]!==0&&(m=m.mul(A));return m},a.prototype.iushln=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=67108863>>>26-p<<26-p,A;if(p!==0){var I=0;for(A=0;A<this.length;A++){var T=this.words[A]&_,S=(this.words[A]|0)-T<<p;this.words[A]=S|I,I=T>>>26-p}I&&(this.words[A]=I,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this.strip()},a.prototype.ishln=function(l){return o(this.negative===0),this.iushln(l)},a.prototype.iushrn=function(l,p,m){o(typeof l=="number"&&l>=0);var _;p?_=(p-p%26)/26:_=0;var A=l%26,I=Math.min((l-A)/26,this.length),T=67108863^67108863>>>A<<A,S=m;if(_-=I,_=Math.max(0,_),S){for(var d=0;d<I;d++)S.words[d]=this.words[d];S.length=I}if(I!==0)if(this.length>I)for(this.length-=I,d=0;d<this.length;d++)this.words[d]=this.words[d+I];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=_);d--){var M=this.words[d]|0;this.words[d]=E<<26-A|M>>>A,E=M&T}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(l,p,m){return o(this.negative===0),this.iushrn(l,p,m)},a.prototype.shln=function(l){return this.clone().ishln(l)},a.prototype.ushln=function(l){return this.clone().iushln(l)},a.prototype.shrn=function(l){return this.clone().ishrn(l)},a.prototype.ushrn=function(l){return this.clone().iushrn(l)},a.prototype.testn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return!1;var A=this.words[m];return!!(A&_)},a.prototype.imaskn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var _=67108863^67108863>>>p<<p;this.words[this.length-1]&=_}return this.strip()},a.prototype.maskn=function(l){return this.clone().imaskn(l)},a.prototype.iaddn=function(l){return o(typeof l=="number"),o(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},a.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(l){if(o(typeof l=="number"),o(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},a.prototype.addn=function(l){return this.clone().iaddn(l)},a.prototype.subn=function(l){return this.clone().isubn(l)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(l,p,m){var _=l.length+m,A;this._expand(_);var I,T=0;for(A=0;A<l.length;A++){I=(this.words[A+m]|0)+T;var S=(l.words[A]|0)*p;I-=S&67108863,T=(I>>26)-(S/67108864|0),this.words[A+m]=I&67108863}for(;A<this.length-m;A++)I=(this.words[A+m]|0)+T,T=I>>26,this.words[A+m]=I&67108863;if(T===0)return this.strip();for(o(T===-1),T=0,A=0;A<this.length;A++)I=-(this.words[A]|0)+T,T=I>>26,this.words[A]=I&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(l,p){var m=this.length-l.length,_=this.clone(),A=l,I=A.words[A.length-1]|0,T=this._countBits(I);m=26-T,m!==0&&(A=A.ushln(m),_.iushln(m),I=A.words[A.length-1]|0);var S=_.length-A.length,d;if(p!=="mod"){d=new a(null),d.length=S+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var M=_.clone()._ishlnsubmul(A,1,S);M.negative===0&&(_=M,d&&(d.words[S]=1));for(var U=S-1;U>=0;U--){var F=(_.words[A.length+U]|0)*67108864+(_.words[A.length+U-1]|0);for(F=Math.min(F/I|0,67108863),_._ishlnsubmul(A,F,U);_.negative!==0;)F--,_.negative=0,_._ishlnsubmul(A,1,U),_.isZero()||(_.negative^=1);d&&(d.words[U]=F)}return d&&d.strip(),_.strip(),p!=="div"&&m!==0&&_.iushrn(m),{div:d||null,mod:_}},a.prototype.divmod=function(l,p,m){if(o(!l.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var _,A,I;return this.negative!==0&&l.negative===0?(I=this.neg().divmod(l,p),p!=="mod"&&(_=I.div.neg()),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.iadd(l)),{div:_,mod:A}):this.negative===0&&l.negative!==0?(I=this.divmod(l.neg(),p),p!=="mod"&&(_=I.div.neg()),{div:_,mod:I.mod}):this.negative&l.negative?(I=this.neg().divmod(l.neg(),p),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.isub(l)),{div:I.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new a(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new a(this.modn(l.words[0]))}:this._wordDiv(l,p)},a.prototype.div=function(l){return this.divmod(l,"div",!1).div},a.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},a.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},a.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,_=l.ushrn(1),A=l.andln(1),I=m.cmp(_);return I<0||A===1&&I===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modn=function(l){o(l<=67108863);for(var p=67108864%l,m=0,_=this.length-1;_>=0;_--)m=(p*m+(this.words[_]|0))%l;return m},a.prototype.idivn=function(l){o(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var _=(this.words[m]|0)+p*67108864;this.words[m]=_/l|0,p=_%l}return this.strip()},a.prototype.divn=function(l){return this.clone().idivn(l)},a.prototype.egcd=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=new a(0),T=new a(1),S=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++S;for(var d=m.clone(),E=p.clone();!p.isZero();){for(var M=0,U=1;!(p.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(p.iushrn(M);M-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(d),A.isub(E)),_.iushrn(1),A.iushrn(1);for(var F=0,N=1;!(m.words[0]&N)&&F<26;++F,N<<=1);if(F>0)for(m.iushrn(F);F-- >0;)(I.isOdd()||T.isOdd())&&(I.iadd(d),T.isub(E)),I.iushrn(1),T.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(I),A.isub(T)):(m.isub(p),I.isub(_),T.isub(A))}return{a:I,b:T,gcd:m.iushln(S)}},a.prototype._invmp=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,S=1;!(p.words[0]&S)&&T<26;++T,S<<=1);if(T>0)for(p.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);for(var d=0,E=1;!(m.words[0]&E)&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(I),A.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(A)):(m.isub(p),A.isub(_))}var M;return p.cmpn(1)===0?M=_:M=A,M.cmpn(0)<0&&M.iadd(l),M},a.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var _=0;p.isEven()&&m.isEven();_++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=p.cmp(m);if(A<0){var I=p;p=m,m=I}else if(A===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(_)},a.prototype.invm=function(l){return this.egcd(l).a.umod(l)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(l){return this.words[0]&l},a.prototype.bincn=function(l){o(typeof l=="number");var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var A=_,I=m;A!==0&&I<this.length;I++){var T=this.words[I]|0;T+=A,A=T>>>26,T&=67108863,this.words[I]=T}return A!==0&&(this.words[I]=A,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),o(l<=67108863,"Number is too big");var _=this.words[0]|0;m=_===l?0:_<l?-1:1}return this.negative!==0?-m|0:m},a.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,A=l.words[m]|0;if(_!==A){_<A?p=-1:_>A&&(p=1);break}}return p},a.prototype.gtn=function(l){return this.cmpn(l)===1},a.prototype.gt=function(l){return this.cmp(l)===1},a.prototype.gten=function(l){return this.cmpn(l)>=0},a.prototype.gte=function(l){return this.cmp(l)>=0},a.prototype.ltn=function(l){return this.cmpn(l)===-1},a.prototype.lt=function(l){return this.cmp(l)===-1},a.prototype.lten=function(l){return this.cmpn(l)<=0},a.prototype.lte=function(l){return this.cmp(l)<=0},a.prototype.eqn=function(l){return this.cmpn(l)===0},a.prototype.eq=function(l){return this.cmp(l)===0},a.red=function(l){return new ne(l)},a.prototype.toRed=function(l){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(l){return this.red=l,this},a.prototype.forceRed=function(l){return o(!this.red,"Already a number in reduction context"),this._forceRed(l)},a.prototype.redAdd=function(l){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},a.prototype.redIAdd=function(l){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},a.prototype.redSub=function(l){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},a.prototype.redISub=function(l){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},a.prototype.redShl=function(l){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},a.prototype.redMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},a.prototype.redIMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(l){return o(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var q={k256:null,p224:null,p192:null,p25519:null};function V(l,p){this.name=l,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var l=new a(null);return l.words=new Array(Math.ceil(this.n/13)),l},V.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var _=m<this.n?-1:p.ucmp(this.p);return _===0?(p.words[0]=0,p.length=1):_>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},V.prototype.split=function(l,p){l.iushrn(this.n,0,p)},V.prototype.imulK=function(l){return l.imul(this.k)};function ee(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(ee,V),ee.prototype.split=function(l,p){for(var m=4194303,_=Math.min(l.length,9),A=0;A<_;A++)p.words[A]=l.words[A];if(p.length=_,l.length<=9){l.words[0]=0,l.length=1;return}var I=l.words[9];for(p.words[p.length++]=I&m,A=10;A<l.length;A++){var T=l.words[A]|0;l.words[A-10]=(T&m)<<4|I>>>22,I=T}I>>>=22,l.words[A-10]=I,I===0&&l.length>10?l.length-=10:l.length-=9},ee.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var _=l.words[m]|0;p+=_*977,l.words[m]=p&67108863,p=_*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function te(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(te,V);function ce(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(ce,V);function Q(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(Q,V),Q.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var _=(l.words[m]|0)*19+p,A=_&67108863;_>>>=26,l.words[m]=A,p=_}return p!==0&&(l.words[l.length++]=p),l},a._prime=function(l){if(q[l])return q[l];var p;if(l==="k256")p=new ee;else if(l==="p224")p=new te;else if(l==="p192")p=new ce;else if(l==="p25519")p=new Q;else throw new Error("Unknown prime "+l);return q[l]=p,p};function ne(l){if(typeof l=="string"){var p=a._prime(l);this.m=p.p,this.prime=p}else o(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}ne.prototype._verify1=function(l){o(l.negative===0,"red works only with positives"),o(l.red,"red works only with red numbers")},ne.prototype._verify2=function(l,p){o((l.negative|p.negative)===0,"red works only with positives"),o(l.red&&l.red===p.red,"red works only with red numbers")},ne.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},ne.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},ne.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},ne.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},ne.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},ne.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},ne.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},ne.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},ne.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},ne.prototype.isqr=function(l){return this.imul(l,l.clone())},ne.prototype.sqr=function(l){return this.mul(l,l)},ne.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(o(p%2===1),p===3){var m=this.m.add(new a(1)).iushrn(2);return this.pow(l,m)}for(var _=this.m.subn(1),A=0;!_.isZero()&&_.andln(1)===0;)A++,_.iushrn(1);o(!_.isZero());var I=new a(1).toRed(this),T=I.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,S).cmp(T)!==0;)d.redIAdd(T);for(var E=this.pow(d,_),M=this.pow(l,_.addn(1).iushrn(1)),U=this.pow(l,_),F=A;U.cmp(I)!==0;){for(var N=U,L=0;N.cmp(I)!==0;L++)N=N.redSqr();o(L<F);var H=this.pow(E,new a(1).iushln(F-L-1));M=M.redMul(H),E=H.redSqr(),U=U.redMul(E),F=L}return M},ne.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},ne.prototype.pow=function(l,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,_=new Array(1<<m);_[0]=new a(1).toRed(this),_[1]=l;for(var A=2;A<_.length;A++)_[A]=this.mul(_[A-1],l);var I=_[0],T=0,S=0,d=p.bitLength()%26;for(d===0&&(d=26),A=p.length-1;A>=0;A--){for(var E=p.words[A],M=d-1;M>=0;M--){var U=E>>M&1;if(I!==_[0]&&(I=this.sqr(I)),U===0&&T===0){S=0;continue}T<<=1,T|=U,S++,!(S!==m&&(A!==0||M!==0))&&(I=this.mul(I,_[T]),S=0,T=0)}d=26}return I},ne.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},ne.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},a.mont=function(l){return new fe(l)};function fe(l){ne.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(fe,ne),fe.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},fe.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},fe.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new a(0)._forceRed(this);var m=l.mul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(e,commonjsGlobal$7)}(bn$5);var bnExports$5=bn$5.exports,bn$4={exports:{}};bn$4.exports,function(e){(function(t,n){function o(l,p){if(!l)throw new Error(p||"Assertion failed")}function c(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function a(l,p,m){if(a.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof t=="object"?t.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$5.Buffer}catch{}a.isBN=function(l){return l instanceof a?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===a.wordSize&&Array.isArray(l.words)},a.max=function(l,p){return l.cmp(p)>0?l:p},a.min=function(l,p){return l.cmp(p)<0?l:p},a.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),o(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var _=0;l[0]==="-"&&(_++,this.negative=1),_<l.length&&(p===16?this._parseHex(l,_,m):(this._parseBase(l,p,_),m==="le"&&this._initArray(this.toArray(),p,m)))},a.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(o(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},a.prototype._initArray=function(l,p,m){if(o(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A,I,T=0;if(m==="be")for(_=l.length-1,A=0;_>=0;_-=3)I=l[_]|l[_-1]<<8|l[_-2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);else if(m==="le")for(_=0,A=0;_<l.length;_+=3)I=l[_]|l[_+1]<<8|l[_+2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);return this.strip()};function h(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function v(l,p,m){var _=h(l,m);return m-1>=p&&(_|=h(l,m-1)<<4),_}a.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A=0,I=0,T;if(m==="be")for(_=l.length-1;_>=p;_-=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8;else{var S=l.length-p;for(_=S%2===0?p+1:p;_<l.length;_+=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8}this.strip()};function b(l,p,m,_){for(var A=0,I=Math.min(l.length,m),T=p;T<I;T++){var S=l.charCodeAt(T)-48;A*=_,S>=49?A+=S-49+10:S>=17?A+=S-17+10:A+=S}return A}a.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var _=0,A=1;A<=67108863;A*=p)_++;_--,A=A/p|0;for(var I=l.length-m,T=I%_,S=Math.min(I,I-T)+m,d=0,E=m;E<S;E+=_)d=b(l,E,E+_,p),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var M=1;for(d=b(l,E,l.length,p),E=0;E<T;E++)M*=p;this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},a.prototype.clone=function(){var l=new a(null);return this.copy(l),l},a.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var _=0,A=0,I=0;I<this.length;I++){var T=this.words[I],S=((T<<_|A)&16777215).toString(16);A=T>>>24-_&16777215,A!==0||I!==this.length-1?m=y[6-S.length]+S+m:m=S+m,_+=2,_>=26&&(_-=26,I--)}for(A!==0&&(m=A.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var d=w[l],E=O[l];m="";var M=this.clone();for(M.negative=0;!M.isZero();){var U=M.modn(E).toString(l);M=M.idivn(E),M.isZero()?m=U+m:m=y[d-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(l,p){return o(typeof u<"u"),this.toArrayLike(u,l,p)},a.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},a.prototype.toArrayLike=function(l,p,m){var _=this.byteLength(),A=m||Math.max(1,_);o(_<=A,"byte array longer than desired length"),o(A>0,"Requested array length <= 0"),this.strip();var I=p==="le",T=new l(A),S,d,E=this.clone();if(I){for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[d]=S;for(;d<A;d++)T[d]=0}else{for(d=0;d<A-_;d++)T[d]=0;for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[A-d-1]=S}return T},Math.clz32?a.prototype._countBits=function(l){return 32-Math.clz32(l)}:a.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},a.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return p&8191||(m+=13,p>>>=13),p&127||(m+=7,p>>>=7),p&15||(m+=4,p>>>=4),p&3||(m+=2,p>>>=2),p&1||m++,m},a.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function P(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var _=m/26|0,A=m%26;p[m]=(l.words[_]&1<<A)>>>A}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},a.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},a.prototype.ior=function(l){return o((this.negative|l.negative)===0),this.iuor(l)},a.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},a.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},a.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},a.prototype.iand=function(l){return o((this.negative|l.negative)===0),this.iuand(l)},a.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},a.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},a.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var _=0;_<m.length;_++)this.words[_]=p.words[_]^m.words[_];if(this!==p)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=p.length,this.strip()},a.prototype.ixor=function(l){return o((this.negative|l.negative)===0),this.iuxor(l)},a.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},a.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},a.prototype.inotn=function(l){o(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var _=0;_<p;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this.strip()},a.prototype.notn=function(l){return this.clone().inotn(l)},a.prototype.setn=function(l,p){o(typeof l=="number"&&l>=0);var m=l/26|0,_=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this.strip()},a.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,_;this.length>l.length?(m=this,_=l):(m=l,_=this);for(var A=0,I=0;I<_.length;I++)p=(m.words[I]|0)+(_.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;for(;A!==0&&I<m.length;I++)p=(m.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;I<m.length;I++)this.words[I]=m.words[I];return this},a.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},a.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,A;m>0?(_=this,A=l):(_=l,A=this);for(var I=0,T=0;T<A.length;T++)p=(_.words[T]|0)-(A.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;for(;I!==0&&T<_.length;T++)p=(_.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;if(I===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(l){return this.clone().isub(l)};function C(l,p,m){m.negative=p.negative^l.negative;var _=l.length+p.length|0;m.length=_,_=_-1|0;var A=l.words[0]|0,I=p.words[0]|0,T=A*I,S=T&67108863,d=T/67108864|0;m.words[0]=S;for(var E=1;E<_;E++){for(var M=d>>>26,U=d&67108863,F=Math.min(E,p.length-1),N=Math.max(0,E-l.length+1);N<=F;N++){var L=E-N|0;A=l.words[L]|0,I=p.words[N]|0,T=A*I+U,M+=T/67108864|0,U=T&67108863}m.words[E]=U|0,d=M|0}return d!==0?m.words[E]=d|0:m.length--,m.strip()}var x=function(l,p,m){var _=l.words,A=p.words,I=m.words,T=0,S,d,E,M=_[0]|0,U=M&8191,F=M>>>13,N=_[1]|0,L=N&8191,H=N>>>13,Y=_[2]|0,Z=Y&8191,de=Y>>>13,he=_[3]|0,re=he&8191,ae=he>>>13,be=_[4]|0,ye=be&8191,we=be>>>13,Te=_[5]|0,ve=Te&8191,Ce=Te>>>13,Oe=_[6]|0,Se=Oe&8191,Pe=Oe>>>13,nt=_[7]|0,Me=nt&8191,Re=nt>>>13,pt=_[8]|0,je=pt&8191,Be=pt>>>13,vt=_[9]|0,Ne=vt&8191,J=vt>>>13,le=A[0]|0,ue=le&8191,pe=le>>>13,Ie=A[1]|0,_e=Ie&8191,Ae=Ie>>>13,bt=A[2]|0,xe=bt&8191,Ke=bt>>>13,wt=A[3]|0,De=wt&8191,He=wt>>>13,Pt=A[4]|0,Ue=Pt&8191,We=Pt>>>13,St=A[5]|0,Fe=St&8191,Ve=St>>>13,Ot=A[6]|0,Ge=Ot&8191,ze=Ot>>>13,Tt=A[7]|0,oe=Tt&8191,X=Tt>>>13,ie=A[8]|0,z=ie&8191,se=ie>>>13,me=A[9]|0,$e=me&8191,ge=me>>>13;m.negative=l.negative^p.negative,m.length=19,S=Math.imul(U,ue),d=Math.imul(U,pe),d=d+Math.imul(F,ue)|0,E=Math.imul(F,pe);var Le=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Le>>>26)|0,Le&=67108863,S=Math.imul(L,ue),d=Math.imul(L,pe),d=d+Math.imul(H,ue)|0,E=Math.imul(H,pe),S=S+Math.imul(U,_e)|0,d=d+Math.imul(U,Ae)|0,d=d+Math.imul(F,_e)|0,E=E+Math.imul(F,Ae)|0;var Je=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Je>>>26)|0,Je&=67108863,S=Math.imul(Z,ue),d=Math.imul(Z,pe),d=d+Math.imul(de,ue)|0,E=Math.imul(de,pe),S=S+Math.imul(L,_e)|0,d=d+Math.imul(L,Ae)|0,d=d+Math.imul(H,_e)|0,E=E+Math.imul(H,Ae)|0,S=S+Math.imul(U,xe)|0,d=d+Math.imul(U,Ke)|0,d=d+Math.imul(F,xe)|0,E=E+Math.imul(F,Ke)|0;var Ye=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(re,ue),d=Math.imul(re,pe),d=d+Math.imul(ae,ue)|0,E=Math.imul(ae,pe),S=S+Math.imul(Z,_e)|0,d=d+Math.imul(Z,Ae)|0,d=d+Math.imul(de,_e)|0,E=E+Math.imul(de,Ae)|0,S=S+Math.imul(L,xe)|0,d=d+Math.imul(L,Ke)|0,d=d+Math.imul(H,xe)|0,E=E+Math.imul(H,Ke)|0,S=S+Math.imul(U,De)|0,d=d+Math.imul(U,He)|0,d=d+Math.imul(F,De)|0,E=E+Math.imul(F,He)|0;var ht=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(ye,ue),d=Math.imul(ye,pe),d=d+Math.imul(we,ue)|0,E=Math.imul(we,pe),S=S+Math.imul(re,_e)|0,d=d+Math.imul(re,Ae)|0,d=d+Math.imul(ae,_e)|0,E=E+Math.imul(ae,Ae)|0,S=S+Math.imul(Z,xe)|0,d=d+Math.imul(Z,Ke)|0,d=d+Math.imul(de,xe)|0,E=E+Math.imul(de,Ke)|0,S=S+Math.imul(L,De)|0,d=d+Math.imul(L,He)|0,d=d+Math.imul(H,De)|0,E=E+Math.imul(H,He)|0,S=S+Math.imul(U,Ue)|0,d=d+Math.imul(U,We)|0,d=d+Math.imul(F,Ue)|0,E=E+Math.imul(F,We)|0;var Ze=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(ve,ue),d=Math.imul(ve,pe),d=d+Math.imul(Ce,ue)|0,E=Math.imul(Ce,pe),S=S+Math.imul(ye,_e)|0,d=d+Math.imul(ye,Ae)|0,d=d+Math.imul(we,_e)|0,E=E+Math.imul(we,Ae)|0,S=S+Math.imul(re,xe)|0,d=d+Math.imul(re,Ke)|0,d=d+Math.imul(ae,xe)|0,E=E+Math.imul(ae,Ke)|0,S=S+Math.imul(Z,De)|0,d=d+Math.imul(Z,He)|0,d=d+Math.imul(de,De)|0,E=E+Math.imul(de,He)|0,S=S+Math.imul(L,Ue)|0,d=d+Math.imul(L,We)|0,d=d+Math.imul(H,Ue)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(U,Fe)|0,d=d+Math.imul(U,Ve)|0,d=d+Math.imul(F,Fe)|0,E=E+Math.imul(F,Ve)|0;var dt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Se,ue),d=Math.imul(Se,pe),d=d+Math.imul(Pe,ue)|0,E=Math.imul(Pe,pe),S=S+Math.imul(ve,_e)|0,d=d+Math.imul(ve,Ae)|0,d=d+Math.imul(Ce,_e)|0,E=E+Math.imul(Ce,Ae)|0,S=S+Math.imul(ye,xe)|0,d=d+Math.imul(ye,Ke)|0,d=d+Math.imul(we,xe)|0,E=E+Math.imul(we,Ke)|0,S=S+Math.imul(re,De)|0,d=d+Math.imul(re,He)|0,d=d+Math.imul(ae,De)|0,E=E+Math.imul(ae,He)|0,S=S+Math.imul(Z,Ue)|0,d=d+Math.imul(Z,We)|0,d=d+Math.imul(de,Ue)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(L,Fe)|0,d=d+Math.imul(L,Ve)|0,d=d+Math.imul(H,Fe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(U,Ge)|0,d=d+Math.imul(U,ze)|0,d=d+Math.imul(F,Ge)|0,E=E+Math.imul(F,ze)|0;var Xe=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(Me,ue),d=Math.imul(Me,pe),d=d+Math.imul(Re,ue)|0,E=Math.imul(Re,pe),S=S+Math.imul(Se,_e)|0,d=d+Math.imul(Se,Ae)|0,d=d+Math.imul(Pe,_e)|0,E=E+Math.imul(Pe,Ae)|0,S=S+Math.imul(ve,xe)|0,d=d+Math.imul(ve,Ke)|0,d=d+Math.imul(Ce,xe)|0,E=E+Math.imul(Ce,Ke)|0,S=S+Math.imul(ye,De)|0,d=d+Math.imul(ye,He)|0,d=d+Math.imul(we,De)|0,E=E+Math.imul(we,He)|0,S=S+Math.imul(re,Ue)|0,d=d+Math.imul(re,We)|0,d=d+Math.imul(ae,Ue)|0,E=E+Math.imul(ae,We)|0,S=S+Math.imul(Z,Fe)|0,d=d+Math.imul(Z,Ve)|0,d=d+Math.imul(de,Fe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(L,Ge)|0,d=d+Math.imul(L,ze)|0,d=d+Math.imul(H,Ge)|0,E=E+Math.imul(H,ze)|0,S=S+Math.imul(U,oe)|0,d=d+Math.imul(U,X)|0,d=d+Math.imul(F,oe)|0,E=E+Math.imul(F,X)|0;var mt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(je,ue),d=Math.imul(je,pe),d=d+Math.imul(Be,ue)|0,E=Math.imul(Be,pe),S=S+Math.imul(Me,_e)|0,d=d+Math.imul(Me,Ae)|0,d=d+Math.imul(Re,_e)|0,E=E+Math.imul(Re,Ae)|0,S=S+Math.imul(Se,xe)|0,d=d+Math.imul(Se,Ke)|0,d=d+Math.imul(Pe,xe)|0,E=E+Math.imul(Pe,Ke)|0,S=S+Math.imul(ve,De)|0,d=d+Math.imul(ve,He)|0,d=d+Math.imul(Ce,De)|0,E=E+Math.imul(Ce,He)|0,S=S+Math.imul(ye,Ue)|0,d=d+Math.imul(ye,We)|0,d=d+Math.imul(we,Ue)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(re,Fe)|0,d=d+Math.imul(re,Ve)|0,d=d+Math.imul(ae,Fe)|0,E=E+Math.imul(ae,Ve)|0,S=S+Math.imul(Z,Ge)|0,d=d+Math.imul(Z,ze)|0,d=d+Math.imul(de,Ge)|0,E=E+Math.imul(de,ze)|0,S=S+Math.imul(L,oe)|0,d=d+Math.imul(L,X)|0,d=d+Math.imul(H,oe)|0,E=E+Math.imul(H,X)|0,S=S+Math.imul(U,z)|0,d=d+Math.imul(U,se)|0,d=d+Math.imul(F,z)|0,E=E+Math.imul(F,se)|0;var lt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Ne,ue),d=Math.imul(Ne,pe),d=d+Math.imul(J,ue)|0,E=Math.imul(J,pe),S=S+Math.imul(je,_e)|0,d=d+Math.imul(je,Ae)|0,d=d+Math.imul(Be,_e)|0,E=E+Math.imul(Be,Ae)|0,S=S+Math.imul(Me,xe)|0,d=d+Math.imul(Me,Ke)|0,d=d+Math.imul(Re,xe)|0,E=E+Math.imul(Re,Ke)|0,S=S+Math.imul(Se,De)|0,d=d+Math.imul(Se,He)|0,d=d+Math.imul(Pe,De)|0,E=E+Math.imul(Pe,He)|0,S=S+Math.imul(ve,Ue)|0,d=d+Math.imul(ve,We)|0,d=d+Math.imul(Ce,Ue)|0,E=E+Math.imul(Ce,We)|0,S=S+Math.imul(ye,Fe)|0,d=d+Math.imul(ye,Ve)|0,d=d+Math.imul(we,Fe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(re,Ge)|0,d=d+Math.imul(re,ze)|0,d=d+Math.imul(ae,Ge)|0,E=E+Math.imul(ae,ze)|0,S=S+Math.imul(Z,oe)|0,d=d+Math.imul(Z,X)|0,d=d+Math.imul(de,oe)|0,E=E+Math.imul(de,X)|0,S=S+Math.imul(L,z)|0,d=d+Math.imul(L,se)|0,d=d+Math.imul(H,z)|0,E=E+Math.imul(H,se)|0,S=S+Math.imul(U,$e)|0,d=d+Math.imul(U,ge)|0,d=d+Math.imul(F,$e)|0,E=E+Math.imul(F,ge)|0;var yt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Ne,_e),d=Math.imul(Ne,Ae),d=d+Math.imul(J,_e)|0,E=Math.imul(J,Ae),S=S+Math.imul(je,xe)|0,d=d+Math.imul(je,Ke)|0,d=d+Math.imul(Be,xe)|0,E=E+Math.imul(Be,Ke)|0,S=S+Math.imul(Me,De)|0,d=d+Math.imul(Me,He)|0,d=d+Math.imul(Re,De)|0,E=E+Math.imul(Re,He)|0,S=S+Math.imul(Se,Ue)|0,d=d+Math.imul(Se,We)|0,d=d+Math.imul(Pe,Ue)|0,E=E+Math.imul(Pe,We)|0,S=S+Math.imul(ve,Fe)|0,d=d+Math.imul(ve,Ve)|0,d=d+Math.imul(Ce,Fe)|0,E=E+Math.imul(Ce,Ve)|0,S=S+Math.imul(ye,Ge)|0,d=d+Math.imul(ye,ze)|0,d=d+Math.imul(we,Ge)|0,E=E+Math.imul(we,ze)|0,S=S+Math.imul(re,oe)|0,d=d+Math.imul(re,X)|0,d=d+Math.imul(ae,oe)|0,E=E+Math.imul(ae,X)|0,S=S+Math.imul(Z,z)|0,d=d+Math.imul(Z,se)|0,d=d+Math.imul(de,z)|0,E=E+Math.imul(de,se)|0,S=S+Math.imul(L,$e)|0,d=d+Math.imul(L,ge)|0,d=d+Math.imul(H,$e)|0,E=E+Math.imul(H,ge)|0;var _t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(Ne,xe),d=Math.imul(Ne,Ke),d=d+Math.imul(J,xe)|0,E=Math.imul(J,Ke),S=S+Math.imul(je,De)|0,d=d+Math.imul(je,He)|0,d=d+Math.imul(Be,De)|0,E=E+Math.imul(Be,He)|0,S=S+Math.imul(Me,Ue)|0,d=d+Math.imul(Me,We)|0,d=d+Math.imul(Re,Ue)|0,E=E+Math.imul(Re,We)|0,S=S+Math.imul(Se,Fe)|0,d=d+Math.imul(Se,Ve)|0,d=d+Math.imul(Pe,Fe)|0,E=E+Math.imul(Pe,Ve)|0,S=S+Math.imul(ve,Ge)|0,d=d+Math.imul(ve,ze)|0,d=d+Math.imul(Ce,Ge)|0,E=E+Math.imul(Ce,ze)|0,S=S+Math.imul(ye,oe)|0,d=d+Math.imul(ye,X)|0,d=d+Math.imul(we,oe)|0,E=E+Math.imul(we,X)|0,S=S+Math.imul(re,z)|0,d=d+Math.imul(re,se)|0,d=d+Math.imul(ae,z)|0,E=E+Math.imul(ae,se)|0,S=S+Math.imul(Z,$e)|0,d=d+Math.imul(Z,ge)|0,d=d+Math.imul(de,$e)|0,E=E+Math.imul(de,ge)|0;var gt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(gt>>>26)|0,gt&=67108863,S=Math.imul(Ne,De),d=Math.imul(Ne,He),d=d+Math.imul(J,De)|0,E=Math.imul(J,He),S=S+Math.imul(je,Ue)|0,d=d+Math.imul(je,We)|0,d=d+Math.imul(Be,Ue)|0,E=E+Math.imul(Be,We)|0,S=S+Math.imul(Me,Fe)|0,d=d+Math.imul(Me,Ve)|0,d=d+Math.imul(Re,Fe)|0,E=E+Math.imul(Re,Ve)|0,S=S+Math.imul(Se,Ge)|0,d=d+Math.imul(Se,ze)|0,d=d+Math.imul(Pe,Ge)|0,E=E+Math.imul(Pe,ze)|0,S=S+Math.imul(ve,oe)|0,d=d+Math.imul(ve,X)|0,d=d+Math.imul(Ce,oe)|0,E=E+Math.imul(Ce,X)|0,S=S+Math.imul(ye,z)|0,d=d+Math.imul(ye,se)|0,d=d+Math.imul(we,z)|0,E=E+Math.imul(we,se)|0,S=S+Math.imul(re,$e)|0,d=d+Math.imul(re,ge)|0,d=d+Math.imul(ae,$e)|0,E=E+Math.imul(ae,ge)|0;var at=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(Ne,Ue),d=Math.imul(Ne,We),d=d+Math.imul(J,Ue)|0,E=Math.imul(J,We),S=S+Math.imul(je,Fe)|0,d=d+Math.imul(je,Ve)|0,d=d+Math.imul(Be,Fe)|0,E=E+Math.imul(Be,Ve)|0,S=S+Math.imul(Me,Ge)|0,d=d+Math.imul(Me,ze)|0,d=d+Math.imul(Re,Ge)|0,E=E+Math.imul(Re,ze)|0,S=S+Math.imul(Se,oe)|0,d=d+Math.imul(Se,X)|0,d=d+Math.imul(Pe,oe)|0,E=E+Math.imul(Pe,X)|0,S=S+Math.imul(ve,z)|0,d=d+Math.imul(ve,se)|0,d=d+Math.imul(Ce,z)|0,E=E+Math.imul(Ce,se)|0,S=S+Math.imul(ye,$e)|0,d=d+Math.imul(ye,ge)|0,d=d+Math.imul(we,$e)|0,E=E+Math.imul(we,ge)|0;var $t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(Ne,Fe),d=Math.imul(Ne,Ve),d=d+Math.imul(J,Fe)|0,E=Math.imul(J,Ve),S=S+Math.imul(je,Ge)|0,d=d+Math.imul(je,ze)|0,d=d+Math.imul(Be,Ge)|0,E=E+Math.imul(Be,ze)|0,S=S+Math.imul(Me,oe)|0,d=d+Math.imul(Me,X)|0,d=d+Math.imul(Re,oe)|0,E=E+Math.imul(Re,X)|0,S=S+Math.imul(Se,z)|0,d=d+Math.imul(Se,se)|0,d=d+Math.imul(Pe,z)|0,E=E+Math.imul(Pe,se)|0,S=S+Math.imul(ve,$e)|0,d=d+Math.imul(ve,ge)|0,d=d+Math.imul(Ce,$e)|0,E=E+Math.imul(Ce,ge)|0;var ot=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,S=Math.imul(Ne,Ge),d=Math.imul(Ne,ze),d=d+Math.imul(J,Ge)|0,E=Math.imul(J,ze),S=S+Math.imul(je,oe)|0,d=d+Math.imul(je,X)|0,d=d+Math.imul(Be,oe)|0,E=E+Math.imul(Be,X)|0,S=S+Math.imul(Me,z)|0,d=d+Math.imul(Me,se)|0,d=d+Math.imul(Re,z)|0,E=E+Math.imul(Re,se)|0,S=S+Math.imul(Se,$e)|0,d=d+Math.imul(Se,ge)|0,d=d+Math.imul(Pe,$e)|0,E=E+Math.imul(Pe,ge)|0;var it=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(Ne,oe),d=Math.imul(Ne,X),d=d+Math.imul(J,oe)|0,E=Math.imul(J,X),S=S+Math.imul(je,z)|0,d=d+Math.imul(je,se)|0,d=d+Math.imul(Be,z)|0,E=E+Math.imul(Be,se)|0,S=S+Math.imul(Me,$e)|0,d=d+Math.imul(Me,ge)|0,d=d+Math.imul(Re,$e)|0,E=E+Math.imul(Re,ge)|0;var st=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(Ne,z),d=Math.imul(Ne,se),d=d+Math.imul(J,z)|0,E=Math.imul(J,se),S=S+Math.imul(je,$e)|0,d=d+Math.imul(je,ge)|0,d=d+Math.imul(Be,$e)|0,E=E+Math.imul(Be,ge)|0;var tt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(Ne,$e),d=Math.imul(Ne,ge),d=d+Math.imul(J,$e)|0,E=Math.imul(J,ge);var ke=(T+S|0)+((d&8191)<<13)|0;return T=(E+(d>>>13)|0)+(ke>>>26)|0,ke&=67108863,I[0]=Le,I[1]=Je,I[2]=Ye,I[3]=ht,I[4]=Ze,I[5]=dt,I[6]=Xe,I[7]=mt,I[8]=lt,I[9]=yt,I[10]=_t,I[11]=gt,I[12]=at,I[13]=$t,I[14]=ot,I[15]=it,I[16]=st,I[17]=tt,I[18]=ke,T!==0&&(I[19]=T,m.length++),m};Math.imul||(x=C);function D(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var _=0,A=0,I=0;I<m.length-1;I++){var T=A;A=0;for(var S=_&67108863,d=Math.min(I,p.length-1),E=Math.max(0,I-l.length+1);E<=d;E++){var M=I-E,U=l.words[M]|0,F=p.words[E]|0,N=U*F,L=N&67108863;T=T+(N/67108864|0)|0,L=L+S|0,S=L&67108863,T=T+(L>>>26)|0,A+=T>>>26,T&=67108863}m.words[I]=S,_=T,T=A}return _!==0?m.words[I]=_:m.length--,m.strip()}function k(l,p,m){var _=new B;return _.mulp(l,p,m)}a.prototype.mulTo=function(l,p){var m,_=this.length+l.length;return this.length===10&&l.length===10?m=x(this,l,p):_<63?m=C(this,l,p):_<1024?m=D(this,l,p):m=k(this,l,p),m};function B(l,p){this.x=l,this.y=p}B.prototype.makeRBT=function(l){for(var p=new Array(l),m=a.prototype._countBits(l)-1,_=0;_<l;_++)p[_]=this.revBin(_,m,l);return p},B.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var _=0,A=0;A<p;A++)_|=(l&1)<<p-A-1,l>>=1;return _},B.prototype.permute=function(l,p,m,_,A,I){for(var T=0;T<I;T++)_[T]=p[l[T]],A[T]=m[l[T]]},B.prototype.transform=function(l,p,m,_,A,I){this.permute(I,l,p,m,_,A);for(var T=1;T<A;T<<=1)for(var S=T<<1,d=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),M=0;M<A;M+=S)for(var U=d,F=E,N=0;N<T;N++){var L=m[M+N],H=_[M+N],Y=m[M+N+T],Z=_[M+N+T],de=U*Y-F*Z;Z=U*Z+F*Y,Y=de,m[M+N]=L+Y,_[M+N]=H+Z,m[M+N+T]=L-Y,_[M+N+T]=H-Z,N!==S&&(de=d*U-E*F,F=d*F+E*U,U=de)}},B.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,_=m&1,A=0;for(m=m/2|0;m;m=m>>>1)A++;return 1<<A+1+_},B.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var _=0;_<m/2;_++){var A=l[_];l[_]=l[m-_-1],l[m-_-1]=A,A=p[_],p[_]=-p[m-_-1],p[m-_-1]=-A}},B.prototype.normalize13b=function(l,p){for(var m=0,_=0;_<p/2;_++){var A=Math.round(l[2*_+1]/p)*8192+Math.round(l[2*_]/p)+m;l[_]=A&67108863,A<67108864?m=0:m=A/67108864|0}return l},B.prototype.convert13b=function(l,p,m,_){for(var A=0,I=0;I<p;I++)A=A+(l[I]|0),m[2*I]=A&8191,A=A>>>13,m[2*I+1]=A&8191,A=A>>>13;for(I=2*p;I<_;++I)m[I]=0;o(A===0),o((A&-8192)===0)},B.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},B.prototype.mulp=function(l,p,m){var _=2*this.guessLen13b(l.length,p.length),A=this.makeRBT(_),I=this.stub(_),T=new Array(_),S=new Array(_),d=new Array(_),E=new Array(_),M=new Array(_),U=new Array(_),F=m.words;F.length=_,this.convert13b(l.words,l.length,T,_),this.convert13b(p.words,p.length,E,_),this.transform(T,I,S,d,_,A),this.transform(E,I,M,U,_,A);for(var N=0;N<_;N++){var L=S[N]*M[N]-d[N]*U[N];d[N]=S[N]*U[N]+d[N]*M[N],S[N]=L}return this.conjugate(S,d,_),this.transform(S,d,F,I,_,A),this.conjugate(F,I,_),this.normalize13b(F,_),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},a.prototype.mul=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},a.prototype.mulf=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),k(this,l,p)},a.prototype.imul=function(l){return this.clone().mulTo(l,this)},a.prototype.imuln=function(l){o(typeof l=="number"),o(l<67108864);for(var p=0,m=0;m<this.length;m++){var _=(this.words[m]|0)*l,A=(_&67108863)+(p&67108863);p>>=26,p+=_/67108864|0,p+=A>>>26,this.words[m]=A&67108863}return p!==0&&(this.words[m]=p,this.length++),this},a.prototype.muln=function(l){return this.clone().imuln(l)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(l){var p=P(l);if(p.length===0)return new a(1);for(var m=this,_=0;_<p.length&&p[_]===0;_++,m=m.sqr());if(++_<p.length)for(var A=m.sqr();_<p.length;_++,A=A.sqr())p[_]!==0&&(m=m.mul(A));return m},a.prototype.iushln=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=67108863>>>26-p<<26-p,A;if(p!==0){var I=0;for(A=0;A<this.length;A++){var T=this.words[A]&_,S=(this.words[A]|0)-T<<p;this.words[A]=S|I,I=T>>>26-p}I&&(this.words[A]=I,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this.strip()},a.prototype.ishln=function(l){return o(this.negative===0),this.iushln(l)},a.prototype.iushrn=function(l,p,m){o(typeof l=="number"&&l>=0);var _;p?_=(p-p%26)/26:_=0;var A=l%26,I=Math.min((l-A)/26,this.length),T=67108863^67108863>>>A<<A,S=m;if(_-=I,_=Math.max(0,_),S){for(var d=0;d<I;d++)S.words[d]=this.words[d];S.length=I}if(I!==0)if(this.length>I)for(this.length-=I,d=0;d<this.length;d++)this.words[d]=this.words[d+I];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=_);d--){var M=this.words[d]|0;this.words[d]=E<<26-A|M>>>A,E=M&T}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(l,p,m){return o(this.negative===0),this.iushrn(l,p,m)},a.prototype.shln=function(l){return this.clone().ishln(l)},a.prototype.ushln=function(l){return this.clone().iushln(l)},a.prototype.shrn=function(l){return this.clone().ishrn(l)},a.prototype.ushrn=function(l){return this.clone().iushrn(l)},a.prototype.testn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return!1;var A=this.words[m];return!!(A&_)},a.prototype.imaskn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var _=67108863^67108863>>>p<<p;this.words[this.length-1]&=_}return this.strip()},a.prototype.maskn=function(l){return this.clone().imaskn(l)},a.prototype.iaddn=function(l){return o(typeof l=="number"),o(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},a.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(l){if(o(typeof l=="number"),o(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},a.prototype.addn=function(l){return this.clone().iaddn(l)},a.prototype.subn=function(l){return this.clone().isubn(l)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(l,p,m){var _=l.length+m,A;this._expand(_);var I,T=0;for(A=0;A<l.length;A++){I=(this.words[A+m]|0)+T;var S=(l.words[A]|0)*p;I-=S&67108863,T=(I>>26)-(S/67108864|0),this.words[A+m]=I&67108863}for(;A<this.length-m;A++)I=(this.words[A+m]|0)+T,T=I>>26,this.words[A+m]=I&67108863;if(T===0)return this.strip();for(o(T===-1),T=0,A=0;A<this.length;A++)I=-(this.words[A]|0)+T,T=I>>26,this.words[A]=I&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(l,p){var m=this.length-l.length,_=this.clone(),A=l,I=A.words[A.length-1]|0,T=this._countBits(I);m=26-T,m!==0&&(A=A.ushln(m),_.iushln(m),I=A.words[A.length-1]|0);var S=_.length-A.length,d;if(p!=="mod"){d=new a(null),d.length=S+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var M=_.clone()._ishlnsubmul(A,1,S);M.negative===0&&(_=M,d&&(d.words[S]=1));for(var U=S-1;U>=0;U--){var F=(_.words[A.length+U]|0)*67108864+(_.words[A.length+U-1]|0);for(F=Math.min(F/I|0,67108863),_._ishlnsubmul(A,F,U);_.negative!==0;)F--,_.negative=0,_._ishlnsubmul(A,1,U),_.isZero()||(_.negative^=1);d&&(d.words[U]=F)}return d&&d.strip(),_.strip(),p!=="div"&&m!==0&&_.iushrn(m),{div:d||null,mod:_}},a.prototype.divmod=function(l,p,m){if(o(!l.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var _,A,I;return this.negative!==0&&l.negative===0?(I=this.neg().divmod(l,p),p!=="mod"&&(_=I.div.neg()),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.iadd(l)),{div:_,mod:A}):this.negative===0&&l.negative!==0?(I=this.divmod(l.neg(),p),p!=="mod"&&(_=I.div.neg()),{div:_,mod:I.mod}):this.negative&l.negative?(I=this.neg().divmod(l.neg(),p),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.isub(l)),{div:I.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new a(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new a(this.modn(l.words[0]))}:this._wordDiv(l,p)},a.prototype.div=function(l){return this.divmod(l,"div",!1).div},a.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},a.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},a.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,_=l.ushrn(1),A=l.andln(1),I=m.cmp(_);return I<0||A===1&&I===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modn=function(l){o(l<=67108863);for(var p=67108864%l,m=0,_=this.length-1;_>=0;_--)m=(p*m+(this.words[_]|0))%l;return m},a.prototype.idivn=function(l){o(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var _=(this.words[m]|0)+p*67108864;this.words[m]=_/l|0,p=_%l}return this.strip()},a.prototype.divn=function(l){return this.clone().idivn(l)},a.prototype.egcd=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=new a(0),T=new a(1),S=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++S;for(var d=m.clone(),E=p.clone();!p.isZero();){for(var M=0,U=1;!(p.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(p.iushrn(M);M-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(d),A.isub(E)),_.iushrn(1),A.iushrn(1);for(var F=0,N=1;!(m.words[0]&N)&&F<26;++F,N<<=1);if(F>0)for(m.iushrn(F);F-- >0;)(I.isOdd()||T.isOdd())&&(I.iadd(d),T.isub(E)),I.iushrn(1),T.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(I),A.isub(T)):(m.isub(p),I.isub(_),T.isub(A))}return{a:I,b:T,gcd:m.iushln(S)}},a.prototype._invmp=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,S=1;!(p.words[0]&S)&&T<26;++T,S<<=1);if(T>0)for(p.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);for(var d=0,E=1;!(m.words[0]&E)&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(I),A.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(A)):(m.isub(p),A.isub(_))}var M;return p.cmpn(1)===0?M=_:M=A,M.cmpn(0)<0&&M.iadd(l),M},a.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var _=0;p.isEven()&&m.isEven();_++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=p.cmp(m);if(A<0){var I=p;p=m,m=I}else if(A===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(_)},a.prototype.invm=function(l){return this.egcd(l).a.umod(l)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(l){return this.words[0]&l},a.prototype.bincn=function(l){o(typeof l=="number");var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var A=_,I=m;A!==0&&I<this.length;I++){var T=this.words[I]|0;T+=A,A=T>>>26,T&=67108863,this.words[I]=T}return A!==0&&(this.words[I]=A,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),o(l<=67108863,"Number is too big");var _=this.words[0]|0;m=_===l?0:_<l?-1:1}return this.negative!==0?-m|0:m},a.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,A=l.words[m]|0;if(_!==A){_<A?p=-1:_>A&&(p=1);break}}return p},a.prototype.gtn=function(l){return this.cmpn(l)===1},a.prototype.gt=function(l){return this.cmp(l)===1},a.prototype.gten=function(l){return this.cmpn(l)>=0},a.prototype.gte=function(l){return this.cmp(l)>=0},a.prototype.ltn=function(l){return this.cmpn(l)===-1},a.prototype.lt=function(l){return this.cmp(l)===-1},a.prototype.lten=function(l){return this.cmpn(l)<=0},a.prototype.lte=function(l){return this.cmp(l)<=0},a.prototype.eqn=function(l){return this.cmpn(l)===0},a.prototype.eq=function(l){return this.cmp(l)===0},a.red=function(l){return new ne(l)},a.prototype.toRed=function(l){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(l){return this.red=l,this},a.prototype.forceRed=function(l){return o(!this.red,"Already a number in reduction context"),this._forceRed(l)},a.prototype.redAdd=function(l){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},a.prototype.redIAdd=function(l){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},a.prototype.redSub=function(l){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},a.prototype.redISub=function(l){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},a.prototype.redShl=function(l){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},a.prototype.redMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},a.prototype.redIMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(l){return o(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var q={k256:null,p224:null,p192:null,p25519:null};function V(l,p){this.name=l,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var l=new a(null);return l.words=new Array(Math.ceil(this.n/13)),l},V.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var _=m<this.n?-1:p.ucmp(this.p);return _===0?(p.words[0]=0,p.length=1):_>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},V.prototype.split=function(l,p){l.iushrn(this.n,0,p)},V.prototype.imulK=function(l){return l.imul(this.k)};function ee(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(ee,V),ee.prototype.split=function(l,p){for(var m=4194303,_=Math.min(l.length,9),A=0;A<_;A++)p.words[A]=l.words[A];if(p.length=_,l.length<=9){l.words[0]=0,l.length=1;return}var I=l.words[9];for(p.words[p.length++]=I&m,A=10;A<l.length;A++){var T=l.words[A]|0;l.words[A-10]=(T&m)<<4|I>>>22,I=T}I>>>=22,l.words[A-10]=I,I===0&&l.length>10?l.length-=10:l.length-=9},ee.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var _=l.words[m]|0;p+=_*977,l.words[m]=p&67108863,p=_*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function te(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(te,V);function ce(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(ce,V);function Q(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(Q,V),Q.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var _=(l.words[m]|0)*19+p,A=_&67108863;_>>>=26,l.words[m]=A,p=_}return p!==0&&(l.words[l.length++]=p),l},a._prime=function(l){if(q[l])return q[l];var p;if(l==="k256")p=new ee;else if(l==="p224")p=new te;else if(l==="p192")p=new ce;else if(l==="p25519")p=new Q;else throw new Error("Unknown prime "+l);return q[l]=p,p};function ne(l){if(typeof l=="string"){var p=a._prime(l);this.m=p.p,this.prime=p}else o(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}ne.prototype._verify1=function(l){o(l.negative===0,"red works only with positives"),o(l.red,"red works only with red numbers")},ne.prototype._verify2=function(l,p){o((l.negative|p.negative)===0,"red works only with positives"),o(l.red&&l.red===p.red,"red works only with red numbers")},ne.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},ne.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},ne.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},ne.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},ne.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},ne.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},ne.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},ne.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},ne.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},ne.prototype.isqr=function(l){return this.imul(l,l.clone())},ne.prototype.sqr=function(l){return this.mul(l,l)},ne.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(o(p%2===1),p===3){var m=this.m.add(new a(1)).iushrn(2);return this.pow(l,m)}for(var _=this.m.subn(1),A=0;!_.isZero()&&_.andln(1)===0;)A++,_.iushrn(1);o(!_.isZero());var I=new a(1).toRed(this),T=I.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,S).cmp(T)!==0;)d.redIAdd(T);for(var E=this.pow(d,_),M=this.pow(l,_.addn(1).iushrn(1)),U=this.pow(l,_),F=A;U.cmp(I)!==0;){for(var N=U,L=0;N.cmp(I)!==0;L++)N=N.redSqr();o(L<F);var H=this.pow(E,new a(1).iushln(F-L-1));M=M.redMul(H),E=H.redSqr(),U=U.redMul(E),F=L}return M},ne.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},ne.prototype.pow=function(l,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,_=new Array(1<<m);_[0]=new a(1).toRed(this),_[1]=l;for(var A=2;A<_.length;A++)_[A]=this.mul(_[A-1],l);var I=_[0],T=0,S=0,d=p.bitLength()%26;for(d===0&&(d=26),A=p.length-1;A>=0;A--){for(var E=p.words[A],M=d-1;M>=0;M--){var U=E>>M&1;if(I!==_[0]&&(I=this.sqr(I)),U===0&&T===0){S=0;continue}T<<=1,T|=U,S++,!(S!==m&&(A!==0||M!==0))&&(I=this.mul(I,_[T]),S=0,T=0)}d=26}return I},ne.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},ne.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},a.mont=function(l){return new fe(l)};function fe(l){ne.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(fe,ne),fe.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},fe.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},fe.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new a(0)._forceRed(this);var m=l.mul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(e,commonjsGlobal$7)}(bn$4);var bnExports$4=bn$4.exports,brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var e;brorand.exports=function(o){return e||(e=new t(null)),e.generate(o)};function t(o){this.rand=o}if(brorand.exports.Rand=t,t.prototype.generate=function(o){return this._rand(o)},t.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var c=new Uint8Array(o),a=0;a<c.length;a++)c[a]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(o){var c=new Uint8Array(o);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(o){var c=new Uint8Array(o);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var n=requireCryptoBrowserify();if(typeof n.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(o){return n.randomBytes(o)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var e=bnExports$4,t=requireBrorand();function n(o){this.rand=o||new t.Rand}return mr=n,n.create=function(o){return new n(o)},n.prototype._randbelow=function(o){var c=o.bitLength(),a=Math.ceil(c/8);do var u=new e(this.rand.generate(a));while(u.cmp(o)>=0);return u},n.prototype._randrange=function(o,c){var a=c.sub(o);return o.add(this._randbelow(a))},n.prototype.test=function(o,c,a){var u=o.bitLength(),h=e.mont(o),v=new e(1).toRed(h);c||(c=Math.max(1,u/48|0));for(var b=o.subn(1),y=0;!b.testn(y);y++);for(var w=o.shrn(y),O=b.toRed(h),P=!0;c>0;c--){var C=this._randrange(new e(2),b);a&&a(C);var x=C.toRed(h).redPow(w);if(!(x.cmp(v)===0||x.cmp(O)===0)){for(var D=1;D<y;D++){if(x=x.redSqr(),x.cmp(v)===0)return!1;if(x.cmp(O)===0)break}if(D===y)return!1}}return P},n.prototype.getDivisor=function(o,c){var a=o.bitLength(),u=e.mont(o),h=new e(1).toRed(u);c||(c=Math.max(1,a/48|0));for(var v=o.subn(1),b=0;!v.testn(b);b++);for(var y=o.shrn(b),w=v.toRed(u);c>0;c--){var O=this._randrange(new e(2),v),P=o.gcd(O);if(P.cmpn(1)!==0)return P;var C=O.toRed(u).redPow(y);if(!(C.cmp(h)===0||C.cmp(w)===0)){for(var x=1;x<b;x++){if(C=C.redSqr(),C.cmp(h)===0)return C.fromRed().subn(1).gcd(o);if(C.cmp(w)===0)break}if(x===b)return C=C.redSqr(),C.fromRed().subn(1).gcd(o)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var e=browserExports;generatePrime=D,D.simpleSieve=C,D.fermatTest=x;var t=bnExports$5,n=new t(24),o=requireMr(),c=new o,a=new t(1),u=new t(2),h=new t(5);new t(16),new t(8);var v=new t(10),b=new t(3);new t(7);var y=new t(11),w=new t(4);new t(12);var O=null;function P(){if(O!==null)return O;var k=1048576,B=[];B[0]=2;for(var q=1,V=3;V<k;V+=2){for(var ee=Math.ceil(Math.sqrt(V)),te=0;te<q&&B[te]<=ee&&V%B[te]!==0;te++);q!==te&&B[te]<=ee||(B[q++]=V)}return O=B,B}function C(k){for(var B=P(),q=0;q<B.length;q++)if(k.modn(B[q])===0)return k.cmpn(B[q])===0;return!0}function x(k){var B=t.mont(k);return u.toRed(B).redPow(k.subn(1)).fromRed().cmpn(1)===0}function D(k,B){if(k<16)return B===2||B===5?new t([140,123]):new t([140,39]);B=new t(B);for(var q,V;;){for(q=new t(e(Math.ceil(k/8)));q.bitLength()>k;)q.ishrn(1);if(q.isEven()&&q.iadd(a),q.testn(1)||q.iadd(u),B.cmp(u)){if(!B.cmp(h))for(;q.mod(v).cmp(b);)q.iadd(w)}else for(;q.mod(n).cmp(y);)q.iadd(w);if(V=q.shrn(1),C(V)&&C(q)&&x(V)&&x(q)&&c.test(V)&&c.test(q))return q}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$2={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var e=bnExports$5,t=requireMr(),n=new t,o=new e(24),c=new e(11),a=new e(10),u=new e(3),h=new e(7),v=requireGeneratePrime(),b=browserExports;dh=C;function y(D,k){return k=k||"utf8",Buffer$E.isBuffer(D)||(D=new Buffer$E(D,k)),this._pub=new e(D),this}function w(D,k){return k=k||"utf8",Buffer$E.isBuffer(D)||(D=new Buffer$E(D,k)),this._priv=new e(D),this}var O={};function P(D,k){var B=k.toString("hex"),q=[B,D.toString(16)].join("_");if(q in O)return O[q];var V=0;if(D.isEven()||!v.simpleSieve||!v.fermatTest(D)||!n.test(D))return V+=1,B==="02"||B==="05"?V+=8:V+=4,O[q]=V,V;n.test(D.shrn(1))||(V+=2);var ee;switch(B){case"02":D.mod(o).cmp(c)&&(V+=8);break;case"05":ee=D.mod(a),ee.cmp(u)&&ee.cmp(h)&&(V+=8);break;default:V+=4}return O[q]=V,V}function C(D,k,B){this.setGenerator(k),this.__prime=new e(D),this._prime=e.mont(this.__prime),this._primeLen=D.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=y,this.setPrivateKey=w):this._primeCode=8}Object.defineProperty(C.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=P(this.__prime,this.__gen)),this._primeCode}}),C.prototype.generateKeys=function(){return this._priv||(this._priv=new e(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},C.prototype.computeSecret=function(D){D=new e(D),D=D.toRed(this._prime);var k=D.redPow(this._priv).fromRed(),B=new Buffer$E(k.toArray()),q=this.getPrime();if(B.length<q.length){var V=new Buffer$E(q.length-B.length);V.fill(0),B=Buffer$E.concat([V,B])}return B},C.prototype.getPublicKey=function(D){return x(this._pub,D)},C.prototype.getPrivateKey=function(D){return x(this._priv,D)},C.prototype.getPrime=function(D){return x(this.__prime,D)},C.prototype.getGenerator=function(D){return x(this._gen,D)},C.prototype.setGenerator=function(D,k){return k=k||"utf8",Buffer$E.isBuffer(D)||(D=new Buffer$E(D,k)),this.__gen=D,this._gen=new e(D),this};function x(D,k){var B=new Buffer$E(D.toArray());return k?B.toString(k):B}return dh}var hasRequiredBrowser$7;function requireBrowser$7(){if(hasRequiredBrowser$7)return browser$f;hasRequiredBrowser$7=1;var e=requireGeneratePrime(),t=require$$1$2,n=requireDh();function o(u){var h=new Buffer$E(t[u].prime,"hex"),v=new Buffer$E(t[u].gen,"hex");return new n(h,v)}var c={binary:!0,hex:!0,base64:!0};function a(u,h,v,b){return Buffer$E.isBuffer(h)||c[h]===void 0?a(u,"binary",h,v):(h=h||"binary",b=b||"binary",v=v||new Buffer$E([2]),Buffer$E.isBuffer(v)||(v=new Buffer$E(v,b)),typeof u=="number"?new n(e(u,v),v,!0):(Buffer$E.isBuffer(u)||(u=new Buffer$E(u,h)),new n(u,v,!0)))}return browser$f.DiffieHellmanGroup=browser$f.createDiffieHellmanGroup=browser$f.getDiffieHellman=o,browser$f.createDiffieHellman=browser$f.DiffieHellman=a,browser$f}var readableBrowser$1={exports:{}},processNextickArgs={exports:{}};typeof process$1$5>"u"||!process$1$5.version||process$1$5.version.indexOf("v0.")===0||process$1$5.version.indexOf("v1.")===0&&process$1$5.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick}:processNextickArgs.exports=process$1$5;function nextTick(e,t,n,o){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var c=arguments.length,a,u;switch(c){case 0:case 1:return process$1$5.nextTick(e);case 2:return process$1$5.nextTick(function(){e.call(null,t)});case 3:return process$1$5.nextTick(function(){e.call(null,t,n)});case 4:return process$1$5.nextTick(function(){e.call(null,t,n,o)});default:for(a=new Array(c-1),u=0;u<a.length;)a[u++]=arguments[u];return process$1$5.nextTick(function(){e.apply(null,a)})}}var processNextickArgsExports=processNextickArgs.exports,toString$f={}.toString,isarray=Array.isArray||function(e){return toString$f.call(e)=="[object Array]"},streamBrowser=eventsExports.EventEmitter,safeBuffer$1={exports:{}};(function(e,t){var n=require$$0$5,o=n.Buffer;function c(u,h){for(var v in u)h[v]=u[v]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(c(n,t),t.Buffer=a);function a(u,h,v){return o(u,h,v)}c(o,a),a.from=function(u,h,v){if(typeof u=="number")throw new TypeError("Argument must not be a number");return o(u,h,v)},a.alloc=function(u,h,v){if(typeof u!="number")throw new TypeError("Argument must be a number");var b=o(u);return h!==void 0?typeof v=="string"?b.fill(h,v):b.fill(h):b.fill(0),b},a.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return o(u)},a.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports,util$7={};function isArray$4(e){return Array.isArray?Array.isArray(e):objectToString(e)==="[object Array]"}util$7.isArray=isArray$4;function isBoolean(e){return typeof e=="boolean"}util$7.isBoolean=isBoolean;function isNull(e){return e===null}util$7.isNull=isNull;function isNullOrUndefined(e){return e==null}util$7.isNullOrUndefined=isNullOrUndefined;function isNumber(e){return typeof e=="number"}util$7.isNumber=isNumber;function isString$4(e){return typeof e=="string"}util$7.isString=isString$4;function isSymbol$8(e){return typeof e=="symbol"}util$7.isSymbol=isSymbol$8;function isUndefined(e){return e===void 0}util$7.isUndefined=isUndefined;function isRegExp$3(e){return objectToString(e)==="[object RegExp]"}util$7.isRegExp=isRegExp$3;function isObject$n(e){return typeof e=="object"&&e!==null}util$7.isObject=isObject$n;function isDate(e){return objectToString(e)==="[object Date]"}util$7.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}util$7.isError=isError;function isFunction$1(e){return typeof e=="function"}util$7.isFunction=isFunction$1;function isPrimitive(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}util$7.isPrimitive=isPrimitive,util$7.isBuffer=require$$0$5.Buffer.isBuffer;function objectToString(e){return Object.prototype.toString.call(e)}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(e){function t(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var n=safeBufferExports.Buffer,o=util$8;function c(a,u,h){a.copy(u,h)}e.exports=function(){function a(){t(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(u){var h={data:u,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length},a.prototype.unshift=function(u){var h={data:u,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length},a.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(u){if(this.length===0)return"";for(var h=this.head,v=""+h.data;h=h.next;)v+=u+h.data;return v},a.prototype.concat=function(u){if(this.length===0)return n.alloc(0);for(var h=n.allocUnsafe(u>>>0),v=this.head,b=0;v;)c(v.data,h,b),b+=v.data.length,v=v.next;return h},a}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var a=o.inspect({length:this.length});return this.constructor.name+" "+a})}(BufferList)),BufferList.exports}var pna=processNextickArgsExports;function destroy(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return o||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,this,e)):pna.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(a){!t&&a?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,n,a)):pna.nextTick(emitErrorNT,n,a):t&&t(a)}),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(e,t){e.emit("error",t)}var destroy_1={destroy,undestroy},_stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var e=processNextickArgsExports;_stream_writable=x;function t(T){var S=this;this.next=null,this.entry=null,this.finish=function(){I(S,T)}}var n=!process$1$5.browser&&["v0.10","v0.9."].indexOf(process$1$5.version.slice(0,5))>-1?setImmediate:e.nextTick,o;x.WritableState=P;var c=Object.create(util$7);c.inherits=inherits_browserExports$3;var a={deprecate:browser$l},u=streamBrowser,h=safeBufferExports.Buffer,v=(typeof commonjsGlobal$7<"u"?commonjsGlobal$7:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function b(T){return h.from(T)}function y(T){return h.isBuffer(T)||T instanceof v}var w=destroy_1;c.inherits(x,u);function O(){}function P(T,S){o=o||require_stream_duplex(),T=T||{};var d=S instanceof o;this.objectMode=!!T.objectMode,d&&(this.objectMode=this.objectMode||!!T.writableObjectMode);var E=T.highWaterMark,M=T.writableHighWaterMark,U=this.objectMode?16:16*1024;E||E===0?this.highWaterMark=E:d&&(M||M===0)?this.highWaterMark=M:this.highWaterMark=U,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=T.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){ce(S,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}P.prototype.getBuffer=function(){for(var T=this.bufferedRequest,S=[];T;)S.push(T),T=T.next;return S},function(){try{Object.defineProperty(P.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(T){return C.call(this,T)?!0:this!==x?!1:T&&T._writableState instanceof P}})):C=function(T){return T instanceof this};function x(T){if(o=o||require_stream_duplex(),!C.call(x,this)&&!(this instanceof o))return new x(T);this._writableState=new P(T,this),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),u.call(this)}x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function D(T,S){var d=new Error("write after end");T.emit("error",d),e.nextTick(S,d)}function k(T,S,d,E){var M=!0,U=!1;return d===null?U=new TypeError("May not write null values to stream"):typeof d!="string"&&d!==void 0&&!S.objectMode&&(U=new TypeError("Invalid non-string/buffer chunk")),U&&(T.emit("error",U),e.nextTick(E,U),M=!1),M}x.prototype.write=function(T,S,d){var E=this._writableState,M=!1,U=!E.objectMode&&y(T);return U&&!h.isBuffer(T)&&(T=b(T)),typeof S=="function"&&(d=S,S=null),U?S="buffer":S||(S=E.defaultEncoding),typeof d!="function"&&(d=O),E.ended?D(this,d):(U||k(this,E,T,d))&&(E.pendingcb++,M=q(this,E,U,T,S,d)),M},x.prototype.cork=function(){var T=this._writableState;T.corked++},x.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,!T.writing&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&fe(this,T))},x.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+T);return this._writableState.defaultEncoding=T,this};function B(T,S,d){return!T.objectMode&&T.decodeStrings!==!1&&typeof S=="string"&&(S=h.from(S,d)),S}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function q(T,S,d,E,M,U){if(!d){var F=B(S,E,M);E!==F&&(d=!0,M="buffer",E=F)}var N=S.objectMode?1:E.length;S.length+=N;var L=S.length<S.highWaterMark;if(L||(S.needDrain=!0),S.writing||S.corked){var H=S.lastBufferedRequest;S.lastBufferedRequest={chunk:E,encoding:M,isBuf:d,callback:U,next:null},H?H.next=S.lastBufferedRequest:S.bufferedRequest=S.lastBufferedRequest,S.bufferedRequestCount+=1}else V(T,S,!1,N,E,M,U);return L}function V(T,S,d,E,M,U,F){S.writelen=E,S.writecb=F,S.writing=!0,S.sync=!0,d?T._writev(M,S.onwrite):T._write(M,U,S.onwrite),S.sync=!1}function ee(T,S,d,E,M){--S.pendingcb,d?(e.nextTick(M,E),e.nextTick(_,T,S),T._writableState.errorEmitted=!0,T.emit("error",E)):(M(E),T._writableState.errorEmitted=!0,T.emit("error",E),_(T,S))}function te(T){T.writing=!1,T.writecb=null,T.length-=T.writelen,T.writelen=0}function ce(T,S){var d=T._writableState,E=d.sync,M=d.writecb;if(te(d),S)ee(T,d,E,S,M);else{var U=l(d);!U&&!d.corked&&!d.bufferProcessing&&d.bufferedRequest&&fe(T,d),E?n(Q,T,d,U,M):Q(T,d,U,M)}}function Q(T,S,d,E){d||ne(T,S),S.pendingcb--,E(),_(T,S)}function ne(T,S){S.length===0&&S.needDrain&&(S.needDrain=!1,T.emit("drain"))}function fe(T,S){S.bufferProcessing=!0;var d=S.bufferedRequest;if(T._writev&&d&&d.next){var E=S.bufferedRequestCount,M=new Array(E),U=S.corkedRequestsFree;U.entry=d;for(var F=0,N=!0;d;)M[F]=d,d.isBuf||(N=!1),d=d.next,F+=1;M.allBuffers=N,V(T,S,!0,S.length,M,"",U.finish),S.pendingcb++,S.lastBufferedRequest=null,U.next?(S.corkedRequestsFree=U.next,U.next=null):S.corkedRequestsFree=new t(S),S.bufferedRequestCount=0}else{for(;d;){var L=d.chunk,H=d.encoding,Y=d.callback,Z=S.objectMode?1:L.length;if(V(T,S,!1,Z,L,H,Y),d=d.next,S.bufferedRequestCount--,S.writing)break}d===null&&(S.lastBufferedRequest=null)}S.bufferedRequest=d,S.bufferProcessing=!1}x.prototype._write=function(T,S,d){d(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(T,S,d){var E=this._writableState;typeof T=="function"?(d=T,T=null,S=null):typeof S=="function"&&(d=S,S=null),T!=null&&this.write(T,S),E.corked&&(E.corked=1,this.uncork()),E.ending||A(this,E,d)};function l(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function p(T,S){T._final(function(d){S.pendingcb--,d&&T.emit("error",d),S.prefinished=!0,T.emit("prefinish"),_(T,S)})}function m(T,S){!S.prefinished&&!S.finalCalled&&(typeof T._final=="function"?(S.pendingcb++,S.finalCalled=!0,e.nextTick(p,T,S)):(S.prefinished=!0,T.emit("prefinish")))}function _(T,S){var d=l(S);return d&&(m(T,S),S.pendingcb===0&&(S.finished=!0,T.emit("finish"))),d}function A(T,S,d){S.ending=!0,_(T,S),d&&(S.finished?e.nextTick(d):T.once("finish",d)),S.ended=!0,T.writable=!1}function I(T,S,d){var E=T.entry;for(T.entry=null;E;){var M=E.callback;S.pendingcb--,M(d),E=E.next}S.corkedRequestsFree.next=T}return Object.defineProperty(x.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),x.prototype.destroy=w.destroy,x.prototype._undestroy=w.undestroy,x.prototype._destroy=function(T,S){this.end(),S(T)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var e=processNextickArgsExports,t=Object.keys||function(w){var O=[];for(var P in w)O.push(P);return O};_stream_duplex=v;var n=Object.create(util$7);n.inherits=inherits_browserExports$3;var o=require_stream_readable(),c=require_stream_writable();n.inherits(v,o);for(var a=t(c.prototype),u=0;u<a.length;u++){var h=a[u];v.prototype[h]||(v.prototype[h]=c.prototype[h])}function v(w){if(!(this instanceof v))return new v(w);o.call(this,w),c.call(this,w),w&&w.readable===!1&&(this.readable=!1),w&&w.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,w&&w.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",b)}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function b(){this.allowHalfOpen||this._writableState.ended||e.nextTick(y,this)}function y(w){w.end()}return Object.defineProperty(v.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(w){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=w,this._writableState.destroyed=w)}}),v.prototype._destroy=function(w,O){this.push(null),this.end(),e.nextTick(O,w)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var e=processNextickArgsExports;_stream_readable=B;var t=isarray,n;B.ReadableState=k,eventsExports.EventEmitter;var o=function(Y,Z){return Y.listeners(Z).length},c=streamBrowser,a=safeBufferExports.Buffer,u=(typeof commonjsGlobal$7<"u"?commonjsGlobal$7:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(Y){return a.from(Y)}function v(Y){return a.isBuffer(Y)||Y instanceof u}var b=Object.create(util$7);b.inherits=inherits_browserExports$3;var y=util$8,w=void 0;y&&y.debuglog?w=y.debuglog("stream"):w=function(){};var O=requireBufferList(),P=destroy_1,C;b.inherits(B,c);var x=["error","close","destroy","pause","resume"];function D(Y,Z,de){if(typeof Y.prependListener=="function")return Y.prependListener(Z,de);!Y._events||!Y._events[Z]?Y.on(Z,de):t(Y._events[Z])?Y._events[Z].unshift(de):Y._events[Z]=[de,Y._events[Z]]}function k(Y,Z){n=n||require_stream_duplex(),Y=Y||{};var de=Z instanceof n;this.objectMode=!!Y.objectMode,de&&(this.objectMode=this.objectMode||!!Y.readableObjectMode);var he=Y.highWaterMark,re=Y.readableHighWaterMark,ae=this.objectMode?16:16*1024;he||he===0?this.highWaterMark=he:de&&(re||re===0)?this.highWaterMark=re:this.highWaterMark=ae,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new O,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding&&(C||(C=string_decoder.StringDecoder),this.decoder=new C(Y.encoding),this.encoding=Y.encoding)}function B(Y){if(n=n||require_stream_duplex(),!(this instanceof B))return new B(Y);this._readableState=new k(Y,this),this.readable=!0,Y&&(typeof Y.read=="function"&&(this._read=Y.read),typeof Y.destroy=="function"&&(this._destroy=Y.destroy)),c.call(this)}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Y){this._readableState&&(this._readableState.destroyed=Y)}}),B.prototype.destroy=P.destroy,B.prototype._undestroy=P.undestroy,B.prototype._destroy=function(Y,Z){this.push(null),Z(Y)},B.prototype.push=function(Y,Z){var de=this._readableState,he;return de.objectMode?he=!0:typeof Y=="string"&&(Z=Z||de.defaultEncoding,Z!==de.encoding&&(Y=a.from(Y,Z),Z=""),he=!0),q(this,Y,Z,!1,he)},B.prototype.unshift=function(Y){return q(this,Y,null,!0,!1)};function q(Y,Z,de,he,re){var ae=Y._readableState;if(Z===null)ae.reading=!1,fe(Y,ae);else{var be;re||(be=ee(ae,Z)),be?Y.emit("error",be):ae.objectMode||Z&&Z.length>0?(typeof Z!="string"&&!ae.objectMode&&Object.getPrototypeOf(Z)!==a.prototype&&(Z=h(Z)),he?ae.endEmitted?Y.emit("error",new Error("stream.unshift() after end event")):V(Y,ae,Z,!0):ae.ended?Y.emit("error",new Error("stream.push() after EOF")):(ae.reading=!1,ae.decoder&&!de?(Z=ae.decoder.write(Z),ae.objectMode||Z.length!==0?V(Y,ae,Z,!1):m(Y,ae)):V(Y,ae,Z,!1))):he||(ae.reading=!1)}return te(ae)}function V(Y,Z,de,he){Z.flowing&&Z.length===0&&!Z.sync?(Y.emit("data",de),Y.read(0)):(Z.length+=Z.objectMode?1:de.length,he?Z.buffer.unshift(de):Z.buffer.push(de),Z.needReadable&&l(Y)),m(Y,Z)}function ee(Y,Z){var de;return!v(Z)&&typeof Z!="string"&&Z!==void 0&&!Y.objectMode&&(de=new TypeError("Invalid non-string/buffer chunk")),de}function te(Y){return!Y.ended&&(Y.needReadable||Y.length<Y.highWaterMark||Y.length===0)}B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(Y){return C||(C=string_decoder.StringDecoder),this._readableState.decoder=new C(Y),this._readableState.encoding=Y,this};var ce=8388608;function Q(Y){return Y>=ce?Y=ce:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}function ne(Y,Z){return Y<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:Y!==Y?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(Y>Z.highWaterMark&&(Z.highWaterMark=Q(Y)),Y<=Z.length?Y:Z.ended?Z.length:(Z.needReadable=!0,0))}B.prototype.read=function(Y){w("read",Y),Y=parseInt(Y,10);var Z=this._readableState,de=Y;if(Y!==0&&(Z.emittedReadable=!1),Y===0&&Z.needReadable&&(Z.length>=Z.highWaterMark||Z.ended))return w("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?N(this):l(this),null;if(Y=ne(Y,Z),Y===0&&Z.ended)return Z.length===0&&N(this),null;var he=Z.needReadable;w("need readable",he),(Z.length===0||Z.length-Y<Z.highWaterMark)&&(he=!0,w("length less than watermark",he)),Z.ended||Z.reading?(he=!1,w("reading or ended",he)):he&&(w("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(Y=ne(de,Z)));var re;return Y>0?re=E(Y,Z):re=null,re===null?(Z.needReadable=!0,Y=0):Z.length-=Y,Z.length===0&&(Z.ended||(Z.needReadable=!0),de!==Y&&Z.ended&&N(this)),re!==null&&this.emit("data",re),re};function fe(Y,Z){if(!Z.ended){if(Z.decoder){var de=Z.decoder.end();de&&de.length&&(Z.buffer.push(de),Z.length+=Z.objectMode?1:de.length)}Z.ended=!0,l(Y)}}function l(Y){var Z=Y._readableState;Z.needReadable=!1,Z.emittedReadable||(w("emitReadable",Z.flowing),Z.emittedReadable=!0,Z.sync?e.nextTick(p,Y):p(Y))}function p(Y){w("emit readable"),Y.emit("readable"),d(Y)}function m(Y,Z){Z.readingMore||(Z.readingMore=!0,e.nextTick(_,Y,Z))}function _(Y,Z){for(var de=Z.length;!Z.reading&&!Z.flowing&&!Z.ended&&Z.length<Z.highWaterMark&&(w("maybeReadMore read 0"),Y.read(0),de!==Z.length);)de=Z.length;Z.readingMore=!1}B.prototype._read=function(Y){this.emit("error",new Error("_read() is not implemented"))},B.prototype.pipe=function(Y,Z){var de=this,he=this._readableState;switch(he.pipesCount){case 0:he.pipes=Y;break;case 1:he.pipes=[he.pipes,Y];break;default:he.pipes.push(Y);break}he.pipesCount+=1,w("pipe count=%d opts=%j",he.pipesCount,Z);var re=(!Z||Z.end!==!1)&&Y!==process$1$5.stdout&&Y!==process$1$5.stderr,ae=re?ye:Me;he.endEmitted?e.nextTick(ae):de.once("end",ae),Y.on("unpipe",be);function be(Re,pt){w("onunpipe"),Re===de&&pt&&pt.hasUnpiped===!1&&(pt.hasUnpiped=!0,ve())}function ye(){w("onend"),Y.end()}var we=A(de);Y.on("drain",we);var Te=!1;function ve(){w("cleanup"),Y.removeListener("close",Pe),Y.removeListener("finish",nt),Y.removeListener("drain",we),Y.removeListener("error",Se),Y.removeListener("unpipe",be),de.removeListener("end",ye),de.removeListener("end",Me),de.removeListener("data",Oe),Te=!0,he.awaitDrain&&(!Y._writableState||Y._writableState.needDrain)&&we()}var Ce=!1;de.on("data",Oe);function Oe(Re){w("ondata"),Ce=!1;var pt=Y.write(Re);pt===!1&&!Ce&&((he.pipesCount===1&&he.pipes===Y||he.pipesCount>1&&H(he.pipes,Y)!==-1)&&!Te&&(w("false write response, pause",he.awaitDrain),he.awaitDrain++,Ce=!0),de.pause())}function Se(Re){w("onerror",Re),Me(),Y.removeListener("error",Se),o(Y,"error")===0&&Y.emit("error",Re)}D(Y,"error",Se);function Pe(){Y.removeListener("finish",nt),Me()}Y.once("close",Pe);function nt(){w("onfinish"),Y.removeListener("close",Pe),Me()}Y.once("finish",nt);function Me(){w("unpipe"),de.unpipe(Y)}return Y.emit("pipe",de),he.flowing||(w("pipe resume"),de.resume()),Y};function A(Y){return function(){var Z=Y._readableState;w("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&o(Y,"data")&&(Z.flowing=!0,d(Y))}}B.prototype.unpipe=function(Y){var Z=this._readableState,de={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return Y&&Y!==Z.pipes?this:(Y||(Y=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,Y&&Y.emit("unpipe",this,de),this);if(!Y){var he=Z.pipes,re=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var ae=0;ae<re;ae++)he[ae].emit("unpipe",this,{hasUnpiped:!1});return this}var be=H(Z.pipes,Y);return be===-1?this:(Z.pipes.splice(be,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),Y.emit("unpipe",this,de),this)},B.prototype.on=function(Y,Z){var de=c.prototype.on.call(this,Y,Z);if(Y==="data")this._readableState.flowing!==!1&&this.resume();else if(Y==="readable"){var he=this._readableState;!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.emittedReadable=!1,he.reading?he.length&&l(this):e.nextTick(I,this))}return de},B.prototype.addListener=B.prototype.on;function I(Y){w("readable nexttick read 0"),Y.read(0)}B.prototype.resume=function(){var Y=this._readableState;return Y.flowing||(w("resume"),Y.flowing=!0,T(this,Y)),this};function T(Y,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,e.nextTick(S,Y,Z))}function S(Y,Z){Z.reading||(w("resume read 0"),Y.read(0)),Z.resumeScheduled=!1,Z.awaitDrain=0,Y.emit("resume"),d(Y),Z.flowing&&!Z.reading&&Y.read(0)}B.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function d(Y){var Z=Y._readableState;for(w("flow",Z.flowing);Z.flowing&&Y.read()!==null;);}B.prototype.wrap=function(Y){var Z=this,de=this._readableState,he=!1;Y.on("end",function(){if(w("wrapped end"),de.decoder&&!de.ended){var be=de.decoder.end();be&&be.length&&Z.push(be)}Z.push(null)}),Y.on("data",function(be){if(w("wrapped data"),de.decoder&&(be=de.decoder.write(be)),!(de.objectMode&&be==null)&&!(!de.objectMode&&(!be||!be.length))){var ye=Z.push(be);ye||(he=!0,Y.pause())}});for(var re in Y)this[re]===void 0&&typeof Y[re]=="function"&&(this[re]=function(be){return function(){return Y[be].apply(Y,arguments)}}(re));for(var ae=0;ae<x.length;ae++)Y.on(x[ae],this.emit.bind(this,x[ae]));return this._read=function(be){w("wrapped _read",be),he&&(he=!1,Y.resume())},this},Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),B._fromList=E;function E(Y,Z){if(Z.length===0)return null;var de;return Z.objectMode?de=Z.buffer.shift():!Y||Y>=Z.length?(Z.decoder?de=Z.buffer.join(""):Z.buffer.length===1?de=Z.buffer.head.data:de=Z.buffer.concat(Z.length),Z.buffer.clear()):de=M(Y,Z.buffer,Z.decoder),de}function M(Y,Z,de){var he;return Y<Z.head.data.length?(he=Z.head.data.slice(0,Y),Z.head.data=Z.head.data.slice(Y)):Y===Z.head.data.length?he=Z.shift():he=de?U(Y,Z):F(Y,Z),he}function U(Y,Z){var de=Z.head,he=1,re=de.data;for(Y-=re.length;de=de.next;){var ae=de.data,be=Y>ae.length?ae.length:Y;if(be===ae.length?re+=ae:re+=ae.slice(0,Y),Y-=be,Y===0){be===ae.length?(++he,de.next?Z.head=de.next:Z.head=Z.tail=null):(Z.head=de,de.data=ae.slice(be));break}++he}return Z.length-=he,re}function F(Y,Z){var de=a.allocUnsafe(Y),he=Z.head,re=1;for(he.data.copy(de),Y-=he.data.length;he=he.next;){var ae=he.data,be=Y>ae.length?ae.length:Y;if(ae.copy(de,de.length-Y,0,be),Y-=be,Y===0){be===ae.length?(++re,he.next?Z.head=he.next:Z.head=Z.tail=null):(Z.head=he,he.data=ae.slice(be));break}++re}return Z.length-=re,de}function N(Y){var Z=Y._readableState;if(Z.length>0)throw new Error('"endReadable()" called on non-empty stream');Z.endEmitted||(Z.ended=!0,e.nextTick(L,Z,Y))}function L(Y,Z){!Y.endEmitted&&Y.length===0&&(Y.endEmitted=!0,Z.readable=!1,Z.emit("end"))}function H(Y,Z){for(var de=0,he=Y.length;de<he;de++)if(Y[de]===Z)return de;return-1}return _stream_readable}var _stream_transform=Transform$1,Duplex=require_stream_duplex(),util$6=Object.create(util$7);util$6.inherits=inherits_browserExports$3,util$6.inherits(Transform$1,Duplex);function afterTransform(e,t){var n=this._transformState;n.transforming=!1;var o=n.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,t!=null&&this.push(t),o(e);var c=this._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}function Transform$1(e){if(!(this instanceof Transform$1))return new Transform$1(e);Duplex.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;typeof this._flush=="function"?this._flush(function(t,n){done(e,t,n)}):done(this,null,null)}Transform$1.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)},Transform$1.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},Transform$1.prototype._write=function(e,t,n){var o=this._transformState;if(o.writecb=n,o.writechunk=e,o.writeencoding=t,!o.transforming){var c=this._readableState;(o.needTransform||c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}},Transform$1.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform$1.prototype._destroy=function(e,t){var n=this;Duplex.prototype._destroy.call(this,e,function(o){t(o),n.emit("close")})};function done(e,t,n){if(t)return e.emit("error",t);if(n!=null&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}var _stream_passthrough=PassThrough,Transform=_stream_transform,util$5=Object.create(util$7);util$5.inherits=inherits_browserExports$3,util$5.inherits(PassThrough,Transform);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform.call(this,e)}PassThrough.prototype._transform=function(e,t,n){n(null,e)},function(e,t){t=e.exports=require_stream_readable(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=_stream_transform,t.PassThrough=_stream_passthrough}(readableBrowser$1,readableBrowser$1.exports);var readableBrowserExports=readableBrowser$1.exports,sign$4={exports:{}},BN$a=bnExports$6,randomBytes$1=browserExports;function blind(e){var t=getr(e),n=t.toRed(BN$a.mont(e.modulus)).redPow(new BN$a(e.publicExponent)).fromRed();return{blinder:n,unblinder:t.invm(e.modulus)}}function getr(e){var t=e.modulus.byteLength(),n;do n=new BN$a(randomBytes$1(t));while(n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2));return n}function crt$2(e,t){var n=blind(t),o=t.modulus.byteLength(),c=new BN$a(e).mul(n.blinder).umod(t.modulus),a=c.toRed(BN$a.mont(t.prime1)),u=c.toRed(BN$a.mont(t.prime2)),h=t.coefficient,v=t.prime1,b=t.prime2,y=a.redPow(t.exponent1).fromRed(),w=u.redPow(t.exponent2).fromRed(),O=y.isub(w).imul(h).umod(v).imul(b);return w.iadd(O).imul(n.unblinder).umod(t.modulus).toArrayLike(Buffer$E,"be",o)}crt$2.getr=getr;var browserifyRsa=crt$2,elliptic={};const name="elliptic",version$8="6.5.7",description$3="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$3={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$4={name,version:version$8,description:description$3,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies:dependencies$3};var utils$Z={},bn$3={exports:{}};bn$3.exports,function(e){(function(t,n){function o(l,p){if(!l)throw new Error(p||"Assertion failed")}function c(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function a(l,p,m){if(a.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof t=="object"?t.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$5.Buffer}catch{}a.isBN=function(l){return l instanceof a?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===a.wordSize&&Array.isArray(l.words)},a.max=function(l,p){return l.cmp(p)>0?l:p},a.min=function(l,p){return l.cmp(p)<0?l:p},a.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),o(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var _=0;l[0]==="-"&&(_++,this.negative=1),_<l.length&&(p===16?this._parseHex(l,_,m):(this._parseBase(l,p,_),m==="le"&&this._initArray(this.toArray(),p,m)))},a.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(o(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},a.prototype._initArray=function(l,p,m){if(o(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A,I,T=0;if(m==="be")for(_=l.length-1,A=0;_>=0;_-=3)I=l[_]|l[_-1]<<8|l[_-2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);else if(m==="le")for(_=0,A=0;_<l.length;_+=3)I=l[_]|l[_+1]<<8|l[_+2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);return this.strip()};function h(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function v(l,p,m){var _=h(l,m);return m-1>=p&&(_|=h(l,m-1)<<4),_}a.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A=0,I=0,T;if(m==="be")for(_=l.length-1;_>=p;_-=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8;else{var S=l.length-p;for(_=S%2===0?p+1:p;_<l.length;_+=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8}this.strip()};function b(l,p,m,_){for(var A=0,I=Math.min(l.length,m),T=p;T<I;T++){var S=l.charCodeAt(T)-48;A*=_,S>=49?A+=S-49+10:S>=17?A+=S-17+10:A+=S}return A}a.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var _=0,A=1;A<=67108863;A*=p)_++;_--,A=A/p|0;for(var I=l.length-m,T=I%_,S=Math.min(I,I-T)+m,d=0,E=m;E<S;E+=_)d=b(l,E,E+_,p),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var M=1;for(d=b(l,E,l.length,p),E=0;E<T;E++)M*=p;this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},a.prototype.clone=function(){var l=new a(null);return this.copy(l),l},a.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var _=0,A=0,I=0;I<this.length;I++){var T=this.words[I],S=((T<<_|A)&16777215).toString(16);A=T>>>24-_&16777215,A!==0||I!==this.length-1?m=y[6-S.length]+S+m:m=S+m,_+=2,_>=26&&(_-=26,I--)}for(A!==0&&(m=A.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var d=w[l],E=O[l];m="";var M=this.clone();for(M.negative=0;!M.isZero();){var U=M.modn(E).toString(l);M=M.idivn(E),M.isZero()?m=U+m:m=y[d-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(l,p){return o(typeof u<"u"),this.toArrayLike(u,l,p)},a.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},a.prototype.toArrayLike=function(l,p,m){var _=this.byteLength(),A=m||Math.max(1,_);o(_<=A,"byte array longer than desired length"),o(A>0,"Requested array length <= 0"),this.strip();var I=p==="le",T=new l(A),S,d,E=this.clone();if(I){for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[d]=S;for(;d<A;d++)T[d]=0}else{for(d=0;d<A-_;d++)T[d]=0;for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[A-d-1]=S}return T},Math.clz32?a.prototype._countBits=function(l){return 32-Math.clz32(l)}:a.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},a.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return p&8191||(m+=13,p>>>=13),p&127||(m+=7,p>>>=7),p&15||(m+=4,p>>>=4),p&3||(m+=2,p>>>=2),p&1||m++,m},a.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function P(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var _=m/26|0,A=m%26;p[m]=(l.words[_]&1<<A)>>>A}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},a.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},a.prototype.ior=function(l){return o((this.negative|l.negative)===0),this.iuor(l)},a.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},a.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},a.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},a.prototype.iand=function(l){return o((this.negative|l.negative)===0),this.iuand(l)},a.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},a.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},a.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var _=0;_<m.length;_++)this.words[_]=p.words[_]^m.words[_];if(this!==p)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=p.length,this.strip()},a.prototype.ixor=function(l){return o((this.negative|l.negative)===0),this.iuxor(l)},a.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},a.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},a.prototype.inotn=function(l){o(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var _=0;_<p;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this.strip()},a.prototype.notn=function(l){return this.clone().inotn(l)},a.prototype.setn=function(l,p){o(typeof l=="number"&&l>=0);var m=l/26|0,_=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this.strip()},a.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,_;this.length>l.length?(m=this,_=l):(m=l,_=this);for(var A=0,I=0;I<_.length;I++)p=(m.words[I]|0)+(_.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;for(;A!==0&&I<m.length;I++)p=(m.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;I<m.length;I++)this.words[I]=m.words[I];return this},a.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},a.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,A;m>0?(_=this,A=l):(_=l,A=this);for(var I=0,T=0;T<A.length;T++)p=(_.words[T]|0)-(A.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;for(;I!==0&&T<_.length;T++)p=(_.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;if(I===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(l){return this.clone().isub(l)};function C(l,p,m){m.negative=p.negative^l.negative;var _=l.length+p.length|0;m.length=_,_=_-1|0;var A=l.words[0]|0,I=p.words[0]|0,T=A*I,S=T&67108863,d=T/67108864|0;m.words[0]=S;for(var E=1;E<_;E++){for(var M=d>>>26,U=d&67108863,F=Math.min(E,p.length-1),N=Math.max(0,E-l.length+1);N<=F;N++){var L=E-N|0;A=l.words[L]|0,I=p.words[N]|0,T=A*I+U,M+=T/67108864|0,U=T&67108863}m.words[E]=U|0,d=M|0}return d!==0?m.words[E]=d|0:m.length--,m.strip()}var x=function(l,p,m){var _=l.words,A=p.words,I=m.words,T=0,S,d,E,M=_[0]|0,U=M&8191,F=M>>>13,N=_[1]|0,L=N&8191,H=N>>>13,Y=_[2]|0,Z=Y&8191,de=Y>>>13,he=_[3]|0,re=he&8191,ae=he>>>13,be=_[4]|0,ye=be&8191,we=be>>>13,Te=_[5]|0,ve=Te&8191,Ce=Te>>>13,Oe=_[6]|0,Se=Oe&8191,Pe=Oe>>>13,nt=_[7]|0,Me=nt&8191,Re=nt>>>13,pt=_[8]|0,je=pt&8191,Be=pt>>>13,vt=_[9]|0,Ne=vt&8191,J=vt>>>13,le=A[0]|0,ue=le&8191,pe=le>>>13,Ie=A[1]|0,_e=Ie&8191,Ae=Ie>>>13,bt=A[2]|0,xe=bt&8191,Ke=bt>>>13,wt=A[3]|0,De=wt&8191,He=wt>>>13,Pt=A[4]|0,Ue=Pt&8191,We=Pt>>>13,St=A[5]|0,Fe=St&8191,Ve=St>>>13,Ot=A[6]|0,Ge=Ot&8191,ze=Ot>>>13,Tt=A[7]|0,oe=Tt&8191,X=Tt>>>13,ie=A[8]|0,z=ie&8191,se=ie>>>13,me=A[9]|0,$e=me&8191,ge=me>>>13;m.negative=l.negative^p.negative,m.length=19,S=Math.imul(U,ue),d=Math.imul(U,pe),d=d+Math.imul(F,ue)|0,E=Math.imul(F,pe);var Le=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Le>>>26)|0,Le&=67108863,S=Math.imul(L,ue),d=Math.imul(L,pe),d=d+Math.imul(H,ue)|0,E=Math.imul(H,pe),S=S+Math.imul(U,_e)|0,d=d+Math.imul(U,Ae)|0,d=d+Math.imul(F,_e)|0,E=E+Math.imul(F,Ae)|0;var Je=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Je>>>26)|0,Je&=67108863,S=Math.imul(Z,ue),d=Math.imul(Z,pe),d=d+Math.imul(de,ue)|0,E=Math.imul(de,pe),S=S+Math.imul(L,_e)|0,d=d+Math.imul(L,Ae)|0,d=d+Math.imul(H,_e)|0,E=E+Math.imul(H,Ae)|0,S=S+Math.imul(U,xe)|0,d=d+Math.imul(U,Ke)|0,d=d+Math.imul(F,xe)|0,E=E+Math.imul(F,Ke)|0;var Ye=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(re,ue),d=Math.imul(re,pe),d=d+Math.imul(ae,ue)|0,E=Math.imul(ae,pe),S=S+Math.imul(Z,_e)|0,d=d+Math.imul(Z,Ae)|0,d=d+Math.imul(de,_e)|0,E=E+Math.imul(de,Ae)|0,S=S+Math.imul(L,xe)|0,d=d+Math.imul(L,Ke)|0,d=d+Math.imul(H,xe)|0,E=E+Math.imul(H,Ke)|0,S=S+Math.imul(U,De)|0,d=d+Math.imul(U,He)|0,d=d+Math.imul(F,De)|0,E=E+Math.imul(F,He)|0;var ht=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(ye,ue),d=Math.imul(ye,pe),d=d+Math.imul(we,ue)|0,E=Math.imul(we,pe),S=S+Math.imul(re,_e)|0,d=d+Math.imul(re,Ae)|0,d=d+Math.imul(ae,_e)|0,E=E+Math.imul(ae,Ae)|0,S=S+Math.imul(Z,xe)|0,d=d+Math.imul(Z,Ke)|0,d=d+Math.imul(de,xe)|0,E=E+Math.imul(de,Ke)|0,S=S+Math.imul(L,De)|0,d=d+Math.imul(L,He)|0,d=d+Math.imul(H,De)|0,E=E+Math.imul(H,He)|0,S=S+Math.imul(U,Ue)|0,d=d+Math.imul(U,We)|0,d=d+Math.imul(F,Ue)|0,E=E+Math.imul(F,We)|0;var Ze=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(ve,ue),d=Math.imul(ve,pe),d=d+Math.imul(Ce,ue)|0,E=Math.imul(Ce,pe),S=S+Math.imul(ye,_e)|0,d=d+Math.imul(ye,Ae)|0,d=d+Math.imul(we,_e)|0,E=E+Math.imul(we,Ae)|0,S=S+Math.imul(re,xe)|0,d=d+Math.imul(re,Ke)|0,d=d+Math.imul(ae,xe)|0,E=E+Math.imul(ae,Ke)|0,S=S+Math.imul(Z,De)|0,d=d+Math.imul(Z,He)|0,d=d+Math.imul(de,De)|0,E=E+Math.imul(de,He)|0,S=S+Math.imul(L,Ue)|0,d=d+Math.imul(L,We)|0,d=d+Math.imul(H,Ue)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(U,Fe)|0,d=d+Math.imul(U,Ve)|0,d=d+Math.imul(F,Fe)|0,E=E+Math.imul(F,Ve)|0;var dt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Se,ue),d=Math.imul(Se,pe),d=d+Math.imul(Pe,ue)|0,E=Math.imul(Pe,pe),S=S+Math.imul(ve,_e)|0,d=d+Math.imul(ve,Ae)|0,d=d+Math.imul(Ce,_e)|0,E=E+Math.imul(Ce,Ae)|0,S=S+Math.imul(ye,xe)|0,d=d+Math.imul(ye,Ke)|0,d=d+Math.imul(we,xe)|0,E=E+Math.imul(we,Ke)|0,S=S+Math.imul(re,De)|0,d=d+Math.imul(re,He)|0,d=d+Math.imul(ae,De)|0,E=E+Math.imul(ae,He)|0,S=S+Math.imul(Z,Ue)|0,d=d+Math.imul(Z,We)|0,d=d+Math.imul(de,Ue)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(L,Fe)|0,d=d+Math.imul(L,Ve)|0,d=d+Math.imul(H,Fe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(U,Ge)|0,d=d+Math.imul(U,ze)|0,d=d+Math.imul(F,Ge)|0,E=E+Math.imul(F,ze)|0;var Xe=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(Me,ue),d=Math.imul(Me,pe),d=d+Math.imul(Re,ue)|0,E=Math.imul(Re,pe),S=S+Math.imul(Se,_e)|0,d=d+Math.imul(Se,Ae)|0,d=d+Math.imul(Pe,_e)|0,E=E+Math.imul(Pe,Ae)|0,S=S+Math.imul(ve,xe)|0,d=d+Math.imul(ve,Ke)|0,d=d+Math.imul(Ce,xe)|0,E=E+Math.imul(Ce,Ke)|0,S=S+Math.imul(ye,De)|0,d=d+Math.imul(ye,He)|0,d=d+Math.imul(we,De)|0,E=E+Math.imul(we,He)|0,S=S+Math.imul(re,Ue)|0,d=d+Math.imul(re,We)|0,d=d+Math.imul(ae,Ue)|0,E=E+Math.imul(ae,We)|0,S=S+Math.imul(Z,Fe)|0,d=d+Math.imul(Z,Ve)|0,d=d+Math.imul(de,Fe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(L,Ge)|0,d=d+Math.imul(L,ze)|0,d=d+Math.imul(H,Ge)|0,E=E+Math.imul(H,ze)|0,S=S+Math.imul(U,oe)|0,d=d+Math.imul(U,X)|0,d=d+Math.imul(F,oe)|0,E=E+Math.imul(F,X)|0;var mt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(je,ue),d=Math.imul(je,pe),d=d+Math.imul(Be,ue)|0,E=Math.imul(Be,pe),S=S+Math.imul(Me,_e)|0,d=d+Math.imul(Me,Ae)|0,d=d+Math.imul(Re,_e)|0,E=E+Math.imul(Re,Ae)|0,S=S+Math.imul(Se,xe)|0,d=d+Math.imul(Se,Ke)|0,d=d+Math.imul(Pe,xe)|0,E=E+Math.imul(Pe,Ke)|0,S=S+Math.imul(ve,De)|0,d=d+Math.imul(ve,He)|0,d=d+Math.imul(Ce,De)|0,E=E+Math.imul(Ce,He)|0,S=S+Math.imul(ye,Ue)|0,d=d+Math.imul(ye,We)|0,d=d+Math.imul(we,Ue)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(re,Fe)|0,d=d+Math.imul(re,Ve)|0,d=d+Math.imul(ae,Fe)|0,E=E+Math.imul(ae,Ve)|0,S=S+Math.imul(Z,Ge)|0,d=d+Math.imul(Z,ze)|0,d=d+Math.imul(de,Ge)|0,E=E+Math.imul(de,ze)|0,S=S+Math.imul(L,oe)|0,d=d+Math.imul(L,X)|0,d=d+Math.imul(H,oe)|0,E=E+Math.imul(H,X)|0,S=S+Math.imul(U,z)|0,d=d+Math.imul(U,se)|0,d=d+Math.imul(F,z)|0,E=E+Math.imul(F,se)|0;var lt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Ne,ue),d=Math.imul(Ne,pe),d=d+Math.imul(J,ue)|0,E=Math.imul(J,pe),S=S+Math.imul(je,_e)|0,d=d+Math.imul(je,Ae)|0,d=d+Math.imul(Be,_e)|0,E=E+Math.imul(Be,Ae)|0,S=S+Math.imul(Me,xe)|0,d=d+Math.imul(Me,Ke)|0,d=d+Math.imul(Re,xe)|0,E=E+Math.imul(Re,Ke)|0,S=S+Math.imul(Se,De)|0,d=d+Math.imul(Se,He)|0,d=d+Math.imul(Pe,De)|0,E=E+Math.imul(Pe,He)|0,S=S+Math.imul(ve,Ue)|0,d=d+Math.imul(ve,We)|0,d=d+Math.imul(Ce,Ue)|0,E=E+Math.imul(Ce,We)|0,S=S+Math.imul(ye,Fe)|0,d=d+Math.imul(ye,Ve)|0,d=d+Math.imul(we,Fe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(re,Ge)|0,d=d+Math.imul(re,ze)|0,d=d+Math.imul(ae,Ge)|0,E=E+Math.imul(ae,ze)|0,S=S+Math.imul(Z,oe)|0,d=d+Math.imul(Z,X)|0,d=d+Math.imul(de,oe)|0,E=E+Math.imul(de,X)|0,S=S+Math.imul(L,z)|0,d=d+Math.imul(L,se)|0,d=d+Math.imul(H,z)|0,E=E+Math.imul(H,se)|0,S=S+Math.imul(U,$e)|0,d=d+Math.imul(U,ge)|0,d=d+Math.imul(F,$e)|0,E=E+Math.imul(F,ge)|0;var yt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Ne,_e),d=Math.imul(Ne,Ae),d=d+Math.imul(J,_e)|0,E=Math.imul(J,Ae),S=S+Math.imul(je,xe)|0,d=d+Math.imul(je,Ke)|0,d=d+Math.imul(Be,xe)|0,E=E+Math.imul(Be,Ke)|0,S=S+Math.imul(Me,De)|0,d=d+Math.imul(Me,He)|0,d=d+Math.imul(Re,De)|0,E=E+Math.imul(Re,He)|0,S=S+Math.imul(Se,Ue)|0,d=d+Math.imul(Se,We)|0,d=d+Math.imul(Pe,Ue)|0,E=E+Math.imul(Pe,We)|0,S=S+Math.imul(ve,Fe)|0,d=d+Math.imul(ve,Ve)|0,d=d+Math.imul(Ce,Fe)|0,E=E+Math.imul(Ce,Ve)|0,S=S+Math.imul(ye,Ge)|0,d=d+Math.imul(ye,ze)|0,d=d+Math.imul(we,Ge)|0,E=E+Math.imul(we,ze)|0,S=S+Math.imul(re,oe)|0,d=d+Math.imul(re,X)|0,d=d+Math.imul(ae,oe)|0,E=E+Math.imul(ae,X)|0,S=S+Math.imul(Z,z)|0,d=d+Math.imul(Z,se)|0,d=d+Math.imul(de,z)|0,E=E+Math.imul(de,se)|0,S=S+Math.imul(L,$e)|0,d=d+Math.imul(L,ge)|0,d=d+Math.imul(H,$e)|0,E=E+Math.imul(H,ge)|0;var _t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(Ne,xe),d=Math.imul(Ne,Ke),d=d+Math.imul(J,xe)|0,E=Math.imul(J,Ke),S=S+Math.imul(je,De)|0,d=d+Math.imul(je,He)|0,d=d+Math.imul(Be,De)|0,E=E+Math.imul(Be,He)|0,S=S+Math.imul(Me,Ue)|0,d=d+Math.imul(Me,We)|0,d=d+Math.imul(Re,Ue)|0,E=E+Math.imul(Re,We)|0,S=S+Math.imul(Se,Fe)|0,d=d+Math.imul(Se,Ve)|0,d=d+Math.imul(Pe,Fe)|0,E=E+Math.imul(Pe,Ve)|0,S=S+Math.imul(ve,Ge)|0,d=d+Math.imul(ve,ze)|0,d=d+Math.imul(Ce,Ge)|0,E=E+Math.imul(Ce,ze)|0,S=S+Math.imul(ye,oe)|0,d=d+Math.imul(ye,X)|0,d=d+Math.imul(we,oe)|0,E=E+Math.imul(we,X)|0,S=S+Math.imul(re,z)|0,d=d+Math.imul(re,se)|0,d=d+Math.imul(ae,z)|0,E=E+Math.imul(ae,se)|0,S=S+Math.imul(Z,$e)|0,d=d+Math.imul(Z,ge)|0,d=d+Math.imul(de,$e)|0,E=E+Math.imul(de,ge)|0;var gt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(gt>>>26)|0,gt&=67108863,S=Math.imul(Ne,De),d=Math.imul(Ne,He),d=d+Math.imul(J,De)|0,E=Math.imul(J,He),S=S+Math.imul(je,Ue)|0,d=d+Math.imul(je,We)|0,d=d+Math.imul(Be,Ue)|0,E=E+Math.imul(Be,We)|0,S=S+Math.imul(Me,Fe)|0,d=d+Math.imul(Me,Ve)|0,d=d+Math.imul(Re,Fe)|0,E=E+Math.imul(Re,Ve)|0,S=S+Math.imul(Se,Ge)|0,d=d+Math.imul(Se,ze)|0,d=d+Math.imul(Pe,Ge)|0,E=E+Math.imul(Pe,ze)|0,S=S+Math.imul(ve,oe)|0,d=d+Math.imul(ve,X)|0,d=d+Math.imul(Ce,oe)|0,E=E+Math.imul(Ce,X)|0,S=S+Math.imul(ye,z)|0,d=d+Math.imul(ye,se)|0,d=d+Math.imul(we,z)|0,E=E+Math.imul(we,se)|0,S=S+Math.imul(re,$e)|0,d=d+Math.imul(re,ge)|0,d=d+Math.imul(ae,$e)|0,E=E+Math.imul(ae,ge)|0;var at=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(Ne,Ue),d=Math.imul(Ne,We),d=d+Math.imul(J,Ue)|0,E=Math.imul(J,We),S=S+Math.imul(je,Fe)|0,d=d+Math.imul(je,Ve)|0,d=d+Math.imul(Be,Fe)|0,E=E+Math.imul(Be,Ve)|0,S=S+Math.imul(Me,Ge)|0,d=d+Math.imul(Me,ze)|0,d=d+Math.imul(Re,Ge)|0,E=E+Math.imul(Re,ze)|0,S=S+Math.imul(Se,oe)|0,d=d+Math.imul(Se,X)|0,d=d+Math.imul(Pe,oe)|0,E=E+Math.imul(Pe,X)|0,S=S+Math.imul(ve,z)|0,d=d+Math.imul(ve,se)|0,d=d+Math.imul(Ce,z)|0,E=E+Math.imul(Ce,se)|0,S=S+Math.imul(ye,$e)|0,d=d+Math.imul(ye,ge)|0,d=d+Math.imul(we,$e)|0,E=E+Math.imul(we,ge)|0;var $t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(Ne,Fe),d=Math.imul(Ne,Ve),d=d+Math.imul(J,Fe)|0,E=Math.imul(J,Ve),S=S+Math.imul(je,Ge)|0,d=d+Math.imul(je,ze)|0,d=d+Math.imul(Be,Ge)|0,E=E+Math.imul(Be,ze)|0,S=S+Math.imul(Me,oe)|0,d=d+Math.imul(Me,X)|0,d=d+Math.imul(Re,oe)|0,E=E+Math.imul(Re,X)|0,S=S+Math.imul(Se,z)|0,d=d+Math.imul(Se,se)|0,d=d+Math.imul(Pe,z)|0,E=E+Math.imul(Pe,se)|0,S=S+Math.imul(ve,$e)|0,d=d+Math.imul(ve,ge)|0,d=d+Math.imul(Ce,$e)|0,E=E+Math.imul(Ce,ge)|0;var ot=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,S=Math.imul(Ne,Ge),d=Math.imul(Ne,ze),d=d+Math.imul(J,Ge)|0,E=Math.imul(J,ze),S=S+Math.imul(je,oe)|0,d=d+Math.imul(je,X)|0,d=d+Math.imul(Be,oe)|0,E=E+Math.imul(Be,X)|0,S=S+Math.imul(Me,z)|0,d=d+Math.imul(Me,se)|0,d=d+Math.imul(Re,z)|0,E=E+Math.imul(Re,se)|0,S=S+Math.imul(Se,$e)|0,d=d+Math.imul(Se,ge)|0,d=d+Math.imul(Pe,$e)|0,E=E+Math.imul(Pe,ge)|0;var it=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(Ne,oe),d=Math.imul(Ne,X),d=d+Math.imul(J,oe)|0,E=Math.imul(J,X),S=S+Math.imul(je,z)|0,d=d+Math.imul(je,se)|0,d=d+Math.imul(Be,z)|0,E=E+Math.imul(Be,se)|0,S=S+Math.imul(Me,$e)|0,d=d+Math.imul(Me,ge)|0,d=d+Math.imul(Re,$e)|0,E=E+Math.imul(Re,ge)|0;var st=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(Ne,z),d=Math.imul(Ne,se),d=d+Math.imul(J,z)|0,E=Math.imul(J,se),S=S+Math.imul(je,$e)|0,d=d+Math.imul(je,ge)|0,d=d+Math.imul(Be,$e)|0,E=E+Math.imul(Be,ge)|0;var tt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(Ne,$e),d=Math.imul(Ne,ge),d=d+Math.imul(J,$e)|0,E=Math.imul(J,ge);var ke=(T+S|0)+((d&8191)<<13)|0;return T=(E+(d>>>13)|0)+(ke>>>26)|0,ke&=67108863,I[0]=Le,I[1]=Je,I[2]=Ye,I[3]=ht,I[4]=Ze,I[5]=dt,I[6]=Xe,I[7]=mt,I[8]=lt,I[9]=yt,I[10]=_t,I[11]=gt,I[12]=at,I[13]=$t,I[14]=ot,I[15]=it,I[16]=st,I[17]=tt,I[18]=ke,T!==0&&(I[19]=T,m.length++),m};Math.imul||(x=C);function D(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var _=0,A=0,I=0;I<m.length-1;I++){var T=A;A=0;for(var S=_&67108863,d=Math.min(I,p.length-1),E=Math.max(0,I-l.length+1);E<=d;E++){var M=I-E,U=l.words[M]|0,F=p.words[E]|0,N=U*F,L=N&67108863;T=T+(N/67108864|0)|0,L=L+S|0,S=L&67108863,T=T+(L>>>26)|0,A+=T>>>26,T&=67108863}m.words[I]=S,_=T,T=A}return _!==0?m.words[I]=_:m.length--,m.strip()}function k(l,p,m){var _=new B;return _.mulp(l,p,m)}a.prototype.mulTo=function(l,p){var m,_=this.length+l.length;return this.length===10&&l.length===10?m=x(this,l,p):_<63?m=C(this,l,p):_<1024?m=D(this,l,p):m=k(this,l,p),m};function B(l,p){this.x=l,this.y=p}B.prototype.makeRBT=function(l){for(var p=new Array(l),m=a.prototype._countBits(l)-1,_=0;_<l;_++)p[_]=this.revBin(_,m,l);return p},B.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var _=0,A=0;A<p;A++)_|=(l&1)<<p-A-1,l>>=1;return _},B.prototype.permute=function(l,p,m,_,A,I){for(var T=0;T<I;T++)_[T]=p[l[T]],A[T]=m[l[T]]},B.prototype.transform=function(l,p,m,_,A,I){this.permute(I,l,p,m,_,A);for(var T=1;T<A;T<<=1)for(var S=T<<1,d=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),M=0;M<A;M+=S)for(var U=d,F=E,N=0;N<T;N++){var L=m[M+N],H=_[M+N],Y=m[M+N+T],Z=_[M+N+T],de=U*Y-F*Z;Z=U*Z+F*Y,Y=de,m[M+N]=L+Y,_[M+N]=H+Z,m[M+N+T]=L-Y,_[M+N+T]=H-Z,N!==S&&(de=d*U-E*F,F=d*F+E*U,U=de)}},B.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,_=m&1,A=0;for(m=m/2|0;m;m=m>>>1)A++;return 1<<A+1+_},B.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var _=0;_<m/2;_++){var A=l[_];l[_]=l[m-_-1],l[m-_-1]=A,A=p[_],p[_]=-p[m-_-1],p[m-_-1]=-A}},B.prototype.normalize13b=function(l,p){for(var m=0,_=0;_<p/2;_++){var A=Math.round(l[2*_+1]/p)*8192+Math.round(l[2*_]/p)+m;l[_]=A&67108863,A<67108864?m=0:m=A/67108864|0}return l},B.prototype.convert13b=function(l,p,m,_){for(var A=0,I=0;I<p;I++)A=A+(l[I]|0),m[2*I]=A&8191,A=A>>>13,m[2*I+1]=A&8191,A=A>>>13;for(I=2*p;I<_;++I)m[I]=0;o(A===0),o((A&-8192)===0)},B.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},B.prototype.mulp=function(l,p,m){var _=2*this.guessLen13b(l.length,p.length),A=this.makeRBT(_),I=this.stub(_),T=new Array(_),S=new Array(_),d=new Array(_),E=new Array(_),M=new Array(_),U=new Array(_),F=m.words;F.length=_,this.convert13b(l.words,l.length,T,_),this.convert13b(p.words,p.length,E,_),this.transform(T,I,S,d,_,A),this.transform(E,I,M,U,_,A);for(var N=0;N<_;N++){var L=S[N]*M[N]-d[N]*U[N];d[N]=S[N]*U[N]+d[N]*M[N],S[N]=L}return this.conjugate(S,d,_),this.transform(S,d,F,I,_,A),this.conjugate(F,I,_),this.normalize13b(F,_),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},a.prototype.mul=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},a.prototype.mulf=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),k(this,l,p)},a.prototype.imul=function(l){return this.clone().mulTo(l,this)},a.prototype.imuln=function(l){o(typeof l=="number"),o(l<67108864);for(var p=0,m=0;m<this.length;m++){var _=(this.words[m]|0)*l,A=(_&67108863)+(p&67108863);p>>=26,p+=_/67108864|0,p+=A>>>26,this.words[m]=A&67108863}return p!==0&&(this.words[m]=p,this.length++),this},a.prototype.muln=function(l){return this.clone().imuln(l)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(l){var p=P(l);if(p.length===0)return new a(1);for(var m=this,_=0;_<p.length&&p[_]===0;_++,m=m.sqr());if(++_<p.length)for(var A=m.sqr();_<p.length;_++,A=A.sqr())p[_]!==0&&(m=m.mul(A));return m},a.prototype.iushln=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=67108863>>>26-p<<26-p,A;if(p!==0){var I=0;for(A=0;A<this.length;A++){var T=this.words[A]&_,S=(this.words[A]|0)-T<<p;this.words[A]=S|I,I=T>>>26-p}I&&(this.words[A]=I,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this.strip()},a.prototype.ishln=function(l){return o(this.negative===0),this.iushln(l)},a.prototype.iushrn=function(l,p,m){o(typeof l=="number"&&l>=0);var _;p?_=(p-p%26)/26:_=0;var A=l%26,I=Math.min((l-A)/26,this.length),T=67108863^67108863>>>A<<A,S=m;if(_-=I,_=Math.max(0,_),S){for(var d=0;d<I;d++)S.words[d]=this.words[d];S.length=I}if(I!==0)if(this.length>I)for(this.length-=I,d=0;d<this.length;d++)this.words[d]=this.words[d+I];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=_);d--){var M=this.words[d]|0;this.words[d]=E<<26-A|M>>>A,E=M&T}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(l,p,m){return o(this.negative===0),this.iushrn(l,p,m)},a.prototype.shln=function(l){return this.clone().ishln(l)},a.prototype.ushln=function(l){return this.clone().iushln(l)},a.prototype.shrn=function(l){return this.clone().ishrn(l)},a.prototype.ushrn=function(l){return this.clone().iushrn(l)},a.prototype.testn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return!1;var A=this.words[m];return!!(A&_)},a.prototype.imaskn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var _=67108863^67108863>>>p<<p;this.words[this.length-1]&=_}return this.strip()},a.prototype.maskn=function(l){return this.clone().imaskn(l)},a.prototype.iaddn=function(l){return o(typeof l=="number"),o(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},a.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(l){if(o(typeof l=="number"),o(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},a.prototype.addn=function(l){return this.clone().iaddn(l)},a.prototype.subn=function(l){return this.clone().isubn(l)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(l,p,m){var _=l.length+m,A;this._expand(_);var I,T=0;for(A=0;A<l.length;A++){I=(this.words[A+m]|0)+T;var S=(l.words[A]|0)*p;I-=S&67108863,T=(I>>26)-(S/67108864|0),this.words[A+m]=I&67108863}for(;A<this.length-m;A++)I=(this.words[A+m]|0)+T,T=I>>26,this.words[A+m]=I&67108863;if(T===0)return this.strip();for(o(T===-1),T=0,A=0;A<this.length;A++)I=-(this.words[A]|0)+T,T=I>>26,this.words[A]=I&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(l,p){var m=this.length-l.length,_=this.clone(),A=l,I=A.words[A.length-1]|0,T=this._countBits(I);m=26-T,m!==0&&(A=A.ushln(m),_.iushln(m),I=A.words[A.length-1]|0);var S=_.length-A.length,d;if(p!=="mod"){d=new a(null),d.length=S+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var M=_.clone()._ishlnsubmul(A,1,S);M.negative===0&&(_=M,d&&(d.words[S]=1));for(var U=S-1;U>=0;U--){var F=(_.words[A.length+U]|0)*67108864+(_.words[A.length+U-1]|0);for(F=Math.min(F/I|0,67108863),_._ishlnsubmul(A,F,U);_.negative!==0;)F--,_.negative=0,_._ishlnsubmul(A,1,U),_.isZero()||(_.negative^=1);d&&(d.words[U]=F)}return d&&d.strip(),_.strip(),p!=="div"&&m!==0&&_.iushrn(m),{div:d||null,mod:_}},a.prototype.divmod=function(l,p,m){if(o(!l.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var _,A,I;return this.negative!==0&&l.negative===0?(I=this.neg().divmod(l,p),p!=="mod"&&(_=I.div.neg()),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.iadd(l)),{div:_,mod:A}):this.negative===0&&l.negative!==0?(I=this.divmod(l.neg(),p),p!=="mod"&&(_=I.div.neg()),{div:_,mod:I.mod}):this.negative&l.negative?(I=this.neg().divmod(l.neg(),p),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.isub(l)),{div:I.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new a(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new a(this.modn(l.words[0]))}:this._wordDiv(l,p)},a.prototype.div=function(l){return this.divmod(l,"div",!1).div},a.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},a.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},a.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,_=l.ushrn(1),A=l.andln(1),I=m.cmp(_);return I<0||A===1&&I===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modn=function(l){o(l<=67108863);for(var p=67108864%l,m=0,_=this.length-1;_>=0;_--)m=(p*m+(this.words[_]|0))%l;return m},a.prototype.idivn=function(l){o(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var _=(this.words[m]|0)+p*67108864;this.words[m]=_/l|0,p=_%l}return this.strip()},a.prototype.divn=function(l){return this.clone().idivn(l)},a.prototype.egcd=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=new a(0),T=new a(1),S=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++S;for(var d=m.clone(),E=p.clone();!p.isZero();){for(var M=0,U=1;!(p.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(p.iushrn(M);M-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(d),A.isub(E)),_.iushrn(1),A.iushrn(1);for(var F=0,N=1;!(m.words[0]&N)&&F<26;++F,N<<=1);if(F>0)for(m.iushrn(F);F-- >0;)(I.isOdd()||T.isOdd())&&(I.iadd(d),T.isub(E)),I.iushrn(1),T.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(I),A.isub(T)):(m.isub(p),I.isub(_),T.isub(A))}return{a:I,b:T,gcd:m.iushln(S)}},a.prototype._invmp=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,S=1;!(p.words[0]&S)&&T<26;++T,S<<=1);if(T>0)for(p.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);for(var d=0,E=1;!(m.words[0]&E)&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(I),A.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(A)):(m.isub(p),A.isub(_))}var M;return p.cmpn(1)===0?M=_:M=A,M.cmpn(0)<0&&M.iadd(l),M},a.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var _=0;p.isEven()&&m.isEven();_++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=p.cmp(m);if(A<0){var I=p;p=m,m=I}else if(A===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(_)},a.prototype.invm=function(l){return this.egcd(l).a.umod(l)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(l){return this.words[0]&l},a.prototype.bincn=function(l){o(typeof l=="number");var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var A=_,I=m;A!==0&&I<this.length;I++){var T=this.words[I]|0;T+=A,A=T>>>26,T&=67108863,this.words[I]=T}return A!==0&&(this.words[I]=A,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),o(l<=67108863,"Number is too big");var _=this.words[0]|0;m=_===l?0:_<l?-1:1}return this.negative!==0?-m|0:m},a.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,A=l.words[m]|0;if(_!==A){_<A?p=-1:_>A&&(p=1);break}}return p},a.prototype.gtn=function(l){return this.cmpn(l)===1},a.prototype.gt=function(l){return this.cmp(l)===1},a.prototype.gten=function(l){return this.cmpn(l)>=0},a.prototype.gte=function(l){return this.cmp(l)>=0},a.prototype.ltn=function(l){return this.cmpn(l)===-1},a.prototype.lt=function(l){return this.cmp(l)===-1},a.prototype.lten=function(l){return this.cmpn(l)<=0},a.prototype.lte=function(l){return this.cmp(l)<=0},a.prototype.eqn=function(l){return this.cmpn(l)===0},a.prototype.eq=function(l){return this.cmp(l)===0},a.red=function(l){return new ne(l)},a.prototype.toRed=function(l){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(l){return this.red=l,this},a.prototype.forceRed=function(l){return o(!this.red,"Already a number in reduction context"),this._forceRed(l)},a.prototype.redAdd=function(l){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},a.prototype.redIAdd=function(l){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},a.prototype.redSub=function(l){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},a.prototype.redISub=function(l){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},a.prototype.redShl=function(l){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},a.prototype.redMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},a.prototype.redIMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(l){return o(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var q={k256:null,p224:null,p192:null,p25519:null};function V(l,p){this.name=l,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var l=new a(null);return l.words=new Array(Math.ceil(this.n/13)),l},V.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var _=m<this.n?-1:p.ucmp(this.p);return _===0?(p.words[0]=0,p.length=1):_>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},V.prototype.split=function(l,p){l.iushrn(this.n,0,p)},V.prototype.imulK=function(l){return l.imul(this.k)};function ee(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(ee,V),ee.prototype.split=function(l,p){for(var m=4194303,_=Math.min(l.length,9),A=0;A<_;A++)p.words[A]=l.words[A];if(p.length=_,l.length<=9){l.words[0]=0,l.length=1;return}var I=l.words[9];for(p.words[p.length++]=I&m,A=10;A<l.length;A++){var T=l.words[A]|0;l.words[A-10]=(T&m)<<4|I>>>22,I=T}I>>>=22,l.words[A-10]=I,I===0&&l.length>10?l.length-=10:l.length-=9},ee.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var _=l.words[m]|0;p+=_*977,l.words[m]=p&67108863,p=_*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function te(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(te,V);function ce(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(ce,V);function Q(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(Q,V),Q.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var _=(l.words[m]|0)*19+p,A=_&67108863;_>>>=26,l.words[m]=A,p=_}return p!==0&&(l.words[l.length++]=p),l},a._prime=function(l){if(q[l])return q[l];var p;if(l==="k256")p=new ee;else if(l==="p224")p=new te;else if(l==="p192")p=new ce;else if(l==="p25519")p=new Q;else throw new Error("Unknown prime "+l);return q[l]=p,p};function ne(l){if(typeof l=="string"){var p=a._prime(l);this.m=p.p,this.prime=p}else o(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}ne.prototype._verify1=function(l){o(l.negative===0,"red works only with positives"),o(l.red,"red works only with red numbers")},ne.prototype._verify2=function(l,p){o((l.negative|p.negative)===0,"red works only with positives"),o(l.red&&l.red===p.red,"red works only with red numbers")},ne.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},ne.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},ne.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},ne.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},ne.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},ne.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},ne.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},ne.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},ne.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},ne.prototype.isqr=function(l){return this.imul(l,l.clone())},ne.prototype.sqr=function(l){return this.mul(l,l)},ne.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(o(p%2===1),p===3){var m=this.m.add(new a(1)).iushrn(2);return this.pow(l,m)}for(var _=this.m.subn(1),A=0;!_.isZero()&&_.andln(1)===0;)A++,_.iushrn(1);o(!_.isZero());var I=new a(1).toRed(this),T=I.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,S).cmp(T)!==0;)d.redIAdd(T);for(var E=this.pow(d,_),M=this.pow(l,_.addn(1).iushrn(1)),U=this.pow(l,_),F=A;U.cmp(I)!==0;){for(var N=U,L=0;N.cmp(I)!==0;L++)N=N.redSqr();o(L<F);var H=this.pow(E,new a(1).iushln(F-L-1));M=M.redMul(H),E=H.redSqr(),U=U.redMul(E),F=L}return M},ne.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},ne.prototype.pow=function(l,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,_=new Array(1<<m);_[0]=new a(1).toRed(this),_[1]=l;for(var A=2;A<_.length;A++)_[A]=this.mul(_[A-1],l);var I=_[0],T=0,S=0,d=p.bitLength()%26;for(d===0&&(d=26),A=p.length-1;A>=0;A--){for(var E=p.words[A],M=d-1;M>=0;M--){var U=E>>M&1;if(I!==_[0]&&(I=this.sqr(I)),U===0&&T===0){S=0;continue}T<<=1,T|=U,S++,!(S!==m&&(A!==0||M!==0))&&(I=this.mul(I,_[T]),S=0,T=0)}d=26}return I},ne.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},ne.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},a.mont=function(l){return new fe(l)};function fe(l){ne.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(fe,ne),fe.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},fe.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},fe.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new a(0)._forceRed(this);var m=l.mul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(e,commonjsGlobal$7)}(bn$3);var bnExports$3=bn$3.exports,utils$Y={};(function(e){var t=e;function n(a,u){if(Array.isArray(a))return a.slice();if(!a)return[];var h=[];if(typeof a!="string"){for(var v=0;v<a.length;v++)h[v]=a[v]|0;return h}if(u==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var v=0;v<a.length;v+=2)h.push(parseInt(a[v]+a[v+1],16))}else for(var v=0;v<a.length;v++){var b=a.charCodeAt(v),y=b>>8,w=b&255;y?h.push(y,w):h.push(w)}return h}t.toArray=n;function o(a){return a.length===1?"0"+a:a}t.zero2=o;function c(a){for(var u="",h=0;h<a.length;h++)u+=o(a[h].toString(16));return u}t.toHex=c,t.encode=function(a,u){return u==="hex"?c(a):a}})(utils$Y),function(e){var t=e,n=bnExports$3,o=minimalisticAssert,c=utils$Y;t.assert=o,t.toArray=c.toArray,t.zero2=c.zero2,t.toHex=c.toHex,t.encode=c.encode;function a(y,w,O){var P=new Array(Math.max(y.bitLength(),O)+1),C;for(C=0;C<P.length;C+=1)P[C]=0;var x=1<<w+1,D=y.clone();for(C=0;C<P.length;C++){var k,B=D.andln(x-1);D.isOdd()?(B>(x>>1)-1?k=(x>>1)-B:k=B,D.isubn(k)):k=0,P[C]=k,D.iushrn(1)}return P}t.getNAF=a;function u(y,w){var O=[[],[]];y=y.clone(),w=w.clone();for(var P=0,C=0,x;y.cmpn(-P)>0||w.cmpn(-C)>0;){var D=y.andln(3)+P&3,k=w.andln(3)+C&3;D===3&&(D=-1),k===3&&(k=-1);var B;D&1?(x=y.andln(7)+P&7,(x===3||x===5)&&k===2?B=-D:B=D):B=0,O[0].push(B);var q;k&1?(x=w.andln(7)+C&7,(x===3||x===5)&&D===2?q=-k:q=k):q=0,O[1].push(q),2*P===B+1&&(P=1-P),2*C===q+1&&(C=1-C),y.iushrn(1),w.iushrn(1)}return O}t.getJSF=u;function h(y,w,O){var P="_"+w;y.prototype[w]=function(){return this[P]!==void 0?this[P]:this[P]=O.call(this)}}t.cachedProperty=h;function v(y){return typeof y=="string"?t.toArray(y,"hex"):y}t.parseBytes=v;function b(y){return new n(y,"hex","le")}t.intFromLE=b}(utils$Z);var curve$1={},BN$9=bnExports$3,utils$X=utils$Z,getNAF=utils$X.getNAF,getJSF=utils$X.getJSF,assert$h=utils$X.assert;function BaseCurve(e,t){this.type=e,this.p=new BN$9(t.p,16),this.red=t.prime?BN$9.red(t.prime):BN$9.mont(this.p),this.zero=new BN$9(0).toRed(this.red),this.one=new BN$9(1).toRed(this.red),this.two=new BN$9(2).toRed(this.red),this.n=t.n&&new BN$9(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$2=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(e,t){assert$h(e.precomputed);var n=e._getDoubles(),o=getNAF(t,1,this._bitLength),c=(1<<n.step+1)-(n.step%2===0?2:1);c/=3;var a=[],u,h;for(u=0;u<o.length;u+=n.step){h=0;for(var v=u+n.step-1;v>=u;v--)h=(h<<1)+o[v];a.push(h)}for(var b=this.jpoint(null,null,null),y=this.jpoint(null,null,null),w=c;w>0;w--){for(u=0;u<a.length;u++)h=a[u],h===w?y=y.mixedAdd(n.points[u]):h===-w&&(y=y.mixedAdd(n.points[u].neg()));b=b.add(y)}return b.toP()},BaseCurve.prototype._wnafMul=function(e,t){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var c=o.points,a=getNAF(t,n,this._bitLength),u=this.jpoint(null,null,null),h=a.length-1;h>=0;h--){for(var v=0;h>=0&&a[h]===0;h--)v++;if(h>=0&&v++,u=u.dblp(v),h<0)break;var b=a[h];assert$h(b!==0),e.type==="affine"?b>0?u=u.mixedAdd(c[b-1>>1]):u=u.mixedAdd(c[-b-1>>1].neg()):b>0?u=u.add(c[b-1>>1]):u=u.add(c[-b-1>>1].neg())}return e.type==="affine"?u.toP():u},BaseCurve.prototype._wnafMulAdd=function(e,t,n,o,c){var a=this._wnafT1,u=this._wnafT2,h=this._wnafT3,v=0,b,y,w;for(b=0;b<o;b++){w=t[b];var O=w._getNAFPoints(e);a[b]=O.wnd,u[b]=O.points}for(b=o-1;b>=1;b-=2){var P=b-1,C=b;if(a[P]!==1||a[C]!==1){h[P]=getNAF(n[P],a[P],this._bitLength),h[C]=getNAF(n[C],a[C],this._bitLength),v=Math.max(h[P].length,v),v=Math.max(h[C].length,v);continue}var x=[t[P],null,null,t[C]];t[P].y.cmp(t[C].y)===0?(x[1]=t[P].add(t[C]),x[2]=t[P].toJ().mixedAdd(t[C].neg())):t[P].y.cmp(t[C].y.redNeg())===0?(x[1]=t[P].toJ().mixedAdd(t[C]),x[2]=t[P].add(t[C].neg())):(x[1]=t[P].toJ().mixedAdd(t[C]),x[2]=t[P].toJ().mixedAdd(t[C].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],k=getJSF(n[P],n[C]);for(v=Math.max(k[0].length,v),h[P]=new Array(v),h[C]=new Array(v),y=0;y<v;y++){var B=k[0][y]|0,q=k[1][y]|0;h[P][y]=D[(B+1)*3+(q+1)],h[C][y]=0,u[P]=x}}var V=this.jpoint(null,null,null),ee=this._wnafT4;for(b=v;b>=0;b--){for(var te=0;b>=0;){var ce=!0;for(y=0;y<o;y++)ee[y]=h[y][b]|0,ee[y]!==0&&(ce=!1);if(!ce)break;te++,b--}if(b>=0&&te++,V=V.dblp(te),b<0)break;for(y=0;y<o;y++){var Q=ee[y];Q!==0&&(Q>0?w=u[y][Q-1>>1]:Q<0&&(w=u[y][-Q-1>>1].neg()),w.type==="affine"?V=V.mixedAdd(w):V=V.add(w))}}for(b=0;b<o;b++)u[b]=null;return c?V:V.toP()};function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(e,t){e=utils$X.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?assert$h(e[e.length-1]%2===0):e[0]===7&&assert$h(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},BasePoint.prototype.encode=function(e,t){return utils$X.encode(this._encode(t),e)},BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},BasePoint.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,c=0;c<t;c+=e){for(var a=0;a<e;a++)o=o.dbl();n.push(o)}return{step:e,points:n}},BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),c=1;c<n;c++)t[c]=t[c-1].add(o);return{wnd:e,points:t}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var utils$W=utils$Z,BN$8=bnExports$3,inherits$4=inherits_browserExports$3,Base$2=base$2,assert$g=utils$W.assert;function ShortCurve(e){Base$2.call(this,"short",e),this.a=new BN$8(e.a,16).toRed(this.red),this.b=new BN$8(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$4(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new BN$8(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)n=new BN$8(e.lambda,16);else{var c=this._getEndoRoots(this.n);this.g.mul(c[0]).x.cmp(this.g.x.redMul(t))===0?n=c[0]:(n=c[1],assert$g(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(u){return{a:new BN$8(u.a,16),b:new BN$8(u.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}},ShortCurve.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:BN$8.mont(e),n=new BN$8(2).toRed(t).redInvm(),o=n.redNeg(),c=new BN$8(3).toRed(t).redNeg().redSqrt().redMul(n),a=o.redAdd(c).fromRed(),u=o.redSub(c).fromRed();return[a,u]},ShortCurve.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),c=new BN$8(1),a=new BN$8(0),u=new BN$8(0),h=new BN$8(1),v,b,y,w,O,P,C,x=0,D,k;n.cmpn(0)!==0;){var B=o.div(n);D=o.sub(B.mul(n)),k=u.sub(B.mul(c));var q=h.sub(B.mul(a));if(!y&&D.cmp(t)<0)v=C.neg(),b=c,y=D.neg(),w=k;else if(y&&++x===2)break;C=D,o=n,n=D,u=c,c=k,h=a,a=q}O=D.neg(),P=k;var V=y.sqr().add(w.sqr()),ee=O.sqr().add(P.sqr());return ee.cmp(V)>=0&&(O=v,P=b),y.negative&&(y=y.neg(),w=w.neg()),O.negative&&(O=O.neg(),P=P.neg()),[{a:y,b:w},{a:O,b:P}]},ShortCurve.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],o=t[1],c=o.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),u=c.mul(n.a),h=a.mul(o.a),v=c.mul(n.b),b=a.mul(o.b),y=e.sub(u).sub(h),w=v.add(b).neg();return{k1:y,k2:w}},ShortCurve.prototype.pointFromX=function(e,t){e=new BN$8(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,o=this.a.redMul(t),c=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(c).cmpn(0)===0},ShortCurve.prototype._endoWnafMulAdd=function(e,t,n){for(var o=this._endoWnafT1,c=this._endoWnafT2,a=0;a<e.length;a++){var u=this._endoSplit(t[a]),h=e[a],v=h._getBeta();u.k1.negative&&(u.k1.ineg(),h=h.neg(!0)),u.k2.negative&&(u.k2.ineg(),v=v.neg(!0)),o[a*2]=h,o[a*2+1]=v,c[a*2]=u.k1,c[a*2+1]=u.k2}for(var b=this._wnafMulAdd(1,o,c,a*2,n),y=0;y<a*2;y++)o[y]=null,c[y]=null;return b};function Point$2(e,t,n,o){Base$2.BasePoint.call(this,e,"affine"),t===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$8(t,16),this.y=new BN$8(n,16),o&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$4(Point$2,Base$2.BasePoint),ShortCurve.prototype.point=function(e,t,n){return new Point$2(this,e,t,n)},ShortCurve.prototype.pointFromJSON=function(e,t){return Point$2.fromJSON(this,e,t)},Point$2.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(c){return n.point(c.x.redMul(n.endo.beta),c.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}},Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$2.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],n);if(!t[2])return o;function c(u){return e.point(u[0],u[1],n)}var a=t[2];return o.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[o].concat(a.doubles.points.map(c))},naf:a.naf&&{wnd:a.naf.wnd,points:[o].concat(a.naf.points.map(c))}},o},Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$2.prototype.isInfinity=function(){return this.inf},Point$2.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)},Point$2.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),c=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(o),a=c.redSqr().redISub(this.x.redAdd(this.x)),u=c.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,u)},Point$2.prototype.getX=function(){return this.x.fromRed()},Point$2.prototype.getY=function(){return this.y.fromRed()},Point$2.prototype.mul=function(e){return e=new BN$8(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point$2.prototype.mulAdd=function(e,t,n){var o=[this,t],c=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,c):this.curve._wnafMulAdd(1,o,c,2)},Point$2.prototype.jmulAdd=function(e,t,n){var o=[this,t],c=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,c,!0):this.curve._wnafMulAdd(1,o,c,2,!0)},Point$2.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Point$2.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(c){return c.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return t},Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function JPoint(e,t,n,o){Base$2.BasePoint.call(this,e,"jacobian"),t===null&&n===null&&o===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$8(0)):(this.x=new BN$8(t,16),this.y=new BN$8(n,16),this.z=new BN$8(o,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$4(JPoint,Base$2.BasePoint),ShortCurve.prototype.jpoint=function(e,t,n){return new JPoint(this,e,t,n)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(n,o)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(t),c=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),u=e.y.redMul(n.redMul(this.z)),h=o.redSub(c),v=a.redSub(u);if(h.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=h.redSqr(),y=b.redMul(h),w=o.redMul(b),O=v.redSqr().redIAdd(y).redISub(w).redISub(w),P=v.redMul(w.redISub(O)).redISub(a.redMul(y)),C=this.z.redMul(e.z).redMul(h);return this.curve.jpoint(O,P,C)},JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,o=e.x.redMul(t),c=this.y,a=e.y.redMul(t).redMul(this.z),u=n.redSub(o),h=c.redSub(a);if(u.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var v=u.redSqr(),b=v.redMul(u),y=n.redMul(v),w=h.redSqr().redIAdd(b).redISub(y).redISub(y),O=h.redMul(y.redISub(w)).redISub(c.redMul(b)),P=this.z.redMul(u);return this.curve.jpoint(w,O,P)},JPoint.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var o=this.curve.a,c=this.curve.tinv,a=this.x,u=this.y,h=this.z,v=h.redSqr().redSqr(),b=u.redAdd(u);for(t=0;t<e;t++){var y=a.redSqr(),w=b.redSqr(),O=w.redSqr(),P=y.redAdd(y).redIAdd(y).redIAdd(o.redMul(v)),C=a.redMul(w),x=P.redSqr().redISub(C.redAdd(C)),D=C.redISub(x),k=P.redMul(D);k=k.redIAdd(k).redISub(O);var B=b.redMul(h);t+1<e&&(v=v.redMul(O)),a=x,h=B,b=k}return this.curve.jpoint(a,b.redMul(c),h)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),c=this.y.redSqr(),a=c.redSqr(),u=this.x.redAdd(c).redSqr().redISub(o).redISub(a);u=u.redIAdd(u);var h=o.redAdd(o).redIAdd(o),v=h.redSqr().redISub(u).redISub(u),b=a.redIAdd(a);b=b.redIAdd(b),b=b.redIAdd(b),e=v,t=h.redMul(u.redISub(v)).redISub(b),n=this.y.redAdd(this.y)}else{var y=this.x.redSqr(),w=this.y.redSqr(),O=w.redSqr(),P=this.x.redAdd(w).redSqr().redISub(y).redISub(O);P=P.redIAdd(P);var C=y.redAdd(y).redIAdd(y),x=C.redSqr(),D=O.redIAdd(O);D=D.redIAdd(D),D=D.redIAdd(D),e=x.redISub(P).redISub(P),t=C.redMul(P.redISub(e)).redISub(D),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)},JPoint.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),c=this.y.redSqr(),a=c.redSqr(),u=this.x.redAdd(c).redSqr().redISub(o).redISub(a);u=u.redIAdd(u);var h=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),v=h.redSqr().redISub(u).redISub(u);e=v;var b=a.redIAdd(a);b=b.redIAdd(b),b=b.redIAdd(b),t=h.redMul(u.redISub(v)).redISub(b),n=this.y.redAdd(this.y)}else{var y=this.z.redSqr(),w=this.y.redSqr(),O=this.x.redMul(w),P=this.x.redSub(y).redMul(this.x.redAdd(y));P=P.redAdd(P).redIAdd(P);var C=O.redIAdd(O);C=C.redIAdd(C);var x=C.redAdd(C);e=P.redSqr().redISub(x),n=this.y.redAdd(this.z).redSqr().redISub(w).redISub(y);var D=w.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),t=P.redMul(C.redISub(e)).redISub(D)}return this.curve.jpoint(e,t,n)},JPoint.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,o=this.z,c=o.redSqr().redSqr(),a=t.redSqr(),u=n.redSqr(),h=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(c)),v=t.redAdd(t);v=v.redIAdd(v);var b=v.redMul(u),y=h.redSqr().redISub(b.redAdd(b)),w=b.redISub(y),O=u.redSqr();O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var P=h.redMul(w).redISub(O),C=n.redAdd(n).redMul(o);return this.curve.jpoint(y,P,C)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),o=t.redSqr(),c=e.redAdd(e).redIAdd(e),a=c.redSqr(),u=this.x.redAdd(t).redSqr().redISub(e).redISub(o);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(a);var h=u.redSqr(),v=o.redIAdd(o);v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var b=c.redIAdd(u).redSqr().redISub(a).redISub(h).redISub(v),y=t.redMul(b);y=y.redIAdd(y),y=y.redIAdd(y);var w=this.x.redMul(h).redISub(y);w=w.redIAdd(w),w=w.redIAdd(w);var O=this.y.redMul(b.redMul(v.redISub(b)).redISub(u.redMul(h)));O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var P=this.z.redAdd(u).redSqr().redISub(n).redISub(h);return this.curve.jpoint(w,O,P)},JPoint.prototype.mul=function(e,t){return e=new BN$8(e,t),this.curve._wnafMul(this,e)},JPoint.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),c=n.redMul(e.z);return this.y.redMul(c).redISub(e.y.redMul(o)).cmpn(0)===0},JPoint.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),c=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(c),this.x.cmp(n)===0)return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$7=bnExports$3,inherits$3=inherits_browserExports$3,Base$1=base$2,utils$V=utils$Z;function MontCurve(e){Base$1.call(this,"mont",e),this.a=new BN$7(e.a,16).toRed(this.red),this.b=new BN$7(e.b,16).toRed(this.red),this.i4=new BN$7(4).toRed(this.red).redInvm(),this.two=new BN$7(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$3(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),o=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),c=o.redSqrt();return c.redSqr().cmp(o)===0};function Point$1(e,t,n){Base$1.BasePoint.call(this,e,"projective"),t===null&&n===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$7(t,16),this.z=new BN$7(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$3(Point$1,Base$1.BasePoint),MontCurve.prototype.decodePoint=function(e,t){return this.point(utils$V.toArray(e,t),1)},MontCurve.prototype.point=function(e,t){return new Point$1(this,e,t)},MontCurve.prototype.pointFromJSON=function(e){return Point$1.fromJSON(this,e)},Point$1.prototype.precompute=function(){},Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point$1.fromJSON=function(e,t){return new Point$1(e,t[0],t[1]||e.one)},Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Point$1.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),o=n.redSqr(),c=t.redSub(o),a=t.redMul(o),u=c.redMul(o.redAdd(this.curve.a24.redMul(c)));return this.curve.point(a,u)},Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),o=this.x.redSub(this.z),c=e.x.redAdd(e.z),a=e.x.redSub(e.z),u=a.redMul(n),h=c.redMul(o),v=t.z.redMul(u.redAdd(h).redSqr()),b=t.x.redMul(u.redISub(h).redSqr());return this.curve.point(v,b)},Point$1.prototype.mul=function(e){for(var t=e.clone(),n=this,o=this.curve.point(null,null),c=this,a=[];t.cmpn(0)!==0;t.iushrn(1))a.push(t.andln(1));for(var u=a.length-1;u>=0;u--)a[u]===0?(n=n.diffAdd(o,c),o=o.dbl()):(o=n.diffAdd(o,c),n=n.dbl());return o},Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.eq=function(e){return this.getX().cmp(e.getX())===0},Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$U=utils$Z,BN$6=bnExports$3,inherits$2=inherits_browserExports$3,Base=base$2,assert$f=utils$U.assert;function EdwardsCurve(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",e),this.a=new BN$6(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$6(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$6(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$f(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}inherits$2(EdwardsCurve,Base);var edwards$1=EdwardsCurve;EdwardsCurve.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},EdwardsCurve.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},EdwardsCurve.prototype.jpoint=function(e,t,n,o){return this.point(e,t,n,o)},EdwardsCurve.prototype.pointFromX=function(e,t){e=new BN$6(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=this.c2.redSub(this.a.redMul(n)),c=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=o.redMul(c.redInvm()),u=a.redSqrt();if(u.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var h=u.fromRed().isOdd();return(t&&!h||!t&&h)&&(u=u.redNeg()),this.point(e,u)},EdwardsCurve.prototype.pointFromY=function(e,t){e=new BN$6(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=n.redSub(this.c2),c=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=o.redMul(c.redInvm());if(a.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var u=a.redSqrt();if(u.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==t&&(u=u.redNeg()),this.point(u,e)},EdwardsCurve.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),o=t.redMul(this.a).redAdd(n),c=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return o.cmp(c)===0};function Point(e,t,n,o,c){Base.BasePoint.call(this,e,"projective"),t===null&&n===null&&o===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$6(t,16),this.y=new BN$6(n,16),this.z=o?new BN$6(o,16):this.curve.one,this.t=c&&new BN$6(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$2(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},EdwardsCurve.prototype.point=function(e,t,n,o){return new Point(this,e,t,n,o)},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1],t[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},Point.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var o=this.curve._mulA(e),c=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=o.redAdd(t),u=a.redSub(n),h=o.redSub(t),v=c.redMul(u),b=a.redMul(h),y=c.redMul(h),w=u.redMul(a);return this.curve.point(v,b,w,y)},Point.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),o,c,a,u,h,v;if(this.curve.twisted){u=this.curve._mulA(t);var b=u.redAdd(n);this.zOne?(o=e.redSub(t).redSub(n).redMul(b.redSub(this.curve.two)),c=b.redMul(u.redSub(n)),a=b.redSqr().redSub(b).redSub(b)):(h=this.z.redSqr(),v=b.redSub(h).redISub(h),o=e.redSub(t).redISub(n).redMul(v),c=b.redMul(u.redSub(n)),a=b.redMul(v))}else u=t.redAdd(n),h=this.curve._mulC(this.z).redSqr(),v=u.redSub(h).redSub(h),o=this.curve._mulC(e.redISub(u)).redMul(v),c=this.curve._mulC(u).redMul(t.redISub(n)),a=u.redMul(v);return this.curve.point(o,c,a)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),o=this.t.redMul(this.curve.dd).redMul(e.t),c=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),u=c.redSub(o),h=c.redAdd(o),v=n.redAdd(t),b=a.redMul(u),y=h.redMul(v),w=a.redMul(v),O=u.redMul(h);return this.curve.point(b,y,O,w)},Point.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),o=this.x.redMul(e.x),c=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(c),u=n.redSub(a),h=n.redAdd(a),v=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(c),b=t.redMul(u).redMul(v),y,w;return this.curve.twisted?(y=t.redMul(h).redMul(c.redSub(this.curve._mulA(o))),w=u.redMul(h)):(y=t.redMul(h).redMul(c.redSub(o)),w=this.curve._mulC(u).redMul(h)),this.curve.point(b,y,w)},Point.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Point.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},Point.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0},Point.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(o),this.x.cmp(t)===0)return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add,function(e){var t=e;t.base=base$2,t.short=short,t.mont=mont,t.edwards=edwards$1}(curve$1);var curves$1={},hash$6={},utils$T={},assert$e=minimalisticAssert,inherits$1=inherits_browserExports$3;utils$T.inherits=inherits$1;function isSurrogatePair(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),c=0;c<e.length;c+=2)n.push(parseInt(e[c]+e[c+1],16))}else for(var o=0,c=0;c<e.length;c++){var a=e.charCodeAt(c);a<128?n[o++]=a:a<2048?(n[o++]=a>>6|192,n[o++]=a&63|128):isSurrogatePair(e,c)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++c)&1023),n[o++]=a>>18|240,n[o++]=a>>12&63|128,n[o++]=a>>6&63|128,n[o++]=a&63|128):(n[o++]=a>>12|224,n[o++]=a>>6&63|128,n[o++]=a&63|128)}else for(c=0;c<e.length;c++)n[c]=e[c]|0;return n}utils$T.toArray=toArray;function toHex(e){for(var t="",n=0;n<e.length;n++)t+=zero2(e[n].toString(16));return t}utils$T.toHex=toHex;function htonl(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}utils$T.htonl=htonl;function toHex32(e,t){for(var n="",o=0;o<e.length;o++){var c=e[o];t==="little"&&(c=htonl(c)),n+=zero8(c.toString(16))}return n}utils$T.toHex32=toHex32;function zero2(e){return e.length===1?"0"+e:e}utils$T.zero2=zero2;function zero8(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}utils$T.zero8=zero8;function join32(e,t,n,o){var c=n-t;assert$e(c%4===0);for(var a=new Array(c/4),u=0,h=t;u<a.length;u++,h+=4){var v;o==="big"?v=e[h]<<24|e[h+1]<<16|e[h+2]<<8|e[h+3]:v=e[h+3]<<24|e[h+2]<<16|e[h+1]<<8|e[h],a[u]=v>>>0}return a}utils$T.join32=join32;function split32(e,t){for(var n=new Array(e.length*4),o=0,c=0;o<e.length;o++,c+=4){var a=e[o];t==="big"?(n[c]=a>>>24,n[c+1]=a>>>16&255,n[c+2]=a>>>8&255,n[c+3]=a&255):(n[c+3]=a>>>24,n[c+2]=a>>>16&255,n[c+1]=a>>>8&255,n[c]=a&255)}return n}utils$T.split32=split32;function rotr32$1(e,t){return e>>>t|e<<32-t}utils$T.rotr32=rotr32$1;function rotl32$2(e,t){return e<<t|e>>>32-t}utils$T.rotl32=rotl32$2;function sum32$3(e,t){return e+t>>>0}utils$T.sum32=sum32$3;function sum32_3$1(e,t,n){return e+t+n>>>0}utils$T.sum32_3=sum32_3$1;function sum32_4$2(e,t,n,o){return e+t+n+o>>>0}utils$T.sum32_4=sum32_4$2;function sum32_5$2(e,t,n,o,c){return e+t+n+o+c>>>0}utils$T.sum32_5=sum32_5$2;function sum64$1(e,t,n,o){var c=e[t],a=e[t+1],u=o+a>>>0,h=(u<o?1:0)+n+c;e[t]=h>>>0,e[t+1]=u}utils$T.sum64=sum64$1;function sum64_hi$1(e,t,n,o){var c=t+o>>>0,a=(c<t?1:0)+e+n;return a>>>0}utils$T.sum64_hi=sum64_hi$1;function sum64_lo$1(e,t,n,o){var c=t+o;return c>>>0}utils$T.sum64_lo=sum64_lo$1;function sum64_4_hi$1(e,t,n,o,c,a,u,h){var v=0,b=t;b=b+o>>>0,v+=b<t?1:0,b=b+a>>>0,v+=b<a?1:0,b=b+h>>>0,v+=b<h?1:0;var y=e+n+c+u+v;return y>>>0}utils$T.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(e,t,n,o,c,a,u,h){var v=t+o+a+h;return v>>>0}utils$T.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(e,t,n,o,c,a,u,h,v,b){var y=0,w=t;w=w+o>>>0,y+=w<t?1:0,w=w+a>>>0,y+=w<a?1:0,w=w+h>>>0,y+=w<h?1:0,w=w+b>>>0,y+=w<b?1:0;var O=e+n+c+u+v+y;return O>>>0}utils$T.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(e,t,n,o,c,a,u,h,v,b){var y=t+o+a+h+b;return y>>>0}utils$T.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(e,t,n){var o=t<<32-n|e>>>n;return o>>>0}utils$T.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(e,t,n){var o=e<<32-n|t>>>n;return o>>>0}utils$T.rotr64_lo=rotr64_lo$1;function shr64_hi$1(e,t,n){return e>>>n}utils$T.shr64_hi=shr64_hi$1;function shr64_lo$1(e,t,n){var o=e<<32-n|t>>>n;return o>>>0}utils$T.shr64_lo=shr64_lo$1;var common$5={},utils$S=utils$T,assert$d=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4,BlockHash$4.prototype.update=function(e,t){if(e=utils$S.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=utils$S.join32(e,0,e.length-n,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this},BlockHash$4.prototype.digest=function(e){return this.update(this._pad()),assert$d(this.pending===null),this._digest(e)},BlockHash$4.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,o=new Array(n+this.padLength);o[0]=128;for(var c=1;c<n;c++)o[c]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)o[c++]=0;o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=e>>>24&255,o[c++]=e>>>16&255,o[c++]=e>>>8&255,o[c++]=e&255}else for(o[c++]=e&255,o[c++]=e>>>8&255,o[c++]=e>>>16&255,o[c++]=e>>>24&255,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,a=8;a<this.padLength;a++)o[c++]=0;return o};var sha={},common$4={},utils$R=utils$T,rotr32=utils$R.rotr32;function ft_1$1(e,t,n,o){if(e===0)return ch32$1(t,n,o);if(e===1||e===3)return p32(t,n,o);if(e===2)return maj32$1(t,n,o)}common$4.ft_1=ft_1$1;function ch32$1(e,t,n){return e&t^~e&n}common$4.ch32=ch32$1;function maj32$1(e,t,n){return e&t^e&n^t&n}common$4.maj32=maj32$1;function p32(e,t,n){return e^t^n}common$4.p32=p32;function s0_256$1(e){return rotr32(e,2)^rotr32(e,13)^rotr32(e,22)}common$4.s0_256=s0_256$1;function s1_256$1(e){return rotr32(e,6)^rotr32(e,11)^rotr32(e,25)}common$4.s1_256=s1_256$1;function g0_256$1(e){return rotr32(e,7)^rotr32(e,18)^e>>>3}common$4.g0_256=g0_256$1;function g1_256$1(e){return rotr32(e,17)^rotr32(e,19)^e>>>10}common$4.g1_256=g1_256$1;var utils$Q=utils$T,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$Q.rotl32,sum32$2=utils$Q.sum32,sum32_5$1=utils$Q.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$Q.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=rotl32$1(n[o-3]^n[o-8]^n[o-14]^n[o-16],1);var c=this.h[0],a=this.h[1],u=this.h[2],h=this.h[3],v=this.h[4];for(o=0;o<n.length;o++){var b=~~(o/20),y=sum32_5$1(rotl32$1(c,5),ft_1(b,a,u,h),v,n[o],sha1_K[b]);v=h,h=u,u=rotl32$1(a,30),a=c,c=y}this.h[0]=sum32$2(this.h[0],c),this.h[1]=sum32$2(this.h[1],a),this.h[2]=sum32$2(this.h[2],u),this.h[3]=sum32$2(this.h[3],h),this.h[4]=sum32$2(this.h[4],v)},SHA1.prototype._digest=function(e){return e==="hex"?utils$Q.toHex32(this.h,"big"):utils$Q.split32(this.h,"big")};var utils$P=utils$T,common$2=common$5,shaCommon=common$4,assert$c=minimalisticAssert,sum32$1=utils$P.sum32,sum32_4$1=utils$P.sum32_4,sum32_5=utils$P.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$4(){if(!(this instanceof SHA256$4))return new SHA256$4;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$P.inherits(SHA256$4,BlockHash$2);var _256=SHA256$4;SHA256$4.blockSize=512,SHA256$4.outSize=256,SHA256$4.hmacStrength=192,SHA256$4.padLength=64,SHA256$4.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=sum32_4$1(g1_256(n[o-2]),n[o-7],g0_256(n[o-15]),n[o-16]);var c=this.h[0],a=this.h[1],u=this.h[2],h=this.h[3],v=this.h[4],b=this.h[5],y=this.h[6],w=this.h[7];for(assert$c(this.k.length===n.length),o=0;o<n.length;o++){var O=sum32_5(w,s1_256(v),ch32(v,b,y),this.k[o],n[o]),P=sum32$1(s0_256(c),maj32(c,a,u));w=y,y=b,b=v,v=sum32$1(h,O),h=u,u=a,a=c,c=sum32$1(O,P)}this.h[0]=sum32$1(this.h[0],c),this.h[1]=sum32$1(this.h[1],a),this.h[2]=sum32$1(this.h[2],u),this.h[3]=sum32$1(this.h[3],h),this.h[4]=sum32$1(this.h[4],v),this.h[5]=sum32$1(this.h[5],b),this.h[6]=sum32$1(this.h[6],y),this.h[7]=sum32$1(this.h[7],w)},SHA256$4.prototype._digest=function(e){return e==="hex"?utils$P.toHex32(this.h,"big"):utils$P.split32(this.h,"big")};var utils$O=utils$T,SHA256$3=_256;function SHA224$3(){if(!(this instanceof SHA224$3))return new SHA224$3;SHA256$3.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$O.inherits(SHA224$3,SHA256$3);var _224=SHA224$3;SHA224$3.blockSize=512,SHA224$3.outSize=224,SHA224$3.hmacStrength=192,SHA224$3.padLength=64,SHA224$3.prototype._digest=function(e){return e==="hex"?utils$O.toHex32(this.h.slice(0,7),"big"):utils$O.split32(this.h.slice(0,7),"big")};var utils$N=utils$T,common$1=common$5,assert$b=minimalisticAssert,rotr64_hi=utils$N.rotr64_hi,rotr64_lo=utils$N.rotr64_lo,shr64_hi=utils$N.shr64_hi,shr64_lo=utils$N.shr64_lo,sum64=utils$N.sum64,sum64_hi=utils$N.sum64_hi,sum64_lo=utils$N.sum64_lo,sum64_4_hi=utils$N.sum64_4_hi,sum64_4_lo=utils$N.sum64_4_lo,sum64_5_hi=utils$N.sum64_5_hi,sum64_5_lo=utils$N.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$2(){if(!(this instanceof SHA512$2))return new SHA512$2;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$N.inherits(SHA512$2,BlockHash$1);var _512=SHA512$2;SHA512$2.blockSize=1024,SHA512$2.outSize=512,SHA512$2.hmacStrength=192,SHA512$2.padLength=128,SHA512$2.prototype._prepareBlock=function(e,t){for(var n=this.W,o=0;o<32;o++)n[o]=e[t+o];for(;o<n.length;o+=2){var c=g1_512_hi(n[o-4],n[o-3]),a=g1_512_lo(n[o-4],n[o-3]),u=n[o-14],h=n[o-13],v=g0_512_hi(n[o-30],n[o-29]),b=g0_512_lo(n[o-30],n[o-29]),y=n[o-32],w=n[o-31];n[o]=sum64_4_hi(c,a,u,h,v,b,y,w),n[o+1]=sum64_4_lo(c,a,u,h,v,b,y,w)}},SHA512$2.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,o=this.h[0],c=this.h[1],a=this.h[2],u=this.h[3],h=this.h[4],v=this.h[5],b=this.h[6],y=this.h[7],w=this.h[8],O=this.h[9],P=this.h[10],C=this.h[11],x=this.h[12],D=this.h[13],k=this.h[14],B=this.h[15];assert$b(this.k.length===n.length);for(var q=0;q<n.length;q+=2){var V=k,ee=B,te=s1_512_hi(w,O),ce=s1_512_lo(w,O),Q=ch64_hi(w,O,P,C,x),ne=ch64_lo(w,O,P,C,x,D),fe=this.k[q],l=this.k[q+1],p=n[q],m=n[q+1],_=sum64_5_hi(V,ee,te,ce,Q,ne,fe,l,p,m),A=sum64_5_lo(V,ee,te,ce,Q,ne,fe,l,p,m);V=s0_512_hi(o,c),ee=s0_512_lo(o,c),te=maj64_hi(o,c,a,u,h),ce=maj64_lo(o,c,a,u,h,v);var I=sum64_hi(V,ee,te,ce),T=sum64_lo(V,ee,te,ce);k=x,B=D,x=P,D=C,P=w,C=O,w=sum64_hi(b,y,_,A),O=sum64_lo(y,y,_,A),b=h,y=v,h=a,v=u,a=o,u=c,o=sum64_hi(_,A,I,T),c=sum64_lo(_,A,I,T)}sum64(this.h,0,o,c),sum64(this.h,2,a,u),sum64(this.h,4,h,v),sum64(this.h,6,b,y),sum64(this.h,8,w,O),sum64(this.h,10,P,C),sum64(this.h,12,x,D),sum64(this.h,14,k,B)},SHA512$2.prototype._digest=function(e){return e==="hex"?utils$N.toHex32(this.h,"big"):utils$N.split32(this.h,"big")};function ch64_hi(e,t,n,o,c){var a=e&n^~e&c;return a<0&&(a+=4294967296),a}function ch64_lo(e,t,n,o,c,a){var u=t&o^~t&a;return u<0&&(u+=4294967296),u}function maj64_hi(e,t,n,o,c){var a=e&n^e&c^n&c;return a<0&&(a+=4294967296),a}function maj64_lo(e,t,n,o,c,a){var u=t&o^t&a^o&a;return u<0&&(u+=4294967296),u}function s0_512_hi(e,t){var n=rotr64_hi(e,t,28),o=rotr64_hi(t,e,2),c=rotr64_hi(t,e,7),a=n^o^c;return a<0&&(a+=4294967296),a}function s0_512_lo(e,t){var n=rotr64_lo(e,t,28),o=rotr64_lo(t,e,2),c=rotr64_lo(t,e,7),a=n^o^c;return a<0&&(a+=4294967296),a}function s1_512_hi(e,t){var n=rotr64_hi(e,t,14),o=rotr64_hi(e,t,18),c=rotr64_hi(t,e,9),a=n^o^c;return a<0&&(a+=4294967296),a}function s1_512_lo(e,t){var n=rotr64_lo(e,t,14),o=rotr64_lo(e,t,18),c=rotr64_lo(t,e,9),a=n^o^c;return a<0&&(a+=4294967296),a}function g0_512_hi(e,t){var n=rotr64_hi(e,t,1),o=rotr64_hi(e,t,8),c=shr64_hi(e,t,7),a=n^o^c;return a<0&&(a+=4294967296),a}function g0_512_lo(e,t){var n=rotr64_lo(e,t,1),o=rotr64_lo(e,t,8),c=shr64_lo(e,t,7),a=n^o^c;return a<0&&(a+=4294967296),a}function g1_512_hi(e,t){var n=rotr64_hi(e,t,19),o=rotr64_hi(t,e,29),c=shr64_hi(e,t,6),a=n^o^c;return a<0&&(a+=4294967296),a}function g1_512_lo(e,t){var n=rotr64_lo(e,t,19),o=rotr64_lo(t,e,29),c=shr64_lo(e,t,6),a=n^o^c;return a<0&&(a+=4294967296),a}var utils$M=utils$T,SHA512$1=_512;function SHA384$1(){if(!(this instanceof SHA384$1))return new SHA384$1;SHA512$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$M.inherits(SHA384$1,SHA512$1);var _384=SHA384$1;SHA384$1.blockSize=1024,SHA384$1.outSize=384,SHA384$1.hmacStrength=192,SHA384$1.padLength=128,SHA384$1.prototype._digest=function(e){return e==="hex"?utils$M.toHex32(this.h.slice(0,12),"big"):utils$M.split32(this.h.slice(0,12),"big")},sha.sha1=_1,sha.sha224=_224,sha.sha256=_256,sha.sha384=_384,sha.sha512=_512;var ripemd={},utils$L=utils$T,common=common$5,rotl32=utils$L.rotl32,sum32=utils$L.sum32,sum32_3=utils$L.sum32_3,sum32_4=utils$L.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$L.inherits(RIPEMD160,BlockHash),ripemd.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(e,t){for(var n=this.h[0],o=this.h[1],c=this.h[2],a=this.h[3],u=this.h[4],h=n,v=o,b=c,y=a,w=u,O=0;O<80;O++){var P=sum32(rotl32(sum32_4(n,f(O,o,c,a),e[r[O]+t],K(O)),s[O]),u);n=u,u=a,a=rotl32(c,10),c=o,o=P,P=sum32(rotl32(sum32_4(h,f(79-O,v,b,y),e[rh[O]+t],Kh(O)),sh[O]),w),h=w,w=y,y=rotl32(b,10),b=v,v=P}P=sum32_3(this.h[1],c,y),this.h[1]=sum32_3(this.h[2],a,w),this.h[2]=sum32_3(this.h[3],u,h),this.h[3]=sum32_3(this.h[4],n,v),this.h[4]=sum32_3(this.h[0],o,b),this.h[0]=P},RIPEMD160.prototype._digest=function(e){return e==="hex"?utils$L.toHex32(this.h,"little"):utils$L.split32(this.h,"little")};function f(e,t,n,o){return e<=15?t^n^o:e<=31?t&n|~t&o:e<=47?(t|~n)^o:e<=63?t&o|n&~o:t^(n|~o)}function K(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Kh(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$K=utils$T,assert$a=minimalisticAssert;function Hmac(e,t,n){if(!(this instanceof Hmac))return new Hmac(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(utils$K.toArray(t,n))}var hmac=Hmac;Hmac.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),assert$a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Hmac.prototype.update=function(e,t){return this.inner.update(e,t),this},Hmac.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=utils$T,t.common=common$5,t.sha=sha,t.ripemd=ripemd,t.hmac=hmac,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(hash$6);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(e){var t=e,n=hash$6,o=curve$1,c=utils$Z,a=c.assert;function u(b){b.type==="short"?this.curve=new o.short(b):b.type==="edwards"?this.curve=new o.edwards(b):this.curve=new o.mont(b),this.g=this.curve.g,this.n=this.curve.n,this.hash=b.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=u;function h(b,y){Object.defineProperty(t,b,{configurable:!0,enumerable:!0,get:function(){var w=new u(y);return Object.defineProperty(t,b,{configurable:!0,enumerable:!0,value:w}),w}})}h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var v;try{v=requireSecp256k1()}catch{v=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",v]})})(curves$1);var hash$5=hash$6,utils$J=utils$Y,assert$9=minimalisticAssert;function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils$J.toArray(e.entropy,e.entropyEnc||"hex"),n=utils$J.toArray(e.nonce,e.nonceEnc||"hex"),o=utils$J.toArray(e.pers,e.persEnc||"hex");assert$9(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,o)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(e,t,n){var o=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var c=0;c<this.V.length;c++)this.K[c]=0,this.V[c]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash$5.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(e,t,n,o){typeof t!="string"&&(o=n,n=t,t=null),e=utils$J.toArray(e,t),n=utils$J.toArray(n,o),assert$9(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},HmacDRBG.prototype.generate=function(e,t,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=n,n=t,t=null),n&&(n=utils$J.toArray(n,o||"hex"),this._update(n));for(var c=[];c.length<e;)this.V=this._hmac().update(this.V).digest(),c=c.concat(this.V);var a=c.slice(0,e);return this._update(n),this._reseed++,utils$J.encode(a,t)};var BN$5=bnExports$3,utils$I=utils$Z,assert$8=utils$I.assert;function KeyPair$6(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$2=KeyPair$6;KeyPair$6.fromPublic=function(e,t,n){return t instanceof KeyPair$6?t:new KeyPair$6(e,{pub:t,pubEnc:n})},KeyPair$6.fromPrivate=function(e,t,n){return t instanceof KeyPair$6?t:new KeyPair$6(e,{priv:t,privEnc:n})},KeyPair$6.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$6.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair$6.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},KeyPair$6.prototype._importPrivate=function(e,t){this.priv=new BN$5(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$6.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?assert$8(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$8(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},KeyPair$6.prototype.derive=function(e){return e.validate()||assert$8(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair$6.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},KeyPair$6.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair$6.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$4=bnExports$3,utils$H=utils$Z,assert$7=utils$H.assert;function Signature$6(e,t){if(e instanceof Signature$6)return e;this._importDER(e,t)||(assert$7(e.r&&e.s,"Signature without r or s"),this.r=new BN$4(e.r,16),this.s=new BN$4(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature$5=Signature$6;function Position(){this.place=0}function getLength(e,t){var n=e[t.place++];if(!(n&128))return n;var o=n&15;if(o===0||o>4||e[t.place]===0)return!1;for(var c=0,a=0,u=t.place;a<o;a++,u++)c<<=8,c|=e[u],c>>>=0;return c<=127?!1:(t.place=u,c)}function rmPadding(e){for(var t=0,n=e.length-1;!e[t]&&!(e[t+1]&128)&&t<n;)t++;return t===0?e:e.slice(t)}Signature$6.prototype._importDER=function(e,t){e=utils$H.toArray(e,t);var n=new Position;if(e[n.place++]!==48)return!1;var o=getLength(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var c=getLength(e,n);if(c===!1||e[n.place]&128)return!1;var a=e.slice(n.place,c+n.place);if(n.place+=c,e[n.place++]!==2)return!1;var u=getLength(e,n);if(u===!1||e.length!==u+n.place||e[n.place]&128)return!1;var h=e.slice(n.place,u+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(h[0]===0)if(h[1]&128)h=h.slice(1);else return!1;return this.r=new BN$4(a),this.s=new BN$4(h),this.recoveryParam=null,!0};function constructLength(e,t){if(t<128){e.push(t);return}var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(n|128);--n;)e.push(t>>>(n<<3)&255);e.push(t)}Signature$6.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=rmPadding(t),n=rmPadding(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];constructLength(o,t.length),o=o.concat(t),o.push(2),constructLength(o,n.length);var c=o.concat(n),a=[48];return constructLength(a,c.length),a=a.concat(c),utils$H.encode(a,e)};var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var e=bnExports$3,t=hmacDrbg,n=utils$Z,o=curves$1,c=requireBrorand(),a=n.assert,u=key$2,h=signature$5;function v(b){if(!(this instanceof v))return new v(b);typeof b=="string"&&(a(Object.prototype.hasOwnProperty.call(o,b),"Unknown curve "+b),b=o[b]),b instanceof o.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}return ec=v,v.prototype.keyPair=function(b){return new u(this,b)},v.prototype.keyFromPrivate=function(b,y){return u.fromPrivate(this,b,y)},v.prototype.keyFromPublic=function(b,y){return u.fromPublic(this,b,y)},v.prototype.genKeyPair=function(b){b||(b={});for(var y=new t({hash:this.hash,pers:b.pers,persEnc:b.persEnc||"utf8",entropy:b.entropy||c(this.hash.hmacStrength),entropyEnc:b.entropy&&b.entropyEnc||"utf8",nonce:this.n.toArray()}),w=this.n.byteLength(),O=this.n.sub(new e(2));;){var P=new e(y.generate(w));if(!(P.cmp(O)>0))return P.iaddn(1),this.keyFromPrivate(P)}},v.prototype._truncateToN=function(b,y){var w=b.byteLength()*8-this.n.bitLength();return w>0&&(b=b.ushrn(w)),!y&&b.cmp(this.n)>=0?b.sub(this.n):b},v.prototype.sign=function(b,y,w,O){typeof w=="object"&&(O=w,w=null),O||(O={}),y=this.keyFromPrivate(y,w),b=this._truncateToN(new e(b,16));for(var P=this.n.byteLength(),C=y.getPrivate().toArray("be",P),x=b.toArray("be",P),D=new t({hash:this.hash,entropy:C,nonce:x,pers:O.pers,persEnc:O.persEnc||"utf8"}),k=this.n.sub(new e(1)),B=0;;B++){var q=O.k?O.k(B):new e(D.generate(this.n.byteLength()));if(q=this._truncateToN(q,!0),!(q.cmpn(1)<=0||q.cmp(k)>=0)){var V=this.g.mul(q);if(!V.isInfinity()){var ee=V.getX(),te=ee.umod(this.n);if(te.cmpn(0)!==0){var ce=q.invm(this.n).mul(te.mul(y.getPrivate()).iadd(b));if(ce=ce.umod(this.n),ce.cmpn(0)!==0){var Q=(V.getY().isOdd()?1:0)|(ee.cmp(te)!==0?2:0);return O.canonical&&ce.cmp(this.nh)>0&&(ce=this.n.sub(ce),Q^=1),new h({r:te,s:ce,recoveryParam:Q})}}}}}},v.prototype.verify=function(b,y,w,O){b=this._truncateToN(new e(b,16)),w=this.keyFromPublic(w,O),y=new h(y,"hex");var P=y.r,C=y.s;if(P.cmpn(1)<0||P.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var x=C.invm(this.n),D=x.mul(b).umod(this.n),k=x.mul(P).umod(this.n),B;return this.curve._maxwellTrick?(B=this.g.jmulAdd(D,w.getPublic(),k),B.isInfinity()?!1:B.eqXToP(P)):(B=this.g.mulAdd(D,w.getPublic(),k),B.isInfinity()?!1:B.getX().umod(this.n).cmp(P)===0)},v.prototype.recoverPubKey=function(b,y,w,O){a((3&w)===w,"The recovery param is more than two bits"),y=new h(y,O);var P=this.n,C=new e(b),x=y.r,D=y.s,k=w&1,B=w>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&B)throw new Error("Unable to find sencond key candinate");B?x=this.curve.pointFromX(x.add(this.curve.n),k):x=this.curve.pointFromX(x,k);var q=y.r.invm(P),V=P.sub(C).mul(q).umod(P),ee=D.mul(q).umod(P);return this.g.mulAdd(V,x,ee)},v.prototype.getKeyRecoveryParam=function(b,y,w,O){if(y=new h(y,O),y.recoveryParam!==null)return y.recoveryParam;for(var P=0;P<4;P++){var C;try{C=this.recoverPubKey(b,y,P)}catch{continue}if(C.eq(w))return P}throw new Error("Unable to find valid recovery factor")},ec}var utils$G=utils$Z,assert$6=utils$G.assert,parseBytes$2=utils$G.parseBytes,cachedProperty$1=utils$G.cachedProperty;function KeyPair$5(e,t){this.eddsa=e,this._secret=parseBytes$2(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=parseBytes$2(t.pub)}KeyPair$5.fromPublic=function(e,t){return t instanceof KeyPair$5?t:new KeyPair$5(e,{pub:t})},KeyPair$5.fromSecret=function(e,t){return t instanceof KeyPair$5?t:new KeyPair$5(e,{secret:t})},KeyPair$5.prototype.secret=function(){return this._secret},cachedProperty$1(KeyPair$5,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty$1(KeyPair$5,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty$1(KeyPair$5,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,o=t.slice(0,e.encodingLength);return o[0]&=248,o[n]&=127,o[n]|=64,o}),cachedProperty$1(KeyPair$5,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty$1(KeyPair$5,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty$1(KeyPair$5,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair$5.prototype.sign=function(e){return assert$6(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair$5.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair$5.prototype.getSecret=function(e){return assert$6(this._secret,"KeyPair is public only"),utils$G.encode(this.secret(),e)},KeyPair$5.prototype.getPublic=function(e){return utils$G.encode(this.pubBytes(),e)};var key$1=KeyPair$5,BN$3=bnExports$3,utils$F=utils$Z,assert$5=utils$F.assert,cachedProperty=utils$F.cachedProperty,parseBytes$1=utils$F.parseBytes;function Signature$5(e,t){this.eddsa=e,typeof t!="object"&&(t=parseBytes$1(t)),Array.isArray(t)&&(assert$5(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),assert$5(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof BN$3&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}cachedProperty(Signature$5,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature$5,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature$5,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature$5,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature$5.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature$5.prototype.toHex=function(){return utils$F.encode(this.toBytes(),"hex").toUpperCase()};var signature$4=Signature$5,hash$4=hash$6,curves=curves$1,utils$E=utils$Z,assert$4=utils$E.assert,parseBytes=utils$E.parseBytes,KeyPair$4=key$1,Signature$4=signature$4;function EDDSA(e){if(assert$4(e==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(e);e=curves[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=hash$4.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(e,t){e=parseBytes(e);var n=this.keyFromSecret(t),o=this.hashInt(n.messagePrefix(),e),c=this.g.mul(o),a=this.encodePoint(c),u=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),h=o.add(u).umod(this.curve.n);return this.makeSignature({R:c,S:h,Rencoded:a})},EDDSA.prototype.verify=function(e,t,n){if(e=parseBytes(e),t=this.makeSignature(t),t.S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var o=this.keyFromPublic(n),c=this.hashInt(t.Rencoded(),o.pubBytes(),e),a=this.g.mul(t.S()),u=t.R().add(o.pub().mul(c));return u.eq(a)},EDDSA.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return utils$E.intFromLE(e.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(e){return KeyPair$4.fromPublic(this,e)},EDDSA.prototype.keyFromSecret=function(e){return KeyPair$4.fromSecret(this,e)},EDDSA.prototype.makeSignature=function(e){return e instanceof Signature$4?e:new Signature$4(this,e)},EDDSA.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},EDDSA.prototype.decodePoint=function(e){e=utils$E.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),o=(e[t]&128)!==0,c=utils$E.intFromLE(n);return this.curve.pointFromY(c,o)},EDDSA.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(e){return utils$E.intFromLE(e)},EDDSA.prototype.isPoint=function(e){return e instanceof this.pointClass};var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(e){var t=e;t.version=require$$0$4.version,t.utils=utils$Z,t.rand=requireBrorand(),t.curve=curve$1,t.curves=curves$1,t.ec=requireEc(),t.eddsa=eddsa}(elliptic)),elliptic}var asn1$3={},asn1$2={},bn$2={exports:{}};bn$2.exports,function(e){(function(t,n){function o(l,p){if(!l)throw new Error(p||"Assertion failed")}function c(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function a(l,p,m){if(a.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof t=="object"?t.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$5.Buffer}catch{}a.isBN=function(l){return l instanceof a?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===a.wordSize&&Array.isArray(l.words)},a.max=function(l,p){return l.cmp(p)>0?l:p},a.min=function(l,p){return l.cmp(p)<0?l:p},a.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),o(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var _=0;l[0]==="-"&&(_++,this.negative=1),_<l.length&&(p===16?this._parseHex(l,_,m):(this._parseBase(l,p,_),m==="le"&&this._initArray(this.toArray(),p,m)))},a.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(o(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},a.prototype._initArray=function(l,p,m){if(o(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A,I,T=0;if(m==="be")for(_=l.length-1,A=0;_>=0;_-=3)I=l[_]|l[_-1]<<8|l[_-2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);else if(m==="le")for(_=0,A=0;_<l.length;_+=3)I=l[_]|l[_+1]<<8|l[_+2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);return this.strip()};function h(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function v(l,p,m){var _=h(l,m);return m-1>=p&&(_|=h(l,m-1)<<4),_}a.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A=0,I=0,T;if(m==="be")for(_=l.length-1;_>=p;_-=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8;else{var S=l.length-p;for(_=S%2===0?p+1:p;_<l.length;_+=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8}this.strip()};function b(l,p,m,_){for(var A=0,I=Math.min(l.length,m),T=p;T<I;T++){var S=l.charCodeAt(T)-48;A*=_,S>=49?A+=S-49+10:S>=17?A+=S-17+10:A+=S}return A}a.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var _=0,A=1;A<=67108863;A*=p)_++;_--,A=A/p|0;for(var I=l.length-m,T=I%_,S=Math.min(I,I-T)+m,d=0,E=m;E<S;E+=_)d=b(l,E,E+_,p),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var M=1;for(d=b(l,E,l.length,p),E=0;E<T;E++)M*=p;this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},a.prototype.clone=function(){var l=new a(null);return this.copy(l),l},a.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var _=0,A=0,I=0;I<this.length;I++){var T=this.words[I],S=((T<<_|A)&16777215).toString(16);A=T>>>24-_&16777215,A!==0||I!==this.length-1?m=y[6-S.length]+S+m:m=S+m,_+=2,_>=26&&(_-=26,I--)}for(A!==0&&(m=A.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var d=w[l],E=O[l];m="";var M=this.clone();for(M.negative=0;!M.isZero();){var U=M.modn(E).toString(l);M=M.idivn(E),M.isZero()?m=U+m:m=y[d-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(l,p){return o(typeof u<"u"),this.toArrayLike(u,l,p)},a.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},a.prototype.toArrayLike=function(l,p,m){var _=this.byteLength(),A=m||Math.max(1,_);o(_<=A,"byte array longer than desired length"),o(A>0,"Requested array length <= 0"),this.strip();var I=p==="le",T=new l(A),S,d,E=this.clone();if(I){for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[d]=S;for(;d<A;d++)T[d]=0}else{for(d=0;d<A-_;d++)T[d]=0;for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[A-d-1]=S}return T},Math.clz32?a.prototype._countBits=function(l){return 32-Math.clz32(l)}:a.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},a.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return p&8191||(m+=13,p>>>=13),p&127||(m+=7,p>>>=7),p&15||(m+=4,p>>>=4),p&3||(m+=2,p>>>=2),p&1||m++,m},a.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function P(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var _=m/26|0,A=m%26;p[m]=(l.words[_]&1<<A)>>>A}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},a.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},a.prototype.ior=function(l){return o((this.negative|l.negative)===0),this.iuor(l)},a.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},a.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},a.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},a.prototype.iand=function(l){return o((this.negative|l.negative)===0),this.iuand(l)},a.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},a.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},a.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var _=0;_<m.length;_++)this.words[_]=p.words[_]^m.words[_];if(this!==p)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=p.length,this.strip()},a.prototype.ixor=function(l){return o((this.negative|l.negative)===0),this.iuxor(l)},a.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},a.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},a.prototype.inotn=function(l){o(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var _=0;_<p;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this.strip()},a.prototype.notn=function(l){return this.clone().inotn(l)},a.prototype.setn=function(l,p){o(typeof l=="number"&&l>=0);var m=l/26|0,_=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this.strip()},a.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,_;this.length>l.length?(m=this,_=l):(m=l,_=this);for(var A=0,I=0;I<_.length;I++)p=(m.words[I]|0)+(_.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;for(;A!==0&&I<m.length;I++)p=(m.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;I<m.length;I++)this.words[I]=m.words[I];return this},a.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},a.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,A;m>0?(_=this,A=l):(_=l,A=this);for(var I=0,T=0;T<A.length;T++)p=(_.words[T]|0)-(A.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;for(;I!==0&&T<_.length;T++)p=(_.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;if(I===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(l){return this.clone().isub(l)};function C(l,p,m){m.negative=p.negative^l.negative;var _=l.length+p.length|0;m.length=_,_=_-1|0;var A=l.words[0]|0,I=p.words[0]|0,T=A*I,S=T&67108863,d=T/67108864|0;m.words[0]=S;for(var E=1;E<_;E++){for(var M=d>>>26,U=d&67108863,F=Math.min(E,p.length-1),N=Math.max(0,E-l.length+1);N<=F;N++){var L=E-N|0;A=l.words[L]|0,I=p.words[N]|0,T=A*I+U,M+=T/67108864|0,U=T&67108863}m.words[E]=U|0,d=M|0}return d!==0?m.words[E]=d|0:m.length--,m.strip()}var x=function(l,p,m){var _=l.words,A=p.words,I=m.words,T=0,S,d,E,M=_[0]|0,U=M&8191,F=M>>>13,N=_[1]|0,L=N&8191,H=N>>>13,Y=_[2]|0,Z=Y&8191,de=Y>>>13,he=_[3]|0,re=he&8191,ae=he>>>13,be=_[4]|0,ye=be&8191,we=be>>>13,Te=_[5]|0,ve=Te&8191,Ce=Te>>>13,Oe=_[6]|0,Se=Oe&8191,Pe=Oe>>>13,nt=_[7]|0,Me=nt&8191,Re=nt>>>13,pt=_[8]|0,je=pt&8191,Be=pt>>>13,vt=_[9]|0,Ne=vt&8191,J=vt>>>13,le=A[0]|0,ue=le&8191,pe=le>>>13,Ie=A[1]|0,_e=Ie&8191,Ae=Ie>>>13,bt=A[2]|0,xe=bt&8191,Ke=bt>>>13,wt=A[3]|0,De=wt&8191,He=wt>>>13,Pt=A[4]|0,Ue=Pt&8191,We=Pt>>>13,St=A[5]|0,Fe=St&8191,Ve=St>>>13,Ot=A[6]|0,Ge=Ot&8191,ze=Ot>>>13,Tt=A[7]|0,oe=Tt&8191,X=Tt>>>13,ie=A[8]|0,z=ie&8191,se=ie>>>13,me=A[9]|0,$e=me&8191,ge=me>>>13;m.negative=l.negative^p.negative,m.length=19,S=Math.imul(U,ue),d=Math.imul(U,pe),d=d+Math.imul(F,ue)|0,E=Math.imul(F,pe);var Le=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Le>>>26)|0,Le&=67108863,S=Math.imul(L,ue),d=Math.imul(L,pe),d=d+Math.imul(H,ue)|0,E=Math.imul(H,pe),S=S+Math.imul(U,_e)|0,d=d+Math.imul(U,Ae)|0,d=d+Math.imul(F,_e)|0,E=E+Math.imul(F,Ae)|0;var Je=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Je>>>26)|0,Je&=67108863,S=Math.imul(Z,ue),d=Math.imul(Z,pe),d=d+Math.imul(de,ue)|0,E=Math.imul(de,pe),S=S+Math.imul(L,_e)|0,d=d+Math.imul(L,Ae)|0,d=d+Math.imul(H,_e)|0,E=E+Math.imul(H,Ae)|0,S=S+Math.imul(U,xe)|0,d=d+Math.imul(U,Ke)|0,d=d+Math.imul(F,xe)|0,E=E+Math.imul(F,Ke)|0;var Ye=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(re,ue),d=Math.imul(re,pe),d=d+Math.imul(ae,ue)|0,E=Math.imul(ae,pe),S=S+Math.imul(Z,_e)|0,d=d+Math.imul(Z,Ae)|0,d=d+Math.imul(de,_e)|0,E=E+Math.imul(de,Ae)|0,S=S+Math.imul(L,xe)|0,d=d+Math.imul(L,Ke)|0,d=d+Math.imul(H,xe)|0,E=E+Math.imul(H,Ke)|0,S=S+Math.imul(U,De)|0,d=d+Math.imul(U,He)|0,d=d+Math.imul(F,De)|0,E=E+Math.imul(F,He)|0;var ht=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(ye,ue),d=Math.imul(ye,pe),d=d+Math.imul(we,ue)|0,E=Math.imul(we,pe),S=S+Math.imul(re,_e)|0,d=d+Math.imul(re,Ae)|0,d=d+Math.imul(ae,_e)|0,E=E+Math.imul(ae,Ae)|0,S=S+Math.imul(Z,xe)|0,d=d+Math.imul(Z,Ke)|0,d=d+Math.imul(de,xe)|0,E=E+Math.imul(de,Ke)|0,S=S+Math.imul(L,De)|0,d=d+Math.imul(L,He)|0,d=d+Math.imul(H,De)|0,E=E+Math.imul(H,He)|0,S=S+Math.imul(U,Ue)|0,d=d+Math.imul(U,We)|0,d=d+Math.imul(F,Ue)|0,E=E+Math.imul(F,We)|0;var Ze=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(ve,ue),d=Math.imul(ve,pe),d=d+Math.imul(Ce,ue)|0,E=Math.imul(Ce,pe),S=S+Math.imul(ye,_e)|0,d=d+Math.imul(ye,Ae)|0,d=d+Math.imul(we,_e)|0,E=E+Math.imul(we,Ae)|0,S=S+Math.imul(re,xe)|0,d=d+Math.imul(re,Ke)|0,d=d+Math.imul(ae,xe)|0,E=E+Math.imul(ae,Ke)|0,S=S+Math.imul(Z,De)|0,d=d+Math.imul(Z,He)|0,d=d+Math.imul(de,De)|0,E=E+Math.imul(de,He)|0,S=S+Math.imul(L,Ue)|0,d=d+Math.imul(L,We)|0,d=d+Math.imul(H,Ue)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(U,Fe)|0,d=d+Math.imul(U,Ve)|0,d=d+Math.imul(F,Fe)|0,E=E+Math.imul(F,Ve)|0;var dt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Se,ue),d=Math.imul(Se,pe),d=d+Math.imul(Pe,ue)|0,E=Math.imul(Pe,pe),S=S+Math.imul(ve,_e)|0,d=d+Math.imul(ve,Ae)|0,d=d+Math.imul(Ce,_e)|0,E=E+Math.imul(Ce,Ae)|0,S=S+Math.imul(ye,xe)|0,d=d+Math.imul(ye,Ke)|0,d=d+Math.imul(we,xe)|0,E=E+Math.imul(we,Ke)|0,S=S+Math.imul(re,De)|0,d=d+Math.imul(re,He)|0,d=d+Math.imul(ae,De)|0,E=E+Math.imul(ae,He)|0,S=S+Math.imul(Z,Ue)|0,d=d+Math.imul(Z,We)|0,d=d+Math.imul(de,Ue)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(L,Fe)|0,d=d+Math.imul(L,Ve)|0,d=d+Math.imul(H,Fe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(U,Ge)|0,d=d+Math.imul(U,ze)|0,d=d+Math.imul(F,Ge)|0,E=E+Math.imul(F,ze)|0;var Xe=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(Me,ue),d=Math.imul(Me,pe),d=d+Math.imul(Re,ue)|0,E=Math.imul(Re,pe),S=S+Math.imul(Se,_e)|0,d=d+Math.imul(Se,Ae)|0,d=d+Math.imul(Pe,_e)|0,E=E+Math.imul(Pe,Ae)|0,S=S+Math.imul(ve,xe)|0,d=d+Math.imul(ve,Ke)|0,d=d+Math.imul(Ce,xe)|0,E=E+Math.imul(Ce,Ke)|0,S=S+Math.imul(ye,De)|0,d=d+Math.imul(ye,He)|0,d=d+Math.imul(we,De)|0,E=E+Math.imul(we,He)|0,S=S+Math.imul(re,Ue)|0,d=d+Math.imul(re,We)|0,d=d+Math.imul(ae,Ue)|0,E=E+Math.imul(ae,We)|0,S=S+Math.imul(Z,Fe)|0,d=d+Math.imul(Z,Ve)|0,d=d+Math.imul(de,Fe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(L,Ge)|0,d=d+Math.imul(L,ze)|0,d=d+Math.imul(H,Ge)|0,E=E+Math.imul(H,ze)|0,S=S+Math.imul(U,oe)|0,d=d+Math.imul(U,X)|0,d=d+Math.imul(F,oe)|0,E=E+Math.imul(F,X)|0;var mt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(je,ue),d=Math.imul(je,pe),d=d+Math.imul(Be,ue)|0,E=Math.imul(Be,pe),S=S+Math.imul(Me,_e)|0,d=d+Math.imul(Me,Ae)|0,d=d+Math.imul(Re,_e)|0,E=E+Math.imul(Re,Ae)|0,S=S+Math.imul(Se,xe)|0,d=d+Math.imul(Se,Ke)|0,d=d+Math.imul(Pe,xe)|0,E=E+Math.imul(Pe,Ke)|0,S=S+Math.imul(ve,De)|0,d=d+Math.imul(ve,He)|0,d=d+Math.imul(Ce,De)|0,E=E+Math.imul(Ce,He)|0,S=S+Math.imul(ye,Ue)|0,d=d+Math.imul(ye,We)|0,d=d+Math.imul(we,Ue)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(re,Fe)|0,d=d+Math.imul(re,Ve)|0,d=d+Math.imul(ae,Fe)|0,E=E+Math.imul(ae,Ve)|0,S=S+Math.imul(Z,Ge)|0,d=d+Math.imul(Z,ze)|0,d=d+Math.imul(de,Ge)|0,E=E+Math.imul(de,ze)|0,S=S+Math.imul(L,oe)|0,d=d+Math.imul(L,X)|0,d=d+Math.imul(H,oe)|0,E=E+Math.imul(H,X)|0,S=S+Math.imul(U,z)|0,d=d+Math.imul(U,se)|0,d=d+Math.imul(F,z)|0,E=E+Math.imul(F,se)|0;var lt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Ne,ue),d=Math.imul(Ne,pe),d=d+Math.imul(J,ue)|0,E=Math.imul(J,pe),S=S+Math.imul(je,_e)|0,d=d+Math.imul(je,Ae)|0,d=d+Math.imul(Be,_e)|0,E=E+Math.imul(Be,Ae)|0,S=S+Math.imul(Me,xe)|0,d=d+Math.imul(Me,Ke)|0,d=d+Math.imul(Re,xe)|0,E=E+Math.imul(Re,Ke)|0,S=S+Math.imul(Se,De)|0,d=d+Math.imul(Se,He)|0,d=d+Math.imul(Pe,De)|0,E=E+Math.imul(Pe,He)|0,S=S+Math.imul(ve,Ue)|0,d=d+Math.imul(ve,We)|0,d=d+Math.imul(Ce,Ue)|0,E=E+Math.imul(Ce,We)|0,S=S+Math.imul(ye,Fe)|0,d=d+Math.imul(ye,Ve)|0,d=d+Math.imul(we,Fe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(re,Ge)|0,d=d+Math.imul(re,ze)|0,d=d+Math.imul(ae,Ge)|0,E=E+Math.imul(ae,ze)|0,S=S+Math.imul(Z,oe)|0,d=d+Math.imul(Z,X)|0,d=d+Math.imul(de,oe)|0,E=E+Math.imul(de,X)|0,S=S+Math.imul(L,z)|0,d=d+Math.imul(L,se)|0,d=d+Math.imul(H,z)|0,E=E+Math.imul(H,se)|0,S=S+Math.imul(U,$e)|0,d=d+Math.imul(U,ge)|0,d=d+Math.imul(F,$e)|0,E=E+Math.imul(F,ge)|0;var yt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Ne,_e),d=Math.imul(Ne,Ae),d=d+Math.imul(J,_e)|0,E=Math.imul(J,Ae),S=S+Math.imul(je,xe)|0,d=d+Math.imul(je,Ke)|0,d=d+Math.imul(Be,xe)|0,E=E+Math.imul(Be,Ke)|0,S=S+Math.imul(Me,De)|0,d=d+Math.imul(Me,He)|0,d=d+Math.imul(Re,De)|0,E=E+Math.imul(Re,He)|0,S=S+Math.imul(Se,Ue)|0,d=d+Math.imul(Se,We)|0,d=d+Math.imul(Pe,Ue)|0,E=E+Math.imul(Pe,We)|0,S=S+Math.imul(ve,Fe)|0,d=d+Math.imul(ve,Ve)|0,d=d+Math.imul(Ce,Fe)|0,E=E+Math.imul(Ce,Ve)|0,S=S+Math.imul(ye,Ge)|0,d=d+Math.imul(ye,ze)|0,d=d+Math.imul(we,Ge)|0,E=E+Math.imul(we,ze)|0,S=S+Math.imul(re,oe)|0,d=d+Math.imul(re,X)|0,d=d+Math.imul(ae,oe)|0,E=E+Math.imul(ae,X)|0,S=S+Math.imul(Z,z)|0,d=d+Math.imul(Z,se)|0,d=d+Math.imul(de,z)|0,E=E+Math.imul(de,se)|0,S=S+Math.imul(L,$e)|0,d=d+Math.imul(L,ge)|0,d=d+Math.imul(H,$e)|0,E=E+Math.imul(H,ge)|0;var _t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(Ne,xe),d=Math.imul(Ne,Ke),d=d+Math.imul(J,xe)|0,E=Math.imul(J,Ke),S=S+Math.imul(je,De)|0,d=d+Math.imul(je,He)|0,d=d+Math.imul(Be,De)|0,E=E+Math.imul(Be,He)|0,S=S+Math.imul(Me,Ue)|0,d=d+Math.imul(Me,We)|0,d=d+Math.imul(Re,Ue)|0,E=E+Math.imul(Re,We)|0,S=S+Math.imul(Se,Fe)|0,d=d+Math.imul(Se,Ve)|0,d=d+Math.imul(Pe,Fe)|0,E=E+Math.imul(Pe,Ve)|0,S=S+Math.imul(ve,Ge)|0,d=d+Math.imul(ve,ze)|0,d=d+Math.imul(Ce,Ge)|0,E=E+Math.imul(Ce,ze)|0,S=S+Math.imul(ye,oe)|0,d=d+Math.imul(ye,X)|0,d=d+Math.imul(we,oe)|0,E=E+Math.imul(we,X)|0,S=S+Math.imul(re,z)|0,d=d+Math.imul(re,se)|0,d=d+Math.imul(ae,z)|0,E=E+Math.imul(ae,se)|0,S=S+Math.imul(Z,$e)|0,d=d+Math.imul(Z,ge)|0,d=d+Math.imul(de,$e)|0,E=E+Math.imul(de,ge)|0;var gt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(gt>>>26)|0,gt&=67108863,S=Math.imul(Ne,De),d=Math.imul(Ne,He),d=d+Math.imul(J,De)|0,E=Math.imul(J,He),S=S+Math.imul(je,Ue)|0,d=d+Math.imul(je,We)|0,d=d+Math.imul(Be,Ue)|0,E=E+Math.imul(Be,We)|0,S=S+Math.imul(Me,Fe)|0,d=d+Math.imul(Me,Ve)|0,d=d+Math.imul(Re,Fe)|0,E=E+Math.imul(Re,Ve)|0,S=S+Math.imul(Se,Ge)|0,d=d+Math.imul(Se,ze)|0,d=d+Math.imul(Pe,Ge)|0,E=E+Math.imul(Pe,ze)|0,S=S+Math.imul(ve,oe)|0,d=d+Math.imul(ve,X)|0,d=d+Math.imul(Ce,oe)|0,E=E+Math.imul(Ce,X)|0,S=S+Math.imul(ye,z)|0,d=d+Math.imul(ye,se)|0,d=d+Math.imul(we,z)|0,E=E+Math.imul(we,se)|0,S=S+Math.imul(re,$e)|0,d=d+Math.imul(re,ge)|0,d=d+Math.imul(ae,$e)|0,E=E+Math.imul(ae,ge)|0;var at=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(Ne,Ue),d=Math.imul(Ne,We),d=d+Math.imul(J,Ue)|0,E=Math.imul(J,We),S=S+Math.imul(je,Fe)|0,d=d+Math.imul(je,Ve)|0,d=d+Math.imul(Be,Fe)|0,E=E+Math.imul(Be,Ve)|0,S=S+Math.imul(Me,Ge)|0,d=d+Math.imul(Me,ze)|0,d=d+Math.imul(Re,Ge)|0,E=E+Math.imul(Re,ze)|0,S=S+Math.imul(Se,oe)|0,d=d+Math.imul(Se,X)|0,d=d+Math.imul(Pe,oe)|0,E=E+Math.imul(Pe,X)|0,S=S+Math.imul(ve,z)|0,d=d+Math.imul(ve,se)|0,d=d+Math.imul(Ce,z)|0,E=E+Math.imul(Ce,se)|0,S=S+Math.imul(ye,$e)|0,d=d+Math.imul(ye,ge)|0,d=d+Math.imul(we,$e)|0,E=E+Math.imul(we,ge)|0;var $t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(Ne,Fe),d=Math.imul(Ne,Ve),d=d+Math.imul(J,Fe)|0,E=Math.imul(J,Ve),S=S+Math.imul(je,Ge)|0,d=d+Math.imul(je,ze)|0,d=d+Math.imul(Be,Ge)|0,E=E+Math.imul(Be,ze)|0,S=S+Math.imul(Me,oe)|0,d=d+Math.imul(Me,X)|0,d=d+Math.imul(Re,oe)|0,E=E+Math.imul(Re,X)|0,S=S+Math.imul(Se,z)|0,d=d+Math.imul(Se,se)|0,d=d+Math.imul(Pe,z)|0,E=E+Math.imul(Pe,se)|0,S=S+Math.imul(ve,$e)|0,d=d+Math.imul(ve,ge)|0,d=d+Math.imul(Ce,$e)|0,E=E+Math.imul(Ce,ge)|0;var ot=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,S=Math.imul(Ne,Ge),d=Math.imul(Ne,ze),d=d+Math.imul(J,Ge)|0,E=Math.imul(J,ze),S=S+Math.imul(je,oe)|0,d=d+Math.imul(je,X)|0,d=d+Math.imul(Be,oe)|0,E=E+Math.imul(Be,X)|0,S=S+Math.imul(Me,z)|0,d=d+Math.imul(Me,se)|0,d=d+Math.imul(Re,z)|0,E=E+Math.imul(Re,se)|0,S=S+Math.imul(Se,$e)|0,d=d+Math.imul(Se,ge)|0,d=d+Math.imul(Pe,$e)|0,E=E+Math.imul(Pe,ge)|0;var it=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(Ne,oe),d=Math.imul(Ne,X),d=d+Math.imul(J,oe)|0,E=Math.imul(J,X),S=S+Math.imul(je,z)|0,d=d+Math.imul(je,se)|0,d=d+Math.imul(Be,z)|0,E=E+Math.imul(Be,se)|0,S=S+Math.imul(Me,$e)|0,d=d+Math.imul(Me,ge)|0,d=d+Math.imul(Re,$e)|0,E=E+Math.imul(Re,ge)|0;var st=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(Ne,z),d=Math.imul(Ne,se),d=d+Math.imul(J,z)|0,E=Math.imul(J,se),S=S+Math.imul(je,$e)|0,d=d+Math.imul(je,ge)|0,d=d+Math.imul(Be,$e)|0,E=E+Math.imul(Be,ge)|0;var tt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(Ne,$e),d=Math.imul(Ne,ge),d=d+Math.imul(J,$e)|0,E=Math.imul(J,ge);var ke=(T+S|0)+((d&8191)<<13)|0;return T=(E+(d>>>13)|0)+(ke>>>26)|0,ke&=67108863,I[0]=Le,I[1]=Je,I[2]=Ye,I[3]=ht,I[4]=Ze,I[5]=dt,I[6]=Xe,I[7]=mt,I[8]=lt,I[9]=yt,I[10]=_t,I[11]=gt,I[12]=at,I[13]=$t,I[14]=ot,I[15]=it,I[16]=st,I[17]=tt,I[18]=ke,T!==0&&(I[19]=T,m.length++),m};Math.imul||(x=C);function D(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var _=0,A=0,I=0;I<m.length-1;I++){var T=A;A=0;for(var S=_&67108863,d=Math.min(I,p.length-1),E=Math.max(0,I-l.length+1);E<=d;E++){var M=I-E,U=l.words[M]|0,F=p.words[E]|0,N=U*F,L=N&67108863;T=T+(N/67108864|0)|0,L=L+S|0,S=L&67108863,T=T+(L>>>26)|0,A+=T>>>26,T&=67108863}m.words[I]=S,_=T,T=A}return _!==0?m.words[I]=_:m.length--,m.strip()}function k(l,p,m){var _=new B;return _.mulp(l,p,m)}a.prototype.mulTo=function(l,p){var m,_=this.length+l.length;return this.length===10&&l.length===10?m=x(this,l,p):_<63?m=C(this,l,p):_<1024?m=D(this,l,p):m=k(this,l,p),m};function B(l,p){this.x=l,this.y=p}B.prototype.makeRBT=function(l){for(var p=new Array(l),m=a.prototype._countBits(l)-1,_=0;_<l;_++)p[_]=this.revBin(_,m,l);return p},B.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var _=0,A=0;A<p;A++)_|=(l&1)<<p-A-1,l>>=1;return _},B.prototype.permute=function(l,p,m,_,A,I){for(var T=0;T<I;T++)_[T]=p[l[T]],A[T]=m[l[T]]},B.prototype.transform=function(l,p,m,_,A,I){this.permute(I,l,p,m,_,A);for(var T=1;T<A;T<<=1)for(var S=T<<1,d=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),M=0;M<A;M+=S)for(var U=d,F=E,N=0;N<T;N++){var L=m[M+N],H=_[M+N],Y=m[M+N+T],Z=_[M+N+T],de=U*Y-F*Z;Z=U*Z+F*Y,Y=de,m[M+N]=L+Y,_[M+N]=H+Z,m[M+N+T]=L-Y,_[M+N+T]=H-Z,N!==S&&(de=d*U-E*F,F=d*F+E*U,U=de)}},B.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,_=m&1,A=0;for(m=m/2|0;m;m=m>>>1)A++;return 1<<A+1+_},B.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var _=0;_<m/2;_++){var A=l[_];l[_]=l[m-_-1],l[m-_-1]=A,A=p[_],p[_]=-p[m-_-1],p[m-_-1]=-A}},B.prototype.normalize13b=function(l,p){for(var m=0,_=0;_<p/2;_++){var A=Math.round(l[2*_+1]/p)*8192+Math.round(l[2*_]/p)+m;l[_]=A&67108863,A<67108864?m=0:m=A/67108864|0}return l},B.prototype.convert13b=function(l,p,m,_){for(var A=0,I=0;I<p;I++)A=A+(l[I]|0),m[2*I]=A&8191,A=A>>>13,m[2*I+1]=A&8191,A=A>>>13;for(I=2*p;I<_;++I)m[I]=0;o(A===0),o((A&-8192)===0)},B.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},B.prototype.mulp=function(l,p,m){var _=2*this.guessLen13b(l.length,p.length),A=this.makeRBT(_),I=this.stub(_),T=new Array(_),S=new Array(_),d=new Array(_),E=new Array(_),M=new Array(_),U=new Array(_),F=m.words;F.length=_,this.convert13b(l.words,l.length,T,_),this.convert13b(p.words,p.length,E,_),this.transform(T,I,S,d,_,A),this.transform(E,I,M,U,_,A);for(var N=0;N<_;N++){var L=S[N]*M[N]-d[N]*U[N];d[N]=S[N]*U[N]+d[N]*M[N],S[N]=L}return this.conjugate(S,d,_),this.transform(S,d,F,I,_,A),this.conjugate(F,I,_),this.normalize13b(F,_),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},a.prototype.mul=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},a.prototype.mulf=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),k(this,l,p)},a.prototype.imul=function(l){return this.clone().mulTo(l,this)},a.prototype.imuln=function(l){o(typeof l=="number"),o(l<67108864);for(var p=0,m=0;m<this.length;m++){var _=(this.words[m]|0)*l,A=(_&67108863)+(p&67108863);p>>=26,p+=_/67108864|0,p+=A>>>26,this.words[m]=A&67108863}return p!==0&&(this.words[m]=p,this.length++),this},a.prototype.muln=function(l){return this.clone().imuln(l)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(l){var p=P(l);if(p.length===0)return new a(1);for(var m=this,_=0;_<p.length&&p[_]===0;_++,m=m.sqr());if(++_<p.length)for(var A=m.sqr();_<p.length;_++,A=A.sqr())p[_]!==0&&(m=m.mul(A));return m},a.prototype.iushln=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=67108863>>>26-p<<26-p,A;if(p!==0){var I=0;for(A=0;A<this.length;A++){var T=this.words[A]&_,S=(this.words[A]|0)-T<<p;this.words[A]=S|I,I=T>>>26-p}I&&(this.words[A]=I,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this.strip()},a.prototype.ishln=function(l){return o(this.negative===0),this.iushln(l)},a.prototype.iushrn=function(l,p,m){o(typeof l=="number"&&l>=0);var _;p?_=(p-p%26)/26:_=0;var A=l%26,I=Math.min((l-A)/26,this.length),T=67108863^67108863>>>A<<A,S=m;if(_-=I,_=Math.max(0,_),S){for(var d=0;d<I;d++)S.words[d]=this.words[d];S.length=I}if(I!==0)if(this.length>I)for(this.length-=I,d=0;d<this.length;d++)this.words[d]=this.words[d+I];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=_);d--){var M=this.words[d]|0;this.words[d]=E<<26-A|M>>>A,E=M&T}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(l,p,m){return o(this.negative===0),this.iushrn(l,p,m)},a.prototype.shln=function(l){return this.clone().ishln(l)},a.prototype.ushln=function(l){return this.clone().iushln(l)},a.prototype.shrn=function(l){return this.clone().ishrn(l)},a.prototype.ushrn=function(l){return this.clone().iushrn(l)},a.prototype.testn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return!1;var A=this.words[m];return!!(A&_)},a.prototype.imaskn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var _=67108863^67108863>>>p<<p;this.words[this.length-1]&=_}return this.strip()},a.prototype.maskn=function(l){return this.clone().imaskn(l)},a.prototype.iaddn=function(l){return o(typeof l=="number"),o(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},a.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(l){if(o(typeof l=="number"),o(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},a.prototype.addn=function(l){return this.clone().iaddn(l)},a.prototype.subn=function(l){return this.clone().isubn(l)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(l,p,m){var _=l.length+m,A;this._expand(_);var I,T=0;for(A=0;A<l.length;A++){I=(this.words[A+m]|0)+T;var S=(l.words[A]|0)*p;I-=S&67108863,T=(I>>26)-(S/67108864|0),this.words[A+m]=I&67108863}for(;A<this.length-m;A++)I=(this.words[A+m]|0)+T,T=I>>26,this.words[A+m]=I&67108863;if(T===0)return this.strip();for(o(T===-1),T=0,A=0;A<this.length;A++)I=-(this.words[A]|0)+T,T=I>>26,this.words[A]=I&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(l,p){var m=this.length-l.length,_=this.clone(),A=l,I=A.words[A.length-1]|0,T=this._countBits(I);m=26-T,m!==0&&(A=A.ushln(m),_.iushln(m),I=A.words[A.length-1]|0);var S=_.length-A.length,d;if(p!=="mod"){d=new a(null),d.length=S+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var M=_.clone()._ishlnsubmul(A,1,S);M.negative===0&&(_=M,d&&(d.words[S]=1));for(var U=S-1;U>=0;U--){var F=(_.words[A.length+U]|0)*67108864+(_.words[A.length+U-1]|0);for(F=Math.min(F/I|0,67108863),_._ishlnsubmul(A,F,U);_.negative!==0;)F--,_.negative=0,_._ishlnsubmul(A,1,U),_.isZero()||(_.negative^=1);d&&(d.words[U]=F)}return d&&d.strip(),_.strip(),p!=="div"&&m!==0&&_.iushrn(m),{div:d||null,mod:_}},a.prototype.divmod=function(l,p,m){if(o(!l.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var _,A,I;return this.negative!==0&&l.negative===0?(I=this.neg().divmod(l,p),p!=="mod"&&(_=I.div.neg()),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.iadd(l)),{div:_,mod:A}):this.negative===0&&l.negative!==0?(I=this.divmod(l.neg(),p),p!=="mod"&&(_=I.div.neg()),{div:_,mod:I.mod}):this.negative&l.negative?(I=this.neg().divmod(l.neg(),p),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.isub(l)),{div:I.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new a(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new a(this.modn(l.words[0]))}:this._wordDiv(l,p)},a.prototype.div=function(l){return this.divmod(l,"div",!1).div},a.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},a.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},a.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,_=l.ushrn(1),A=l.andln(1),I=m.cmp(_);return I<0||A===1&&I===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modn=function(l){o(l<=67108863);for(var p=67108864%l,m=0,_=this.length-1;_>=0;_--)m=(p*m+(this.words[_]|0))%l;return m},a.prototype.idivn=function(l){o(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var _=(this.words[m]|0)+p*67108864;this.words[m]=_/l|0,p=_%l}return this.strip()},a.prototype.divn=function(l){return this.clone().idivn(l)},a.prototype.egcd=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=new a(0),T=new a(1),S=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++S;for(var d=m.clone(),E=p.clone();!p.isZero();){for(var M=0,U=1;!(p.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(p.iushrn(M);M-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(d),A.isub(E)),_.iushrn(1),A.iushrn(1);for(var F=0,N=1;!(m.words[0]&N)&&F<26;++F,N<<=1);if(F>0)for(m.iushrn(F);F-- >0;)(I.isOdd()||T.isOdd())&&(I.iadd(d),T.isub(E)),I.iushrn(1),T.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(I),A.isub(T)):(m.isub(p),I.isub(_),T.isub(A))}return{a:I,b:T,gcd:m.iushln(S)}},a.prototype._invmp=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,S=1;!(p.words[0]&S)&&T<26;++T,S<<=1);if(T>0)for(p.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);for(var d=0,E=1;!(m.words[0]&E)&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(I),A.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(A)):(m.isub(p),A.isub(_))}var M;return p.cmpn(1)===0?M=_:M=A,M.cmpn(0)<0&&M.iadd(l),M},a.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var _=0;p.isEven()&&m.isEven();_++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=p.cmp(m);if(A<0){var I=p;p=m,m=I}else if(A===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(_)},a.prototype.invm=function(l){return this.egcd(l).a.umod(l)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(l){return this.words[0]&l},a.prototype.bincn=function(l){o(typeof l=="number");var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var A=_,I=m;A!==0&&I<this.length;I++){var T=this.words[I]|0;T+=A,A=T>>>26,T&=67108863,this.words[I]=T}return A!==0&&(this.words[I]=A,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),o(l<=67108863,"Number is too big");var _=this.words[0]|0;m=_===l?0:_<l?-1:1}return this.negative!==0?-m|0:m},a.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,A=l.words[m]|0;if(_!==A){_<A?p=-1:_>A&&(p=1);break}}return p},a.prototype.gtn=function(l){return this.cmpn(l)===1},a.prototype.gt=function(l){return this.cmp(l)===1},a.prototype.gten=function(l){return this.cmpn(l)>=0},a.prototype.gte=function(l){return this.cmp(l)>=0},a.prototype.ltn=function(l){return this.cmpn(l)===-1},a.prototype.lt=function(l){return this.cmp(l)===-1},a.prototype.lten=function(l){return this.cmpn(l)<=0},a.prototype.lte=function(l){return this.cmp(l)<=0},a.prototype.eqn=function(l){return this.cmpn(l)===0},a.prototype.eq=function(l){return this.cmp(l)===0},a.red=function(l){return new ne(l)},a.prototype.toRed=function(l){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(l){return this.red=l,this},a.prototype.forceRed=function(l){return o(!this.red,"Already a number in reduction context"),this._forceRed(l)},a.prototype.redAdd=function(l){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},a.prototype.redIAdd=function(l){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},a.prototype.redSub=function(l){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},a.prototype.redISub=function(l){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},a.prototype.redShl=function(l){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},a.prototype.redMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},a.prototype.redIMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(l){return o(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var q={k256:null,p224:null,p192:null,p25519:null};function V(l,p){this.name=l,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var l=new a(null);return l.words=new Array(Math.ceil(this.n/13)),l},V.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var _=m<this.n?-1:p.ucmp(this.p);return _===0?(p.words[0]=0,p.length=1):_>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},V.prototype.split=function(l,p){l.iushrn(this.n,0,p)},V.prototype.imulK=function(l){return l.imul(this.k)};function ee(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(ee,V),ee.prototype.split=function(l,p){for(var m=4194303,_=Math.min(l.length,9),A=0;A<_;A++)p.words[A]=l.words[A];if(p.length=_,l.length<=9){l.words[0]=0,l.length=1;return}var I=l.words[9];for(p.words[p.length++]=I&m,A=10;A<l.length;A++){var T=l.words[A]|0;l.words[A-10]=(T&m)<<4|I>>>22,I=T}I>>>=22,l.words[A-10]=I,I===0&&l.length>10?l.length-=10:l.length-=9},ee.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var _=l.words[m]|0;p+=_*977,l.words[m]=p&67108863,p=_*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function te(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(te,V);function ce(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(ce,V);function Q(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(Q,V),Q.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var _=(l.words[m]|0)*19+p,A=_&67108863;_>>>=26,l.words[m]=A,p=_}return p!==0&&(l.words[l.length++]=p),l},a._prime=function(l){if(q[l])return q[l];var p;if(l==="k256")p=new ee;else if(l==="p224")p=new te;else if(l==="p192")p=new ce;else if(l==="p25519")p=new Q;else throw new Error("Unknown prime "+l);return q[l]=p,p};function ne(l){if(typeof l=="string"){var p=a._prime(l);this.m=p.p,this.prime=p}else o(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}ne.prototype._verify1=function(l){o(l.negative===0,"red works only with positives"),o(l.red,"red works only with red numbers")},ne.prototype._verify2=function(l,p){o((l.negative|p.negative)===0,"red works only with positives"),o(l.red&&l.red===p.red,"red works only with red numbers")},ne.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},ne.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},ne.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},ne.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},ne.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},ne.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},ne.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},ne.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},ne.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},ne.prototype.isqr=function(l){return this.imul(l,l.clone())},ne.prototype.sqr=function(l){return this.mul(l,l)},ne.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(o(p%2===1),p===3){var m=this.m.add(new a(1)).iushrn(2);return this.pow(l,m)}for(var _=this.m.subn(1),A=0;!_.isZero()&&_.andln(1)===0;)A++,_.iushrn(1);o(!_.isZero());var I=new a(1).toRed(this),T=I.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,S).cmp(T)!==0;)d.redIAdd(T);for(var E=this.pow(d,_),M=this.pow(l,_.addn(1).iushrn(1)),U=this.pow(l,_),F=A;U.cmp(I)!==0;){for(var N=U,L=0;N.cmp(I)!==0;L++)N=N.redSqr();o(L<F);var H=this.pow(E,new a(1).iushln(F-L-1));M=M.redMul(H),E=H.redSqr(),U=U.redMul(E),F=L}return M},ne.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},ne.prototype.pow=function(l,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,_=new Array(1<<m);_[0]=new a(1).toRed(this),_[1]=l;for(var A=2;A<_.length;A++)_[A]=this.mul(_[A-1],l);var I=_[0],T=0,S=0,d=p.bitLength()%26;for(d===0&&(d=26),A=p.length-1;A>=0;A--){for(var E=p.words[A],M=d-1;M>=0;M--){var U=E>>M&1;if(I!==_[0]&&(I=this.sqr(I)),U===0&&T===0){S=0;continue}T<<=1,T|=U,S++,!(S!==m&&(A!==0||M!==0))&&(I=this.mul(I,_[T]),S=0,T=0)}d=26}return I},ne.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},ne.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},a.mont=function(l){return new fe(l)};function fe(l){ne.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(fe,ne),fe.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},fe.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},fe.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new a(0)._forceRed(this);var m=l.mul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(e,commonjsGlobal$7)}(bn$2);var bnExports$2=bn$2.exports,api$2={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch{return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,o=n.eval,c=n.execScript;!o&&c&&(c.call(n,"null"),o=n.eval),forEach(Object_keys(e),function(h){n[h]=e[h]}),forEach(globals,function(h){e[h]&&(n[h]=e[h])});var a=Object_keys(n),u=o.call(n,this.code);return forEach(Object_keys(n),function(h){(h in e||indexOf(a,h)===-1)&&(e[h]=n[h])}),forEach(globals,function(h){h in e||defineProp(e,h,n[h])}),document.body.removeChild(t),u},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),function(o){e[o]=t[o]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return typeof e=="object"&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(e){var t=requireAsn1(),n=inherits_browserExports$3,o=e;o.define=function(a,u){return new c(a,u)};function c(a,u){this.name=a,this.body=u,this.decoders={},this.encoders={}}c.prototype._createNamed=function(a){var u;try{u=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{u=function(h){this._initNamed(h)}}return n(u,a),u.prototype._initNamed=function(h){a.call(this,h)},new u(this)},c.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(t.decoders[a])),this.decoders[a]},c.prototype.decode=function(a,u,h){return this._getDecoder(u).decode(a,h)},c.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(t.encoders[a])),this.encoders[a]},c.prototype.encode=function(a,u,h){return this._getEncoder(u).encode(a,h)}}(api$2)),api$2}var base$1={},reporter={},inherits=inherits_browserExports$3;function Reporter(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}reporter.Reporter=Reporter,Reporter.prototype.isError=function e(t){return t instanceof ReporterError},Reporter.prototype.save=function e(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},Reporter.prototype.restore=function e(t){var n=this._reporterState;n.obj=t.obj,n.path=n.path.slice(0,t.pathLen)},Reporter.prototype.enterKey=function e(t){return this._reporterState.path.push(t)},Reporter.prototype.exitKey=function e(t){var n=this._reporterState;n.path=n.path.slice(0,t-1)},Reporter.prototype.leaveKey=function e(t,n,o){var c=this._reporterState;this.exitKey(t),c.obj!==null&&(c.obj[n]=o)},Reporter.prototype.path=function e(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function e(){var t=this._reporterState,n=t.obj;return t.obj={},n},Reporter.prototype.leaveObject=function e(t){var n=this._reporterState,o=n.obj;return n.obj=t,o},Reporter.prototype.error=function e(t){var n,o=this._reporterState,c=t instanceof ReporterError;if(c?n=t:n=new ReporterError(o.path.map(function(a){return"["+JSON.stringify(a)+"]"}).join(""),t.message||t,t.stack),!o.options.partial)throw n;return c||o.errors.push(n),n},Reporter.prototype.wrapResult=function e(t){var n=this._reporterState;return n.options.partial?{result:this.isError(t)?null:t,errors:n.errors}:t};function ReporterError(e,t){this.path=e,this.rethrow(t)}inherits(ReporterError,Error),ReporterError.prototype.rethrow=function e(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(n){this.stack=n.stack}return this};var buffer$7={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer$7;hasRequiredBuffer=1;var e=inherits_browserExports$3,t=requireBase().Reporter,n=require$$0$5.Buffer;function o(a,u){if(t.call(this,u),!n.isBuffer(a)){this.error("Input not Buffer");return}this.base=a,this.offset=0,this.length=a.length}e(o,t),buffer$7.DecoderBuffer=o,o.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},o.prototype.restore=function(a){var u=new o(this.base);return u.offset=a.offset,u.length=this.offset,this.offset=a.offset,t.prototype.restore.call(this,a.reporter),u},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(a){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(a||"DecoderBuffer overrun")},o.prototype.skip=function(a,u){if(!(this.offset+a<=this.length))return this.error(u||"DecoderBuffer overrun");var h=new o(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+a,this.offset+=a,h},o.prototype.raw=function(a){return this.base.slice(a?a.offset:this.offset,this.length)};function c(a,u){if(Array.isArray(a))this.length=0,this.value=a.map(function(h){return h instanceof c||(h=new c(h,u)),this.length+=h.length,h},this);else if(typeof a=="number"){if(!(0<=a&&a<=255))return u.error("non-byte EncoderBuffer value");this.value=a,this.length=1}else if(typeof a=="string")this.value=a,this.length=n.byteLength(a);else if(n.isBuffer(a))this.value=a,this.length=a.length;else return u.error("Unsupported type: "+typeof a)}return buffer$7.EncoderBuffer=c,c.prototype.join=function(a,u){return a||(a=new n(this.length)),u||(u=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(a,u),u+=h.length}):(typeof this.value=="number"?a[u]=this.value:typeof this.value=="string"?a.write(this.value,u):n.isBuffer(this.value)&&this.value.copy(a,u),u+=this.length)),a},buffer$7}var node$5,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$5;hasRequiredNode=1;var e=requireBase().Reporter,t=requireBase().EncoderBuffer,n=requireBase().DecoderBuffer,o=minimalisticAssert,c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],a=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function h(b,y){var w={};this._baseState=w,w.enc=b,w.parent=y||null,w.children=null,w.tag=null,w.args=null,w.reverseArgs=null,w.choice=null,w.optional=!1,w.any=!1,w.obj=!1,w.use=null,w.useDecoder=null,w.key=null,w.default=null,w.explicit=null,w.implicit=null,w.contains=null,w.parent||(w.children=[],this._wrap())}node$5=h;var v=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return h.prototype.clone=function(){var b=this._baseState,y={};v.forEach(function(O){y[O]=b[O]});var w=new this.constructor(y.parent);return w._baseState=y,w},h.prototype._wrap=function(){var b=this._baseState;a.forEach(function(y){this[y]=function(){var w=new this.constructor(this);return b.children.push(w),w[y].apply(w,arguments)}},this)},h.prototype._init=function(b){var y=this._baseState;o(y.parent===null),b.call(this),y.children=y.children.filter(function(w){return w._baseState.parent===this},this),o.equal(y.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(b){var y=this._baseState,w=b.filter(function(O){return O instanceof this.constructor},this);b=b.filter(function(O){return!(O instanceof this.constructor)},this),w.length!==0&&(o(y.children===null),y.children=w,w.forEach(function(O){O._baseState.parent=this},this)),b.length!==0&&(o(y.args===null),y.args=b,y.reverseArgs=b.map(function(O){if(typeof O!="object"||O.constructor!==Object)return O;var P={};return Object.keys(O).forEach(function(C){C==(C|0)&&(C|=0);var x=O[C];P[x]=C}),P}))},u.forEach(function(b){h.prototype[b]=function(){var y=this._baseState;throw new Error(b+" not implemented for encoding: "+y.enc)}}),c.forEach(function(b){h.prototype[b]=function(){var y=this._baseState,w=Array.prototype.slice.call(arguments);return o(y.tag===null),y.tag=b,this._useArgs(w),this}}),h.prototype.use=function(b){o(b);var y=this._baseState;return o(y.use===null),y.use=b,this},h.prototype.optional=function(){var b=this._baseState;return b.optional=!0,this},h.prototype.def=function(b){var y=this._baseState;return o(y.default===null),y.default=b,y.optional=!0,this},h.prototype.explicit=function(b){var y=this._baseState;return o(y.explicit===null&&y.implicit===null),y.explicit=b,this},h.prototype.implicit=function(b){var y=this._baseState;return o(y.explicit===null&&y.implicit===null),y.implicit=b,this},h.prototype.obj=function(){var b=this._baseState,y=Array.prototype.slice.call(arguments);return b.obj=!0,y.length!==0&&this._useArgs(y),this},h.prototype.key=function(b){var y=this._baseState;return o(y.key===null),y.key=b,this},h.prototype.any=function(){var b=this._baseState;return b.any=!0,this},h.prototype.choice=function(b){var y=this._baseState;return o(y.choice===null),y.choice=b,this._useArgs(Object.keys(b).map(function(w){return b[w]})),this},h.prototype.contains=function(b){var y=this._baseState;return o(y.use===null),y.contains=b,this},h.prototype._decode=function(b,y){var w=this._baseState;if(w.parent===null)return b.wrapResult(w.children[0]._decode(b,y));var O=w.default,P=!0,C=null;if(w.key!==null&&(C=b.enterKey(w.key)),w.optional){var x=null;if(w.explicit!==null?x=w.explicit:w.implicit!==null?x=w.implicit:w.tag!==null&&(x=w.tag),x===null&&!w.any){var D=b.save();try{w.choice===null?this._decodeGeneric(w.tag,b,y):this._decodeChoice(b,y),P=!0}catch{P=!1}b.restore(D)}else if(P=this._peekTag(b,x,w.any),b.isError(P))return P}var k;if(w.obj&&P&&(k=b.enterObject()),P){if(w.explicit!==null){var B=this._decodeTag(b,w.explicit);if(b.isError(B))return B;b=B}var q=b.offset;if(w.use===null&&w.choice===null){if(w.any)var D=b.save();var V=this._decodeTag(b,w.implicit!==null?w.implicit:w.tag,w.any);if(b.isError(V))return V;w.any?O=b.raw(D):b=V}if(y&&y.track&&w.tag!==null&&y.track(b.path(),q,b.length,"tagged"),y&&y.track&&w.tag!==null&&y.track(b.path(),b.offset,b.length,"content"),w.any?O=O:w.choice===null?O=this._decodeGeneric(w.tag,b,y):O=this._decodeChoice(b,y),b.isError(O))return O;if(!w.any&&w.choice===null&&w.children!==null&&w.children.forEach(function(te){te._decode(b,y)}),w.contains&&(w.tag==="octstr"||w.tag==="bitstr")){var ee=new n(O);O=this._getUse(w.contains,b._reporterState.obj)._decode(ee,y)}}return w.obj&&P&&(O=b.leaveObject(k)),w.key!==null&&(O!==null||P===!0)?b.leaveKey(C,w.key,O):C!==null&&b.exitKey(C),O},h.prototype._decodeGeneric=function(b,y,w){var O=this._baseState;return b==="seq"||b==="set"?null:b==="seqof"||b==="setof"?this._decodeList(y,b,O.args[0],w):/str$/.test(b)?this._decodeStr(y,b,w):b==="objid"&&O.args?this._decodeObjid(y,O.args[0],O.args[1],w):b==="objid"?this._decodeObjid(y,null,null,w):b==="gentime"||b==="utctime"?this._decodeTime(y,b,w):b==="null_"?this._decodeNull(y,w):b==="bool"?this._decodeBool(y,w):b==="objDesc"?this._decodeStr(y,b,w):b==="int"||b==="enum"?this._decodeInt(y,O.args&&O.args[0],w):O.use!==null?this._getUse(O.use,y._reporterState.obj)._decode(y,w):y.error("unknown tag: "+b)},h.prototype._getUse=function(b,y){var w=this._baseState;return w.useDecoder=this._use(b,y),o(w.useDecoder._baseState.parent===null),w.useDecoder=w.useDecoder._baseState.children[0],w.implicit!==w.useDecoder._baseState.implicit&&(w.useDecoder=w.useDecoder.clone(),w.useDecoder._baseState.implicit=w.implicit),w.useDecoder},h.prototype._decodeChoice=function(b,y){var w=this._baseState,O=null,P=!1;return Object.keys(w.choice).some(function(C){var x=b.save(),D=w.choice[C];try{var k=D._decode(b,y);if(b.isError(k))return!1;O={type:C,value:k},P=!0}catch{return b.restore(x),!1}return!0},this),P?O:b.error("Choice not matched")},h.prototype._createEncoderBuffer=function(b){return new t(b,this.reporter)},h.prototype._encode=function(b,y,w){var O=this._baseState;if(!(O.default!==null&&O.default===b)){var P=this._encodeValue(b,y,w);if(P!==void 0&&!this._skipDefault(P,y,w))return P}},h.prototype._encodeValue=function(b,y,w){var O=this._baseState;if(O.parent===null)return O.children[0]._encode(b,y||new e);var D=null;if(this.reporter=y,O.optional&&b===void 0)if(O.default!==null)b=O.default;else return;var P=null,C=!1;if(O.any)D=this._createEncoderBuffer(b);else if(O.choice)D=this._encodeChoice(b,y);else if(O.contains)P=this._getUse(O.contains,w)._encode(b,y),C=!0;else if(O.children)P=O.children.map(function(q){if(q._baseState.tag==="null_")return q._encode(null,y,b);if(q._baseState.key===null)return y.error("Child should have a key");var V=y.enterKey(q._baseState.key);if(typeof b!="object")return y.error("Child expected, but input is not object");var ee=q._encode(b[q._baseState.key],y,b);return y.leaveKey(V),ee},this).filter(function(q){return q}),P=this._createEncoderBuffer(P);else if(O.tag==="seqof"||O.tag==="setof"){if(!(O.args&&O.args.length===1))return y.error("Too many args for : "+O.tag);if(!Array.isArray(b))return y.error("seqof/setof, but data is not Array");var x=this.clone();x._baseState.implicit=null,P=this._createEncoderBuffer(b.map(function(q){var V=this._baseState;return this._getUse(V.args[0],b)._encode(q,y)},x))}else O.use!==null?D=this._getUse(O.use,w)._encode(b,y):(P=this._encodePrimitive(O.tag,b),C=!0);var D;if(!O.any&&O.choice===null){var k=O.implicit!==null?O.implicit:O.tag,B=O.implicit===null?"universal":"context";k===null?O.use===null&&y.error("Tag could be omitted only for .use()"):O.use===null&&(D=this._encodeComposite(k,C,B,P))}return O.explicit!==null&&(D=this._encodeComposite(O.explicit,!1,"context",D)),D},h.prototype._encodeChoice=function(b,y){var w=this._baseState,O=w.choice[b.type];return O||o(!1,b.type+" not found in "+JSON.stringify(Object.keys(w.choice))),O._encode(b.value,y)},h.prototype._encodePrimitive=function(b,y){var w=this._baseState;if(/str$/.test(b))return this._encodeStr(y,b);if(b==="objid"&&w.args)return this._encodeObjid(y,w.reverseArgs[0],w.args[1]);if(b==="objid")return this._encodeObjid(y,null,null);if(b==="gentime"||b==="utctime")return this._encodeTime(y,b);if(b==="null_")return this._encodeNull();if(b==="int"||b==="enum")return this._encodeInt(y,w.args&&w.reverseArgs[0]);if(b==="bool")return this._encodeBool(y);if(b==="objDesc")return this._encodeStr(y,b);throw new Error("Unsupported tag: "+b)},h.prototype._isNumstr=function(b){return/^[0-9 ]*$/.test(b)},h.prototype._isPrintstr=function(b){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(b)},node$5}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(e){var t=e;t.Reporter=reporter.Reporter,t.DecoderBuffer=requireBuffer().DecoderBuffer,t.EncoderBuffer=requireBuffer().EncoderBuffer,t.Node=requireNode()}(base$1)),base$1}var constants$b={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(e){var t=requireConstants();e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t._reverse(e.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(e){var t=e;t._reverse=function(n){var o={};return Object.keys(n).forEach(function(c){(c|0)==c&&(c=c|0);var a=n[c];o[a]=c}),o},t.der=requireDer$2()}(constants$b)),constants$b}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var e=inherits_browserExports$3,t=requireAsn1(),n=t.base,o=t.bignum,c=t.constants.der;function a(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new u,this.tree._init(b.body)}der_1$1=a,a.prototype.decode=function(b,y){return b instanceof n.DecoderBuffer||(b=new n.DecoderBuffer(b,y)),this.tree._decode(b,y)};function u(b){n.Node.call(this,"der",b)}e(u,n.Node),u.prototype._peekTag=function(b,y,w){if(b.isEmpty())return!1;var O=b.save(),P=h(b,'Failed to peek tag: "'+y+'"');return b.isError(P)?P:(b.restore(O),P.tag===y||P.tagStr===y||P.tagStr+"of"===y||w)},u.prototype._decodeTag=function(b,y,w){var O=h(b,'Failed to decode tag of "'+y+'"');if(b.isError(O))return O;var P=v(b,O.primitive,'Failed to get length of "'+y+'"');if(b.isError(P))return P;if(!w&&O.tag!==y&&O.tagStr!==y&&O.tagStr+"of"!==y)return b.error('Failed to match tag: "'+y+'"');if(O.primitive||P!==null)return b.skip(P,'Failed to match body of: "'+y+'"');var C=b.save(),x=this._skipUntilEnd(b,'Failed to skip indefinite length body: "'+this.tag+'"');return b.isError(x)?x:(P=b.offset-C.offset,b.restore(C),b.skip(P,'Failed to match body of: "'+y+'"'))},u.prototype._skipUntilEnd=function(b,y){for(;;){var w=h(b,y);if(b.isError(w))return w;var O=v(b,w.primitive,y);if(b.isError(O))return O;var P;if(w.primitive||O!==null?P=b.skip(O):P=this._skipUntilEnd(b,y),b.isError(P))return P;if(w.tagStr==="end")break}},u.prototype._decodeList=function(b,y,w,O){for(var P=[];!b.isEmpty();){var C=this._peekTag(b,"end");if(b.isError(C))return C;var x=w.decode(b,"der",O);if(b.isError(x)&&C)break;P.push(x)}return P},u.prototype._decodeStr=function(b,y){if(y==="bitstr"){var w=b.readUInt8();return b.isError(w)?w:{unused:w,data:b.raw()}}else if(y==="bmpstr"){var O=b.raw();if(O.length%2===1)return b.error("Decoding of string type: bmpstr length mismatch");for(var P="",C=0;C<O.length/2;C++)P+=String.fromCharCode(O.readUInt16BE(C*2));return P}else if(y==="numstr"){var x=b.raw().toString("ascii");return this._isNumstr(x)?x:b.error("Decoding of string type: numstr unsupported characters")}else{if(y==="octstr"||y==="objDesc")return b.raw();if(y==="printstr"){var D=b.raw().toString("ascii");return this._isPrintstr(D)?D:b.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(y)?b.raw().toString():b.error("Decoding of string type: "+y+" unsupported")}},u.prototype._decodeObjid=function(b,y,w){for(var O,P=[],C=0;!b.isEmpty();){var x=b.readUInt8();C<<=7,C|=x&127,x&128||(P.push(C),C=0)}x&128&&P.push(C);var D=P[0]/40|0,k=P[0]%40;if(w?O=P:O=[D,k].concat(P.slice(1)),y){var B=y[O.join(" ")];B===void 0&&(B=y[O.join(".")]),B!==void 0&&(O=B)}return O},u.prototype._decodeTime=function(b,y){var w=b.raw().toString();if(y==="gentime")var O=w.slice(0,4)|0,P=w.slice(4,6)|0,C=w.slice(6,8)|0,x=w.slice(8,10)|0,D=w.slice(10,12)|0,k=w.slice(12,14)|0;else if(y==="utctime"){var O=w.slice(0,2)|0,P=w.slice(2,4)|0,C=w.slice(4,6)|0,x=w.slice(6,8)|0,D=w.slice(8,10)|0,k=w.slice(10,12)|0;O<70?O=2e3+O:O=1900+O}else return b.error("Decoding "+y+" time is not supported yet");return Date.UTC(O,P-1,C,x,D,k,0)},u.prototype._decodeNull=function(b){return null},u.prototype._decodeBool=function(b){var y=b.readUInt8();return b.isError(y)?y:y!==0},u.prototype._decodeInt=function(b,y){var w=b.raw(),O=new o(w);return y&&(O=y[O.toString(10)]||O),O},u.prototype._use=function(b,y){return typeof b=="function"&&(b=b(y)),b._getDecoder("der").tree};function h(b,y){var w=b.readUInt8(y);if(b.isError(w))return w;var O=c.tagClass[w>>6],P=(w&32)===0;if((w&31)===31){var C=w;for(w=0;(C&128)===128;){if(C=b.readUInt8(y),b.isError(C))return C;w<<=7,w|=C&127}}else w&=31;var x=c.tag[w];return{cls:O,primitive:P,tag:w,tagStr:x}}function v(b,y,w){var O=b.readUInt8(w);if(b.isError(O))return O;if(!y&&O===128)return null;if(!(O&128))return O;var P=O&127;if(P>4)return b.error("length octect is too long");O=0;for(var C=0;C<P;C++){O<<=8;var x=b.readUInt8(w);if(b.isError(x))return x;O|=x}return O}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var e=inherits_browserExports$3,t=require$$0$5.Buffer,n=requireDer$1();function o(c){n.call(this,c),this.enc="pem"}return e(o,n),pem$1=o,o.prototype.decode=function(c,a){for(var u=c.toString().split(/[\r\n]+/g),h=a.label.toUpperCase(),v=/^-----(BEGIN|END) ([^-]+)-----$/,b=-1,y=-1,w=0;w<u.length;w++){var O=u[w].match(v);if(O!==null&&O[2]===h)if(b===-1){if(O[1]!=="BEGIN")break;b=w}else{if(O[1]!=="END")break;y=w;break}}if(b===-1||y===-1)throw new Error("PEM section not found for: "+h);var P=u.slice(b+1,y).join("");P.replace(/[^a-z0-9\+\/=]+/gi,"");var C=new t(P,"base64");return n.prototype.decode.call(this,C,a)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(e){var t=e;t.der=requireDer$1(),t.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var e=inherits_browserExports$3,t=require$$0$5.Buffer,n=requireAsn1(),o=n.base,c=n.constants.der;function a(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new u,this.tree._init(b.body)}der_1=a,a.prototype.encode=function(b,y){return this.tree._encode(b,y).join()};function u(b){o.Node.call(this,"der",b)}e(u,o.Node),u.prototype._encodeComposite=function(b,y,w,O){var P=v(b,y,w,this.reporter);if(O.length<128){var D=new t(2);return D[0]=P,D[1]=O.length,this._createEncoderBuffer([D,O])}for(var C=1,x=O.length;x>=256;x>>=8)C++;var D=new t(2+C);D[0]=P,D[1]=128|C;for(var x=1+C,k=O.length;k>0;x--,k>>=8)D[x]=k&255;return this._createEncoderBuffer([D,O])},u.prototype._encodeStr=function(b,y){if(y==="bitstr")return this._createEncoderBuffer([b.unused|0,b.data]);if(y==="bmpstr"){for(var w=new t(b.length*2),O=0;O<b.length;O++)w.writeUInt16BE(b.charCodeAt(O),O*2);return this._createEncoderBuffer(w)}else return y==="numstr"?this._isNumstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: numstr supports only digits and space"):y==="printstr"?this._isPrintstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(y)?this._createEncoderBuffer(b):y==="objDesc"?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: "+y+" unsupported")},u.prototype._encodeObjid=function(b,y,w){if(typeof b=="string"){if(!y)return this.reporter.error("string objid given, but no values map found");if(!y.hasOwnProperty(b))return this.reporter.error("objid not found in values map");b=y[b].split(/[\s\.]+/g);for(var O=0;O<b.length;O++)b[O]|=0}else if(Array.isArray(b)){b=b.slice();for(var O=0;O<b.length;O++)b[O]|=0}if(!Array.isArray(b))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(b));if(!w){if(b[1]>=40)return this.reporter.error("Second objid identifier OOB");b.splice(0,2,b[0]*40+b[1])}for(var P=0,O=0;O<b.length;O++){var C=b[O];for(P++;C>=128;C>>=7)P++}for(var x=new t(P),D=x.length-1,O=b.length-1;O>=0;O--){var C=b[O];for(x[D--]=C&127;(C>>=7)>0;)x[D--]=128|C&127}return this._createEncoderBuffer(x)};function h(b){return b<10?"0"+b:b}u.prototype._encodeTime=function(b,y){var w,O=new Date(b);return y==="gentime"?w=[h(O.getFullYear()),h(O.getUTCMonth()+1),h(O.getUTCDate()),h(O.getUTCHours()),h(O.getUTCMinutes()),h(O.getUTCSeconds()),"Z"].join(""):y==="utctime"?w=[h(O.getFullYear()%100),h(O.getUTCMonth()+1),h(O.getUTCDate()),h(O.getUTCHours()),h(O.getUTCMinutes()),h(O.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+y+" time is not supported yet"),this._encodeStr(w,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(b,y){if(typeof b=="string"){if(!y)return this.reporter.error("String int or enum given, but no values map");if(!y.hasOwnProperty(b))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(b));b=y[b]}if(typeof b!="number"&&!t.isBuffer(b)){var w=b.toArray();!b.sign&&w[0]&128&&w.unshift(0),b=new t(w)}if(t.isBuffer(b)){var O=b.length;b.length===0&&O++;var P=new t(O);return b.copy(P),b.length===0&&(P[0]=0),this._createEncoderBuffer(P)}if(b<128)return this._createEncoderBuffer(b);if(b<256)return this._createEncoderBuffer([0,b]);for(var O=1,C=b;C>=256;C>>=8)O++;for(var P=new Array(O),C=P.length-1;C>=0;C--)P[C]=b&255,b>>=8;return P[0]&128&&P.unshift(0),this._createEncoderBuffer(new t(P))},u.prototype._encodeBool=function(b){return this._createEncoderBuffer(b?255:0)},u.prototype._use=function(b,y){return typeof b=="function"&&(b=b(y)),b._getEncoder("der").tree},u.prototype._skipDefault=function(b,y,w){var O=this._baseState,P;if(O.default===null)return!1;var C=b.join();if(O.defaultBuffer===void 0&&(O.defaultBuffer=this._encodeValue(O.default,y,w).join()),C.length!==O.defaultBuffer.length)return!1;for(P=0;P<C.length;P++)if(C[P]!==O.defaultBuffer[P])return!1;return!0};function v(b,y,w,O){var P;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),c.tagByName.hasOwnProperty(b))P=c.tagByName[b];else if(typeof b=="number"&&(b|0)===b)P=b;else return O.error("Unknown tag: "+b);return P>=31?O.error("Multi-octet tag encoding unsupported"):(y||(P|=32),P|=c.tagClassByName[w||"universal"]<<6,P)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var e=inherits_browserExports$3,t=requireDer();function n(o){t.call(this,o),this.enc="pem"}return e(n,t),pem=n,n.prototype.encode=function(o,c){for(var a=t.prototype.encode.call(this,o),u=a.toString("base64"),h=["-----BEGIN "+c.label+"-----"],v=0;v<u.length;v+=64)h.push(u.slice(v,v+64));return h.push("-----END "+c.label+"-----"),h.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(e){var t=e;t.der=requireDer(),t.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1;function requireAsn1(){return hasRequiredAsn1||(hasRequiredAsn1=1,function(e){var t=e;t.bignum=bnExports$2,t.define=requireApi().define,t.base=requireBase(),t.constants=requireConstants(),t.decoders=requireDecoders(),t.encoders=requireEncoders()}(asn1$2)),asn1$2}var asn=requireAsn1(),Time=asn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=asn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier$1=asn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier$1),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=asn.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=asn.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name=asn.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=asn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}),Extension=asn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=asn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier$1),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=asn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier$1),this.key("signatureValue").bitstr())}),certificate=X509Certificate,asn1$1=requireAsn1();asn1$3.certificate=certificate;var RSAPrivateKey=asn1$1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$3.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1$1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$3.RSAPublicKey=RSAPublicKey;var AlgorithmIdentifier=asn1$1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PublicKey$4=asn1$1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});asn1$3.PublicKey=PublicKey$4;var PrivateKeyInfo=asn1$1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});asn1$3.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1$1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$3.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1$1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$3.DSAPrivateKey=DSAPrivateKey,asn1$3.DSAparam=asn1$1.define("DSAparam",function(){this.int()});var ECParameters=asn1$1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),ECPrivateKey=asn1$1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});asn1$3.ECPrivateKey=ECPrivateKey,asn1$3.signature=asn1$1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const require$$1$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var findProc=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,startRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,fullRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,evp=evp_bytestokey,ciphers$1=browser$g,Buffer$9=safeBufferExports$1.Buffer,fixProc$1=function(e,t){var n=e.toString(),o=n.match(findProc),c;if(o){var a="aes"+o[1],u=Buffer$9.from(o[2],"hex"),h=Buffer$9.from(o[3].replace(/[\r\n]/g,""),"base64"),v=evp(t,u.slice(0,8),parseInt(o[1],10)).key,b=[],y=ciphers$1.createDecipheriv(a,v,u);b.push(y.update(h)),b.push(y.final()),c=Buffer$9.concat(b)}else{var w=n.match(fullRegex);c=Buffer$9.from(w[2].replace(/[\r\n]/g,""),"base64")}var O=n.match(startRegex)[1];return{tag:O,data:c}},asn1=asn1$3,aesid=require$$1$1,fixProc=fixProc$1,ciphers=browser$g,compat=browser$i,Buffer$8=safeBufferExports$1.Buffer;function decrypt(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,o=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=aesid[e.algorithm.decrypt.cipher.algo.join(".")],a=e.algorithm.decrypt.cipher.iv,u=e.subjectPrivateKey,h=parseInt(c.split("-")[1],10)/8,v=compat.pbkdf2Sync(t,n,o,h,"sha1"),b=ciphers.createDecipheriv(c,v,a),y=[];return y.push(b.update(u)),y.push(b.final()),Buffer$8.concat(y)}function parseKeys$2(e){var t;typeof e=="object"&&!Buffer$8.isBuffer(e)&&(t=e.passphrase,e=e.key),typeof e=="string"&&(e=Buffer$8.from(e));var n=fixProc(e,t),o=n.tag,c=n.data,a,u;switch(o){case"CERTIFICATE":u=asn1.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=asn1.PublicKey.decode(c,"der")),a=u.algorithm.algorithm.join("."),a){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=asn1.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+a)}case"ENCRYPTED PRIVATE KEY":c=asn1.EncryptedPrivateKey.decode(c,"der"),c=decrypt(c,t);case"PRIVATE KEY":switch(u=asn1.PrivateKey.decode(c,"der"),a=u.algorithm.algorithm.join("."),a){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=asn1.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+a)}case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=asn1.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+o)}}parseKeys$2.signature=asn1.signature;var parseAsn1=parseKeys$2;const require$$4$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$4.exports;hasRequiredSign=1;var e=safeBufferExports$1.Buffer,t=browser$j,n=browserifyRsa,o=requireElliptic().ec,c=bnExports$6,a=parseAsn1,u=require$$4$4,h=1;function v(k,B,q,V,ee){var te=a(B);if(te.curve){if(V!=="ecdsa"&&V!=="ecdsa/rsa")throw new Error("wrong private key type");return b(k,te)}else if(te.type==="dsa"){if(V!=="dsa")throw new Error("wrong private key type");return y(k,te,q)}if(V!=="rsa"&&V!=="ecdsa/rsa")throw new Error("wrong private key type");if(B.padding!==void 0&&B.padding!==h)throw new Error("illegal or unsupported padding mode");k=e.concat([ee,k]);for(var ce=te.modulus.byteLength(),Q=[0,1];k.length+Q.length+1<ce;)Q.push(255);Q.push(0);for(var ne=-1;++ne<k.length;)Q.push(k[ne]);var fe=n(Q,te);return fe}function b(k,B){var q=u[B.curve.join(".")];if(!q)throw new Error("unknown curve "+B.curve.join("."));var V=new o(q),ee=V.keyFromPrivate(B.privateKey),te=ee.sign(k);return e.from(te.toDER())}function y(k,B,q){for(var V=B.params.priv_key,ee=B.params.p,te=B.params.q,ce=B.params.g,Q=new c(0),ne,fe=P(k,te).mod(te),l=!1,p=O(V,te,k,q);l===!1;)ne=x(te,p,q),Q=D(ce,ne,ee,te),l=ne.invm(te).imul(fe.add(V.mul(Q))).mod(te),l.cmpn(0)===0&&(l=!1,Q=new c(0));return w(Q,l)}function w(k,B){k=k.toArray(),B=B.toArray(),k[0]&128&&(k=[0].concat(k)),B[0]&128&&(B=[0].concat(B));var q=k.length+B.length+4,V=[48,q,2,k.length];return V=V.concat(k,[2,B.length],B),e.from(V)}function O(k,B,q,V){if(k=e.from(k.toArray()),k.length<B.byteLength()){var ee=e.alloc(B.byteLength()-k.length);k=e.concat([ee,k])}var te=q.length,ce=C(q,B),Q=e.alloc(te);Q.fill(1);var ne=e.alloc(te);return ne=t(V,ne).update(Q).update(e.from([0])).update(k).update(ce).digest(),Q=t(V,ne).update(Q).digest(),ne=t(V,ne).update(Q).update(e.from([1])).update(k).update(ce).digest(),Q=t(V,ne).update(Q).digest(),{k:ne,v:Q}}function P(k,B){var q=new c(k),V=(k.length<<3)-B.bitLength();return V>0&&q.ishrn(V),q}function C(k,B){k=P(k,B),k=k.mod(B);var q=e.from(k.toArray());if(q.length<B.byteLength()){var V=e.alloc(B.byteLength()-q.length);q=e.concat([V,q])}return q}function x(k,B,q){var V,ee;do{for(V=e.alloc(0);V.length*8<k.bitLength();)B.v=t(q,B.k).update(B.v).digest(),V=e.concat([V,B.v]);ee=P(V,k),B.k=t(q,B.k).update(B.v).update(e.from([0])).digest(),B.v=t(q,B.k).update(B.v).digest()}while(ee.cmp(k)!==-1);return ee}function D(k,B,q,V){return k.toRed(c.mont(q)).redPow(B).fromRed().mod(V)}return sign$4.exports=v,sign$4.exports.getKey=O,sign$4.exports.makeKey=x,sign$4.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var e=safeBufferExports$1.Buffer,t=bnExports$6,n=requireElliptic().ec,o=parseAsn1,c=require$$4$4;function a(b,y,w,O,P){var C=o(w);if(C.type==="ec"){if(O!=="ecdsa"&&O!=="ecdsa/rsa")throw new Error("wrong public key type");return u(b,y,C)}else if(C.type==="dsa"){if(O!=="dsa")throw new Error("wrong public key type");return h(b,y,C)}if(O!=="rsa"&&O!=="ecdsa/rsa")throw new Error("wrong public key type");y=e.concat([P,y]);for(var x=C.modulus.byteLength(),D=[1],k=0;y.length+D.length+2<x;)D.push(255),k+=1;D.push(0);for(var B=-1;++B<y.length;)D.push(y[B]);D=e.from(D);var q=t.mont(C.modulus);b=new t(b).toRed(q),b=b.redPow(new t(C.publicExponent)),b=e.from(b.fromRed().toArray());var V=k<8?1:0;for(x=Math.min(b.length,D.length),b.length!==D.length&&(V=1),B=-1;++B<x;)V|=b[B]^D[B];return V===0}function u(b,y,w){var O=c[w.data.algorithm.curve.join(".")];if(!O)throw new Error("unknown curve "+w.data.algorithm.curve.join("."));var P=new n(O),C=w.data.subjectPrivateKey.data;return P.verify(y,b,C)}function h(b,y,w){var O=w.data.p,P=w.data.q,C=w.data.g,x=w.data.pub_key,D=o.signature.decode(b,"der"),k=D.s,B=D.r;v(k,P),v(B,P);var q=t.mont(O),V=k.invm(P),ee=C.toRed(q).redPow(new t(y).mul(V).mod(P)).fromRed().mul(x.toRed(q).redPow(B.mul(V).mod(P)).fromRed()).mod(O).mod(P);return ee.cmp(B)===0}function v(b,y){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(y)>=0)throw new Error("invalid sig")}return verify_1=a,verify_1}var browser$e,hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$e;hasRequiredBrowser$6=1;var e=safeBufferExports$1.Buffer,t=browser$k,n=readableBrowserExports,o=inherits_browserExports$3,c=requireSign(),a=requireVerify(),u=require$$6;Object.keys(u).forEach(function(w){u[w].id=e.from(u[w].id,"hex"),u[w.toLowerCase()]=u[w]});function h(w){n.Writable.call(this);var O=u[w];if(!O)throw new Error("Unknown message digest");this._hashType=O.hash,this._hash=t(O.hash),this._tag=O.id,this._signType=O.sign}o(h,n.Writable),h.prototype._write=function(w,O,P){this._hash.update(w),P()},h.prototype.update=function(w,O){return this._hash.update(typeof w=="string"?e.from(w,O):w),this},h.prototype.sign=function(w,O){this.end();var P=this._hash.digest(),C=c(P,w,this._hashType,this._signType,this._tag);return O?C.toString(O):C};function v(w){n.Writable.call(this);var O=u[w];if(!O)throw new Error("Unknown message digest");this._hash=t(O.hash),this._tag=O.id,this._signType=O.sign}o(v,n.Writable),v.prototype._write=function(w,O,P){this._hash.update(w),P()},v.prototype.update=function(w,O){return this._hash.update(typeof w=="string"?e.from(w,O):w),this},v.prototype.verify=function(w,O,P){var C=typeof O=="string"?e.from(O,P):O;this.end();var x=this._hash.digest();return a(C,x,w,this._signType,this._tag)};function b(w){return new h(w)}function y(w){return new v(w)}return browser$e={Sign:b,Verify:y,createSign:b,createVerify:y},browser$e}var bn$1={exports:{}};bn$1.exports,function(e){(function(t,n){function o(l,p){if(!l)throw new Error(p||"Assertion failed")}function c(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function a(l,p,m){if(a.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof t=="object"?t.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$5.Buffer}catch{}a.isBN=function(l){return l instanceof a?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===a.wordSize&&Array.isArray(l.words)},a.max=function(l,p){return l.cmp(p)>0?l:p},a.min=function(l,p){return l.cmp(p)<0?l:p},a.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),o(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var _=0;l[0]==="-"&&(_++,this.negative=1),_<l.length&&(p===16?this._parseHex(l,_,m):(this._parseBase(l,p,_),m==="le"&&this._initArray(this.toArray(),p,m)))},a.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(o(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},a.prototype._initArray=function(l,p,m){if(o(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A,I,T=0;if(m==="be")for(_=l.length-1,A=0;_>=0;_-=3)I=l[_]|l[_-1]<<8|l[_-2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);else if(m==="le")for(_=0,A=0;_<l.length;_+=3)I=l[_]|l[_+1]<<8|l[_+2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);return this.strip()};function h(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function v(l,p,m){var _=h(l,m);return m-1>=p&&(_|=h(l,m-1)<<4),_}a.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A=0,I=0,T;if(m==="be")for(_=l.length-1;_>=p;_-=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8;else{var S=l.length-p;for(_=S%2===0?p+1:p;_<l.length;_+=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8}this.strip()};function b(l,p,m,_){for(var A=0,I=Math.min(l.length,m),T=p;T<I;T++){var S=l.charCodeAt(T)-48;A*=_,S>=49?A+=S-49+10:S>=17?A+=S-17+10:A+=S}return A}a.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var _=0,A=1;A<=67108863;A*=p)_++;_--,A=A/p|0;for(var I=l.length-m,T=I%_,S=Math.min(I,I-T)+m,d=0,E=m;E<S;E+=_)d=b(l,E,E+_,p),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var M=1;for(d=b(l,E,l.length,p),E=0;E<T;E++)M*=p;this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},a.prototype.clone=function(){var l=new a(null);return this.copy(l),l},a.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var _=0,A=0,I=0;I<this.length;I++){var T=this.words[I],S=((T<<_|A)&16777215).toString(16);A=T>>>24-_&16777215,A!==0||I!==this.length-1?m=y[6-S.length]+S+m:m=S+m,_+=2,_>=26&&(_-=26,I--)}for(A!==0&&(m=A.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var d=w[l],E=O[l];m="";var M=this.clone();for(M.negative=0;!M.isZero();){var U=M.modn(E).toString(l);M=M.idivn(E),M.isZero()?m=U+m:m=y[d-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(l,p){return o(typeof u<"u"),this.toArrayLike(u,l,p)},a.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},a.prototype.toArrayLike=function(l,p,m){var _=this.byteLength(),A=m||Math.max(1,_);o(_<=A,"byte array longer than desired length"),o(A>0,"Requested array length <= 0"),this.strip();var I=p==="le",T=new l(A),S,d,E=this.clone();if(I){for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[d]=S;for(;d<A;d++)T[d]=0}else{for(d=0;d<A-_;d++)T[d]=0;for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[A-d-1]=S}return T},Math.clz32?a.prototype._countBits=function(l){return 32-Math.clz32(l)}:a.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},a.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return p&8191||(m+=13,p>>>=13),p&127||(m+=7,p>>>=7),p&15||(m+=4,p>>>=4),p&3||(m+=2,p>>>=2),p&1||m++,m},a.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function P(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var _=m/26|0,A=m%26;p[m]=(l.words[_]&1<<A)>>>A}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},a.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},a.prototype.ior=function(l){return o((this.negative|l.negative)===0),this.iuor(l)},a.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},a.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},a.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},a.prototype.iand=function(l){return o((this.negative|l.negative)===0),this.iuand(l)},a.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},a.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},a.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var _=0;_<m.length;_++)this.words[_]=p.words[_]^m.words[_];if(this!==p)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=p.length,this.strip()},a.prototype.ixor=function(l){return o((this.negative|l.negative)===0),this.iuxor(l)},a.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},a.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},a.prototype.inotn=function(l){o(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var _=0;_<p;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this.strip()},a.prototype.notn=function(l){return this.clone().inotn(l)},a.prototype.setn=function(l,p){o(typeof l=="number"&&l>=0);var m=l/26|0,_=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this.strip()},a.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,_;this.length>l.length?(m=this,_=l):(m=l,_=this);for(var A=0,I=0;I<_.length;I++)p=(m.words[I]|0)+(_.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;for(;A!==0&&I<m.length;I++)p=(m.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;I<m.length;I++)this.words[I]=m.words[I];return this},a.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},a.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,A;m>0?(_=this,A=l):(_=l,A=this);for(var I=0,T=0;T<A.length;T++)p=(_.words[T]|0)-(A.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;for(;I!==0&&T<_.length;T++)p=(_.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;if(I===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(l){return this.clone().isub(l)};function C(l,p,m){m.negative=p.negative^l.negative;var _=l.length+p.length|0;m.length=_,_=_-1|0;var A=l.words[0]|0,I=p.words[0]|0,T=A*I,S=T&67108863,d=T/67108864|0;m.words[0]=S;for(var E=1;E<_;E++){for(var M=d>>>26,U=d&67108863,F=Math.min(E,p.length-1),N=Math.max(0,E-l.length+1);N<=F;N++){var L=E-N|0;A=l.words[L]|0,I=p.words[N]|0,T=A*I+U,M+=T/67108864|0,U=T&67108863}m.words[E]=U|0,d=M|0}return d!==0?m.words[E]=d|0:m.length--,m.strip()}var x=function(l,p,m){var _=l.words,A=p.words,I=m.words,T=0,S,d,E,M=_[0]|0,U=M&8191,F=M>>>13,N=_[1]|0,L=N&8191,H=N>>>13,Y=_[2]|0,Z=Y&8191,de=Y>>>13,he=_[3]|0,re=he&8191,ae=he>>>13,be=_[4]|0,ye=be&8191,we=be>>>13,Te=_[5]|0,ve=Te&8191,Ce=Te>>>13,Oe=_[6]|0,Se=Oe&8191,Pe=Oe>>>13,nt=_[7]|0,Me=nt&8191,Re=nt>>>13,pt=_[8]|0,je=pt&8191,Be=pt>>>13,vt=_[9]|0,Ne=vt&8191,J=vt>>>13,le=A[0]|0,ue=le&8191,pe=le>>>13,Ie=A[1]|0,_e=Ie&8191,Ae=Ie>>>13,bt=A[2]|0,xe=bt&8191,Ke=bt>>>13,wt=A[3]|0,De=wt&8191,He=wt>>>13,Pt=A[4]|0,Ue=Pt&8191,We=Pt>>>13,St=A[5]|0,Fe=St&8191,Ve=St>>>13,Ot=A[6]|0,Ge=Ot&8191,ze=Ot>>>13,Tt=A[7]|0,oe=Tt&8191,X=Tt>>>13,ie=A[8]|0,z=ie&8191,se=ie>>>13,me=A[9]|0,$e=me&8191,ge=me>>>13;m.negative=l.negative^p.negative,m.length=19,S=Math.imul(U,ue),d=Math.imul(U,pe),d=d+Math.imul(F,ue)|0,E=Math.imul(F,pe);var Le=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Le>>>26)|0,Le&=67108863,S=Math.imul(L,ue),d=Math.imul(L,pe),d=d+Math.imul(H,ue)|0,E=Math.imul(H,pe),S=S+Math.imul(U,_e)|0,d=d+Math.imul(U,Ae)|0,d=d+Math.imul(F,_e)|0,E=E+Math.imul(F,Ae)|0;var Je=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Je>>>26)|0,Je&=67108863,S=Math.imul(Z,ue),d=Math.imul(Z,pe),d=d+Math.imul(de,ue)|0,E=Math.imul(de,pe),S=S+Math.imul(L,_e)|0,d=d+Math.imul(L,Ae)|0,d=d+Math.imul(H,_e)|0,E=E+Math.imul(H,Ae)|0,S=S+Math.imul(U,xe)|0,d=d+Math.imul(U,Ke)|0,d=d+Math.imul(F,xe)|0,E=E+Math.imul(F,Ke)|0;var Ye=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(re,ue),d=Math.imul(re,pe),d=d+Math.imul(ae,ue)|0,E=Math.imul(ae,pe),S=S+Math.imul(Z,_e)|0,d=d+Math.imul(Z,Ae)|0,d=d+Math.imul(de,_e)|0,E=E+Math.imul(de,Ae)|0,S=S+Math.imul(L,xe)|0,d=d+Math.imul(L,Ke)|0,d=d+Math.imul(H,xe)|0,E=E+Math.imul(H,Ke)|0,S=S+Math.imul(U,De)|0,d=d+Math.imul(U,He)|0,d=d+Math.imul(F,De)|0,E=E+Math.imul(F,He)|0;var ht=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(ye,ue),d=Math.imul(ye,pe),d=d+Math.imul(we,ue)|0,E=Math.imul(we,pe),S=S+Math.imul(re,_e)|0,d=d+Math.imul(re,Ae)|0,d=d+Math.imul(ae,_e)|0,E=E+Math.imul(ae,Ae)|0,S=S+Math.imul(Z,xe)|0,d=d+Math.imul(Z,Ke)|0,d=d+Math.imul(de,xe)|0,E=E+Math.imul(de,Ke)|0,S=S+Math.imul(L,De)|0,d=d+Math.imul(L,He)|0,d=d+Math.imul(H,De)|0,E=E+Math.imul(H,He)|0,S=S+Math.imul(U,Ue)|0,d=d+Math.imul(U,We)|0,d=d+Math.imul(F,Ue)|0,E=E+Math.imul(F,We)|0;var Ze=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(ve,ue),d=Math.imul(ve,pe),d=d+Math.imul(Ce,ue)|0,E=Math.imul(Ce,pe),S=S+Math.imul(ye,_e)|0,d=d+Math.imul(ye,Ae)|0,d=d+Math.imul(we,_e)|0,E=E+Math.imul(we,Ae)|0,S=S+Math.imul(re,xe)|0,d=d+Math.imul(re,Ke)|0,d=d+Math.imul(ae,xe)|0,E=E+Math.imul(ae,Ke)|0,S=S+Math.imul(Z,De)|0,d=d+Math.imul(Z,He)|0,d=d+Math.imul(de,De)|0,E=E+Math.imul(de,He)|0,S=S+Math.imul(L,Ue)|0,d=d+Math.imul(L,We)|0,d=d+Math.imul(H,Ue)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(U,Fe)|0,d=d+Math.imul(U,Ve)|0,d=d+Math.imul(F,Fe)|0,E=E+Math.imul(F,Ve)|0;var dt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Se,ue),d=Math.imul(Se,pe),d=d+Math.imul(Pe,ue)|0,E=Math.imul(Pe,pe),S=S+Math.imul(ve,_e)|0,d=d+Math.imul(ve,Ae)|0,d=d+Math.imul(Ce,_e)|0,E=E+Math.imul(Ce,Ae)|0,S=S+Math.imul(ye,xe)|0,d=d+Math.imul(ye,Ke)|0,d=d+Math.imul(we,xe)|0,E=E+Math.imul(we,Ke)|0,S=S+Math.imul(re,De)|0,d=d+Math.imul(re,He)|0,d=d+Math.imul(ae,De)|0,E=E+Math.imul(ae,He)|0,S=S+Math.imul(Z,Ue)|0,d=d+Math.imul(Z,We)|0,d=d+Math.imul(de,Ue)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(L,Fe)|0,d=d+Math.imul(L,Ve)|0,d=d+Math.imul(H,Fe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(U,Ge)|0,d=d+Math.imul(U,ze)|0,d=d+Math.imul(F,Ge)|0,E=E+Math.imul(F,ze)|0;var Xe=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(Me,ue),d=Math.imul(Me,pe),d=d+Math.imul(Re,ue)|0,E=Math.imul(Re,pe),S=S+Math.imul(Se,_e)|0,d=d+Math.imul(Se,Ae)|0,d=d+Math.imul(Pe,_e)|0,E=E+Math.imul(Pe,Ae)|0,S=S+Math.imul(ve,xe)|0,d=d+Math.imul(ve,Ke)|0,d=d+Math.imul(Ce,xe)|0,E=E+Math.imul(Ce,Ke)|0,S=S+Math.imul(ye,De)|0,d=d+Math.imul(ye,He)|0,d=d+Math.imul(we,De)|0,E=E+Math.imul(we,He)|0,S=S+Math.imul(re,Ue)|0,d=d+Math.imul(re,We)|0,d=d+Math.imul(ae,Ue)|0,E=E+Math.imul(ae,We)|0,S=S+Math.imul(Z,Fe)|0,d=d+Math.imul(Z,Ve)|0,d=d+Math.imul(de,Fe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(L,Ge)|0,d=d+Math.imul(L,ze)|0,d=d+Math.imul(H,Ge)|0,E=E+Math.imul(H,ze)|0,S=S+Math.imul(U,oe)|0,d=d+Math.imul(U,X)|0,d=d+Math.imul(F,oe)|0,E=E+Math.imul(F,X)|0;var mt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(je,ue),d=Math.imul(je,pe),d=d+Math.imul(Be,ue)|0,E=Math.imul(Be,pe),S=S+Math.imul(Me,_e)|0,d=d+Math.imul(Me,Ae)|0,d=d+Math.imul(Re,_e)|0,E=E+Math.imul(Re,Ae)|0,S=S+Math.imul(Se,xe)|0,d=d+Math.imul(Se,Ke)|0,d=d+Math.imul(Pe,xe)|0,E=E+Math.imul(Pe,Ke)|0,S=S+Math.imul(ve,De)|0,d=d+Math.imul(ve,He)|0,d=d+Math.imul(Ce,De)|0,E=E+Math.imul(Ce,He)|0,S=S+Math.imul(ye,Ue)|0,d=d+Math.imul(ye,We)|0,d=d+Math.imul(we,Ue)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(re,Fe)|0,d=d+Math.imul(re,Ve)|0,d=d+Math.imul(ae,Fe)|0,E=E+Math.imul(ae,Ve)|0,S=S+Math.imul(Z,Ge)|0,d=d+Math.imul(Z,ze)|0,d=d+Math.imul(de,Ge)|0,E=E+Math.imul(de,ze)|0,S=S+Math.imul(L,oe)|0,d=d+Math.imul(L,X)|0,d=d+Math.imul(H,oe)|0,E=E+Math.imul(H,X)|0,S=S+Math.imul(U,z)|0,d=d+Math.imul(U,se)|0,d=d+Math.imul(F,z)|0,E=E+Math.imul(F,se)|0;var lt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Ne,ue),d=Math.imul(Ne,pe),d=d+Math.imul(J,ue)|0,E=Math.imul(J,pe),S=S+Math.imul(je,_e)|0,d=d+Math.imul(je,Ae)|0,d=d+Math.imul(Be,_e)|0,E=E+Math.imul(Be,Ae)|0,S=S+Math.imul(Me,xe)|0,d=d+Math.imul(Me,Ke)|0,d=d+Math.imul(Re,xe)|0,E=E+Math.imul(Re,Ke)|0,S=S+Math.imul(Se,De)|0,d=d+Math.imul(Se,He)|0,d=d+Math.imul(Pe,De)|0,E=E+Math.imul(Pe,He)|0,S=S+Math.imul(ve,Ue)|0,d=d+Math.imul(ve,We)|0,d=d+Math.imul(Ce,Ue)|0,E=E+Math.imul(Ce,We)|0,S=S+Math.imul(ye,Fe)|0,d=d+Math.imul(ye,Ve)|0,d=d+Math.imul(we,Fe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(re,Ge)|0,d=d+Math.imul(re,ze)|0,d=d+Math.imul(ae,Ge)|0,E=E+Math.imul(ae,ze)|0,S=S+Math.imul(Z,oe)|0,d=d+Math.imul(Z,X)|0,d=d+Math.imul(de,oe)|0,E=E+Math.imul(de,X)|0,S=S+Math.imul(L,z)|0,d=d+Math.imul(L,se)|0,d=d+Math.imul(H,z)|0,E=E+Math.imul(H,se)|0,S=S+Math.imul(U,$e)|0,d=d+Math.imul(U,ge)|0,d=d+Math.imul(F,$e)|0,E=E+Math.imul(F,ge)|0;var yt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Ne,_e),d=Math.imul(Ne,Ae),d=d+Math.imul(J,_e)|0,E=Math.imul(J,Ae),S=S+Math.imul(je,xe)|0,d=d+Math.imul(je,Ke)|0,d=d+Math.imul(Be,xe)|0,E=E+Math.imul(Be,Ke)|0,S=S+Math.imul(Me,De)|0,d=d+Math.imul(Me,He)|0,d=d+Math.imul(Re,De)|0,E=E+Math.imul(Re,He)|0,S=S+Math.imul(Se,Ue)|0,d=d+Math.imul(Se,We)|0,d=d+Math.imul(Pe,Ue)|0,E=E+Math.imul(Pe,We)|0,S=S+Math.imul(ve,Fe)|0,d=d+Math.imul(ve,Ve)|0,d=d+Math.imul(Ce,Fe)|0,E=E+Math.imul(Ce,Ve)|0,S=S+Math.imul(ye,Ge)|0,d=d+Math.imul(ye,ze)|0,d=d+Math.imul(we,Ge)|0,E=E+Math.imul(we,ze)|0,S=S+Math.imul(re,oe)|0,d=d+Math.imul(re,X)|0,d=d+Math.imul(ae,oe)|0,E=E+Math.imul(ae,X)|0,S=S+Math.imul(Z,z)|0,d=d+Math.imul(Z,se)|0,d=d+Math.imul(de,z)|0,E=E+Math.imul(de,se)|0,S=S+Math.imul(L,$e)|0,d=d+Math.imul(L,ge)|0,d=d+Math.imul(H,$e)|0,E=E+Math.imul(H,ge)|0;var _t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(Ne,xe),d=Math.imul(Ne,Ke),d=d+Math.imul(J,xe)|0,E=Math.imul(J,Ke),S=S+Math.imul(je,De)|0,d=d+Math.imul(je,He)|0,d=d+Math.imul(Be,De)|0,E=E+Math.imul(Be,He)|0,S=S+Math.imul(Me,Ue)|0,d=d+Math.imul(Me,We)|0,d=d+Math.imul(Re,Ue)|0,E=E+Math.imul(Re,We)|0,S=S+Math.imul(Se,Fe)|0,d=d+Math.imul(Se,Ve)|0,d=d+Math.imul(Pe,Fe)|0,E=E+Math.imul(Pe,Ve)|0,S=S+Math.imul(ve,Ge)|0,d=d+Math.imul(ve,ze)|0,d=d+Math.imul(Ce,Ge)|0,E=E+Math.imul(Ce,ze)|0,S=S+Math.imul(ye,oe)|0,d=d+Math.imul(ye,X)|0,d=d+Math.imul(we,oe)|0,E=E+Math.imul(we,X)|0,S=S+Math.imul(re,z)|0,d=d+Math.imul(re,se)|0,d=d+Math.imul(ae,z)|0,E=E+Math.imul(ae,se)|0,S=S+Math.imul(Z,$e)|0,d=d+Math.imul(Z,ge)|0,d=d+Math.imul(de,$e)|0,E=E+Math.imul(de,ge)|0;var gt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(gt>>>26)|0,gt&=67108863,S=Math.imul(Ne,De),d=Math.imul(Ne,He),d=d+Math.imul(J,De)|0,E=Math.imul(J,He),S=S+Math.imul(je,Ue)|0,d=d+Math.imul(je,We)|0,d=d+Math.imul(Be,Ue)|0,E=E+Math.imul(Be,We)|0,S=S+Math.imul(Me,Fe)|0,d=d+Math.imul(Me,Ve)|0,d=d+Math.imul(Re,Fe)|0,E=E+Math.imul(Re,Ve)|0,S=S+Math.imul(Se,Ge)|0,d=d+Math.imul(Se,ze)|0,d=d+Math.imul(Pe,Ge)|0,E=E+Math.imul(Pe,ze)|0,S=S+Math.imul(ve,oe)|0,d=d+Math.imul(ve,X)|0,d=d+Math.imul(Ce,oe)|0,E=E+Math.imul(Ce,X)|0,S=S+Math.imul(ye,z)|0,d=d+Math.imul(ye,se)|0,d=d+Math.imul(we,z)|0,E=E+Math.imul(we,se)|0,S=S+Math.imul(re,$e)|0,d=d+Math.imul(re,ge)|0,d=d+Math.imul(ae,$e)|0,E=E+Math.imul(ae,ge)|0;var at=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(Ne,Ue),d=Math.imul(Ne,We),d=d+Math.imul(J,Ue)|0,E=Math.imul(J,We),S=S+Math.imul(je,Fe)|0,d=d+Math.imul(je,Ve)|0,d=d+Math.imul(Be,Fe)|0,E=E+Math.imul(Be,Ve)|0,S=S+Math.imul(Me,Ge)|0,d=d+Math.imul(Me,ze)|0,d=d+Math.imul(Re,Ge)|0,E=E+Math.imul(Re,ze)|0,S=S+Math.imul(Se,oe)|0,d=d+Math.imul(Se,X)|0,d=d+Math.imul(Pe,oe)|0,E=E+Math.imul(Pe,X)|0,S=S+Math.imul(ve,z)|0,d=d+Math.imul(ve,se)|0,d=d+Math.imul(Ce,z)|0,E=E+Math.imul(Ce,se)|0,S=S+Math.imul(ye,$e)|0,d=d+Math.imul(ye,ge)|0,d=d+Math.imul(we,$e)|0,E=E+Math.imul(we,ge)|0;var $t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(Ne,Fe),d=Math.imul(Ne,Ve),d=d+Math.imul(J,Fe)|0,E=Math.imul(J,Ve),S=S+Math.imul(je,Ge)|0,d=d+Math.imul(je,ze)|0,d=d+Math.imul(Be,Ge)|0,E=E+Math.imul(Be,ze)|0,S=S+Math.imul(Me,oe)|0,d=d+Math.imul(Me,X)|0,d=d+Math.imul(Re,oe)|0,E=E+Math.imul(Re,X)|0,S=S+Math.imul(Se,z)|0,d=d+Math.imul(Se,se)|0,d=d+Math.imul(Pe,z)|0,E=E+Math.imul(Pe,se)|0,S=S+Math.imul(ve,$e)|0,d=d+Math.imul(ve,ge)|0,d=d+Math.imul(Ce,$e)|0,E=E+Math.imul(Ce,ge)|0;var ot=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,S=Math.imul(Ne,Ge),d=Math.imul(Ne,ze),d=d+Math.imul(J,Ge)|0,E=Math.imul(J,ze),S=S+Math.imul(je,oe)|0,d=d+Math.imul(je,X)|0,d=d+Math.imul(Be,oe)|0,E=E+Math.imul(Be,X)|0,S=S+Math.imul(Me,z)|0,d=d+Math.imul(Me,se)|0,d=d+Math.imul(Re,z)|0,E=E+Math.imul(Re,se)|0,S=S+Math.imul(Se,$e)|0,d=d+Math.imul(Se,ge)|0,d=d+Math.imul(Pe,$e)|0,E=E+Math.imul(Pe,ge)|0;var it=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(Ne,oe),d=Math.imul(Ne,X),d=d+Math.imul(J,oe)|0,E=Math.imul(J,X),S=S+Math.imul(je,z)|0,d=d+Math.imul(je,se)|0,d=d+Math.imul(Be,z)|0,E=E+Math.imul(Be,se)|0,S=S+Math.imul(Me,$e)|0,d=d+Math.imul(Me,ge)|0,d=d+Math.imul(Re,$e)|0,E=E+Math.imul(Re,ge)|0;var st=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(Ne,z),d=Math.imul(Ne,se),d=d+Math.imul(J,z)|0,E=Math.imul(J,se),S=S+Math.imul(je,$e)|0,d=d+Math.imul(je,ge)|0,d=d+Math.imul(Be,$e)|0,E=E+Math.imul(Be,ge)|0;var tt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(Ne,$e),d=Math.imul(Ne,ge),d=d+Math.imul(J,$e)|0,E=Math.imul(J,ge);var ke=(T+S|0)+((d&8191)<<13)|0;return T=(E+(d>>>13)|0)+(ke>>>26)|0,ke&=67108863,I[0]=Le,I[1]=Je,I[2]=Ye,I[3]=ht,I[4]=Ze,I[5]=dt,I[6]=Xe,I[7]=mt,I[8]=lt,I[9]=yt,I[10]=_t,I[11]=gt,I[12]=at,I[13]=$t,I[14]=ot,I[15]=it,I[16]=st,I[17]=tt,I[18]=ke,T!==0&&(I[19]=T,m.length++),m};Math.imul||(x=C);function D(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var _=0,A=0,I=0;I<m.length-1;I++){var T=A;A=0;for(var S=_&67108863,d=Math.min(I,p.length-1),E=Math.max(0,I-l.length+1);E<=d;E++){var M=I-E,U=l.words[M]|0,F=p.words[E]|0,N=U*F,L=N&67108863;T=T+(N/67108864|0)|0,L=L+S|0,S=L&67108863,T=T+(L>>>26)|0,A+=T>>>26,T&=67108863}m.words[I]=S,_=T,T=A}return _!==0?m.words[I]=_:m.length--,m.strip()}function k(l,p,m){var _=new B;return _.mulp(l,p,m)}a.prototype.mulTo=function(l,p){var m,_=this.length+l.length;return this.length===10&&l.length===10?m=x(this,l,p):_<63?m=C(this,l,p):_<1024?m=D(this,l,p):m=k(this,l,p),m};function B(l,p){this.x=l,this.y=p}B.prototype.makeRBT=function(l){for(var p=new Array(l),m=a.prototype._countBits(l)-1,_=0;_<l;_++)p[_]=this.revBin(_,m,l);return p},B.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var _=0,A=0;A<p;A++)_|=(l&1)<<p-A-1,l>>=1;return _},B.prototype.permute=function(l,p,m,_,A,I){for(var T=0;T<I;T++)_[T]=p[l[T]],A[T]=m[l[T]]},B.prototype.transform=function(l,p,m,_,A,I){this.permute(I,l,p,m,_,A);for(var T=1;T<A;T<<=1)for(var S=T<<1,d=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),M=0;M<A;M+=S)for(var U=d,F=E,N=0;N<T;N++){var L=m[M+N],H=_[M+N],Y=m[M+N+T],Z=_[M+N+T],de=U*Y-F*Z;Z=U*Z+F*Y,Y=de,m[M+N]=L+Y,_[M+N]=H+Z,m[M+N+T]=L-Y,_[M+N+T]=H-Z,N!==S&&(de=d*U-E*F,F=d*F+E*U,U=de)}},B.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,_=m&1,A=0;for(m=m/2|0;m;m=m>>>1)A++;return 1<<A+1+_},B.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var _=0;_<m/2;_++){var A=l[_];l[_]=l[m-_-1],l[m-_-1]=A,A=p[_],p[_]=-p[m-_-1],p[m-_-1]=-A}},B.prototype.normalize13b=function(l,p){for(var m=0,_=0;_<p/2;_++){var A=Math.round(l[2*_+1]/p)*8192+Math.round(l[2*_]/p)+m;l[_]=A&67108863,A<67108864?m=0:m=A/67108864|0}return l},B.prototype.convert13b=function(l,p,m,_){for(var A=0,I=0;I<p;I++)A=A+(l[I]|0),m[2*I]=A&8191,A=A>>>13,m[2*I+1]=A&8191,A=A>>>13;for(I=2*p;I<_;++I)m[I]=0;o(A===0),o((A&-8192)===0)},B.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},B.prototype.mulp=function(l,p,m){var _=2*this.guessLen13b(l.length,p.length),A=this.makeRBT(_),I=this.stub(_),T=new Array(_),S=new Array(_),d=new Array(_),E=new Array(_),M=new Array(_),U=new Array(_),F=m.words;F.length=_,this.convert13b(l.words,l.length,T,_),this.convert13b(p.words,p.length,E,_),this.transform(T,I,S,d,_,A),this.transform(E,I,M,U,_,A);for(var N=0;N<_;N++){var L=S[N]*M[N]-d[N]*U[N];d[N]=S[N]*U[N]+d[N]*M[N],S[N]=L}return this.conjugate(S,d,_),this.transform(S,d,F,I,_,A),this.conjugate(F,I,_),this.normalize13b(F,_),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},a.prototype.mul=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},a.prototype.mulf=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),k(this,l,p)},a.prototype.imul=function(l){return this.clone().mulTo(l,this)},a.prototype.imuln=function(l){o(typeof l=="number"),o(l<67108864);for(var p=0,m=0;m<this.length;m++){var _=(this.words[m]|0)*l,A=(_&67108863)+(p&67108863);p>>=26,p+=_/67108864|0,p+=A>>>26,this.words[m]=A&67108863}return p!==0&&(this.words[m]=p,this.length++),this},a.prototype.muln=function(l){return this.clone().imuln(l)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(l){var p=P(l);if(p.length===0)return new a(1);for(var m=this,_=0;_<p.length&&p[_]===0;_++,m=m.sqr());if(++_<p.length)for(var A=m.sqr();_<p.length;_++,A=A.sqr())p[_]!==0&&(m=m.mul(A));return m},a.prototype.iushln=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=67108863>>>26-p<<26-p,A;if(p!==0){var I=0;for(A=0;A<this.length;A++){var T=this.words[A]&_,S=(this.words[A]|0)-T<<p;this.words[A]=S|I,I=T>>>26-p}I&&(this.words[A]=I,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this.strip()},a.prototype.ishln=function(l){return o(this.negative===0),this.iushln(l)},a.prototype.iushrn=function(l,p,m){o(typeof l=="number"&&l>=0);var _;p?_=(p-p%26)/26:_=0;var A=l%26,I=Math.min((l-A)/26,this.length),T=67108863^67108863>>>A<<A,S=m;if(_-=I,_=Math.max(0,_),S){for(var d=0;d<I;d++)S.words[d]=this.words[d];S.length=I}if(I!==0)if(this.length>I)for(this.length-=I,d=0;d<this.length;d++)this.words[d]=this.words[d+I];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=_);d--){var M=this.words[d]|0;this.words[d]=E<<26-A|M>>>A,E=M&T}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(l,p,m){return o(this.negative===0),this.iushrn(l,p,m)},a.prototype.shln=function(l){return this.clone().ishln(l)},a.prototype.ushln=function(l){return this.clone().iushln(l)},a.prototype.shrn=function(l){return this.clone().ishrn(l)},a.prototype.ushrn=function(l){return this.clone().iushrn(l)},a.prototype.testn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return!1;var A=this.words[m];return!!(A&_)},a.prototype.imaskn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var _=67108863^67108863>>>p<<p;this.words[this.length-1]&=_}return this.strip()},a.prototype.maskn=function(l){return this.clone().imaskn(l)},a.prototype.iaddn=function(l){return o(typeof l=="number"),o(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},a.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(l){if(o(typeof l=="number"),o(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},a.prototype.addn=function(l){return this.clone().iaddn(l)},a.prototype.subn=function(l){return this.clone().isubn(l)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(l,p,m){var _=l.length+m,A;this._expand(_);var I,T=0;for(A=0;A<l.length;A++){I=(this.words[A+m]|0)+T;var S=(l.words[A]|0)*p;I-=S&67108863,T=(I>>26)-(S/67108864|0),this.words[A+m]=I&67108863}for(;A<this.length-m;A++)I=(this.words[A+m]|0)+T,T=I>>26,this.words[A+m]=I&67108863;if(T===0)return this.strip();for(o(T===-1),T=0,A=0;A<this.length;A++)I=-(this.words[A]|0)+T,T=I>>26,this.words[A]=I&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(l,p){var m=this.length-l.length,_=this.clone(),A=l,I=A.words[A.length-1]|0,T=this._countBits(I);m=26-T,m!==0&&(A=A.ushln(m),_.iushln(m),I=A.words[A.length-1]|0);var S=_.length-A.length,d;if(p!=="mod"){d=new a(null),d.length=S+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var M=_.clone()._ishlnsubmul(A,1,S);M.negative===0&&(_=M,d&&(d.words[S]=1));for(var U=S-1;U>=0;U--){var F=(_.words[A.length+U]|0)*67108864+(_.words[A.length+U-1]|0);for(F=Math.min(F/I|0,67108863),_._ishlnsubmul(A,F,U);_.negative!==0;)F--,_.negative=0,_._ishlnsubmul(A,1,U),_.isZero()||(_.negative^=1);d&&(d.words[U]=F)}return d&&d.strip(),_.strip(),p!=="div"&&m!==0&&_.iushrn(m),{div:d||null,mod:_}},a.prototype.divmod=function(l,p,m){if(o(!l.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var _,A,I;return this.negative!==0&&l.negative===0?(I=this.neg().divmod(l,p),p!=="mod"&&(_=I.div.neg()),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.iadd(l)),{div:_,mod:A}):this.negative===0&&l.negative!==0?(I=this.divmod(l.neg(),p),p!=="mod"&&(_=I.div.neg()),{div:_,mod:I.mod}):this.negative&l.negative?(I=this.neg().divmod(l.neg(),p),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.isub(l)),{div:I.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new a(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new a(this.modn(l.words[0]))}:this._wordDiv(l,p)},a.prototype.div=function(l){return this.divmod(l,"div",!1).div},a.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},a.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},a.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,_=l.ushrn(1),A=l.andln(1),I=m.cmp(_);return I<0||A===1&&I===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modn=function(l){o(l<=67108863);for(var p=67108864%l,m=0,_=this.length-1;_>=0;_--)m=(p*m+(this.words[_]|0))%l;return m},a.prototype.idivn=function(l){o(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var _=(this.words[m]|0)+p*67108864;this.words[m]=_/l|0,p=_%l}return this.strip()},a.prototype.divn=function(l){return this.clone().idivn(l)},a.prototype.egcd=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=new a(0),T=new a(1),S=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++S;for(var d=m.clone(),E=p.clone();!p.isZero();){for(var M=0,U=1;!(p.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(p.iushrn(M);M-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(d),A.isub(E)),_.iushrn(1),A.iushrn(1);for(var F=0,N=1;!(m.words[0]&N)&&F<26;++F,N<<=1);if(F>0)for(m.iushrn(F);F-- >0;)(I.isOdd()||T.isOdd())&&(I.iadd(d),T.isub(E)),I.iushrn(1),T.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(I),A.isub(T)):(m.isub(p),I.isub(_),T.isub(A))}return{a:I,b:T,gcd:m.iushln(S)}},a.prototype._invmp=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,S=1;!(p.words[0]&S)&&T<26;++T,S<<=1);if(T>0)for(p.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);for(var d=0,E=1;!(m.words[0]&E)&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(I),A.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(A)):(m.isub(p),A.isub(_))}var M;return p.cmpn(1)===0?M=_:M=A,M.cmpn(0)<0&&M.iadd(l),M},a.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var _=0;p.isEven()&&m.isEven();_++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=p.cmp(m);if(A<0){var I=p;p=m,m=I}else if(A===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(_)},a.prototype.invm=function(l){return this.egcd(l).a.umod(l)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(l){return this.words[0]&l},a.prototype.bincn=function(l){o(typeof l=="number");var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var A=_,I=m;A!==0&&I<this.length;I++){var T=this.words[I]|0;T+=A,A=T>>>26,T&=67108863,this.words[I]=T}return A!==0&&(this.words[I]=A,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),o(l<=67108863,"Number is too big");var _=this.words[0]|0;m=_===l?0:_<l?-1:1}return this.negative!==0?-m|0:m},a.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,A=l.words[m]|0;if(_!==A){_<A?p=-1:_>A&&(p=1);break}}return p},a.prototype.gtn=function(l){return this.cmpn(l)===1},a.prototype.gt=function(l){return this.cmp(l)===1},a.prototype.gten=function(l){return this.cmpn(l)>=0},a.prototype.gte=function(l){return this.cmp(l)>=0},a.prototype.ltn=function(l){return this.cmpn(l)===-1},a.prototype.lt=function(l){return this.cmp(l)===-1},a.prototype.lten=function(l){return this.cmpn(l)<=0},a.prototype.lte=function(l){return this.cmp(l)<=0},a.prototype.eqn=function(l){return this.cmpn(l)===0},a.prototype.eq=function(l){return this.cmp(l)===0},a.red=function(l){return new ne(l)},a.prototype.toRed=function(l){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(l){return this.red=l,this},a.prototype.forceRed=function(l){return o(!this.red,"Already a number in reduction context"),this._forceRed(l)},a.prototype.redAdd=function(l){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},a.prototype.redIAdd=function(l){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},a.prototype.redSub=function(l){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},a.prototype.redISub=function(l){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},a.prototype.redShl=function(l){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},a.prototype.redMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},a.prototype.redIMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(l){return o(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var q={k256:null,p224:null,p192:null,p25519:null};function V(l,p){this.name=l,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var l=new a(null);return l.words=new Array(Math.ceil(this.n/13)),l},V.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var _=m<this.n?-1:p.ucmp(this.p);return _===0?(p.words[0]=0,p.length=1):_>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},V.prototype.split=function(l,p){l.iushrn(this.n,0,p)},V.prototype.imulK=function(l){return l.imul(this.k)};function ee(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(ee,V),ee.prototype.split=function(l,p){for(var m=4194303,_=Math.min(l.length,9),A=0;A<_;A++)p.words[A]=l.words[A];if(p.length=_,l.length<=9){l.words[0]=0,l.length=1;return}var I=l.words[9];for(p.words[p.length++]=I&m,A=10;A<l.length;A++){var T=l.words[A]|0;l.words[A-10]=(T&m)<<4|I>>>22,I=T}I>>>=22,l.words[A-10]=I,I===0&&l.length>10?l.length-=10:l.length-=9},ee.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var _=l.words[m]|0;p+=_*977,l.words[m]=p&67108863,p=_*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function te(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(te,V);function ce(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(ce,V);function Q(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(Q,V),Q.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var _=(l.words[m]|0)*19+p,A=_&67108863;_>>>=26,l.words[m]=A,p=_}return p!==0&&(l.words[l.length++]=p),l},a._prime=function(l){if(q[l])return q[l];var p;if(l==="k256")p=new ee;else if(l==="p224")p=new te;else if(l==="p192")p=new ce;else if(l==="p25519")p=new Q;else throw new Error("Unknown prime "+l);return q[l]=p,p};function ne(l){if(typeof l=="string"){var p=a._prime(l);this.m=p.p,this.prime=p}else o(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}ne.prototype._verify1=function(l){o(l.negative===0,"red works only with positives"),o(l.red,"red works only with red numbers")},ne.prototype._verify2=function(l,p){o((l.negative|p.negative)===0,"red works only with positives"),o(l.red&&l.red===p.red,"red works only with red numbers")},ne.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},ne.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},ne.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},ne.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},ne.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},ne.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},ne.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},ne.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},ne.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},ne.prototype.isqr=function(l){return this.imul(l,l.clone())},ne.prototype.sqr=function(l){return this.mul(l,l)},ne.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(o(p%2===1),p===3){var m=this.m.add(new a(1)).iushrn(2);return this.pow(l,m)}for(var _=this.m.subn(1),A=0;!_.isZero()&&_.andln(1)===0;)A++,_.iushrn(1);o(!_.isZero());var I=new a(1).toRed(this),T=I.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,S).cmp(T)!==0;)d.redIAdd(T);for(var E=this.pow(d,_),M=this.pow(l,_.addn(1).iushrn(1)),U=this.pow(l,_),F=A;U.cmp(I)!==0;){for(var N=U,L=0;N.cmp(I)!==0;L++)N=N.redSqr();o(L<F);var H=this.pow(E,new a(1).iushln(F-L-1));M=M.redMul(H),E=H.redSqr(),U=U.redMul(E),F=L}return M},ne.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},ne.prototype.pow=function(l,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,_=new Array(1<<m);_[0]=new a(1).toRed(this),_[1]=l;for(var A=2;A<_.length;A++)_[A]=this.mul(_[A-1],l);var I=_[0],T=0,S=0,d=p.bitLength()%26;for(d===0&&(d=26),A=p.length-1;A>=0;A--){for(var E=p.words[A],M=d-1;M>=0;M--){var U=E>>M&1;if(I!==_[0]&&(I=this.sqr(I)),U===0&&T===0){S=0;continue}T<<=1,T|=U,S++,!(S!==m&&(A!==0||M!==0))&&(I=this.mul(I,_[T]),S=0,T=0)}d=26}return I},ne.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},ne.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},a.mont=function(l){return new fe(l)};function fe(l){ne.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(fe,ne),fe.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},fe.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},fe.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new a(0)._forceRed(this);var m=l.mul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(e,commonjsGlobal$7)}(bn$1);var bnExports$1=bn$1.exports,browser$d,hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$d;hasRequiredBrowser$5=1;var e=requireElliptic(),t=bnExports$1;browser$d=function(a){return new o(a)};var n={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};n.p224=n.secp224r1,n.p256=n.secp256r1=n.prime256v1,n.p192=n.secp192r1=n.prime192v1,n.p384=n.secp384r1,n.p521=n.secp521r1;function o(a){this.curveType=n[a],this.curveType||(this.curveType={name:a}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}o.prototype.generateKeys=function(a,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(a,u)},o.prototype.computeSecret=function(a,u,h){u=u||"utf8",Buffer$E.isBuffer(a)||(a=new Buffer$E(a,u));var v=this.curve.keyFromPublic(a).getPublic(),b=v.mul(this.keys.getPrivate()).getX();return c(b,h,this.curveType.byteLength)},o.prototype.getPublicKey=function(a,u){var h=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),c(h,a)},o.prototype.getPrivateKey=function(a){return c(this.keys.getPrivate(),a)},o.prototype.setPublicKey=function(a,u){return u=u||"utf8",Buffer$E.isBuffer(a)||(a=new Buffer$E(a,u)),this.keys._importPublic(a),this},o.prototype.setPrivateKey=function(a,u){u=u||"utf8",Buffer$E.isBuffer(a)||(a=new Buffer$E(a,u));var h=new t(a);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this};function c(a,u,h){Array.isArray(a)||(a=a.toArray());var v=new Buffer$E(a);if(h&&v.length<h){var b=new Buffer$E(h-v.length);b.fill(0),v=Buffer$E.concat([b,v])}return u?v.toString(u):v}return browser$d}var browser$c={},createHash$2=browser$k,Buffer$7=safeBufferExports$1.Buffer,mgf$2=function(e,t){for(var n=Buffer$7.alloc(0),o=0,c;n.length<t;)c=i2ops(o++),n=Buffer$7.concat([n,createHash$2("sha1").update(e).update(c).digest()]);return n.slice(0,t)};function i2ops(e){var t=Buffer$7.allocUnsafe(4);return t.writeUInt32BE(e,0),t}var xor$2=function e(t,n){for(var o=t.length,c=-1;++c<o;)t[c]^=n[c];return t},bn={exports:{}};bn.exports,function(e){(function(t,n){function o(l,p){if(!l)throw new Error(p||"Assertion failed")}function c(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function a(l,p,m){if(a.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof t=="object"?t.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$5.Buffer}catch{}a.isBN=function(l){return l instanceof a?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===a.wordSize&&Array.isArray(l.words)},a.max=function(l,p){return l.cmp(p)>0?l:p},a.min=function(l,p){return l.cmp(p)<0?l:p},a.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),o(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var _=0;l[0]==="-"&&(_++,this.negative=1),_<l.length&&(p===16?this._parseHex(l,_,m):(this._parseBase(l,p,_),m==="le"&&this._initArray(this.toArray(),p,m)))},a.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(o(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},a.prototype._initArray=function(l,p,m){if(o(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A,I,T=0;if(m==="be")for(_=l.length-1,A=0;_>=0;_-=3)I=l[_]|l[_-1]<<8|l[_-2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);else if(m==="le")for(_=0,A=0;_<l.length;_+=3)I=l[_]|l[_+1]<<8|l[_+2]<<16,this.words[A]|=I<<T&67108863,this.words[A+1]=I>>>26-T&67108863,T+=24,T>=26&&(T-=26,A++);return this.strip()};function h(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function v(l,p,m){var _=h(l,m);return m-1>=p&&(_|=h(l,m-1)<<4),_}a.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var A=0,I=0,T;if(m==="be")for(_=l.length-1;_>=p;_-=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8;else{var S=l.length-p;for(_=S%2===0?p+1:p;_<l.length;_+=2)T=v(l,p,_)<<A,this.words[I]|=T&67108863,A>=18?(A-=18,I+=1,this.words[I]|=T>>>26):A+=8}this.strip()};function b(l,p,m,_){for(var A=0,I=Math.min(l.length,m),T=p;T<I;T++){var S=l.charCodeAt(T)-48;A*=_,S>=49?A+=S-49+10:S>=17?A+=S-17+10:A+=S}return A}a.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var _=0,A=1;A<=67108863;A*=p)_++;_--,A=A/p|0;for(var I=l.length-m,T=I%_,S=Math.min(I,I-T)+m,d=0,E=m;E<S;E+=_)d=b(l,E,E+_,p),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var M=1;for(d=b(l,E,l.length,p),E=0;E<T;E++)M*=p;this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},a.prototype.clone=function(){var l=new a(null);return this.copy(l),l},a.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var _=0,A=0,I=0;I<this.length;I++){var T=this.words[I],S=((T<<_|A)&16777215).toString(16);A=T>>>24-_&16777215,A!==0||I!==this.length-1?m=y[6-S.length]+S+m:m=S+m,_+=2,_>=26&&(_-=26,I--)}for(A!==0&&(m=A.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var d=w[l],E=O[l];m="";var M=this.clone();for(M.negative=0;!M.isZero();){var U=M.modn(E).toString(l);M=M.idivn(E),M.isZero()?m=U+m:m=y[d-U.length]+U+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(l,p){return o(typeof u<"u"),this.toArrayLike(u,l,p)},a.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},a.prototype.toArrayLike=function(l,p,m){var _=this.byteLength(),A=m||Math.max(1,_);o(_<=A,"byte array longer than desired length"),o(A>0,"Requested array length <= 0"),this.strip();var I=p==="le",T=new l(A),S,d,E=this.clone();if(I){for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[d]=S;for(;d<A;d++)T[d]=0}else{for(d=0;d<A-_;d++)T[d]=0;for(d=0;!E.isZero();d++)S=E.andln(255),E.iushrn(8),T[A-d-1]=S}return T},Math.clz32?a.prototype._countBits=function(l){return 32-Math.clz32(l)}:a.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},a.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return p&8191||(m+=13,p>>>=13),p&127||(m+=7,p>>>=7),p&15||(m+=4,p>>>=4),p&3||(m+=2,p>>>=2),p&1||m++,m},a.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function P(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var _=m/26|0,A=m%26;p[m]=(l.words[_]&1<<A)>>>A}return p}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},a.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},a.prototype.ior=function(l){return o((this.negative|l.negative)===0),this.iuor(l)},a.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},a.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},a.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},a.prototype.iand=function(l){return o((this.negative|l.negative)===0),this.iuand(l)},a.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},a.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},a.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var _=0;_<m.length;_++)this.words[_]=p.words[_]^m.words[_];if(this!==p)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=p.length,this.strip()},a.prototype.ixor=function(l){return o((this.negative|l.negative)===0),this.iuxor(l)},a.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},a.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},a.prototype.inotn=function(l){o(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var _=0;_<p;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this.strip()},a.prototype.notn=function(l){return this.clone().inotn(l)},a.prototype.setn=function(l,p){o(typeof l=="number"&&l>=0);var m=l/26|0,_=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this.strip()},a.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,_;this.length>l.length?(m=this,_=l):(m=l,_=this);for(var A=0,I=0;I<_.length;I++)p=(m.words[I]|0)+(_.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;for(;A!==0&&I<m.length;I++)p=(m.words[I]|0)+A,this.words[I]=p&67108863,A=p>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;I<m.length;I++)this.words[I]=m.words[I];return this},a.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},a.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,A;m>0?(_=this,A=l):(_=l,A=this);for(var I=0,T=0;T<A.length;T++)p=(_.words[T]|0)-(A.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;for(;I!==0&&T<_.length;T++)p=(_.words[T]|0)+I,I=p>>26,this.words[T]=p&67108863;if(I===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(l){return this.clone().isub(l)};function C(l,p,m){m.negative=p.negative^l.negative;var _=l.length+p.length|0;m.length=_,_=_-1|0;var A=l.words[0]|0,I=p.words[0]|0,T=A*I,S=T&67108863,d=T/67108864|0;m.words[0]=S;for(var E=1;E<_;E++){for(var M=d>>>26,U=d&67108863,F=Math.min(E,p.length-1),N=Math.max(0,E-l.length+1);N<=F;N++){var L=E-N|0;A=l.words[L]|0,I=p.words[N]|0,T=A*I+U,M+=T/67108864|0,U=T&67108863}m.words[E]=U|0,d=M|0}return d!==0?m.words[E]=d|0:m.length--,m.strip()}var x=function(l,p,m){var _=l.words,A=p.words,I=m.words,T=0,S,d,E,M=_[0]|0,U=M&8191,F=M>>>13,N=_[1]|0,L=N&8191,H=N>>>13,Y=_[2]|0,Z=Y&8191,de=Y>>>13,he=_[3]|0,re=he&8191,ae=he>>>13,be=_[4]|0,ye=be&8191,we=be>>>13,Te=_[5]|0,ve=Te&8191,Ce=Te>>>13,Oe=_[6]|0,Se=Oe&8191,Pe=Oe>>>13,nt=_[7]|0,Me=nt&8191,Re=nt>>>13,pt=_[8]|0,je=pt&8191,Be=pt>>>13,vt=_[9]|0,Ne=vt&8191,J=vt>>>13,le=A[0]|0,ue=le&8191,pe=le>>>13,Ie=A[1]|0,_e=Ie&8191,Ae=Ie>>>13,bt=A[2]|0,xe=bt&8191,Ke=bt>>>13,wt=A[3]|0,De=wt&8191,He=wt>>>13,Pt=A[4]|0,Ue=Pt&8191,We=Pt>>>13,St=A[5]|0,Fe=St&8191,Ve=St>>>13,Ot=A[6]|0,Ge=Ot&8191,ze=Ot>>>13,Tt=A[7]|0,oe=Tt&8191,X=Tt>>>13,ie=A[8]|0,z=ie&8191,se=ie>>>13,me=A[9]|0,$e=me&8191,ge=me>>>13;m.negative=l.negative^p.negative,m.length=19,S=Math.imul(U,ue),d=Math.imul(U,pe),d=d+Math.imul(F,ue)|0,E=Math.imul(F,pe);var Le=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Le>>>26)|0,Le&=67108863,S=Math.imul(L,ue),d=Math.imul(L,pe),d=d+Math.imul(H,ue)|0,E=Math.imul(H,pe),S=S+Math.imul(U,_e)|0,d=d+Math.imul(U,Ae)|0,d=d+Math.imul(F,_e)|0,E=E+Math.imul(F,Ae)|0;var Je=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Je>>>26)|0,Je&=67108863,S=Math.imul(Z,ue),d=Math.imul(Z,pe),d=d+Math.imul(de,ue)|0,E=Math.imul(de,pe),S=S+Math.imul(L,_e)|0,d=d+Math.imul(L,Ae)|0,d=d+Math.imul(H,_e)|0,E=E+Math.imul(H,Ae)|0,S=S+Math.imul(U,xe)|0,d=d+Math.imul(U,Ke)|0,d=d+Math.imul(F,xe)|0,E=E+Math.imul(F,Ke)|0;var Ye=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(re,ue),d=Math.imul(re,pe),d=d+Math.imul(ae,ue)|0,E=Math.imul(ae,pe),S=S+Math.imul(Z,_e)|0,d=d+Math.imul(Z,Ae)|0,d=d+Math.imul(de,_e)|0,E=E+Math.imul(de,Ae)|0,S=S+Math.imul(L,xe)|0,d=d+Math.imul(L,Ke)|0,d=d+Math.imul(H,xe)|0,E=E+Math.imul(H,Ke)|0,S=S+Math.imul(U,De)|0,d=d+Math.imul(U,He)|0,d=d+Math.imul(F,De)|0,E=E+Math.imul(F,He)|0;var ht=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(ye,ue),d=Math.imul(ye,pe),d=d+Math.imul(we,ue)|0,E=Math.imul(we,pe),S=S+Math.imul(re,_e)|0,d=d+Math.imul(re,Ae)|0,d=d+Math.imul(ae,_e)|0,E=E+Math.imul(ae,Ae)|0,S=S+Math.imul(Z,xe)|0,d=d+Math.imul(Z,Ke)|0,d=d+Math.imul(de,xe)|0,E=E+Math.imul(de,Ke)|0,S=S+Math.imul(L,De)|0,d=d+Math.imul(L,He)|0,d=d+Math.imul(H,De)|0,E=E+Math.imul(H,He)|0,S=S+Math.imul(U,Ue)|0,d=d+Math.imul(U,We)|0,d=d+Math.imul(F,Ue)|0,E=E+Math.imul(F,We)|0;var Ze=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(ve,ue),d=Math.imul(ve,pe),d=d+Math.imul(Ce,ue)|0,E=Math.imul(Ce,pe),S=S+Math.imul(ye,_e)|0,d=d+Math.imul(ye,Ae)|0,d=d+Math.imul(we,_e)|0,E=E+Math.imul(we,Ae)|0,S=S+Math.imul(re,xe)|0,d=d+Math.imul(re,Ke)|0,d=d+Math.imul(ae,xe)|0,E=E+Math.imul(ae,Ke)|0,S=S+Math.imul(Z,De)|0,d=d+Math.imul(Z,He)|0,d=d+Math.imul(de,De)|0,E=E+Math.imul(de,He)|0,S=S+Math.imul(L,Ue)|0,d=d+Math.imul(L,We)|0,d=d+Math.imul(H,Ue)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(U,Fe)|0,d=d+Math.imul(U,Ve)|0,d=d+Math.imul(F,Fe)|0,E=E+Math.imul(F,Ve)|0;var dt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Se,ue),d=Math.imul(Se,pe),d=d+Math.imul(Pe,ue)|0,E=Math.imul(Pe,pe),S=S+Math.imul(ve,_e)|0,d=d+Math.imul(ve,Ae)|0,d=d+Math.imul(Ce,_e)|0,E=E+Math.imul(Ce,Ae)|0,S=S+Math.imul(ye,xe)|0,d=d+Math.imul(ye,Ke)|0,d=d+Math.imul(we,xe)|0,E=E+Math.imul(we,Ke)|0,S=S+Math.imul(re,De)|0,d=d+Math.imul(re,He)|0,d=d+Math.imul(ae,De)|0,E=E+Math.imul(ae,He)|0,S=S+Math.imul(Z,Ue)|0,d=d+Math.imul(Z,We)|0,d=d+Math.imul(de,Ue)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(L,Fe)|0,d=d+Math.imul(L,Ve)|0,d=d+Math.imul(H,Fe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(U,Ge)|0,d=d+Math.imul(U,ze)|0,d=d+Math.imul(F,Ge)|0,E=E+Math.imul(F,ze)|0;var Xe=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(Me,ue),d=Math.imul(Me,pe),d=d+Math.imul(Re,ue)|0,E=Math.imul(Re,pe),S=S+Math.imul(Se,_e)|0,d=d+Math.imul(Se,Ae)|0,d=d+Math.imul(Pe,_e)|0,E=E+Math.imul(Pe,Ae)|0,S=S+Math.imul(ve,xe)|0,d=d+Math.imul(ve,Ke)|0,d=d+Math.imul(Ce,xe)|0,E=E+Math.imul(Ce,Ke)|0,S=S+Math.imul(ye,De)|0,d=d+Math.imul(ye,He)|0,d=d+Math.imul(we,De)|0,E=E+Math.imul(we,He)|0,S=S+Math.imul(re,Ue)|0,d=d+Math.imul(re,We)|0,d=d+Math.imul(ae,Ue)|0,E=E+Math.imul(ae,We)|0,S=S+Math.imul(Z,Fe)|0,d=d+Math.imul(Z,Ve)|0,d=d+Math.imul(de,Fe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(L,Ge)|0,d=d+Math.imul(L,ze)|0,d=d+Math.imul(H,Ge)|0,E=E+Math.imul(H,ze)|0,S=S+Math.imul(U,oe)|0,d=d+Math.imul(U,X)|0,d=d+Math.imul(F,oe)|0,E=E+Math.imul(F,X)|0;var mt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(je,ue),d=Math.imul(je,pe),d=d+Math.imul(Be,ue)|0,E=Math.imul(Be,pe),S=S+Math.imul(Me,_e)|0,d=d+Math.imul(Me,Ae)|0,d=d+Math.imul(Re,_e)|0,E=E+Math.imul(Re,Ae)|0,S=S+Math.imul(Se,xe)|0,d=d+Math.imul(Se,Ke)|0,d=d+Math.imul(Pe,xe)|0,E=E+Math.imul(Pe,Ke)|0,S=S+Math.imul(ve,De)|0,d=d+Math.imul(ve,He)|0,d=d+Math.imul(Ce,De)|0,E=E+Math.imul(Ce,He)|0,S=S+Math.imul(ye,Ue)|0,d=d+Math.imul(ye,We)|0,d=d+Math.imul(we,Ue)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(re,Fe)|0,d=d+Math.imul(re,Ve)|0,d=d+Math.imul(ae,Fe)|0,E=E+Math.imul(ae,Ve)|0,S=S+Math.imul(Z,Ge)|0,d=d+Math.imul(Z,ze)|0,d=d+Math.imul(de,Ge)|0,E=E+Math.imul(de,ze)|0,S=S+Math.imul(L,oe)|0,d=d+Math.imul(L,X)|0,d=d+Math.imul(H,oe)|0,E=E+Math.imul(H,X)|0,S=S+Math.imul(U,z)|0,d=d+Math.imul(U,se)|0,d=d+Math.imul(F,z)|0,E=E+Math.imul(F,se)|0;var lt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Ne,ue),d=Math.imul(Ne,pe),d=d+Math.imul(J,ue)|0,E=Math.imul(J,pe),S=S+Math.imul(je,_e)|0,d=d+Math.imul(je,Ae)|0,d=d+Math.imul(Be,_e)|0,E=E+Math.imul(Be,Ae)|0,S=S+Math.imul(Me,xe)|0,d=d+Math.imul(Me,Ke)|0,d=d+Math.imul(Re,xe)|0,E=E+Math.imul(Re,Ke)|0,S=S+Math.imul(Se,De)|0,d=d+Math.imul(Se,He)|0,d=d+Math.imul(Pe,De)|0,E=E+Math.imul(Pe,He)|0,S=S+Math.imul(ve,Ue)|0,d=d+Math.imul(ve,We)|0,d=d+Math.imul(Ce,Ue)|0,E=E+Math.imul(Ce,We)|0,S=S+Math.imul(ye,Fe)|0,d=d+Math.imul(ye,Ve)|0,d=d+Math.imul(we,Fe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(re,Ge)|0,d=d+Math.imul(re,ze)|0,d=d+Math.imul(ae,Ge)|0,E=E+Math.imul(ae,ze)|0,S=S+Math.imul(Z,oe)|0,d=d+Math.imul(Z,X)|0,d=d+Math.imul(de,oe)|0,E=E+Math.imul(de,X)|0,S=S+Math.imul(L,z)|0,d=d+Math.imul(L,se)|0,d=d+Math.imul(H,z)|0,E=E+Math.imul(H,se)|0,S=S+Math.imul(U,$e)|0,d=d+Math.imul(U,ge)|0,d=d+Math.imul(F,$e)|0,E=E+Math.imul(F,ge)|0;var yt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Ne,_e),d=Math.imul(Ne,Ae),d=d+Math.imul(J,_e)|0,E=Math.imul(J,Ae),S=S+Math.imul(je,xe)|0,d=d+Math.imul(je,Ke)|0,d=d+Math.imul(Be,xe)|0,E=E+Math.imul(Be,Ke)|0,S=S+Math.imul(Me,De)|0,d=d+Math.imul(Me,He)|0,d=d+Math.imul(Re,De)|0,E=E+Math.imul(Re,He)|0,S=S+Math.imul(Se,Ue)|0,d=d+Math.imul(Se,We)|0,d=d+Math.imul(Pe,Ue)|0,E=E+Math.imul(Pe,We)|0,S=S+Math.imul(ve,Fe)|0,d=d+Math.imul(ve,Ve)|0,d=d+Math.imul(Ce,Fe)|0,E=E+Math.imul(Ce,Ve)|0,S=S+Math.imul(ye,Ge)|0,d=d+Math.imul(ye,ze)|0,d=d+Math.imul(we,Ge)|0,E=E+Math.imul(we,ze)|0,S=S+Math.imul(re,oe)|0,d=d+Math.imul(re,X)|0,d=d+Math.imul(ae,oe)|0,E=E+Math.imul(ae,X)|0,S=S+Math.imul(Z,z)|0,d=d+Math.imul(Z,se)|0,d=d+Math.imul(de,z)|0,E=E+Math.imul(de,se)|0,S=S+Math.imul(L,$e)|0,d=d+Math.imul(L,ge)|0,d=d+Math.imul(H,$e)|0,E=E+Math.imul(H,ge)|0;var _t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(Ne,xe),d=Math.imul(Ne,Ke),d=d+Math.imul(J,xe)|0,E=Math.imul(J,Ke),S=S+Math.imul(je,De)|0,d=d+Math.imul(je,He)|0,d=d+Math.imul(Be,De)|0,E=E+Math.imul(Be,He)|0,S=S+Math.imul(Me,Ue)|0,d=d+Math.imul(Me,We)|0,d=d+Math.imul(Re,Ue)|0,E=E+Math.imul(Re,We)|0,S=S+Math.imul(Se,Fe)|0,d=d+Math.imul(Se,Ve)|0,d=d+Math.imul(Pe,Fe)|0,E=E+Math.imul(Pe,Ve)|0,S=S+Math.imul(ve,Ge)|0,d=d+Math.imul(ve,ze)|0,d=d+Math.imul(Ce,Ge)|0,E=E+Math.imul(Ce,ze)|0,S=S+Math.imul(ye,oe)|0,d=d+Math.imul(ye,X)|0,d=d+Math.imul(we,oe)|0,E=E+Math.imul(we,X)|0,S=S+Math.imul(re,z)|0,d=d+Math.imul(re,se)|0,d=d+Math.imul(ae,z)|0,E=E+Math.imul(ae,se)|0,S=S+Math.imul(Z,$e)|0,d=d+Math.imul(Z,ge)|0,d=d+Math.imul(de,$e)|0,E=E+Math.imul(de,ge)|0;var gt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(gt>>>26)|0,gt&=67108863,S=Math.imul(Ne,De),d=Math.imul(Ne,He),d=d+Math.imul(J,De)|0,E=Math.imul(J,He),S=S+Math.imul(je,Ue)|0,d=d+Math.imul(je,We)|0,d=d+Math.imul(Be,Ue)|0,E=E+Math.imul(Be,We)|0,S=S+Math.imul(Me,Fe)|0,d=d+Math.imul(Me,Ve)|0,d=d+Math.imul(Re,Fe)|0,E=E+Math.imul(Re,Ve)|0,S=S+Math.imul(Se,Ge)|0,d=d+Math.imul(Se,ze)|0,d=d+Math.imul(Pe,Ge)|0,E=E+Math.imul(Pe,ze)|0,S=S+Math.imul(ve,oe)|0,d=d+Math.imul(ve,X)|0,d=d+Math.imul(Ce,oe)|0,E=E+Math.imul(Ce,X)|0,S=S+Math.imul(ye,z)|0,d=d+Math.imul(ye,se)|0,d=d+Math.imul(we,z)|0,E=E+Math.imul(we,se)|0,S=S+Math.imul(re,$e)|0,d=d+Math.imul(re,ge)|0,d=d+Math.imul(ae,$e)|0,E=E+Math.imul(ae,ge)|0;var at=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(Ne,Ue),d=Math.imul(Ne,We),d=d+Math.imul(J,Ue)|0,E=Math.imul(J,We),S=S+Math.imul(je,Fe)|0,d=d+Math.imul(je,Ve)|0,d=d+Math.imul(Be,Fe)|0,E=E+Math.imul(Be,Ve)|0,S=S+Math.imul(Me,Ge)|0,d=d+Math.imul(Me,ze)|0,d=d+Math.imul(Re,Ge)|0,E=E+Math.imul(Re,ze)|0,S=S+Math.imul(Se,oe)|0,d=d+Math.imul(Se,X)|0,d=d+Math.imul(Pe,oe)|0,E=E+Math.imul(Pe,X)|0,S=S+Math.imul(ve,z)|0,d=d+Math.imul(ve,se)|0,d=d+Math.imul(Ce,z)|0,E=E+Math.imul(Ce,se)|0,S=S+Math.imul(ye,$e)|0,d=d+Math.imul(ye,ge)|0,d=d+Math.imul(we,$e)|0,E=E+Math.imul(we,ge)|0;var $t=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(Ne,Fe),d=Math.imul(Ne,Ve),d=d+Math.imul(J,Fe)|0,E=Math.imul(J,Ve),S=S+Math.imul(je,Ge)|0,d=d+Math.imul(je,ze)|0,d=d+Math.imul(Be,Ge)|0,E=E+Math.imul(Be,ze)|0,S=S+Math.imul(Me,oe)|0,d=d+Math.imul(Me,X)|0,d=d+Math.imul(Re,oe)|0,E=E+Math.imul(Re,X)|0,S=S+Math.imul(Se,z)|0,d=d+Math.imul(Se,se)|0,d=d+Math.imul(Pe,z)|0,E=E+Math.imul(Pe,se)|0,S=S+Math.imul(ve,$e)|0,d=d+Math.imul(ve,ge)|0,d=d+Math.imul(Ce,$e)|0,E=E+Math.imul(Ce,ge)|0;var ot=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,S=Math.imul(Ne,Ge),d=Math.imul(Ne,ze),d=d+Math.imul(J,Ge)|0,E=Math.imul(J,ze),S=S+Math.imul(je,oe)|0,d=d+Math.imul(je,X)|0,d=d+Math.imul(Be,oe)|0,E=E+Math.imul(Be,X)|0,S=S+Math.imul(Me,z)|0,d=d+Math.imul(Me,se)|0,d=d+Math.imul(Re,z)|0,E=E+Math.imul(Re,se)|0,S=S+Math.imul(Se,$e)|0,d=d+Math.imul(Se,ge)|0,d=d+Math.imul(Pe,$e)|0,E=E+Math.imul(Pe,ge)|0;var it=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(Ne,oe),d=Math.imul(Ne,X),d=d+Math.imul(J,oe)|0,E=Math.imul(J,X),S=S+Math.imul(je,z)|0,d=d+Math.imul(je,se)|0,d=d+Math.imul(Be,z)|0,E=E+Math.imul(Be,se)|0,S=S+Math.imul(Me,$e)|0,d=d+Math.imul(Me,ge)|0,d=d+Math.imul(Re,$e)|0,E=E+Math.imul(Re,ge)|0;var st=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(Ne,z),d=Math.imul(Ne,se),d=d+Math.imul(J,z)|0,E=Math.imul(J,se),S=S+Math.imul(je,$e)|0,d=d+Math.imul(je,ge)|0,d=d+Math.imul(Be,$e)|0,E=E+Math.imul(Be,ge)|0;var tt=(T+S|0)+((d&8191)<<13)|0;T=(E+(d>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(Ne,$e),d=Math.imul(Ne,ge),d=d+Math.imul(J,$e)|0,E=Math.imul(J,ge);var ke=(T+S|0)+((d&8191)<<13)|0;return T=(E+(d>>>13)|0)+(ke>>>26)|0,ke&=67108863,I[0]=Le,I[1]=Je,I[2]=Ye,I[3]=ht,I[4]=Ze,I[5]=dt,I[6]=Xe,I[7]=mt,I[8]=lt,I[9]=yt,I[10]=_t,I[11]=gt,I[12]=at,I[13]=$t,I[14]=ot,I[15]=it,I[16]=st,I[17]=tt,I[18]=ke,T!==0&&(I[19]=T,m.length++),m};Math.imul||(x=C);function D(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var _=0,A=0,I=0;I<m.length-1;I++){var T=A;A=0;for(var S=_&67108863,d=Math.min(I,p.length-1),E=Math.max(0,I-l.length+1);E<=d;E++){var M=I-E,U=l.words[M]|0,F=p.words[E]|0,N=U*F,L=N&67108863;T=T+(N/67108864|0)|0,L=L+S|0,S=L&67108863,T=T+(L>>>26)|0,A+=T>>>26,T&=67108863}m.words[I]=S,_=T,T=A}return _!==0?m.words[I]=_:m.length--,m.strip()}function k(l,p,m){var _=new B;return _.mulp(l,p,m)}a.prototype.mulTo=function(l,p){var m,_=this.length+l.length;return this.length===10&&l.length===10?m=x(this,l,p):_<63?m=C(this,l,p):_<1024?m=D(this,l,p):m=k(this,l,p),m};function B(l,p){this.x=l,this.y=p}B.prototype.makeRBT=function(l){for(var p=new Array(l),m=a.prototype._countBits(l)-1,_=0;_<l;_++)p[_]=this.revBin(_,m,l);return p},B.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var _=0,A=0;A<p;A++)_|=(l&1)<<p-A-1,l>>=1;return _},B.prototype.permute=function(l,p,m,_,A,I){for(var T=0;T<I;T++)_[T]=p[l[T]],A[T]=m[l[T]]},B.prototype.transform=function(l,p,m,_,A,I){this.permute(I,l,p,m,_,A);for(var T=1;T<A;T<<=1)for(var S=T<<1,d=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),M=0;M<A;M+=S)for(var U=d,F=E,N=0;N<T;N++){var L=m[M+N],H=_[M+N],Y=m[M+N+T],Z=_[M+N+T],de=U*Y-F*Z;Z=U*Z+F*Y,Y=de,m[M+N]=L+Y,_[M+N]=H+Z,m[M+N+T]=L-Y,_[M+N+T]=H-Z,N!==S&&(de=d*U-E*F,F=d*F+E*U,U=de)}},B.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,_=m&1,A=0;for(m=m/2|0;m;m=m>>>1)A++;return 1<<A+1+_},B.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var _=0;_<m/2;_++){var A=l[_];l[_]=l[m-_-1],l[m-_-1]=A,A=p[_],p[_]=-p[m-_-1],p[m-_-1]=-A}},B.prototype.normalize13b=function(l,p){for(var m=0,_=0;_<p/2;_++){var A=Math.round(l[2*_+1]/p)*8192+Math.round(l[2*_]/p)+m;l[_]=A&67108863,A<67108864?m=0:m=A/67108864|0}return l},B.prototype.convert13b=function(l,p,m,_){for(var A=0,I=0;I<p;I++)A=A+(l[I]|0),m[2*I]=A&8191,A=A>>>13,m[2*I+1]=A&8191,A=A>>>13;for(I=2*p;I<_;++I)m[I]=0;o(A===0),o((A&-8192)===0)},B.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},B.prototype.mulp=function(l,p,m){var _=2*this.guessLen13b(l.length,p.length),A=this.makeRBT(_),I=this.stub(_),T=new Array(_),S=new Array(_),d=new Array(_),E=new Array(_),M=new Array(_),U=new Array(_),F=m.words;F.length=_,this.convert13b(l.words,l.length,T,_),this.convert13b(p.words,p.length,E,_),this.transform(T,I,S,d,_,A),this.transform(E,I,M,U,_,A);for(var N=0;N<_;N++){var L=S[N]*M[N]-d[N]*U[N];d[N]=S[N]*U[N]+d[N]*M[N],S[N]=L}return this.conjugate(S,d,_),this.transform(S,d,F,I,_,A),this.conjugate(F,I,_),this.normalize13b(F,_),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},a.prototype.mul=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},a.prototype.mulf=function(l){var p=new a(null);return p.words=new Array(this.length+l.length),k(this,l,p)},a.prototype.imul=function(l){return this.clone().mulTo(l,this)},a.prototype.imuln=function(l){o(typeof l=="number"),o(l<67108864);for(var p=0,m=0;m<this.length;m++){var _=(this.words[m]|0)*l,A=(_&67108863)+(p&67108863);p>>=26,p+=_/67108864|0,p+=A>>>26,this.words[m]=A&67108863}return p!==0&&(this.words[m]=p,this.length++),this},a.prototype.muln=function(l){return this.clone().imuln(l)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(l){var p=P(l);if(p.length===0)return new a(1);for(var m=this,_=0;_<p.length&&p[_]===0;_++,m=m.sqr());if(++_<p.length)for(var A=m.sqr();_<p.length;_++,A=A.sqr())p[_]!==0&&(m=m.mul(A));return m},a.prototype.iushln=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=67108863>>>26-p<<26-p,A;if(p!==0){var I=0;for(A=0;A<this.length;A++){var T=this.words[A]&_,S=(this.words[A]|0)-T<<p;this.words[A]=S|I,I=T>>>26-p}I&&(this.words[A]=I,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this.strip()},a.prototype.ishln=function(l){return o(this.negative===0),this.iushln(l)},a.prototype.iushrn=function(l,p,m){o(typeof l=="number"&&l>=0);var _;p?_=(p-p%26)/26:_=0;var A=l%26,I=Math.min((l-A)/26,this.length),T=67108863^67108863>>>A<<A,S=m;if(_-=I,_=Math.max(0,_),S){for(var d=0;d<I;d++)S.words[d]=this.words[d];S.length=I}if(I!==0)if(this.length>I)for(this.length-=I,d=0;d<this.length;d++)this.words[d]=this.words[d+I];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=_);d--){var M=this.words[d]|0;this.words[d]=E<<26-A|M>>>A,E=M&T}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(l,p,m){return o(this.negative===0),this.iushrn(l,p,m)},a.prototype.shln=function(l){return this.clone().ishln(l)},a.prototype.ushln=function(l){return this.clone().iushln(l)},a.prototype.shrn=function(l){return this.clone().ishrn(l)},a.prototype.ushrn=function(l){return this.clone().iushrn(l)},a.prototype.testn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return!1;var A=this.words[m];return!!(A&_)},a.prototype.imaskn=function(l){o(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var _=67108863^67108863>>>p<<p;this.words[this.length-1]&=_}return this.strip()},a.prototype.maskn=function(l){return this.clone().imaskn(l)},a.prototype.iaddn=function(l){return o(typeof l=="number"),o(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},a.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(l){if(o(typeof l=="number"),o(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},a.prototype.addn=function(l){return this.clone().iaddn(l)},a.prototype.subn=function(l){return this.clone().isubn(l)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(l,p,m){var _=l.length+m,A;this._expand(_);var I,T=0;for(A=0;A<l.length;A++){I=(this.words[A+m]|0)+T;var S=(l.words[A]|0)*p;I-=S&67108863,T=(I>>26)-(S/67108864|0),this.words[A+m]=I&67108863}for(;A<this.length-m;A++)I=(this.words[A+m]|0)+T,T=I>>26,this.words[A+m]=I&67108863;if(T===0)return this.strip();for(o(T===-1),T=0,A=0;A<this.length;A++)I=-(this.words[A]|0)+T,T=I>>26,this.words[A]=I&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(l,p){var m=this.length-l.length,_=this.clone(),A=l,I=A.words[A.length-1]|0,T=this._countBits(I);m=26-T,m!==0&&(A=A.ushln(m),_.iushln(m),I=A.words[A.length-1]|0);var S=_.length-A.length,d;if(p!=="mod"){d=new a(null),d.length=S+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var M=_.clone()._ishlnsubmul(A,1,S);M.negative===0&&(_=M,d&&(d.words[S]=1));for(var U=S-1;U>=0;U--){var F=(_.words[A.length+U]|0)*67108864+(_.words[A.length+U-1]|0);for(F=Math.min(F/I|0,67108863),_._ishlnsubmul(A,F,U);_.negative!==0;)F--,_.negative=0,_._ishlnsubmul(A,1,U),_.isZero()||(_.negative^=1);d&&(d.words[U]=F)}return d&&d.strip(),_.strip(),p!=="div"&&m!==0&&_.iushrn(m),{div:d||null,mod:_}},a.prototype.divmod=function(l,p,m){if(o(!l.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var _,A,I;return this.negative!==0&&l.negative===0?(I=this.neg().divmod(l,p),p!=="mod"&&(_=I.div.neg()),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.iadd(l)),{div:_,mod:A}):this.negative===0&&l.negative!==0?(I=this.divmod(l.neg(),p),p!=="mod"&&(_=I.div.neg()),{div:_,mod:I.mod}):this.negative&l.negative?(I=this.neg().divmod(l.neg(),p),p!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.isub(l)),{div:I.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new a(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new a(this.modn(l.words[0]))}:this._wordDiv(l,p)},a.prototype.div=function(l){return this.divmod(l,"div",!1).div},a.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},a.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},a.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,_=l.ushrn(1),A=l.andln(1),I=m.cmp(_);return I<0||A===1&&I===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modn=function(l){o(l<=67108863);for(var p=67108864%l,m=0,_=this.length-1;_>=0;_--)m=(p*m+(this.words[_]|0))%l;return m},a.prototype.idivn=function(l){o(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var _=(this.words[m]|0)+p*67108864;this.words[m]=_/l|0,p=_%l}return this.strip()},a.prototype.divn=function(l){return this.clone().idivn(l)},a.prototype.egcd=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=new a(0),T=new a(1),S=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++S;for(var d=m.clone(),E=p.clone();!p.isZero();){for(var M=0,U=1;!(p.words[0]&U)&&M<26;++M,U<<=1);if(M>0)for(p.iushrn(M);M-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(d),A.isub(E)),_.iushrn(1),A.iushrn(1);for(var F=0,N=1;!(m.words[0]&N)&&F<26;++F,N<<=1);if(F>0)for(m.iushrn(F);F-- >0;)(I.isOdd()||T.isOdd())&&(I.iadd(d),T.isub(E)),I.iushrn(1),T.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(I),A.isub(T)):(m.isub(p),I.isub(_),T.isub(A))}return{a:I,b:T,gcd:m.iushln(S)}},a.prototype._invmp=function(l){o(l.negative===0),o(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var _=new a(1),A=new a(0),I=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,S=1;!(p.words[0]&S)&&T<26;++T,S<<=1);if(T>0)for(p.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);for(var d=0,E=1;!(m.words[0]&E)&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(I),A.iushrn(1);p.cmp(m)>=0?(p.isub(m),_.isub(A)):(m.isub(p),A.isub(_))}var M;return p.cmpn(1)===0?M=_:M=A,M.cmpn(0)<0&&M.iadd(l),M},a.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var _=0;p.isEven()&&m.isEven();_++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=p.cmp(m);if(A<0){var I=p;p=m,m=I}else if(A===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(_)},a.prototype.invm=function(l){return this.egcd(l).a.umod(l)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(l){return this.words[0]&l},a.prototype.bincn=function(l){o(typeof l=="number");var p=l%26,m=(l-p)/26,_=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var A=_,I=m;A!==0&&I<this.length;I++){var T=this.words[I]|0;T+=A,A=T>>>26,T&=67108863,this.words[I]=T}return A!==0&&(this.words[I]=A,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),o(l<=67108863,"Number is too big");var _=this.words[0]|0;m=_===l?0:_<l?-1:1}return this.negative!==0?-m|0:m},a.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,A=l.words[m]|0;if(_!==A){_<A?p=-1:_>A&&(p=1);break}}return p},a.prototype.gtn=function(l){return this.cmpn(l)===1},a.prototype.gt=function(l){return this.cmp(l)===1},a.prototype.gten=function(l){return this.cmpn(l)>=0},a.prototype.gte=function(l){return this.cmp(l)>=0},a.prototype.ltn=function(l){return this.cmpn(l)===-1},a.prototype.lt=function(l){return this.cmp(l)===-1},a.prototype.lten=function(l){return this.cmpn(l)<=0},a.prototype.lte=function(l){return this.cmp(l)<=0},a.prototype.eqn=function(l){return this.cmpn(l)===0},a.prototype.eq=function(l){return this.cmp(l)===0},a.red=function(l){return new ne(l)},a.prototype.toRed=function(l){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(l){return this.red=l,this},a.prototype.forceRed=function(l){return o(!this.red,"Already a number in reduction context"),this._forceRed(l)},a.prototype.redAdd=function(l){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},a.prototype.redIAdd=function(l){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},a.prototype.redSub=function(l){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},a.prototype.redISub=function(l){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},a.prototype.redShl=function(l){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},a.prototype.redMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},a.prototype.redIMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(l){return o(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var q={k256:null,p224:null,p192:null,p25519:null};function V(l,p){this.name=l,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var l=new a(null);return l.words=new Array(Math.ceil(this.n/13)),l},V.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var _=m<this.n?-1:p.ucmp(this.p);return _===0?(p.words[0]=0,p.length=1):_>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},V.prototype.split=function(l,p){l.iushrn(this.n,0,p)},V.prototype.imulK=function(l){return l.imul(this.k)};function ee(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(ee,V),ee.prototype.split=function(l,p){for(var m=4194303,_=Math.min(l.length,9),A=0;A<_;A++)p.words[A]=l.words[A];if(p.length=_,l.length<=9){l.words[0]=0,l.length=1;return}var I=l.words[9];for(p.words[p.length++]=I&m,A=10;A<l.length;A++){var T=l.words[A]|0;l.words[A-10]=(T&m)<<4|I>>>22,I=T}I>>>=22,l.words[A-10]=I,I===0&&l.length>10?l.length-=10:l.length-=9},ee.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var _=l.words[m]|0;p+=_*977,l.words[m]=p&67108863,p=_*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function te(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(te,V);function ce(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(ce,V);function Q(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(Q,V),Q.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var _=(l.words[m]|0)*19+p,A=_&67108863;_>>>=26,l.words[m]=A,p=_}return p!==0&&(l.words[l.length++]=p),l},a._prime=function(l){if(q[l])return q[l];var p;if(l==="k256")p=new ee;else if(l==="p224")p=new te;else if(l==="p192")p=new ce;else if(l==="p25519")p=new Q;else throw new Error("Unknown prime "+l);return q[l]=p,p};function ne(l){if(typeof l=="string"){var p=a._prime(l);this.m=p.p,this.prime=p}else o(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}ne.prototype._verify1=function(l){o(l.negative===0,"red works only with positives"),o(l.red,"red works only with red numbers")},ne.prototype._verify2=function(l,p){o((l.negative|p.negative)===0,"red works only with positives"),o(l.red&&l.red===p.red,"red works only with red numbers")},ne.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},ne.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},ne.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},ne.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},ne.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},ne.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},ne.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},ne.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},ne.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},ne.prototype.isqr=function(l){return this.imul(l,l.clone())},ne.prototype.sqr=function(l){return this.mul(l,l)},ne.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(o(p%2===1),p===3){var m=this.m.add(new a(1)).iushrn(2);return this.pow(l,m)}for(var _=this.m.subn(1),A=0;!_.isZero()&&_.andln(1)===0;)A++,_.iushrn(1);o(!_.isZero());var I=new a(1).toRed(this),T=I.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,S).cmp(T)!==0;)d.redIAdd(T);for(var E=this.pow(d,_),M=this.pow(l,_.addn(1).iushrn(1)),U=this.pow(l,_),F=A;U.cmp(I)!==0;){for(var N=U,L=0;N.cmp(I)!==0;L++)N=N.redSqr();o(L<F);var H=this.pow(E,new a(1).iushln(F-L-1));M=M.redMul(H),E=H.redSqr(),U=U.redMul(E),F=L}return M},ne.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},ne.prototype.pow=function(l,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,_=new Array(1<<m);_[0]=new a(1).toRed(this),_[1]=l;for(var A=2;A<_.length;A++)_[A]=this.mul(_[A-1],l);var I=_[0],T=0,S=0,d=p.bitLength()%26;for(d===0&&(d=26),A=p.length-1;A>=0;A--){for(var E=p.words[A],M=d-1;M>=0;M--){var U=E>>M&1;if(I!==_[0]&&(I=this.sqr(I)),U===0&&T===0){S=0;continue}T<<=1,T|=U,S++,!(S!==m&&(A!==0||M!==0))&&(I=this.mul(I,_[T]),S=0,T=0)}d=26}return I},ne.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},ne.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},a.mont=function(l){return new fe(l)};function fe(l){ne.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(fe,ne),fe.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},fe.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},fe.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new a(0)._forceRed(this);var m=l.mul(p),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(_).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},fe.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(e,commonjsGlobal$7)}(bn);var bnExports=bn.exports,BN$2=bnExports,Buffer$6=safeBufferExports$1.Buffer;function withPublic$2(e,t){return Buffer$6.from(e.toRed(BN$2.mont(t.modulus)).redPow(new BN$2(t.publicExponent)).fromRed().toArray())}var withPublic_1=withPublic$2,parseKeys$1=parseAsn1,randomBytes=browserExports,createHash$1=browser$k,mgf$1=mgf$2,xor$1=xor$2,BN$1=bnExports,withPublic$1=withPublic_1,crt$1=browserifyRsa,Buffer$5=safeBufferExports$1.Buffer,publicEncrypt=function e(t,n,o){var c;t.padding?c=t.padding:o?c=1:c=4;var a=parseKeys$1(t),u;if(c===4)u=oaep$1(a,n);else if(c===1)u=pkcs1$1(a,n,o);else if(c===3){if(u=new BN$1(n),u.cmp(a.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return o?crt$1(u,a):withPublic$1(u,a)};function oaep$1(e,t){var n=e.modulus.byteLength(),o=t.length,c=createHash$1("sha1").update(Buffer$5.alloc(0)).digest(),a=c.length,u=2*a;if(o>n-u-2)throw new Error("message too long");var h=Buffer$5.alloc(n-o-u-2),v=n-a-1,b=randomBytes(a),y=xor$1(Buffer$5.concat([c,h,Buffer$5.alloc(1,1),t],v),mgf$1(b,v)),w=xor$1(b,mgf$1(y,a));return new BN$1(Buffer$5.concat([Buffer$5.alloc(1),w,y],n))}function pkcs1$1(e,t,n){var o=t.length,c=e.modulus.byteLength();if(o>c-11)throw new Error("message too long");var a;return n?a=Buffer$5.alloc(c-o-3,255):a=nonZero(c-o-3),new BN$1(Buffer$5.concat([Buffer$5.from([0,n?1:2]),a,Buffer$5.alloc(1),t],c))}function nonZero(e){for(var t=Buffer$5.allocUnsafe(e),n=0,o=randomBytes(e*2),c=0,a;n<e;)c===o.length&&(o=randomBytes(e*2),c=0),a=o[c++],a&&(t[n++]=a);return t}var parseKeys=parseAsn1,mgf=mgf$2,xor=xor$2,BN=bnExports,crt=browserifyRsa,createHash=browser$k,withPublic=withPublic_1,Buffer$4=safeBufferExports$1.Buffer,privateDecrypt=function e(t,n,o){var c;t.padding?c=t.padding:o?c=1:c=4;var a=parseKeys(t),u=a.modulus.byteLength();if(n.length>u||new BN(n).cmp(a.modulus)>=0)throw new Error("decryption error");var h;o?h=withPublic(new BN(n),a):h=crt(n,a);var v=Buffer$4.alloc(u-h.length);if(h=Buffer$4.concat([v,h],u),c===4)return oaep(a,h);if(c===1)return pkcs1(a,h,o);if(c===3)return h;throw new Error("unknown padding")};function oaep(e,t){var n=e.modulus.byteLength(),o=createHash("sha1").update(Buffer$4.alloc(0)).digest(),c=o.length;if(t[0]!==0)throw new Error("decryption error");var a=t.slice(1,c+1),u=t.slice(c+1),h=xor(a,mgf(u,c)),v=xor(u,mgf(h,n-c-1));if(compare(o,v.slice(0,c)))throw new Error("decryption error");for(var b=c;v[b]===0;)b++;if(v[b++]!==1)throw new Error("decryption error");return v.slice(b)}function pkcs1(e,t,n){for(var o=t.slice(0,2),c=2,a=0;t[c++]!==0;)if(c>=t.length){a++;break}var u=t.slice(2,c-1);if((o.toString("hex")!=="0002"&&!n||o.toString("hex")!=="0001"&&n)&&a++,u.length<8&&a++,a)throw new Error("decryption error");return t.slice(c)}function compare(e,t){e=Buffer$4.from(e),t=Buffer$4.from(t);var n=0,o=e.length;e.length!==t.length&&(n++,o=Math.min(e.length,t.length));for(var c=-1;++c<o;)n+=e[c]^t[c];return n}(function(e){e.publicEncrypt=publicEncrypt,e.privateDecrypt=privateDecrypt,e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}})(browser$c);var browser$b={};function oldBrowser(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var safeBuffer=safeBufferExports$1,randombytes=browserExports,Buffer$3=safeBuffer.Buffer,kBufferMaxLength=safeBuffer.kMaxLength,crypto$5=commonjsGlobal$7.crypto||commonjsGlobal$7.msCrypto,kMaxUint32=Math.pow(2,32)-1;function assertOffset(e,t){if(typeof e!="number"||e!==e)throw new TypeError("offset must be a number");if(e>kMaxUint32||e<0)throw new TypeError("offset must be a uint32");if(e>kBufferMaxLength||e>t)throw new RangeError("offset out of range")}function assertSize(e,t,n){if(typeof e!="number"||e!==e)throw new TypeError("size must be a number");if(e>kMaxUint32||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>kBufferMaxLength)throw new RangeError("buffer too small")}crypto$5&&crypto$5.getRandomValues||!process$1$5.browser?(browser$b.randomFill=randomFill,browser$b.randomFillSync=randomFillSync):(browser$b.randomFill=oldBrowser,browser$b.randomFillSync=oldBrowser);function randomFill(e,t,n,o){if(!Buffer$3.isBuffer(e)&&!(e instanceof commonjsGlobal$7.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof t=="function")o=t,t=0,n=e.length;else if(typeof n=="function")o=n,n=e.length-t;else if(typeof o!="function")throw new TypeError('"cb" argument must be a function');return assertOffset(t,e.length),assertSize(n,t,e.length),actualFill(e,t,n,o)}function actualFill(e,t,n,o){if(process$1$5.browser){var c=e.buffer,a=new Uint8Array(c,t,n);if(crypto$5.getRandomValues(a),o){process$1$5.nextTick(function(){o(null,e)});return}return e}if(o){randombytes(n,function(h,v){if(h)return o(h);v.copy(e,t),o(null,e)});return}var u=randombytes(n);return u.copy(e,t),e}function randomFillSync(e,t,n){if(typeof t>"u"&&(t=0),!Buffer$3.isBuffer(e)&&!(e instanceof commonjsGlobal$7.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return assertOffset(t,e.length),n===void 0&&(n=e.length-t),assertSize(n,t,e.length),actualFill(e,t,n)}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=browserExports,cryptoBrowserify.createHash=cryptoBrowserify.Hash=browser$k,cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=browser$j;var e=algos,t=Object.keys(e),n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);cryptoBrowserify.getHashes=function(){return n};var o=browser$i;cryptoBrowserify.pbkdf2=o.pbkdf2,cryptoBrowserify.pbkdf2Sync=o.pbkdf2Sync;var c=browser$h;cryptoBrowserify.Cipher=c.Cipher,cryptoBrowserify.createCipher=c.createCipher,cryptoBrowserify.Cipheriv=c.Cipheriv,cryptoBrowserify.createCipheriv=c.createCipheriv,cryptoBrowserify.Decipher=c.Decipher,cryptoBrowserify.createDecipher=c.createDecipher,cryptoBrowserify.Decipheriv=c.Decipheriv,cryptoBrowserify.createDecipheriv=c.createDecipheriv,cryptoBrowserify.getCiphers=c.getCiphers,cryptoBrowserify.listCiphers=c.listCiphers;var a=requireBrowser$7();cryptoBrowserify.DiffieHellmanGroup=a.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=a.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=a.getDiffieHellman,cryptoBrowserify.createDiffieHellman=a.createDiffieHellman,cryptoBrowserify.DiffieHellman=a.DiffieHellman;var u=requireBrowser$6();cryptoBrowserify.createSign=u.createSign,cryptoBrowserify.Sign=u.Sign,cryptoBrowserify.createVerify=u.createVerify,cryptoBrowserify.Verify=u.Verify,cryptoBrowserify.createECDH=requireBrowser$5();var h=browser$c;cryptoBrowserify.publicEncrypt=h.publicEncrypt,cryptoBrowserify.privateEncrypt=h.privateEncrypt,cryptoBrowserify.publicDecrypt=h.publicDecrypt,cryptoBrowserify.privateDecrypt=h.privateDecrypt;var v=browser$b;return cryptoBrowserify.randomFill=v.randomFill,cryptoBrowserify.randomFillSync=v.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(e){(function(t){var n=function(oe){var X,ie=new Float64Array(16);if(oe)for(X=0;X<oe.length;X++)ie[X]=oe[X];return ie},o=function(){throw new Error("no PRNG")},c=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var u=n(),h=n([1]),v=n([56129,1]),b=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),w=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),O=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),P=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function C(oe,X,ie,z){oe[X]=ie>>24&255,oe[X+1]=ie>>16&255,oe[X+2]=ie>>8&255,oe[X+3]=ie&255,oe[X+4]=z>>24&255,oe[X+5]=z>>16&255,oe[X+6]=z>>8&255,oe[X+7]=z&255}function x(oe,X,ie,z,se){var me,$e=0;for(me=0;me<se;me++)$e|=oe[X+me]^ie[z+me];return(1&$e-1>>>8)-1}function D(oe,X,ie,z){return x(oe,X,ie,z,16)}function k(oe,X,ie,z){return x(oe,X,ie,z,32)}function B(oe,X,ie,z){for(var se=z[0]&255|(z[1]&255)<<8|(z[2]&255)<<16|(z[3]&255)<<24,me=ie[0]&255|(ie[1]&255)<<8|(ie[2]&255)<<16|(ie[3]&255)<<24,$e=ie[4]&255|(ie[5]&255)<<8|(ie[6]&255)<<16|(ie[7]&255)<<24,ge=ie[8]&255|(ie[9]&255)<<8|(ie[10]&255)<<16|(ie[11]&255)<<24,Le=ie[12]&255|(ie[13]&255)<<8|(ie[14]&255)<<16|(ie[15]&255)<<24,Je=z[4]&255|(z[5]&255)<<8|(z[6]&255)<<16|(z[7]&255)<<24,Ye=X[0]&255|(X[1]&255)<<8|(X[2]&255)<<16|(X[3]&255)<<24,ht=X[4]&255|(X[5]&255)<<8|(X[6]&255)<<16|(X[7]&255)<<24,Ze=X[8]&255|(X[9]&255)<<8|(X[10]&255)<<16|(X[11]&255)<<24,dt=X[12]&255|(X[13]&255)<<8|(X[14]&255)<<16|(X[15]&255)<<24,Xe=z[8]&255|(z[9]&255)<<8|(z[10]&255)<<16|(z[11]&255)<<24,mt=ie[16]&255|(ie[17]&255)<<8|(ie[18]&255)<<16|(ie[19]&255)<<24,lt=ie[20]&255|(ie[21]&255)<<8|(ie[22]&255)<<16|(ie[23]&255)<<24,yt=ie[24]&255|(ie[25]&255)<<8|(ie[26]&255)<<16|(ie[27]&255)<<24,_t=ie[28]&255|(ie[29]&255)<<8|(ie[30]&255)<<16|(ie[31]&255)<<24,gt=z[12]&255|(z[13]&255)<<8|(z[14]&255)<<16|(z[15]&255)<<24,at=se,$t=me,ot=$e,it=ge,st=Le,tt=Je,ke=Ye,qe=ht,rt=Ze,Qe=dt,et=Xe,ct=mt,Et=lt,It=yt,At=_t,Mt=gt,Ee,jt=0;jt<20;jt+=2)Ee=at+Et|0,st^=Ee<<7|Ee>>>25,Ee=st+at|0,rt^=Ee<<9|Ee>>>23,Ee=rt+st|0,Et^=Ee<<13|Ee>>>19,Ee=Et+rt|0,at^=Ee<<18|Ee>>>14,Ee=tt+$t|0,Qe^=Ee<<7|Ee>>>25,Ee=Qe+tt|0,It^=Ee<<9|Ee>>>23,Ee=It+Qe|0,$t^=Ee<<13|Ee>>>19,Ee=$t+It|0,tt^=Ee<<18|Ee>>>14,Ee=et+ke|0,At^=Ee<<7|Ee>>>25,Ee=At+et|0,ot^=Ee<<9|Ee>>>23,Ee=ot+At|0,ke^=Ee<<13|Ee>>>19,Ee=ke+ot|0,et^=Ee<<18|Ee>>>14,Ee=Mt+ct|0,it^=Ee<<7|Ee>>>25,Ee=it+Mt|0,qe^=Ee<<9|Ee>>>23,Ee=qe+it|0,ct^=Ee<<13|Ee>>>19,Ee=ct+qe|0,Mt^=Ee<<18|Ee>>>14,Ee=at+it|0,$t^=Ee<<7|Ee>>>25,Ee=$t+at|0,ot^=Ee<<9|Ee>>>23,Ee=ot+$t|0,it^=Ee<<13|Ee>>>19,Ee=it+ot|0,at^=Ee<<18|Ee>>>14,Ee=tt+st|0,ke^=Ee<<7|Ee>>>25,Ee=ke+tt|0,qe^=Ee<<9|Ee>>>23,Ee=qe+ke|0,st^=Ee<<13|Ee>>>19,Ee=st+qe|0,tt^=Ee<<18|Ee>>>14,Ee=et+Qe|0,ct^=Ee<<7|Ee>>>25,Ee=ct+et|0,rt^=Ee<<9|Ee>>>23,Ee=rt+ct|0,Qe^=Ee<<13|Ee>>>19,Ee=Qe+rt|0,et^=Ee<<18|Ee>>>14,Ee=Mt+At|0,Et^=Ee<<7|Ee>>>25,Ee=Et+Mt|0,It^=Ee<<9|Ee>>>23,Ee=It+Et|0,At^=Ee<<13|Ee>>>19,Ee=At+It|0,Mt^=Ee<<18|Ee>>>14;at=at+se|0,$t=$t+me|0,ot=ot+$e|0,it=it+ge|0,st=st+Le|0,tt=tt+Je|0,ke=ke+Ye|0,qe=qe+ht|0,rt=rt+Ze|0,Qe=Qe+dt|0,et=et+Xe|0,ct=ct+mt|0,Et=Et+lt|0,It=It+yt|0,At=At+_t|0,Mt=Mt+gt|0,oe[0]=at>>>0&255,oe[1]=at>>>8&255,oe[2]=at>>>16&255,oe[3]=at>>>24&255,oe[4]=$t>>>0&255,oe[5]=$t>>>8&255,oe[6]=$t>>>16&255,oe[7]=$t>>>24&255,oe[8]=ot>>>0&255,oe[9]=ot>>>8&255,oe[10]=ot>>>16&255,oe[11]=ot>>>24&255,oe[12]=it>>>0&255,oe[13]=it>>>8&255,oe[14]=it>>>16&255,oe[15]=it>>>24&255,oe[16]=st>>>0&255,oe[17]=st>>>8&255,oe[18]=st>>>16&255,oe[19]=st>>>24&255,oe[20]=tt>>>0&255,oe[21]=tt>>>8&255,oe[22]=tt>>>16&255,oe[23]=tt>>>24&255,oe[24]=ke>>>0&255,oe[25]=ke>>>8&255,oe[26]=ke>>>16&255,oe[27]=ke>>>24&255,oe[28]=qe>>>0&255,oe[29]=qe>>>8&255,oe[30]=qe>>>16&255,oe[31]=qe>>>24&255,oe[32]=rt>>>0&255,oe[33]=rt>>>8&255,oe[34]=rt>>>16&255,oe[35]=rt>>>24&255,oe[36]=Qe>>>0&255,oe[37]=Qe>>>8&255,oe[38]=Qe>>>16&255,oe[39]=Qe>>>24&255,oe[40]=et>>>0&255,oe[41]=et>>>8&255,oe[42]=et>>>16&255,oe[43]=et>>>24&255,oe[44]=ct>>>0&255,oe[45]=ct>>>8&255,oe[46]=ct>>>16&255,oe[47]=ct>>>24&255,oe[48]=Et>>>0&255,oe[49]=Et>>>8&255,oe[50]=Et>>>16&255,oe[51]=Et>>>24&255,oe[52]=It>>>0&255,oe[53]=It>>>8&255,oe[54]=It>>>16&255,oe[55]=It>>>24&255,oe[56]=At>>>0&255,oe[57]=At>>>8&255,oe[58]=At>>>16&255,oe[59]=At>>>24&255,oe[60]=Mt>>>0&255,oe[61]=Mt>>>8&255,oe[62]=Mt>>>16&255,oe[63]=Mt>>>24&255}function q(oe,X,ie,z){for(var se=z[0]&255|(z[1]&255)<<8|(z[2]&255)<<16|(z[3]&255)<<24,me=ie[0]&255|(ie[1]&255)<<8|(ie[2]&255)<<16|(ie[3]&255)<<24,$e=ie[4]&255|(ie[5]&255)<<8|(ie[6]&255)<<16|(ie[7]&255)<<24,ge=ie[8]&255|(ie[9]&255)<<8|(ie[10]&255)<<16|(ie[11]&255)<<24,Le=ie[12]&255|(ie[13]&255)<<8|(ie[14]&255)<<16|(ie[15]&255)<<24,Je=z[4]&255|(z[5]&255)<<8|(z[6]&255)<<16|(z[7]&255)<<24,Ye=X[0]&255|(X[1]&255)<<8|(X[2]&255)<<16|(X[3]&255)<<24,ht=X[4]&255|(X[5]&255)<<8|(X[6]&255)<<16|(X[7]&255)<<24,Ze=X[8]&255|(X[9]&255)<<8|(X[10]&255)<<16|(X[11]&255)<<24,dt=X[12]&255|(X[13]&255)<<8|(X[14]&255)<<16|(X[15]&255)<<24,Xe=z[8]&255|(z[9]&255)<<8|(z[10]&255)<<16|(z[11]&255)<<24,mt=ie[16]&255|(ie[17]&255)<<8|(ie[18]&255)<<16|(ie[19]&255)<<24,lt=ie[20]&255|(ie[21]&255)<<8|(ie[22]&255)<<16|(ie[23]&255)<<24,yt=ie[24]&255|(ie[25]&255)<<8|(ie[26]&255)<<16|(ie[27]&255)<<24,_t=ie[28]&255|(ie[29]&255)<<8|(ie[30]&255)<<16|(ie[31]&255)<<24,gt=z[12]&255|(z[13]&255)<<8|(z[14]&255)<<16|(z[15]&255)<<24,at=se,$t=me,ot=$e,it=ge,st=Le,tt=Je,ke=Ye,qe=ht,rt=Ze,Qe=dt,et=Xe,ct=mt,Et=lt,It=yt,At=_t,Mt=gt,Ee,jt=0;jt<20;jt+=2)Ee=at+Et|0,st^=Ee<<7|Ee>>>25,Ee=st+at|0,rt^=Ee<<9|Ee>>>23,Ee=rt+st|0,Et^=Ee<<13|Ee>>>19,Ee=Et+rt|0,at^=Ee<<18|Ee>>>14,Ee=tt+$t|0,Qe^=Ee<<7|Ee>>>25,Ee=Qe+tt|0,It^=Ee<<9|Ee>>>23,Ee=It+Qe|0,$t^=Ee<<13|Ee>>>19,Ee=$t+It|0,tt^=Ee<<18|Ee>>>14,Ee=et+ke|0,At^=Ee<<7|Ee>>>25,Ee=At+et|0,ot^=Ee<<9|Ee>>>23,Ee=ot+At|0,ke^=Ee<<13|Ee>>>19,Ee=ke+ot|0,et^=Ee<<18|Ee>>>14,Ee=Mt+ct|0,it^=Ee<<7|Ee>>>25,Ee=it+Mt|0,qe^=Ee<<9|Ee>>>23,Ee=qe+it|0,ct^=Ee<<13|Ee>>>19,Ee=ct+qe|0,Mt^=Ee<<18|Ee>>>14,Ee=at+it|0,$t^=Ee<<7|Ee>>>25,Ee=$t+at|0,ot^=Ee<<9|Ee>>>23,Ee=ot+$t|0,it^=Ee<<13|Ee>>>19,Ee=it+ot|0,at^=Ee<<18|Ee>>>14,Ee=tt+st|0,ke^=Ee<<7|Ee>>>25,Ee=ke+tt|0,qe^=Ee<<9|Ee>>>23,Ee=qe+ke|0,st^=Ee<<13|Ee>>>19,Ee=st+qe|0,tt^=Ee<<18|Ee>>>14,Ee=et+Qe|0,ct^=Ee<<7|Ee>>>25,Ee=ct+et|0,rt^=Ee<<9|Ee>>>23,Ee=rt+ct|0,Qe^=Ee<<13|Ee>>>19,Ee=Qe+rt|0,et^=Ee<<18|Ee>>>14,Ee=Mt+At|0,Et^=Ee<<7|Ee>>>25,Ee=Et+Mt|0,It^=Ee<<9|Ee>>>23,Ee=It+Et|0,At^=Ee<<13|Ee>>>19,Ee=At+It|0,Mt^=Ee<<18|Ee>>>14;oe[0]=at>>>0&255,oe[1]=at>>>8&255,oe[2]=at>>>16&255,oe[3]=at>>>24&255,oe[4]=tt>>>0&255,oe[5]=tt>>>8&255,oe[6]=tt>>>16&255,oe[7]=tt>>>24&255,oe[8]=et>>>0&255,oe[9]=et>>>8&255,oe[10]=et>>>16&255,oe[11]=et>>>24&255,oe[12]=Mt>>>0&255,oe[13]=Mt>>>8&255,oe[14]=Mt>>>16&255,oe[15]=Mt>>>24&255,oe[16]=ke>>>0&255,oe[17]=ke>>>8&255,oe[18]=ke>>>16&255,oe[19]=ke>>>24&255,oe[20]=qe>>>0&255,oe[21]=qe>>>8&255,oe[22]=qe>>>16&255,oe[23]=qe>>>24&255,oe[24]=rt>>>0&255,oe[25]=rt>>>8&255,oe[26]=rt>>>16&255,oe[27]=rt>>>24&255,oe[28]=Qe>>>0&255,oe[29]=Qe>>>8&255,oe[30]=Qe>>>16&255,oe[31]=Qe>>>24&255}function V(oe,X,ie,z){B(oe,X,ie,z)}function ee(oe,X,ie,z){q(oe,X,ie,z)}var te=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function ce(oe,X,ie,z,se,me,$e){var ge=new Uint8Array(16),Le=new Uint8Array(64),Je,Ye;for(Ye=0;Ye<16;Ye++)ge[Ye]=0;for(Ye=0;Ye<8;Ye++)ge[Ye]=me[Ye];for(;se>=64;){for(V(Le,ge,$e,te),Ye=0;Ye<64;Ye++)oe[X+Ye]=ie[z+Ye]^Le[Ye];for(Je=1,Ye=8;Ye<16;Ye++)Je=Je+(ge[Ye]&255)|0,ge[Ye]=Je&255,Je>>>=8;se-=64,X+=64,z+=64}if(se>0)for(V(Le,ge,$e,te),Ye=0;Ye<se;Ye++)oe[X+Ye]=ie[z+Ye]^Le[Ye];return 0}function Q(oe,X,ie,z,se){var me=new Uint8Array(16),$e=new Uint8Array(64),ge,Le;for(Le=0;Le<16;Le++)me[Le]=0;for(Le=0;Le<8;Le++)me[Le]=z[Le];for(;ie>=64;){for(V($e,me,se,te),Le=0;Le<64;Le++)oe[X+Le]=$e[Le];for(ge=1,Le=8;Le<16;Le++)ge=ge+(me[Le]&255)|0,me[Le]=ge&255,ge>>>=8;ie-=64,X+=64}if(ie>0)for(V($e,me,se,te),Le=0;Le<ie;Le++)oe[X+Le]=$e[Le];return 0}function ne(oe,X,ie,z,se){var me=new Uint8Array(32);ee(me,z,se,te);for(var $e=new Uint8Array(8),ge=0;ge<8;ge++)$e[ge]=z[ge+16];return Q(oe,X,ie,$e,me)}function fe(oe,X,ie,z,se,me,$e){var ge=new Uint8Array(32);ee(ge,me,$e,te);for(var Le=new Uint8Array(8),Je=0;Je<8;Je++)Le[Je]=me[Je+16];return ce(oe,X,ie,z,se,Le,ge)}var l=function(oe){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var X,ie,z,se,me,$e,ge,Le;X=oe[0]&255|(oe[1]&255)<<8,this.r[0]=X&8191,ie=oe[2]&255|(oe[3]&255)<<8,this.r[1]=(X>>>13|ie<<3)&8191,z=oe[4]&255|(oe[5]&255)<<8,this.r[2]=(ie>>>10|z<<6)&7939,se=oe[6]&255|(oe[7]&255)<<8,this.r[3]=(z>>>7|se<<9)&8191,me=oe[8]&255|(oe[9]&255)<<8,this.r[4]=(se>>>4|me<<12)&255,this.r[5]=me>>>1&8190,$e=oe[10]&255|(oe[11]&255)<<8,this.r[6]=(me>>>14|$e<<2)&8191,ge=oe[12]&255|(oe[13]&255)<<8,this.r[7]=($e>>>11|ge<<5)&8065,Le=oe[14]&255|(oe[15]&255)<<8,this.r[8]=(ge>>>8|Le<<8)&8191,this.r[9]=Le>>>5&127,this.pad[0]=oe[16]&255|(oe[17]&255)<<8,this.pad[1]=oe[18]&255|(oe[19]&255)<<8,this.pad[2]=oe[20]&255|(oe[21]&255)<<8,this.pad[3]=oe[22]&255|(oe[23]&255)<<8,this.pad[4]=oe[24]&255|(oe[25]&255)<<8,this.pad[5]=oe[26]&255|(oe[27]&255)<<8,this.pad[6]=oe[28]&255|(oe[29]&255)<<8,this.pad[7]=oe[30]&255|(oe[31]&255)<<8};l.prototype.blocks=function(oe,X,ie){for(var z=this.fin?0:2048,se,me,$e,ge,Le,Je,Ye,ht,Ze,dt,Xe,mt,lt,yt,_t,gt,at,$t,ot,it=this.h[0],st=this.h[1],tt=this.h[2],ke=this.h[3],qe=this.h[4],rt=this.h[5],Qe=this.h[6],et=this.h[7],ct=this.h[8],Et=this.h[9],It=this.r[0],At=this.r[1],Mt=this.r[2],Ee=this.r[3],jt=this.r[4],kt=this.r[5],xt=this.r[6],Ct=this.r[7],Rt=this.r[8],Nt=this.r[9];ie>=16;)se=oe[X+0]&255|(oe[X+1]&255)<<8,it+=se&8191,me=oe[X+2]&255|(oe[X+3]&255)<<8,st+=(se>>>13|me<<3)&8191,$e=oe[X+4]&255|(oe[X+5]&255)<<8,tt+=(me>>>10|$e<<6)&8191,ge=oe[X+6]&255|(oe[X+7]&255)<<8,ke+=($e>>>7|ge<<9)&8191,Le=oe[X+8]&255|(oe[X+9]&255)<<8,qe+=(ge>>>4|Le<<12)&8191,rt+=Le>>>1&8191,Je=oe[X+10]&255|(oe[X+11]&255)<<8,Qe+=(Le>>>14|Je<<2)&8191,Ye=oe[X+12]&255|(oe[X+13]&255)<<8,et+=(Je>>>11|Ye<<5)&8191,ht=oe[X+14]&255|(oe[X+15]&255)<<8,ct+=(Ye>>>8|ht<<8)&8191,Et+=ht>>>5|z,Ze=0,dt=Ze,dt+=it*It,dt+=st*(5*Nt),dt+=tt*(5*Rt),dt+=ke*(5*Ct),dt+=qe*(5*xt),Ze=dt>>>13,dt&=8191,dt+=rt*(5*kt),dt+=Qe*(5*jt),dt+=et*(5*Ee),dt+=ct*(5*Mt),dt+=Et*(5*At),Ze+=dt>>>13,dt&=8191,Xe=Ze,Xe+=it*At,Xe+=st*It,Xe+=tt*(5*Nt),Xe+=ke*(5*Rt),Xe+=qe*(5*Ct),Ze=Xe>>>13,Xe&=8191,Xe+=rt*(5*xt),Xe+=Qe*(5*kt),Xe+=et*(5*jt),Xe+=ct*(5*Ee),Xe+=Et*(5*Mt),Ze+=Xe>>>13,Xe&=8191,mt=Ze,mt+=it*Mt,mt+=st*At,mt+=tt*It,mt+=ke*(5*Nt),mt+=qe*(5*Rt),Ze=mt>>>13,mt&=8191,mt+=rt*(5*Ct),mt+=Qe*(5*xt),mt+=et*(5*kt),mt+=ct*(5*jt),mt+=Et*(5*Ee),Ze+=mt>>>13,mt&=8191,lt=Ze,lt+=it*Ee,lt+=st*Mt,lt+=tt*At,lt+=ke*It,lt+=qe*(5*Nt),Ze=lt>>>13,lt&=8191,lt+=rt*(5*Rt),lt+=Qe*(5*Ct),lt+=et*(5*xt),lt+=ct*(5*kt),lt+=Et*(5*jt),Ze+=lt>>>13,lt&=8191,yt=Ze,yt+=it*jt,yt+=st*Ee,yt+=tt*Mt,yt+=ke*At,yt+=qe*It,Ze=yt>>>13,yt&=8191,yt+=rt*(5*Nt),yt+=Qe*(5*Rt),yt+=et*(5*Ct),yt+=ct*(5*xt),yt+=Et*(5*kt),Ze+=yt>>>13,yt&=8191,_t=Ze,_t+=it*kt,_t+=st*jt,_t+=tt*Ee,_t+=ke*Mt,_t+=qe*At,Ze=_t>>>13,_t&=8191,_t+=rt*It,_t+=Qe*(5*Nt),_t+=et*(5*Rt),_t+=ct*(5*Ct),_t+=Et*(5*xt),Ze+=_t>>>13,_t&=8191,gt=Ze,gt+=it*xt,gt+=st*kt,gt+=tt*jt,gt+=ke*Ee,gt+=qe*Mt,Ze=gt>>>13,gt&=8191,gt+=rt*At,gt+=Qe*It,gt+=et*(5*Nt),gt+=ct*(5*Rt),gt+=Et*(5*Ct),Ze+=gt>>>13,gt&=8191,at=Ze,at+=it*Ct,at+=st*xt,at+=tt*kt,at+=ke*jt,at+=qe*Ee,Ze=at>>>13,at&=8191,at+=rt*Mt,at+=Qe*At,at+=et*It,at+=ct*(5*Nt),at+=Et*(5*Rt),Ze+=at>>>13,at&=8191,$t=Ze,$t+=it*Rt,$t+=st*Ct,$t+=tt*xt,$t+=ke*kt,$t+=qe*jt,Ze=$t>>>13,$t&=8191,$t+=rt*Ee,$t+=Qe*Mt,$t+=et*At,$t+=ct*It,$t+=Et*(5*Nt),Ze+=$t>>>13,$t&=8191,ot=Ze,ot+=it*Nt,ot+=st*Rt,ot+=tt*Ct,ot+=ke*xt,ot+=qe*kt,Ze=ot>>>13,ot&=8191,ot+=rt*jt,ot+=Qe*Ee,ot+=et*Mt,ot+=ct*At,ot+=Et*It,Ze+=ot>>>13,ot&=8191,Ze=(Ze<<2)+Ze|0,Ze=Ze+dt|0,dt=Ze&8191,Ze=Ze>>>13,Xe+=Ze,it=dt,st=Xe,tt=mt,ke=lt,qe=yt,rt=_t,Qe=gt,et=at,ct=$t,Et=ot,X+=16,ie-=16;this.h[0]=it,this.h[1]=st,this.h[2]=tt,this.h[3]=ke,this.h[4]=qe,this.h[5]=rt,this.h[6]=Qe,this.h[7]=et,this.h[8]=ct,this.h[9]=Et},l.prototype.finish=function(oe,X){var ie=new Uint16Array(10),z,se,me,$e;if(this.leftover){for($e=this.leftover,this.buffer[$e++]=1;$e<16;$e++)this.buffer[$e]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(z=this.h[1]>>>13,this.h[1]&=8191,$e=2;$e<10;$e++)this.h[$e]+=z,z=this.h[$e]>>>13,this.h[$e]&=8191;for(this.h[0]+=z*5,z=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=z,z=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=z,ie[0]=this.h[0]+5,z=ie[0]>>>13,ie[0]&=8191,$e=1;$e<10;$e++)ie[$e]=this.h[$e]+z,z=ie[$e]>>>13,ie[$e]&=8191;for(ie[9]-=8192,se=(z^1)-1,$e=0;$e<10;$e++)ie[$e]&=se;for(se=~se,$e=0;$e<10;$e++)this.h[$e]=this.h[$e]&se|ie[$e];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,me=this.h[0]+this.pad[0],this.h[0]=me&65535,$e=1;$e<8;$e++)me=(this.h[$e]+this.pad[$e]|0)+(me>>>16)|0,this.h[$e]=me&65535;oe[X+0]=this.h[0]>>>0&255,oe[X+1]=this.h[0]>>>8&255,oe[X+2]=this.h[1]>>>0&255,oe[X+3]=this.h[1]>>>8&255,oe[X+4]=this.h[2]>>>0&255,oe[X+5]=this.h[2]>>>8&255,oe[X+6]=this.h[3]>>>0&255,oe[X+7]=this.h[3]>>>8&255,oe[X+8]=this.h[4]>>>0&255,oe[X+9]=this.h[4]>>>8&255,oe[X+10]=this.h[5]>>>0&255,oe[X+11]=this.h[5]>>>8&255,oe[X+12]=this.h[6]>>>0&255,oe[X+13]=this.h[6]>>>8&255,oe[X+14]=this.h[7]>>>0&255,oe[X+15]=this.h[7]>>>8&255},l.prototype.update=function(oe,X,ie){var z,se;if(this.leftover){for(se=16-this.leftover,se>ie&&(se=ie),z=0;z<se;z++)this.buffer[this.leftover+z]=oe[X+z];if(ie-=se,X+=se,this.leftover+=se,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(ie>=16&&(se=ie-ie%16,this.blocks(oe,X,se),X+=se,ie-=se),ie){for(z=0;z<ie;z++)this.buffer[this.leftover+z]=oe[X+z];this.leftover+=ie}};function p(oe,X,ie,z,se,me){var $e=new l(me);return $e.update(ie,z,se),$e.finish(oe,X),0}function m(oe,X,ie,z,se,me){var $e=new Uint8Array(16);return p($e,0,ie,z,se,me),D(oe,X,$e,0)}function _(oe,X,ie,z,se){var me;if(ie<32)return-1;for(fe(oe,0,X,0,ie,z,se),p(oe,16,oe,32,ie-32,oe),me=0;me<16;me++)oe[me]=0;return 0}function A(oe,X,ie,z,se){var me,$e=new Uint8Array(32);if(ie<32||(ne($e,0,32,z,se),m(X,16,X,32,ie-32,$e)!==0))return-1;for(fe(oe,0,X,0,ie,z,se),me=0;me<32;me++)oe[me]=0;return 0}function I(oe,X){var ie;for(ie=0;ie<16;ie++)oe[ie]=X[ie]|0}function T(oe){var X,ie,z=1;for(X=0;X<16;X++)ie=oe[X]+z+65535,z=Math.floor(ie/65536),oe[X]=ie-z*65536;oe[0]+=z-1+37*(z-1)}function S(oe,X,ie){for(var z,se=~(ie-1),me=0;me<16;me++)z=se&(oe[me]^X[me]),oe[me]^=z,X[me]^=z}function d(oe,X){var ie,z,se,me=n(),$e=n();for(ie=0;ie<16;ie++)$e[ie]=X[ie];for(T($e),T($e),T($e),z=0;z<2;z++){for(me[0]=$e[0]-65517,ie=1;ie<15;ie++)me[ie]=$e[ie]-65535-(me[ie-1]>>16&1),me[ie-1]&=65535;me[15]=$e[15]-32767-(me[14]>>16&1),se=me[15]>>16&1,me[14]&=65535,S($e,me,1-se)}for(ie=0;ie<16;ie++)oe[2*ie]=$e[ie]&255,oe[2*ie+1]=$e[ie]>>8}function E(oe,X){var ie=new Uint8Array(32),z=new Uint8Array(32);return d(ie,oe),d(z,X),k(ie,0,z,0)}function M(oe){var X=new Uint8Array(32);return d(X,oe),X[0]&1}function U(oe,X){var ie;for(ie=0;ie<16;ie++)oe[ie]=X[2*ie]+(X[2*ie+1]<<8);oe[15]&=32767}function F(oe,X,ie){for(var z=0;z<16;z++)oe[z]=X[z]+ie[z]}function N(oe,X,ie){for(var z=0;z<16;z++)oe[z]=X[z]-ie[z]}function L(oe,X,ie){var z,se,me=0,$e=0,ge=0,Le=0,Je=0,Ye=0,ht=0,Ze=0,dt=0,Xe=0,mt=0,lt=0,yt=0,_t=0,gt=0,at=0,$t=0,ot=0,it=0,st=0,tt=0,ke=0,qe=0,rt=0,Qe=0,et=0,ct=0,Et=0,It=0,At=0,Mt=0,Ee=ie[0],jt=ie[1],kt=ie[2],xt=ie[3],Ct=ie[4],Rt=ie[5],Nt=ie[6],Kt=ie[7],Dt=ie[8],Bt=ie[9],Lt=ie[10],Ut=ie[11],Ft=ie[12],Gt=ie[13],qt=ie[14],zt=ie[15];z=X[0],me+=z*Ee,$e+=z*jt,ge+=z*kt,Le+=z*xt,Je+=z*Ct,Ye+=z*Rt,ht+=z*Nt,Ze+=z*Kt,dt+=z*Dt,Xe+=z*Bt,mt+=z*Lt,lt+=z*Ut,yt+=z*Ft,_t+=z*Gt,gt+=z*qt,at+=z*zt,z=X[1],$e+=z*Ee,ge+=z*jt,Le+=z*kt,Je+=z*xt,Ye+=z*Ct,ht+=z*Rt,Ze+=z*Nt,dt+=z*Kt,Xe+=z*Dt,mt+=z*Bt,lt+=z*Lt,yt+=z*Ut,_t+=z*Ft,gt+=z*Gt,at+=z*qt,$t+=z*zt,z=X[2],ge+=z*Ee,Le+=z*jt,Je+=z*kt,Ye+=z*xt,ht+=z*Ct,Ze+=z*Rt,dt+=z*Nt,Xe+=z*Kt,mt+=z*Dt,lt+=z*Bt,yt+=z*Lt,_t+=z*Ut,gt+=z*Ft,at+=z*Gt,$t+=z*qt,ot+=z*zt,z=X[3],Le+=z*Ee,Je+=z*jt,Ye+=z*kt,ht+=z*xt,Ze+=z*Ct,dt+=z*Rt,Xe+=z*Nt,mt+=z*Kt,lt+=z*Dt,yt+=z*Bt,_t+=z*Lt,gt+=z*Ut,at+=z*Ft,$t+=z*Gt,ot+=z*qt,it+=z*zt,z=X[4],Je+=z*Ee,Ye+=z*jt,ht+=z*kt,Ze+=z*xt,dt+=z*Ct,Xe+=z*Rt,mt+=z*Nt,lt+=z*Kt,yt+=z*Dt,_t+=z*Bt,gt+=z*Lt,at+=z*Ut,$t+=z*Ft,ot+=z*Gt,it+=z*qt,st+=z*zt,z=X[5],Ye+=z*Ee,ht+=z*jt,Ze+=z*kt,dt+=z*xt,Xe+=z*Ct,mt+=z*Rt,lt+=z*Nt,yt+=z*Kt,_t+=z*Dt,gt+=z*Bt,at+=z*Lt,$t+=z*Ut,ot+=z*Ft,it+=z*Gt,st+=z*qt,tt+=z*zt,z=X[6],ht+=z*Ee,Ze+=z*jt,dt+=z*kt,Xe+=z*xt,mt+=z*Ct,lt+=z*Rt,yt+=z*Nt,_t+=z*Kt,gt+=z*Dt,at+=z*Bt,$t+=z*Lt,ot+=z*Ut,it+=z*Ft,st+=z*Gt,tt+=z*qt,ke+=z*zt,z=X[7],Ze+=z*Ee,dt+=z*jt,Xe+=z*kt,mt+=z*xt,lt+=z*Ct,yt+=z*Rt,_t+=z*Nt,gt+=z*Kt,at+=z*Dt,$t+=z*Bt,ot+=z*Lt,it+=z*Ut,st+=z*Ft,tt+=z*Gt,ke+=z*qt,qe+=z*zt,z=X[8],dt+=z*Ee,Xe+=z*jt,mt+=z*kt,lt+=z*xt,yt+=z*Ct,_t+=z*Rt,gt+=z*Nt,at+=z*Kt,$t+=z*Dt,ot+=z*Bt,it+=z*Lt,st+=z*Ut,tt+=z*Ft,ke+=z*Gt,qe+=z*qt,rt+=z*zt,z=X[9],Xe+=z*Ee,mt+=z*jt,lt+=z*kt,yt+=z*xt,_t+=z*Ct,gt+=z*Rt,at+=z*Nt,$t+=z*Kt,ot+=z*Dt,it+=z*Bt,st+=z*Lt,tt+=z*Ut,ke+=z*Ft,qe+=z*Gt,rt+=z*qt,Qe+=z*zt,z=X[10],mt+=z*Ee,lt+=z*jt,yt+=z*kt,_t+=z*xt,gt+=z*Ct,at+=z*Rt,$t+=z*Nt,ot+=z*Kt,it+=z*Dt,st+=z*Bt,tt+=z*Lt,ke+=z*Ut,qe+=z*Ft,rt+=z*Gt,Qe+=z*qt,et+=z*zt,z=X[11],lt+=z*Ee,yt+=z*jt,_t+=z*kt,gt+=z*xt,at+=z*Ct,$t+=z*Rt,ot+=z*Nt,it+=z*Kt,st+=z*Dt,tt+=z*Bt,ke+=z*Lt,qe+=z*Ut,rt+=z*Ft,Qe+=z*Gt,et+=z*qt,ct+=z*zt,z=X[12],yt+=z*Ee,_t+=z*jt,gt+=z*kt,at+=z*xt,$t+=z*Ct,ot+=z*Rt,it+=z*Nt,st+=z*Kt,tt+=z*Dt,ke+=z*Bt,qe+=z*Lt,rt+=z*Ut,Qe+=z*Ft,et+=z*Gt,ct+=z*qt,Et+=z*zt,z=X[13],_t+=z*Ee,gt+=z*jt,at+=z*kt,$t+=z*xt,ot+=z*Ct,it+=z*Rt,st+=z*Nt,tt+=z*Kt,ke+=z*Dt,qe+=z*Bt,rt+=z*Lt,Qe+=z*Ut,et+=z*Ft,ct+=z*Gt,Et+=z*qt,It+=z*zt,z=X[14],gt+=z*Ee,at+=z*jt,$t+=z*kt,ot+=z*xt,it+=z*Ct,st+=z*Rt,tt+=z*Nt,ke+=z*Kt,qe+=z*Dt,rt+=z*Bt,Qe+=z*Lt,et+=z*Ut,ct+=z*Ft,Et+=z*Gt,It+=z*qt,At+=z*zt,z=X[15],at+=z*Ee,$t+=z*jt,ot+=z*kt,it+=z*xt,st+=z*Ct,tt+=z*Rt,ke+=z*Nt,qe+=z*Kt,rt+=z*Dt,Qe+=z*Bt,et+=z*Lt,ct+=z*Ut,Et+=z*Ft,It+=z*Gt,At+=z*qt,Mt+=z*zt,me+=38*$t,$e+=38*ot,ge+=38*it,Le+=38*st,Je+=38*tt,Ye+=38*ke,ht+=38*qe,Ze+=38*rt,dt+=38*Qe,Xe+=38*et,mt+=38*ct,lt+=38*Et,yt+=38*It,_t+=38*At,gt+=38*Mt,se=1,z=me+se+65535,se=Math.floor(z/65536),me=z-se*65536,z=$e+se+65535,se=Math.floor(z/65536),$e=z-se*65536,z=ge+se+65535,se=Math.floor(z/65536),ge=z-se*65536,z=Le+se+65535,se=Math.floor(z/65536),Le=z-se*65536,z=Je+se+65535,se=Math.floor(z/65536),Je=z-se*65536,z=Ye+se+65535,se=Math.floor(z/65536),Ye=z-se*65536,z=ht+se+65535,se=Math.floor(z/65536),ht=z-se*65536,z=Ze+se+65535,se=Math.floor(z/65536),Ze=z-se*65536,z=dt+se+65535,se=Math.floor(z/65536),dt=z-se*65536,z=Xe+se+65535,se=Math.floor(z/65536),Xe=z-se*65536,z=mt+se+65535,se=Math.floor(z/65536),mt=z-se*65536,z=lt+se+65535,se=Math.floor(z/65536),lt=z-se*65536,z=yt+se+65535,se=Math.floor(z/65536),yt=z-se*65536,z=_t+se+65535,se=Math.floor(z/65536),_t=z-se*65536,z=gt+se+65535,se=Math.floor(z/65536),gt=z-se*65536,z=at+se+65535,se=Math.floor(z/65536),at=z-se*65536,me+=se-1+37*(se-1),se=1,z=me+se+65535,se=Math.floor(z/65536),me=z-se*65536,z=$e+se+65535,se=Math.floor(z/65536),$e=z-se*65536,z=ge+se+65535,se=Math.floor(z/65536),ge=z-se*65536,z=Le+se+65535,se=Math.floor(z/65536),Le=z-se*65536,z=Je+se+65535,se=Math.floor(z/65536),Je=z-se*65536,z=Ye+se+65535,se=Math.floor(z/65536),Ye=z-se*65536,z=ht+se+65535,se=Math.floor(z/65536),ht=z-se*65536,z=Ze+se+65535,se=Math.floor(z/65536),Ze=z-se*65536,z=dt+se+65535,se=Math.floor(z/65536),dt=z-se*65536,z=Xe+se+65535,se=Math.floor(z/65536),Xe=z-se*65536,z=mt+se+65535,se=Math.floor(z/65536),mt=z-se*65536,z=lt+se+65535,se=Math.floor(z/65536),lt=z-se*65536,z=yt+se+65535,se=Math.floor(z/65536),yt=z-se*65536,z=_t+se+65535,se=Math.floor(z/65536),_t=z-se*65536,z=gt+se+65535,se=Math.floor(z/65536),gt=z-se*65536,z=at+se+65535,se=Math.floor(z/65536),at=z-se*65536,me+=se-1+37*(se-1),oe[0]=me,oe[1]=$e,oe[2]=ge,oe[3]=Le,oe[4]=Je,oe[5]=Ye,oe[6]=ht,oe[7]=Ze,oe[8]=dt,oe[9]=Xe,oe[10]=mt,oe[11]=lt,oe[12]=yt,oe[13]=_t,oe[14]=gt,oe[15]=at}function H(oe,X){L(oe,X,X)}function Y(oe,X){var ie=n(),z;for(z=0;z<16;z++)ie[z]=X[z];for(z=253;z>=0;z--)H(ie,ie),z!==2&&z!==4&&L(ie,ie,X);for(z=0;z<16;z++)oe[z]=ie[z]}function Z(oe,X){var ie=n(),z;for(z=0;z<16;z++)ie[z]=X[z];for(z=250;z>=0;z--)H(ie,ie),z!==1&&L(ie,ie,X);for(z=0;z<16;z++)oe[z]=ie[z]}function de(oe,X,ie){var z=new Uint8Array(32),se=new Float64Array(80),me,$e,ge=n(),Le=n(),Je=n(),Ye=n(),ht=n(),Ze=n();for($e=0;$e<31;$e++)z[$e]=X[$e];for(z[31]=X[31]&127|64,z[0]&=248,U(se,ie),$e=0;$e<16;$e++)Le[$e]=se[$e],Ye[$e]=ge[$e]=Je[$e]=0;for(ge[0]=Ye[0]=1,$e=254;$e>=0;--$e)me=z[$e>>>3]>>>($e&7)&1,S(ge,Le,me),S(Je,Ye,me),F(ht,ge,Je),N(ge,ge,Je),F(Je,Le,Ye),N(Le,Le,Ye),H(Ye,ht),H(Ze,ge),L(ge,Je,ge),L(Je,Le,ht),F(ht,ge,Je),N(ge,ge,Je),H(Le,ge),N(Je,Ye,Ze),L(ge,Je,v),F(ge,ge,Ye),L(Je,Je,ge),L(ge,Ye,Ze),L(Ye,Le,se),H(Le,ht),S(ge,Le,me),S(Je,Ye,me);for($e=0;$e<16;$e++)se[$e+16]=ge[$e],se[$e+32]=Je[$e],se[$e+48]=Le[$e],se[$e+64]=Ye[$e];var dt=se.subarray(32),Xe=se.subarray(16);return Y(dt,dt),L(Xe,Xe,dt),d(oe,Xe),0}function he(oe,X){return de(oe,X,a)}function re(oe,X){return o(X,32),he(oe,X)}function ae(oe,X,ie){var z=new Uint8Array(32);return de(z,ie,X),ee(oe,c,z,te)}var be=_,ye=A;function we(oe,X,ie,z,se,me){var $e=new Uint8Array(32);return ae($e,se,me),be(oe,X,ie,z,$e)}function Te(oe,X,ie,z,se,me){var $e=new Uint8Array(32);return ae($e,se,me),ye(oe,X,ie,z,$e)}var ve=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ce(oe,X,ie,z){for(var se=new Int32Array(16),me=new Int32Array(16),$e,ge,Le,Je,Ye,ht,Ze,dt,Xe,mt,lt,yt,_t,gt,at,$t,ot,it,st,tt,ke,qe,rt,Qe,et,ct,Et=oe[0],It=oe[1],At=oe[2],Mt=oe[3],Ee=oe[4],jt=oe[5],kt=oe[6],xt=oe[7],Ct=X[0],Rt=X[1],Nt=X[2],Kt=X[3],Dt=X[4],Bt=X[5],Lt=X[6],Ut=X[7],Ft=0;z>=128;){for(st=0;st<16;st++)tt=8*st+Ft,se[st]=ie[tt+0]<<24|ie[tt+1]<<16|ie[tt+2]<<8|ie[tt+3],me[st]=ie[tt+4]<<24|ie[tt+5]<<16|ie[tt+6]<<8|ie[tt+7];for(st=0;st<80;st++)if($e=Et,ge=It,Le=At,Je=Mt,Ye=Ee,ht=jt,Ze=kt,dt=xt,Xe=Ct,mt=Rt,lt=Nt,yt=Kt,_t=Dt,gt=Bt,at=Lt,$t=Ut,ke=xt,qe=Ut,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=(Ee>>>14|Dt<<18)^(Ee>>>18|Dt<<14)^(Dt>>>9|Ee<<23),qe=(Dt>>>14|Ee<<18)^(Dt>>>18|Ee<<14)^(Ee>>>9|Dt<<23),rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,ke=Ee&jt^~Ee&kt,qe=Dt&Bt^~Dt&Lt,rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,ke=ve[st*2],qe=ve[st*2+1],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,ke=se[st%16],qe=me[st%16],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,ot=et&65535|ct<<16,it=rt&65535|Qe<<16,ke=ot,qe=it,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=(Et>>>28|Ct<<4)^(Ct>>>2|Et<<30)^(Ct>>>7|Et<<25),qe=(Ct>>>28|Et<<4)^(Et>>>2|Ct<<30)^(Et>>>7|Ct<<25),rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,ke=Et&It^Et&At^It&At,qe=Ct&Rt^Ct&Nt^Rt&Nt,rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,dt=et&65535|ct<<16,$t=rt&65535|Qe<<16,ke=Je,qe=yt,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=ot,qe=it,rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,Je=et&65535|ct<<16,yt=rt&65535|Qe<<16,It=$e,At=ge,Mt=Le,Ee=Je,jt=Ye,kt=ht,xt=Ze,Et=dt,Rt=Xe,Nt=mt,Kt=lt,Dt=yt,Bt=_t,Lt=gt,Ut=at,Ct=$t,st%16===15)for(tt=0;tt<16;tt++)ke=se[tt],qe=me[tt],rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=se[(tt+9)%16],qe=me[(tt+9)%16],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,ot=se[(tt+1)%16],it=me[(tt+1)%16],ke=(ot>>>1|it<<31)^(ot>>>8|it<<24)^ot>>>7,qe=(it>>>1|ot<<31)^(it>>>8|ot<<24)^(it>>>7|ot<<25),rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,ot=se[(tt+14)%16],it=me[(tt+14)%16],ke=(ot>>>19|it<<13)^(it>>>29|ot<<3)^ot>>>6,qe=(it>>>19|ot<<13)^(ot>>>29|it<<3)^(it>>>6|ot<<26),rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,se[tt]=et&65535|ct<<16,me[tt]=rt&65535|Qe<<16;ke=Et,qe=Ct,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=oe[0],qe=X[0],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,oe[0]=Et=et&65535|ct<<16,X[0]=Ct=rt&65535|Qe<<16,ke=It,qe=Rt,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=oe[1],qe=X[1],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,oe[1]=It=et&65535|ct<<16,X[1]=Rt=rt&65535|Qe<<16,ke=At,qe=Nt,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=oe[2],qe=X[2],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,oe[2]=At=et&65535|ct<<16,X[2]=Nt=rt&65535|Qe<<16,ke=Mt,qe=Kt,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=oe[3],qe=X[3],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,oe[3]=Mt=et&65535|ct<<16,X[3]=Kt=rt&65535|Qe<<16,ke=Ee,qe=Dt,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=oe[4],qe=X[4],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,oe[4]=Ee=et&65535|ct<<16,X[4]=Dt=rt&65535|Qe<<16,ke=jt,qe=Bt,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=oe[5],qe=X[5],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,oe[5]=jt=et&65535|ct<<16,X[5]=Bt=rt&65535|Qe<<16,ke=kt,qe=Lt,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=oe[6],qe=X[6],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,oe[6]=kt=et&65535|ct<<16,X[6]=Lt=rt&65535|Qe<<16,ke=xt,qe=Ut,rt=qe&65535,Qe=qe>>>16,et=ke&65535,ct=ke>>>16,ke=oe[7],qe=X[7],rt+=qe&65535,Qe+=qe>>>16,et+=ke&65535,ct+=ke>>>16,Qe+=rt>>>16,et+=Qe>>>16,ct+=et>>>16,oe[7]=xt=et&65535|ct<<16,X[7]=Ut=rt&65535|Qe<<16,Ft+=128,z-=128}return z}function Oe(oe,X,ie){var z=new Int32Array(8),se=new Int32Array(8),me=new Uint8Array(256),$e,ge=ie;for(z[0]=1779033703,z[1]=3144134277,z[2]=1013904242,z[3]=2773480762,z[4]=1359893119,z[5]=2600822924,z[6]=528734635,z[7]=1541459225,se[0]=4089235720,se[1]=2227873595,se[2]=4271175723,se[3]=1595750129,se[4]=2917565137,se[5]=725511199,se[6]=4215389547,se[7]=327033209,Ce(z,se,X,ie),ie%=128,$e=0;$e<ie;$e++)me[$e]=X[ge-ie+$e];for(me[ie]=128,ie=256-128*(ie<112?1:0),me[ie-9]=0,C(me,ie-8,ge/536870912|0,ge<<3),Ce(z,se,me,ie),$e=0;$e<8;$e++)C(oe,8*$e,z[$e],se[$e]);return 0}function Se(oe,X){var ie=n(),z=n(),se=n(),me=n(),$e=n(),ge=n(),Le=n(),Je=n(),Ye=n();N(ie,oe[1],oe[0]),N(Ye,X[1],X[0]),L(ie,ie,Ye),F(z,oe[0],oe[1]),F(Ye,X[0],X[1]),L(z,z,Ye),L(se,oe[3],X[3]),L(se,se,y),L(me,oe[2],X[2]),F(me,me,me),N($e,z,ie),N(ge,me,se),F(Le,me,se),F(Je,z,ie),L(oe[0],$e,ge),L(oe[1],Je,Le),L(oe[2],Le,ge),L(oe[3],$e,Je)}function Pe(oe,X,ie){var z;for(z=0;z<4;z++)S(oe[z],X[z],ie)}function nt(oe,X){var ie=n(),z=n(),se=n();Y(se,X[2]),L(ie,X[0],se),L(z,X[1],se),d(oe,z),oe[31]^=M(ie)<<7}function Me(oe,X,ie){var z,se;for(I(oe[0],u),I(oe[1],h),I(oe[2],h),I(oe[3],u),se=255;se>=0;--se)z=ie[se/8|0]>>(se&7)&1,Pe(oe,X,z),Se(X,oe),Se(oe,oe),Pe(oe,X,z)}function Re(oe,X){var ie=[n(),n(),n(),n()];I(ie[0],w),I(ie[1],O),I(ie[2],h),L(ie[3],w,O),Me(oe,ie,X)}function pt(oe,X,ie){var z=new Uint8Array(64),se=[n(),n(),n(),n()],me;for(ie||o(X,32),Oe(z,X,32),z[0]&=248,z[31]&=127,z[31]|=64,Re(se,z),nt(oe,se),me=0;me<32;me++)X[me+32]=oe[me];return 0}var je=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Be(oe,X){var ie,z,se,me;for(z=63;z>=32;--z){for(ie=0,se=z-32,me=z-12;se<me;++se)X[se]+=ie-16*X[z]*je[se-(z-32)],ie=Math.floor((X[se]+128)/256),X[se]-=ie*256;X[se]+=ie,X[z]=0}for(ie=0,se=0;se<32;se++)X[se]+=ie-(X[31]>>4)*je[se],ie=X[se]>>8,X[se]&=255;for(se=0;se<32;se++)X[se]-=ie*je[se];for(z=0;z<32;z++)X[z+1]+=X[z]>>8,oe[z]=X[z]&255}function vt(oe){var X=new Float64Array(64),ie;for(ie=0;ie<64;ie++)X[ie]=oe[ie];for(ie=0;ie<64;ie++)oe[ie]=0;Be(oe,X)}function Ne(oe,X,ie,z){var se=new Uint8Array(64),me=new Uint8Array(64),$e=new Uint8Array(64),ge,Le,Je=new Float64Array(64),Ye=[n(),n(),n(),n()];Oe(se,z,32),se[0]&=248,se[31]&=127,se[31]|=64;var ht=ie+64;for(ge=0;ge<ie;ge++)oe[64+ge]=X[ge];for(ge=0;ge<32;ge++)oe[32+ge]=se[32+ge];for(Oe($e,oe.subarray(32),ie+32),vt($e),Re(Ye,$e),nt(oe,Ye),ge=32;ge<64;ge++)oe[ge]=z[ge];for(Oe(me,oe,ie+64),vt(me),ge=0;ge<64;ge++)Je[ge]=0;for(ge=0;ge<32;ge++)Je[ge]=$e[ge];for(ge=0;ge<32;ge++)for(Le=0;Le<32;Le++)Je[ge+Le]+=me[ge]*se[Le];return Be(oe.subarray(32),Je),ht}function J(oe,X){var ie=n(),z=n(),se=n(),me=n(),$e=n(),ge=n(),Le=n();return I(oe[2],h),U(oe[1],X),H(se,oe[1]),L(me,se,b),N(se,se,oe[2]),F(me,oe[2],me),H($e,me),H(ge,$e),L(Le,ge,$e),L(ie,Le,se),L(ie,ie,me),Z(ie,ie),L(ie,ie,se),L(ie,ie,me),L(ie,ie,me),L(oe[0],ie,me),H(z,oe[0]),L(z,z,me),E(z,se)&&L(oe[0],oe[0],P),H(z,oe[0]),L(z,z,me),E(z,se)?-1:(M(oe[0])===X[31]>>7&&N(oe[0],u,oe[0]),L(oe[3],oe[0],oe[1]),0)}function le(oe,X,ie,z){var se,me=new Uint8Array(32),$e=new Uint8Array(64),ge=[n(),n(),n(),n()],Le=[n(),n(),n(),n()];if(ie<64||J(Le,z))return-1;for(se=0;se<ie;se++)oe[se]=X[se];for(se=0;se<32;se++)oe[se+32]=z[se];if(Oe($e,oe,ie),vt($e),Me(ge,Le,$e),Re(Le,X.subarray(32)),Se(ge,Le),nt(me,ge),ie-=64,k(X,0,me,0)){for(se=0;se<ie;se++)oe[se]=0;return-1}for(se=0;se<ie;se++)oe[se]=X[se+64];return ie}var ue=32,pe=24,Ie=32,_e=16,Ae=32,bt=32,xe=32,Ke=32,wt=32,De=pe,He=Ie,Pt=_e,Ue=64,We=32,St=64,Fe=32,Ve=64;t.lowlevel={crypto_core_hsalsa20:ee,crypto_stream_xor:fe,crypto_stream:ne,crypto_stream_salsa20_xor:ce,crypto_stream_salsa20:Q,crypto_onetimeauth:p,crypto_onetimeauth_verify:m,crypto_verify_16:D,crypto_verify_32:k,crypto_secretbox:_,crypto_secretbox_open:A,crypto_scalarmult:de,crypto_scalarmult_base:he,crypto_box_beforenm:ae,crypto_box_afternm:be,crypto_box:we,crypto_box_open:Te,crypto_box_keypair:re,crypto_hash:Oe,crypto_sign:Ne,crypto_sign_keypair:pt,crypto_sign_open:le,crypto_secretbox_KEYBYTES:ue,crypto_secretbox_NONCEBYTES:pe,crypto_secretbox_ZEROBYTES:Ie,crypto_secretbox_BOXZEROBYTES:_e,crypto_scalarmult_BYTES:Ae,crypto_scalarmult_SCALARBYTES:bt,crypto_box_PUBLICKEYBYTES:xe,crypto_box_SECRETKEYBYTES:Ke,crypto_box_BEFORENMBYTES:wt,crypto_box_NONCEBYTES:De,crypto_box_ZEROBYTES:He,crypto_box_BOXZEROBYTES:Pt,crypto_sign_BYTES:Ue,crypto_sign_PUBLICKEYBYTES:We,crypto_sign_SECRETKEYBYTES:St,crypto_sign_SEEDBYTES:Fe,crypto_hash_BYTES:Ve,gf:n,D:b,L:je,pack25519:d,unpack25519:U,M:L,A:F,S:H,Z:N,pow2523:Z,add:Se,set25519:I,modL:Be,scalarmult:Me,scalarbase:Re};function Ot(oe,X){if(oe.length!==ue)throw new Error("bad key size");if(X.length!==pe)throw new Error("bad nonce size")}function Ge(oe,X){if(oe.length!==xe)throw new Error("bad public key size");if(X.length!==Ke)throw new Error("bad secret key size")}function ze(){for(var oe=0;oe<arguments.length;oe++)if(!(arguments[oe]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Tt(oe){for(var X=0;X<oe.length;X++)oe[X]=0}t.randomBytes=function(oe){var X=new Uint8Array(oe);return o(X,oe),X},t.secretbox=function(oe,X,ie){ze(oe,X,ie),Ot(ie,X);for(var z=new Uint8Array(Ie+oe.length),se=new Uint8Array(z.length),me=0;me<oe.length;me++)z[me+Ie]=oe[me];return _(se,z,z.length,X,ie),se.subarray(_e)},t.secretbox.open=function(oe,X,ie){ze(oe,X,ie),Ot(ie,X);for(var z=new Uint8Array(_e+oe.length),se=new Uint8Array(z.length),me=0;me<oe.length;me++)z[me+_e]=oe[me];return z.length<32||A(se,z,z.length,X,ie)!==0?null:se.subarray(Ie)},t.secretbox.keyLength=ue,t.secretbox.nonceLength=pe,t.secretbox.overheadLength=_e,t.scalarMult=function(oe,X){if(ze(oe,X),oe.length!==bt)throw new Error("bad n size");if(X.length!==Ae)throw new Error("bad p size");var ie=new Uint8Array(Ae);return de(ie,oe,X),ie},t.scalarMult.base=function(oe){if(ze(oe),oe.length!==bt)throw new Error("bad n size");var X=new Uint8Array(Ae);return he(X,oe),X},t.scalarMult.scalarLength=bt,t.scalarMult.groupElementLength=Ae,t.box=function(oe,X,ie,z){var se=t.box.before(ie,z);return t.secretbox(oe,X,se)},t.box.before=function(oe,X){ze(oe,X),Ge(oe,X);var ie=new Uint8Array(wt);return ae(ie,oe,X),ie},t.box.after=t.secretbox,t.box.open=function(oe,X,ie,z){var se=t.box.before(ie,z);return t.secretbox.open(oe,X,se)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var oe=new Uint8Array(xe),X=new Uint8Array(Ke);return re(oe,X),{publicKey:oe,secretKey:X}},t.box.keyPair.fromSecretKey=function(oe){if(ze(oe),oe.length!==Ke)throw new Error("bad secret key size");var X=new Uint8Array(xe);return he(X,oe),{publicKey:X,secretKey:new Uint8Array(oe)}},t.box.publicKeyLength=xe,t.box.secretKeyLength=Ke,t.box.sharedKeyLength=wt,t.box.nonceLength=De,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(oe,X){if(ze(oe,X),X.length!==St)throw new Error("bad secret key size");var ie=new Uint8Array(Ue+oe.length);return Ne(ie,oe,oe.length,X),ie},t.sign.open=function(oe,X){if(ze(oe,X),X.length!==We)throw new Error("bad public key size");var ie=new Uint8Array(oe.length),z=le(ie,oe,oe.length,X);if(z<0)return null;for(var se=new Uint8Array(z),me=0;me<se.length;me++)se[me]=ie[me];return se},t.sign.detached=function(oe,X){for(var ie=t.sign(oe,X),z=new Uint8Array(Ue),se=0;se<z.length;se++)z[se]=ie[se];return z},t.sign.detached.verify=function(oe,X,ie){if(ze(oe,X,ie),X.length!==Ue)throw new Error("bad signature size");if(ie.length!==We)throw new Error("bad public key size");var z=new Uint8Array(Ue+oe.length),se=new Uint8Array(Ue+oe.length),me;for(me=0;me<Ue;me++)z[me]=X[me];for(me=0;me<oe.length;me++)z[me+Ue]=oe[me];return le(se,z,z.length,ie)>=0},t.sign.keyPair=function(){var oe=new Uint8Array(We),X=new Uint8Array(St);return pt(oe,X),{publicKey:oe,secretKey:X}},t.sign.keyPair.fromSecretKey=function(oe){if(ze(oe),oe.length!==St)throw new Error("bad secret key size");for(var X=new Uint8Array(We),ie=0;ie<X.length;ie++)X[ie]=oe[32+ie];return{publicKey:X,secretKey:new Uint8Array(oe)}},t.sign.keyPair.fromSeed=function(oe){if(ze(oe),oe.length!==Fe)throw new Error("bad seed size");for(var X=new Uint8Array(We),ie=new Uint8Array(St),z=0;z<32;z++)ie[z]=oe[z];return pt(X,ie,!0),{publicKey:X,secretKey:ie}},t.sign.publicKeyLength=We,t.sign.secretKeyLength=St,t.sign.seedLength=Fe,t.sign.signatureLength=Ue,t.hash=function(oe){ze(oe);var X=new Uint8Array(Ve);return Oe(X,oe,oe.length),X},t.hash.hashLength=Ve,t.verify=function(oe,X){return ze(oe,X),oe.length===0||X.length===0||oe.length!==X.length?!1:x(oe,0,X,0,oe.length)===0},t.setPRNG=function(oe){o=oe},function(){var oe=typeof self<"u"?self.crypto||self.msCrypto:null;if(oe&&oe.getRandomValues){var X=65536;t.setPRNG(function(ie,z){var se,me=new Uint8Array(z);for(se=0;se<z;se+=X)oe.getRandomValues(me.subarray(se,se+Math.min(z-se,X)));for(se=0;se<z;se++)ie[se]=me[se];Tt(me)})}else typeof commonjsRequire<"u"&&(oe=requireCryptoBrowserify(),oe&&oe.randomBytes&&t.setPRNG(function(ie,z){var se,me=oe.randomBytes(z);for(se=0;se<z;se++)ie[se]=me[se];Tt(me)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports,public_key$3={},lib$F={},assignable$1={};Object.defineProperty(assignable$1,"__esModule",{value:!0}),assignable$1.Assignable=void 0;let Assignable$1=class{constructor(e){Object.keys(e).map(t=>{this[t]=e[t]})}};assignable$1.Assignable=Assignable$1;var errors$k={};Object.defineProperty(errors$k,"__esModule",{value:!0}),errors$k.ErrorContext=errors$k.TypedError=errors$k.ArgumentTypeError=errors$k.PositionalArgsError=void 0;let PositionalArgsError$1=class extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}};errors$k.PositionalArgsError=PositionalArgsError$1;let ArgumentTypeError$1=class extends Error{constructor(e,t,n){super(`Expected ${t} for '${e}' argument, but got '${JSON.stringify(n)}'`)}};errors$k.ArgumentTypeError=ArgumentTypeError$1;let TypedError$1=class extends Error{constructor(e,t,n){super(e),this.type=t||"UntypedError",this.context=n}};errors$k.TypedError=TypedError$1;let ErrorContext$1=class{constructor(e){this.transactionHash=e}};errors$k.ErrorContext=ErrorContext$1;var provider$e={},light_client$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.IdType=void 0,function(t){t.Transaction="transaction",t.Receipt="receipt"}(e.IdType||(e.IdType={}))})(light_client$1);var response$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=void 0,function(t){t.Unknown="Unknown",t.Pending="Pending",t.Failure="Failure"}(e.ExecutionStatusBasic||(e.ExecutionStatusBasic={})),function(t){t.NotStarted="NotStarted",t.Started="Started",t.Failure="Failure"}(e.FinalExecutionStatusBasic||(e.FinalExecutionStatusBasic={}))})(response$2),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=void 0;var t=light_client$1;Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return t.IdType}});var n=response$2;Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return n.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}})}(provider$e),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(assignable$1,e),n(errors$k,e),n(provider$e,e)}(lib$F);var __importDefault$K=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(public_key$3,"__esModule",{value:!0}),public_key$3.PublicKey=void 0;const types_1$Q=lib$F,borsh_1$8=lib$G,tweetnacl_1$1=__importDefault$K(naclFastExports),constants_1$f=constants$c;function key_type_to_str$3(e){switch(e){case constants_1$f.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${e}`)}}function str_to_key_type$3(e){switch(e.toLowerCase()){case"ed25519":return constants_1$f.KeyType.ED25519;default:throw new Error(`Unknown key type ${e}`)}}let PublicKey$3=class Wt extends types_1$Q.Assignable{static from(t){return typeof t=="string"?Wt.fromString(t):t}static fromString(t){const n=t.split(":");let o,c=constants_1$f.KeyType.ED25519;if(n.length===1)o=n[0];else if(n.length===2)o=n[1],c=str_to_key_type$3(n[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const a=(0,borsh_1$8.baseDecode)(o);if(a.length!==tweetnacl_1$1.default.box.publicKeyLength)throw new Error(`Invalid public key size (${a.length}), must be ${tweetnacl_1$1.default.box.publicKeyLength}`);return new Wt({keyType:c,data:a})}toString(){return`${key_type_to_str$3(this.keyType)}:${(0,borsh_1$8.baseEncode)(this.data)}`}verify(t,n){switch(this.keyType){case constants_1$f.KeyType.ED25519:return tweetnacl_1$1.default.sign.detached.verify(t,n,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}};public_key$3.PublicKey=PublicKey$3;var __importDefault$J=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(key_pair_ed25519$3,"__esModule",{value:!0}),key_pair_ed25519$3.KeyPairEd25519=void 0;const borsh_1$7=lib$G,tweetnacl_1=__importDefault$J(naclFastExports),constants_1$e=constants$c,key_pair_base_1$7=key_pair_base$3,public_key_1$3=public_key$3;let KeyPairEd25519$3=class Jt extends key_pair_base_1$7.KeyPairBase{constructor(t){super();const n=tweetnacl_1.default.sign.keyPair.fromSecretKey((0,borsh_1$7.baseDecode)(t));this.publicKey=new public_key_1$3.PublicKey({keyType:constants_1$e.KeyType.ED25519,data:n.publicKey}),this.secretKey=t}static fromRandom(){const t=tweetnacl_1.default.sign.keyPair();return new Jt((0,borsh_1$7.baseEncode)(t.secretKey))}sign(t){return{signature:tweetnacl_1.default.sign.detached(t,(0,borsh_1$7.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(t,n){return this.publicKey.verify(t,n)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}};key_pair_ed25519$3.KeyPairEd25519=KeyPairEd25519$3,Object.defineProperty(key_pair$7,"__esModule",{value:!0}),key_pair$7.KeyPair=void 0;const key_pair_base_1$6=key_pair_base$3,key_pair_ed25519_1$3=key_pair_ed25519$3;let KeyPair$3=class extends key_pair_base_1$6.KeyPairBase{static fromRandom(e){switch(e.toUpperCase()){case"ED25519":return key_pair_ed25519_1$3.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${e}`)}}static fromString(e){const t=e.split(":");if(t.length===1)return new key_pair_ed25519_1$3.KeyPairEd25519(t[0]);if(t.length===2)switch(t[0].toUpperCase()){case"ED25519":return new key_pair_ed25519_1$3.KeyPairEd25519(t[1]);default:throw new Error(`Unknown curve: ${t[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}};key_pair$7.KeyPair=KeyPair$3,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var t=constants$c;Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}});var n=key_pair$7;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return n.KeyPair}});var o=key_pair_ed25519$3;Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return o.KeyPairEd25519}});var c=public_key$3;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return c.PublicKey}})}(lib$H);var keystore$6={};Object.defineProperty(keystore$6,"__esModule",{value:!0}),keystore$6.KeyStore=void 0;let KeyStore$3=class{};keystore$6.KeyStore=KeyStore$3;var __awaiter$1l=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(in_memory_key_store$7,"__esModule",{value:!0}),in_memory_key_store$7.InMemoryKeyStore=void 0;const crypto_1$t=lib$H,keystore_1$7=keystore$6;let InMemoryKeyStore$3=class extends keystore_1$7.KeyStore{constructor(){super(),this.keys={}}setKey(e,t,n){return __awaiter$1l(this,void 0,void 0,function*(){this.keys[`${t}:${e}`]=n.toString()})}getKey(e,t){return __awaiter$1l(this,void 0,void 0,function*(){const n=this.keys[`${t}:${e}`];return n?crypto_1$t.KeyPair.fromString(n):null})}removeKey(e,t){return __awaiter$1l(this,void 0,void 0,function*(){delete this.keys[`${t}:${e}`]})}clear(){return __awaiter$1l(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return __awaiter$1l(this,void 0,void 0,function*(){const e=new Set;return Object.keys(this.keys).forEach(t=>{const n=t.split(":");e.add(n[1])}),Array.from(e.values())})}getAccounts(e){return __awaiter$1l(this,void 0,void 0,function*(){const t=new Array;return Object.keys(this.keys).forEach(n=>{const o=n.split(":");o[o.length-1]===e&&t.push(o.slice(0,o.length-1).join(":"))}),t})}toString(){return"InMemoryKeyStore"}};in_memory_key_store$7.InMemoryKeyStore=InMemoryKeyStore$3;var merge_key_store$7={},__awaiter$1k=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(merge_key_store$7,"__esModule",{value:!0}),merge_key_store$7.MergeKeyStore=void 0;const keystore_1$6=keystore$6;let MergeKeyStore$3=class extends keystore_1$6.KeyStore{constructor(e,t={writeKeyStoreIndex:0}){super(),this.options=t,this.keyStores=e}setKey(e,t,n){return __awaiter$1k(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(e,t,n)})}getKey(e,t){return __awaiter$1k(this,void 0,void 0,function*(){for(const n of this.keyStores){const o=yield n.getKey(e,t);if(o)return o}return null})}removeKey(e,t){return __awaiter$1k(this,void 0,void 0,function*(){for(const n of this.keyStores)yield n.removeKey(e,t)})}clear(){return __awaiter$1k(this,void 0,void 0,function*(){for(const e of this.keyStores)yield e.clear()})}getNetworks(){return __awaiter$1k(this,void 0,void 0,function*(){const e=new Set;for(const t of this.keyStores)for(const n of yield t.getNetworks())e.add(n);return Array.from(e)})}getAccounts(e){return __awaiter$1k(this,void 0,void 0,function*(){const t=new Set;for(const n of this.keyStores)for(const o of yield n.getAccounts(e))t.add(o);return Array.from(t)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}};merge_key_store$7.MergeKeyStore=MergeKeyStore$3,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.KeyStore=e.InMemoryKeyStore=void 0;var t=in_memory_key_store$7;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}});var n=keystore$6;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return n.KeyStore}});var o=merge_key_store$7;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return o.MergeKeyStore}})}(lib$I),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0;var t=lib$I;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}})}(keystore$7);var in_memory_key_store$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;var t=lib$I;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}})})(in_memory_key_store$6);var browser_local_storage_key_store$7={},lib$E={},browser_local_storage_key_store$6={},__awaiter$1j=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(browser_local_storage_key_store$6,"__esModule",{value:!0}),browser_local_storage_key_store$6.BrowserLocalStorageKeyStore=void 0;const crypto_1$s=lib$H,keystores_1$7=lib$I,LOCAL_STORAGE_KEY_PREFIX$3="near-api-js:keystore:";let BrowserLocalStorageKeyStore$3=class extends keystores_1$7.KeyStore{constructor(e=window.localStorage,t=LOCAL_STORAGE_KEY_PREFIX$3){super(),this.localStorage=e,this.prefix=t}setKey(e,t,n){return __awaiter$1j(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(e,t),n.toString())})}getKey(e,t){return __awaiter$1j(this,void 0,void 0,function*(){const n=this.localStorage.getItem(this.storageKeyForSecretKey(e,t));return n?crypto_1$s.KeyPair.fromString(n):null})}removeKey(e,t){return __awaiter$1j(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(e,t))})}clear(){return __awaiter$1j(this,void 0,void 0,function*(){for(const e of this.storageKeys())e.startsWith(this.prefix)&&this.localStorage.removeItem(e)})}getNetworks(){return __awaiter$1j(this,void 0,void 0,function*(){const e=new Set;for(const t of this.storageKeys())if(t.startsWith(this.prefix)){const n=t.substring(this.prefix.length).split(":");e.add(n[1])}return Array.from(e.values())})}getAccounts(e){return __awaiter$1j(this,void 0,void 0,function*(){const t=new Array;for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const o=n.substring(this.prefix.length).split(":");o[1]===e&&t.push(o[0])}return t})}storageKeyForSecretKey(e,t){return`${this.prefix}${t}:${e}`}*storageKeys(){for(let e=0;e<this.localStorage.length;e++)yield this.localStorage.key(e)}};browser_local_storage_key_store$6.BrowserLocalStorageKeyStore=BrowserLocalStorageKeyStore$3,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var t=browser_local_storage_key_store$6;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}})}(lib$E),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var t=lib$E;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}})}(browser_local_storage_key_store$7);var merge_key_store$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;var t=lib$I;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return t.MergeKeyStore}})})(merge_key_store$6),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.BrowserLocalStorageKeyStore=e.InMemoryKeyStore=e.KeyStore=void 0;const t=keystore$7;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}});const n=in_memory_key_store$6;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return n.InMemoryKeyStore}});const o=browser_local_storage_key_store$7;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return o.BrowserLocalStorageKeyStore}});const c=merge_key_store$6;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return c.MergeKeyStore}})}(browserIndex$8);var commonIndex$3={},providers$3={},provider$d={},lib$D={},constants$a={},__importDefault$I=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(constants$a,"__esModule",{value:!0}),constants$a.DEFAULT_FUNCTION_CALL_GAS=void 0;const bn_js_1$t=__importDefault$I(bnExports$6);constants$a.DEFAULT_FUNCTION_CALL_GAS=new bn_js_1$t.default("30000000000000");var errors$j={},errors$i={},define_process_env_default$7={};Object.defineProperty(errors$i,"__esModule",{value:!0}),errors$i.logWarning=void 0;function logWarning$4(...e){define_process_env_default$7.NEAR_NO_LOGS||console.warn(...e)}errors$i.logWarning=logWarning$4;var rpc_errors$7={},mustache$3={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(commonjsGlobal$7,function(){/*!
* mustache.js - Logic-less {{mustache}} templates with JavaScript
* http://github.com/janl/mustache.js
*/var n=Object.prototype.toString,o=Array.isArray||function(p){return n.call(p)==="[object Array]"};function c(p){return typeof p=="function"}function a(p){return o(p)?"array":typeof p}function u(p){return p.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h(p,m){return p!=null&&typeof p=="object"&&m in p}function v(p,m){return p!=null&&typeof p!="object"&&p.hasOwnProperty&&p.hasOwnProperty(m)}var b=RegExp.prototype.test;function y(p,m){return b.call(p,m)}var w=/\S/;function O(p){return!y(w,p)}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function C(p){return String(p).replace(/[&<>"'`=\/]/g,function(m){return P[m]})}var x=/\s*/,D=/\s+/,k=/\s*=/,B=/\s*\}/,q=/#|\^|\/|>|\{|&|=|!/;function V(p,m){if(!p)return[];var _=!1,A=[],I=[],T=[],S=!1,d=!1,E="",M=0;function U(){if(S&&!d)for(;T.length;)delete I[T.pop()];else T=[];S=!1,d=!1}var F,N,L;function H(Te){if(typeof Te=="string"&&(Te=Te.split(D,2)),!o(Te)||Te.length!==2)throw new Error("Invalid tags: "+Te);F=new RegExp(u(Te[0])+"\\s*"),N=new RegExp("\\s*"+u(Te[1])),L=new RegExp("\\s*"+u("}"+Te[1]))}H(m||fe.tags);for(var Y=new ce(p),Z,de,he,re,ae,be;!Y.eos();){if(Z=Y.pos,he=Y.scanUntil(F),he)for(var ye=0,we=he.length;ye<we;++ye)re=he.charAt(ye),O(re)?(T.push(I.length),E+=re):(d=!0,_=!0,E+=" "),I.push(["text",re,Z,Z+1]),Z+=1,re===`
`&&(U(),E="",M=0,_=!1);if(!Y.scan(F))break;if(S=!0,de=Y.scan(q)||"name",Y.scan(x),de==="="?(he=Y.scanUntil(k),Y.scan(k),Y.scanUntil(N)):de==="{"?(he=Y.scanUntil(L),Y.scan(B),Y.scanUntil(N),de="&"):he=Y.scanUntil(N),!Y.scan(N))throw new Error("Unclosed tag at "+Y.pos);if(de==">"?ae=[de,he,Z,Y.pos,E,M,_]:ae=[de,he,Z,Y.pos],M++,I.push(ae),de==="#"||de==="^")A.push(ae);else if(de==="/"){if(be=A.pop(),!be)throw new Error('Unopened section "'+he+'" at '+Z);if(be[1]!==he)throw new Error('Unclosed section "'+be[1]+'" at '+Z)}else de==="name"||de==="{"||de==="&"?d=!0:de==="="&&H(he)}if(U(),be=A.pop(),be)throw new Error('Unclosed section "'+be[1]+'" at '+Y.pos);return te(ee(I))}function ee(p){for(var m=[],_,A,I=0,T=p.length;I<T;++I)_=p[I],_&&(_[0]==="text"&&A&&A[0]==="text"?(A[1]+=_[1],A[3]=_[3]):(m.push(_),A=_));return m}function te(p){for(var m=[],_=m,A=[],I,T,S=0,d=p.length;S<d;++S)switch(I=p[S],I[0]){case"#":case"^":_.push(I),A.push(I),_=I[4]=[];break;case"/":T=A.pop(),T[5]=I[2],_=A.length>0?A[A.length-1][4]:m;break;default:_.push(I)}return m}function ce(p){this.string=p,this.tail=p,this.pos=0}ce.prototype.eos=function(){return this.tail===""},ce.prototype.scan=function(p){var m=this.tail.match(p);if(!m||m.index!==0)return"";var _=m[0];return this.tail=this.tail.substring(_.length),this.pos+=_.length,_},ce.prototype.scanUntil=function(p){var m=this.tail.search(p),_;switch(m){case-1:_=this.tail,this.tail="";break;case 0:_="";break;default:_=this.tail.substring(0,m),this.tail=this.tail.substring(m)}return this.pos+=_.length,_};function Q(p,m){this.view=p,this.cache={".":this.view},this.parent=m}Q.prototype.push=function(p){return new Q(p,this)},Q.prototype.lookup=function(p){var m=this.cache,_;if(m.hasOwnProperty(p))_=m[p];else{for(var A=this,I,T,S,d=!1;A;){if(p.indexOf(".")>0)for(I=A.view,T=p.split("."),S=0;I!=null&&S<T.length;)S===T.length-1&&(d=h(I,T[S])||v(I,T[S])),I=I[T[S++]];else I=A.view[p],d=h(A.view,p);if(d){_=I;break}A=A.parent}m[p]=_}return c(_)&&(_=_.call(this.view)),_};function ne(){this.templateCache={_cache:{},set:function(p,m){this._cache[p]=m},get:function(p){return this._cache[p]},clear:function(){this._cache={}}}}ne.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},ne.prototype.parse=function(p,m){var _=this.templateCache,A=p+":"+(m||fe.tags).join(":"),I=typeof _<"u",T=I?_.get(A):void 0;return T==null&&(T=V(p,m),I&&_.set(A,T)),T},ne.prototype.render=function(p,m,_,A){var I=this.getConfigTags(A),T=this.parse(p,I),S=m instanceof Q?m:new Q(m,void 0);return this.renderTokens(T,S,_,p,A)},ne.prototype.renderTokens=function(p,m,_,A,I){for(var T="",S,d,E,M=0,U=p.length;M<U;++M)E=void 0,S=p[M],d=S[0],d==="#"?E=this.renderSection(S,m,_,A,I):d==="^"?E=this.renderInverted(S,m,_,A,I):d===">"?E=this.renderPartial(S,m,_,I):d==="&"?E=this.unescapedValue(S,m):d==="name"?E=this.escapedValue(S,m,I):d==="text"&&(E=this.rawValue(S)),E!==void 0&&(T+=E);return T},ne.prototype.renderSection=function(p,m,_,A,I){var T=this,S="",d=m.lookup(p[1]);function E(F){return T.render(F,m,_,I)}if(d){if(o(d))for(var M=0,U=d.length;M<U;++M)S+=this.renderTokens(p[4],m.push(d[M]),_,A,I);else if(typeof d=="object"||typeof d=="string"||typeof d=="number")S+=this.renderTokens(p[4],m.push(d),_,A,I);else if(c(d)){if(typeof A!="string")throw new Error("Cannot use higher-order sections without the original template");d=d.call(m.view,A.slice(p[3],p[5]),E),d!=null&&(S+=d)}else S+=this.renderTokens(p[4],m,_,A,I);return S}},ne.prototype.renderInverted=function(p,m,_,A,I){var T=m.lookup(p[1]);if(!T||o(T)&&T.length===0)return this.renderTokens(p[4],m,_,A,I)},ne.prototype.indentPartial=function(p,m,_){for(var A=m.replace(/[^ \t]/g,""),I=p.split(`
`),T=0;T<I.length;T++)I[T].length&&(T>0||!_)&&(I[T]=A+I[T]);return I.join(`
`)},ne.prototype.renderPartial=function(p,m,_,A){if(_){var I=this.getConfigTags(A),T=c(_)?_(p[1]):_[p[1]];if(T!=null){var S=p[6],d=p[5],E=p[4],M=T;d==0&&E&&(M=this.indentPartial(T,E,S));var U=this.parse(M,I);return this.renderTokens(U,m,_,M,A)}}},ne.prototype.unescapedValue=function(p,m){var _=m.lookup(p[1]);if(_!=null)return _},ne.prototype.escapedValue=function(p,m,_){var A=this.getConfigEscape(_)||fe.escape,I=m.lookup(p[1]);if(I!=null)return typeof I=="number"&&A===fe.escape?String(I):A(I)},ne.prototype.rawValue=function(p){return p[1]},ne.prototype.getConfigTags=function(p){return o(p)?p:p&&typeof p=="object"?p.tags:void 0},ne.prototype.getConfigEscape=function(p){if(p&&typeof p=="object"&&!o(p))return p.escape};var fe={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(p){l.templateCache=p},get templateCache(){return l.templateCache}},l=new ne;return fe.clearCache=function(){return l.clearCache()},fe.parse=function(p,m){return l.parse(p,m)},fe.render=function(p,m,_,A){if(typeof p!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+a(p)+'" was given as the first argument for mustache#render(template, view, partials)');return l.render(p,m,_,A)},fe.escape=C,fe.Scanner=ce,fe.Context=Q,fe.Writer=ne,fe})})(mustache$3);var mustacheExports$3=mustache$3.exports,format$i={};(function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const n=t(bnExports$6);e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=new n.default("10",10).pow(new n.default(e.NEAR_NOMINATION_EXP,10));const o=[],c=new n.default(10);for(let w=0,O=new n.default(5);w<e.NEAR_NOMINATION_EXP;w++,O=O.mul(c))o[w]=O;function a(w,O=e.NEAR_NOMINATION_EXP){const P=new n.default(w,10);if(O!==e.NEAR_NOMINATION_EXP){const D=e.NEAR_NOMINATION_EXP-O-1;D>0&&P.iadd(o[D])}w=P.toString();const C=w.substring(0,w.length-e.NEAR_NOMINATION_EXP)||"0",x=w.substring(w.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,O);return v(`${y(C)}.${x}`)}e.formatNearAmount=a;function u(w){if(!w)return null;w=h(w);const O=w.split("."),P=O[0],C=O[1]||"";if(O.length>2||C.length>e.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${w}' as NEAR amount`);return b(P+C.padEnd(e.NEAR_NOMINATION_EXP,"0"))}e.parseNearAmount=u;function h(w){return w.replace(/,/g,"").trim()}function v(w){return w.replace(/\.?0*$/,"")}function b(w){return w=w.replace(/^0+/,""),w===""?"0":w}function y(w){const O=/(-?\d+)(\d{3})/;for(;O.test(w);)w=w.replace(O,"$1,$2");return w}})(format$i);const GasLimitExceeded$3="Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName$3="Method name is empty",WasmerCompileError$3="Wasmer compilation error: {{msg}}",GuestPanic$3="Smart contract panicked: {{panic_msg}}",Memory$3="Error creating Wasm memory",GasExceeded$3="Exceeded the prepaid gas",MethodUTF8Error$3="Method name is not valid UTF8 string",BadUTF16$3="String encoding is bad UTF-16 sequence",WasmTrap$3="WebAssembly trap: {{msg}}",GasInstrumentation$3="Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex$3="{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex$3="Accessed invalid promise result index: {{result_idx}}",Deserialization$3="Error happened while deserializing the module",MethodNotFound$3="Contract method is not found",InvalidRegisterId$3="Accessed invalid register id: {{register_id}}",InvalidReceiptIndex$3="VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName$3="Method name is empty in contract call",CannotReturnJointPromise$3="Returning joint promise is currently prohibited",StackHeightInstrumentation$3="Stack instrumentation failed",CodeDoesNotExist$3="Cannot find contract code for account {{account_id}}",MethodInvalidSignature$3="Invalid method signature",IntegerOverflow$3="Integer overflow happened during contract execution",MemoryAccessViolation$3="MemoryAccessViolation",InvalidIteratorIndex$3="Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated$3="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId$3="VM Logic returned an invalid account id",Serialization$3="Error happened while serializing the module",CannotAppendActionToJointPromise$3="Actions can only be appended to non-joint promise.",InternalMemoryDeclared$3="Internal memory declaration has been found in the module",Instantiate$3="Error happened during instantiation",ProhibitedInView$3="{{method_name}} is not allowed in view calls",InvalidMethodName$3="VM Logic returned an invalid method name",BadUTF8$3="String encoding is bad UTF-8 sequence",BalanceExceeded$3="Exceeded the account balance",LinkError$3="Wasm contract link error: {{msg}}",InvalidPublicKey$3="VM Logic provided an invalid public key",ActorNoPermission$3="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState$3="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch$3="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow$3="Transaction gas or balance cost is too high",InvalidSignature$3="Transaction is not signed with the given public key",AccessKeyNotFound$3=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance$3="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance$3="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired$3="Transaction has expired",DeleteAccountStaking$3="Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist$3="Signer {{signer_id}} does not exist",TriesToStake$3="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists$3="The public key {{public_key}} is already used for an existing access key",InvalidSigner$3="Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed$3="The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess$3="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake$3="Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce$3="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists$3="Can't create a new account {{account_id}}, because it already exists",InvalidChain$3="Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist$3="Can't complete the action because account {{account_id}} doesn't exist",MethodNameMismatch$3="Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent$3="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance$3="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver$3="Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist$3="Account {{account_id}} tries to remove an access key that doesn't exist",Timeout$3="Timeout exceeded",Closed$3="Connection closed",require$$3$6={GasLimitExceeded:GasLimitExceeded$3,MethodEmptyName:MethodEmptyName$3,WasmerCompileError:WasmerCompileError$3,GuestPanic:GuestPanic$3,Memory:Memory$3,GasExceeded:GasExceeded$3,MethodUTF8Error:MethodUTF8Error$3,BadUTF16:BadUTF16$3,WasmTrap:WasmTrap$3,GasInstrumentation:GasInstrumentation$3,InvalidPromiseIndex:InvalidPromiseIndex$3,InvalidPromiseResultIndex:InvalidPromiseResultIndex$3,Deserialization:Deserialization$3,MethodNotFound:MethodNotFound$3,InvalidRegisterId:InvalidRegisterId$3,InvalidReceiptIndex:InvalidReceiptIndex$3,EmptyMethodName:EmptyMethodName$3,CannotReturnJointPromise:CannotReturnJointPromise$3,StackHeightInstrumentation:StackHeightInstrumentation$3,CodeDoesNotExist:CodeDoesNotExist$3,MethodInvalidSignature:MethodInvalidSignature$3,IntegerOverflow:IntegerOverflow$3,MemoryAccessViolation:MemoryAccessViolation$3,InvalidIteratorIndex:InvalidIteratorIndex$3,IteratorWasInvalidated:IteratorWasInvalidated$3,InvalidAccountId:InvalidAccountId$3,Serialization:Serialization$3,CannotAppendActionToJointPromise:CannotAppendActionToJointPromise$3,InternalMemoryDeclared:InternalMemoryDeclared$3,Instantiate:Instantiate$3,ProhibitedInView:ProhibitedInView$3,InvalidMethodName:InvalidMethodName$3,BadUTF8:BadUTF8$3,BalanceExceeded:BalanceExceeded$3,LinkError:LinkError$3,InvalidPublicKey:InvalidPublicKey$3,ActorNoPermission:ActorNoPermission$3,LackBalanceForState:LackBalanceForState$3,ReceiverMismatch:ReceiverMismatch$3,CostOverflow:CostOverflow$3,InvalidSignature:InvalidSignature$3,AccessKeyNotFound:AccessKeyNotFound$3,NotEnoughBalance:NotEnoughBalance$3,NotEnoughAllowance:NotEnoughAllowance$3,Expired:Expired$3,DeleteAccountStaking:DeleteAccountStaking$3,SignerDoesNotExist:SignerDoesNotExist$3,TriesToStake:TriesToStake$3,AddKeyAlreadyExists:AddKeyAlreadyExists$3,InvalidSigner:InvalidSigner$3,CreateAccountNotAllowed:CreateAccountNotAllowed$3,RequiresFullAccess:RequiresFullAccess$3,TriesToUnstake:TriesToUnstake$3,InvalidNonce:InvalidNonce$3,AccountAlreadyExists:AccountAlreadyExists$3,InvalidChain:InvalidChain$3,AccountDoesNotExist:AccountDoesNotExist$3,MethodNameMismatch:MethodNameMismatch$3,DeleteAccountHasRent:DeleteAccountHasRent$3,DeleteAccountHasEnoughBalance:DeleteAccountHasEnoughBalance$3,InvalidReceiver:InvalidReceiver$3,DeleteKeyDoesNotExist:DeleteKeyDoesNotExist$3,Timeout:Timeout$3,Closed:Closed$3},schema$7={BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BreakpointTrap:{name:"BreakpointTrap",subtypes:[],props:{}},CacheError:{name:"CacheError",subtypes:["ReadError","WriteError","DeserializationError","SerializationError"],props:{}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},DeserializationError:{name:"DeserializationError",subtypes:[],props:{}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},FunctionCallError:{name:"FunctionCallError",subtypes:["CompilationError","LinkError","MethodResolveError","WasmTrap","WasmUnknownError","HostError","EvmError"],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LinkError:{name:"LinkError",subtypes:[],props:{msg:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodUTF8Error","MethodNotFound","MethodInvalidSignature"],props:{}},MethodUTF8Error:{name:"MethodUTF8Error",subtypes:[],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReadError:{name:"ReadError",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},SerializationError:{name:"SerializationError",subtypes:[],props:{hash:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","BreakpointTrap","StackOverflow","GenericTrap"],props:{}},WasmUnknownError:{name:"WasmUnknownError",subtypes:[],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},WriteError:{name:"WriteError",subtypes:[],props:{}},AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation"],props:{}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},Closed:{name:"Closed",subtypes:[],props:{}},InternalError:{name:"InternalError",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed","InternalError"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}},require$$4$3={schema:schema$7};var __importDefault$H=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rpc_errors$7,"__esModule",{value:!0}),rpc_errors$7.getErrorTypeFromErrorMessage=rpc_errors$7.formatError=rpc_errors$7.parseResultError=rpc_errors$7.parseRpcError=rpc_errors$7.ServerError=void 0;const types_1$P=lib$F,mustache_1$3=__importDefault$H(mustacheExports$3),format_1$9=format$i,error_messages_json_1$3=__importDefault$H(require$$3$6),rpc_error_schema_json_1$3=__importDefault$H(require$$4$3),mustacheHelpers$3={formatNear:()=>(e,t)=>(0,format_1$9.formatNearAmount)(t(e))};let ServerError$3=class extends types_1$P.TypedError{};rpc_errors$7.ServerError=ServerError$3;let ServerTransactionError$3=class extends ServerError$3{};function parseRpcError$3(e){const t={},n=walkSubtype$3(e,rpc_error_schema_json_1$3.default.schema,t,""),o=new ServerError$3(formatError$3(n,t),n);return Object.assign(o,t),o}rpc_errors$7.parseRpcError=parseRpcError$3;function parseResultError$3(e){const t=parseRpcError$3(e.status.Failure),n=new ServerTransactionError$3;return Object.assign(n,t),n.type=t.type,n.message=t.message,n.transaction_outcome=e.transaction_outcome,n}rpc_errors$7.parseResultError=parseResultError$3;function formatError$3(e,t){return typeof error_messages_json_1$3.default[e]=="string"?mustache_1$3.default.render(error_messages_json_1$3.default[e],Object.assign(Object.assign({},t),mustacheHelpers$3)):JSON.stringify(t)}rpc_errors$7.formatError=formatError$3;function walkSubtype$3(e,t,n,o){let c,a,u;for(const h in t){if(isString$3(e[h]))return e[h];if(isObject$m(e[h]))c=e[h],a=t[h],u=h;else if(isObject$m(e.kind)&&isObject$m(e.kind[h]))c=e.kind[h],a=t[h],u=h;else continue}if(c&&a){for(const h of Object.keys(a.props))n[h]=c[h];return walkSubtype$3(c,t,n,u)}else return n.kind=e,o}function getErrorTypeFromErrorMessage$3(e,t){switch(!0){case/^account .*? does not exist while viewing$/.test(e):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(e):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(e):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(e):return"InvalidNonce";default:return t}}rpc_errors$7.getErrorTypeFromErrorMessage=getErrorTypeFromErrorMessage$3;function isObject$m(e){return Object.prototype.toString.call(e)==="[object Object]"}function isString$3(e){return Object.prototype.toString.call(e)==="[object String]"}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseRpcError=e.parseResultError=e.getErrorTypeFromErrorMessage=e.formatError=e.ServerError=e.logWarning=void 0;var t=errors$i;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return t.logWarning}});var n=rpc_errors$7;Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return n.ServerError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return n.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return n.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return n.parseResultError}}),Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return n.parseRpcError}})})(errors$j);var logging$3={},define_process_env_default$6={};Object.defineProperty(logging$3,"__esModule",{value:!0}),logging$3.printTxOutcomeLogs=logging$3.printTxOutcomeLogsAndFailures=void 0;const errors_1$h=errors$j,SUPPRESS_LOGGING=!!define_process_env_default$6.NEAR_NO_LOGS;function printTxOutcomeLogsAndFailures$3({contractId:e,outcome:t}){if(SUPPRESS_LOGGING)return;const n=[t.transaction_outcome,...t.receipts_outcome].reduce((o,c)=>{const a=typeof c.outcome.status=="object"&&typeof c.outcome.status.Failure=="object";return c.outcome.logs.length||a?o.concat({receiptIds:c.outcome.receipt_ids,logs:c.outcome.logs,failure:typeof c.outcome.status=="object"&&c.outcome.status.Failure!==void 0?(0,errors_1$h.parseRpcError)(c.outcome.status.Failure):null}):o},[]);for(const o of n)console.log(`Receipt${o.receiptIds.length>1?"s":""}: ${o.receiptIds.join(", ")}`),printTxOutcomeLogs$3({contractId:e,logs:o.logs,prefix:"	"}),o.failure&&console.warn(`	Failure [${e}]: ${o.failure}`)}logging$3.printTxOutcomeLogsAndFailures=printTxOutcomeLogsAndFailures$3;function printTxOutcomeLogs$3({contractId:e,logs:t,prefix:n=""}){if(!SUPPRESS_LOGGING)for(const o of t)console.log(`${n}Log [${e}]: ${o}`)}logging$3.printTxOutcomeLogs=printTxOutcomeLogs$3;var provider$c={};Object.defineProperty(provider$c,"__esModule",{value:!0}),provider$c.getTransactionLastResult=void 0;function getTransactionLastResult$3(e){if(typeof e.status=="object"&&typeof e.status.SuccessValue=="string"){const t=Buffer$E.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(t)}catch{return t}}return null}provider$c.getTransactionLastResult=getTransactionLastResult$3;var validators$7={};/*!
* depd
* Copyright(c) 2015 Douglas Christopher Wilson
* MIT Licensed
*/var browser$a=depd$4;function depd$4(e){if(!e)throw new TypeError("argument namespace is required");function t(n){}return t._file=void 0,t._ignored=!0,t._namespace=e,t._traced=!1,t._warned=Object.create(null),t.function=wrapfunction$4,t.property=wrapproperty$4,t}function wrapfunction$4(e,t){if(typeof e!="function")throw new TypeError("argument fn must be a function");return e}function wrapproperty$4(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(e,t);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable")}var __importDefault$G=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(validators$7,"__esModule",{value:!0}),validators$7.diffEpochValidators=validators$7.findSeatPrice=void 0;const bn_js_1$s=__importDefault$G(bnExports$6),depd_1$7=__importDefault$G(browser$a);function findSeatPrice$3(e,t,n,o){return o&&o<49?findSeatPriceForProtocolBefore49$3(e,t):(n||((0,depd_1$7.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),n=[1,6250]),findSeatPriceForProtocolAfter49$3(e,t,n))}validators$7.findSeatPrice=findSeatPrice$3;function findSeatPriceForProtocolBefore49$3(e,t){const n=e.map(h=>new bn_js_1$s.default(h.stake,10)).sort((h,v)=>h.cmp(v)),o=new bn_js_1$s.default(t),c=n.reduce((h,v)=>h.add(v));if(c.lt(o))throw new Error("Stakes are below seats");let a=new bn_js_1$s.default(1),u=c.add(new bn_js_1$s.default(1));for(;!a.eq(u.sub(new bn_js_1$s.default(1)));){const h=a.add(u).div(new bn_js_1$s.default(2));let v=!1,b=new bn_js_1$s.default(0);for(let y=0;y<n.length;++y)if(b=b.add(n[y].div(h)),b.gte(o)){a=h,v=!0;break}v||(u=h)}return a}function findSeatPriceForProtocolAfter49$3(e,t,n){if(n.length!=2)throw Error("minimumStakeRatio should have 2 elements");const o=e.map(a=>new bn_js_1$s.default(a.stake,10)).sort((a,u)=>a.cmp(u)),c=o.reduce((a,u)=>a.add(u));return e.length<t?c.mul(new bn_js_1$s.default(n[0])).div(new bn_js_1$s.default(n[1])):o[0].add(new bn_js_1$s.default(1))}function diffEpochValidators$3(e,t){const n=new Map;e.forEach(c=>n.set(c.account_id,c));const o=new Set(t.map(c=>c.account_id));return{newValidators:t.filter(c=>!n.has(c.account_id)),removedValidators:e.filter(c=>!o.has(c.account_id)),changedValidators:t.filter(c=>n.has(c.account_id)&&n.get(c.account_id).stake!=c.stake).map(c=>({current:n.get(c.account_id),next:c}))}}validators$7.diffEpochValidators=diffEpochValidators$3,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(constants$a,e),n(errors$j,e),n(format$i,e),n(logging$3,e),n(provider$c,e),n(validators$7,e)}(lib$D);var lib$C={},exponentialBackoff$7={},__awaiter$1i=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(exponentialBackoff$7,"__esModule",{value:!0}),exponentialBackoff$7.exponentialBackoff=void 0;function exponentialBackoff$6(e,t,n,o){return __awaiter$1i(this,void 0,void 0,function*(){let c=e;for(let a=0;a<t;a++){const u=yield o();if(u)return u;yield sleep$3(c),c*=n}return null})}exponentialBackoff$7.exponentialBackoff=exponentialBackoff$6;function sleep$3(e){return new Promise(t=>setTimeout(t,e))}var jsonRpcProvider$7={},lib$B={},action_creators$3={},actions$4={};Object.defineProperty(actions$4,"__esModule",{value:!0}),actions$4.Action=actions$4.SignedDelegate=actions$4.DeleteAccount=actions$4.DeleteKey=actions$4.AddKey=actions$4.Stake=actions$4.Transfer=actions$4.FunctionCall=actions$4.DeployContract=actions$4.CreateAccount=actions$4.IAction=actions$4.AccessKey=actions$4.AccessKeyPermission=actions$4.FullAccessPermission=actions$4.FunctionCallPermission=void 0;const types_1$O=lib$F;let Enum$3=class{constructor(e){if(Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this[t]=e[t],this.enum=t})}},FunctionCallPermission$3=class extends types_1$O.Assignable{};actions$4.FunctionCallPermission=FunctionCallPermission$3;let FullAccessPermission$3=class extends types_1$O.Assignable{};actions$4.FullAccessPermission=FullAccessPermission$3;let AccessKeyPermission$3=class extends Enum$3{};actions$4.AccessKeyPermission=AccessKeyPermission$3;let AccessKey$3=class extends types_1$O.Assignable{};actions$4.AccessKey=AccessKey$3;let IAction$3=class extends types_1$O.Assignable{};actions$4.IAction=IAction$3;let CreateAccount$3=class extends IAction$3{};actions$4.CreateAccount=CreateAccount$3;let DeployContract$3=class extends IAction$3{};actions$4.DeployContract=DeployContract$3;let FunctionCall$3=class extends IAction$3{};actions$4.FunctionCall=FunctionCall$3;let Transfer$3=class extends IAction$3{};actions$4.Transfer=Transfer$3;let Stake$3=class extends IAction$3{};actions$4.Stake=Stake$3;let AddKey$3=class extends IAction$3{};actions$4.AddKey=AddKey$3;let DeleteKey$3=class extends IAction$3{};actions$4.DeleteKey=DeleteKey$3;let DeleteAccount$3=class extends IAction$3{};actions$4.DeleteAccount=DeleteAccount$3;let SignedDelegate$3=class extends IAction$3{};actions$4.SignedDelegate=SignedDelegate$3;let Action$3=class extends Enum$3{};actions$4.Action=Action$3,Object.defineProperty(action_creators$3,"__esModule",{value:!0}),action_creators$3.actionCreators=action_creators$3.stringifyJsonOrBytes=void 0;const actions_1$8=actions$4;function fullAccessKey$b(){return new actions_1$8.AccessKey({permission:new actions_1$8.AccessKeyPermission({fullAccess:new actions_1$8.FullAccessPermission({})})})}function functionCallAccessKey$b(e,t,n){return new actions_1$8.AccessKey({permission:new actions_1$8.AccessKeyPermission({functionCall:new actions_1$8.FunctionCallPermission({receiverId:e,allowance:n,methodNames:t})})})}function createAccount$b(){return new actions_1$8.Action({createAccount:new actions_1$8.CreateAccount({})})}function deployContract$j(e){return new actions_1$8.Action({deployContract:new actions_1$8.DeployContract({code:e})})}function stringifyJsonOrBytes$3(e){return e.byteLength!==void 0&&e.byteLength===e.length?e:Buffer$E.from(JSON.stringify(e))}action_creators$3.stringifyJsonOrBytes=stringifyJsonOrBytes$3;function functionCall$p(e,t,n,o,c=stringifyJsonOrBytes$3,a=!1){return a?new actions_1$8.Action({functionCall:new actions_1$8.FunctionCall({methodName:e,args:t,gas:n,deposit:o})}):new actions_1$8.Action({functionCall:new actions_1$8.FunctionCall({methodName:e,args:c(t),gas:n,deposit:o})})}function transfer$b(e){return new actions_1$8.Action({transfer:new actions_1$8.Transfer({deposit:e})})}function stake$b(e,t){return new actions_1$8.Action({stake:new actions_1$8.Stake({stake:e,publicKey:t})})}function addKey$f(e,t){return new actions_1$8.Action({addKey:new actions_1$8.AddKey({publicKey:e,accessKey:t})})}function deleteKey$f(e){return new actions_1$8.Action({deleteKey:new actions_1$8.DeleteKey({publicKey:e})})}function deleteAccount$b(e){return new actions_1$8.Action({deleteAccount:new actions_1$8.DeleteAccount({beneficiaryId:e})})}function signedDelegate$3({delegateAction:e,signature:t}){return new actions_1$8.Action({signedDelegate:new actions_1$8.SignedDelegate({delegateAction:e,signature:t})})}action_creators$3.actionCreators={addKey:addKey$f,createAccount:createAccount$b,deleteAccount:deleteAccount$b,deleteKey:deleteKey$f,deployContract:deployContract$j,fullAccessKey:fullAccessKey$b,functionCall:functionCall$p,functionCallAccessKey:functionCallAccessKey$b,signedDelegate:signedDelegate$3,stake:stake$b,transfer:transfer$b};var create_transaction$3={},schema$6={},delegate$3={};Object.defineProperty(delegate$3,"__esModule",{value:!0}),delegate$3.buildDelegateAction=delegate$3.DelegateAction=void 0;const types_1$N=lib$F,action_creators_1$3=action_creators$3,{addKey:addKey$e,createAccount:createAccount$a,deleteAccount:deleteAccount$a,deleteKey:deleteKey$e,deployContract:deployContract$i,functionCall:functionCall$o,stake:stake$a,transfer:transfer$a}=action_creators_1$3.actionCreators;let DelegateAction$3=class extends types_1$N.Assignable{};delegate$3.DelegateAction=DelegateAction$3;function buildDelegateAction$3({actions:e,maxBlockHeight:t,nonce:n,publicKey:o,receiverId:c,senderId:a}){return new DelegateAction$3({senderId:a,receiverId:c,actions:e.map(u=>{if(!u.type&&!u.params)return u;switch(u.type){case"AddKey":{const{publicKey:h,accessKey:v}=u.params;return addKey$e(h,v)}case"CreateAccount":return createAccount$a(u.params.createAccount);case"DeleteAccount":return deleteAccount$a(u.params.deleteAccount);case"DeleteKey":return deleteKey$e(u.params.publicKey);case"DeployContract":return deployContract$i(u.params.code);case"FunctionCall":{const{methodName:h,args:v,gas:b,deposit:y}=u.params;return functionCall$o(h,v,b,y)}case"Stake":return stake$a(u.params.stake,u.params.publicKey);case"Transfer":{const{deposit:h}=u.params;return transfer$a(h)}}throw new Error("Unrecognized action")}),nonce:n,maxBlockHeight:t,publicKey:o})}delegate$3.buildDelegateAction=buildDelegateAction$3;var prefix$3={};Object.defineProperty(prefix$3,"__esModule",{value:!0}),prefix$3.DelegateActionPrefix=void 0;const types_1$M=lib$F,ACTIONABLE_MESSAGE_BASE$3=Math.pow(2,30),NEP$3={MetaTransactions:366};let NEPPrefix$3=class extends types_1$M.Assignable{},ActionableMessagePrefix$3=class extends NEPPrefix$3{constructor(e){super({prefix:ACTIONABLE_MESSAGE_BASE$3+e})}},DelegateActionPrefix$3=class extends ActionableMessagePrefix$3{constructor(){super(NEP$3.MetaTransactions)}};prefix$3.DelegateActionPrefix=DelegateActionPrefix$3;var signature$3={};Object.defineProperty(signature$3,"__esModule",{value:!0}),signature$3.Signature=void 0;const types_1$L=lib$F;let Signature$3=class extends types_1$L.Assignable{};signature$3.Signature=Signature$3,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SignedTransaction=e.Transaction=e.decodeSignedTransaction=e.decodeTransaction=e.encodeTransaction=e.encodeSignedDelegate=e.encodeDelegateAction=void 0;const t=lib$H,n=lib$F,o=lib$G,c=actions$4,a=delegate$3,u=prefix$3,h=signature$3;function v(x){return new Uint8Array([...(0,o.serialize)(e.SCHEMA,new u.DelegateActionPrefix),...(0,o.serialize)(e.SCHEMA,x)])}e.encodeDelegateAction=v;function b(x){return(0,o.serialize)(e.SCHEMA,x)}e.encodeSignedDelegate=b;function y(x){return(0,o.serialize)(e.SCHEMA,x)}e.encodeTransaction=y;function w(x){return(0,o.deserialize)(e.SCHEMA,P,x)}e.decodeTransaction=w;function O(x){return(0,o.deserialize)(e.SCHEMA,C,x)}e.decodeSignedTransaction=O;class P extends n.Assignable{encode(){return y(this)}static decode(D){return w(D)}}e.Transaction=P;class C extends n.Assignable{encode(){return y(this)}static decode(D){return O(D)}}e.SignedTransaction=C,e.SCHEMA=new Map([[h.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[C,{kind:"struct",fields:[["transaction",P],["signature",h.Signature]]}],[P,{kind:"struct",fields:[["signerId","string"],["publicKey",t.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[c.Action]]]}],[t.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[c.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",c.AccessKeyPermission]]}],[c.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",c.FunctionCallPermission],["fullAccess",c.FullAccessPermission]]}],[c.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[c.FullAccessPermission,{kind:"struct",fields:[]}],[c.Action,{kind:"enum",field:"enum",values:[["createAccount",c.CreateAccount],["deployContract",c.DeployContract],["functionCall",c.FunctionCall],["transfer",c.Transfer],["stake",c.Stake],["addKey",c.AddKey],["deleteKey",c.DeleteKey],["deleteAccount",c.DeleteAccount],["signedDelegate",c.SignedDelegate]]}],[c.CreateAccount,{kind:"struct",fields:[]}],[c.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[c.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[c.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[c.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",t.PublicKey]]}],[c.AddKey,{kind:"struct",fields:[["publicKey",t.PublicKey],["accessKey",c.AccessKey]]}],[c.DeleteKey,{kind:"struct",fields:[["publicKey",t.PublicKey]]}],[c.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[a.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[c.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",t.PublicKey]]}],[u.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[c.SignedDelegate,{kind:"struct",fields:[["delegateAction",a.DelegateAction],["signature",h.Signature]]}]])}(schema$6),Object.defineProperty(create_transaction$3,"__esModule",{value:!0}),create_transaction$3.createTransaction=void 0;const schema_1$7=schema$6;function createTransaction$3(e,t,n,o,c,a){return new schema_1$7.Transaction({signerId:e,publicKey:t,nonce:o,receiverId:n,actions:c,blockHash:a})}create_transaction$3.createTransaction=createTransaction$3;var sign$3={},sha256$3={exports:{}};(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process$1$5=="object"&&process$1$5.versions&&process$1$5.versions.node;NODE_JS?root=commonjsGlobal$7:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(c){return t.create().update(c)};for(var n=0;n<OUTPUT_TYPES.length;++n){var o=OUTPUT_TYPES[n];t[o]=createOutputMethod(o,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if(typeof e=="string")return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(e==null)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,o){return new HmacSha256(n,t,!0).update(o)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(c){return new HmacSha256(c,e)},t.update=function(c,a){return t.create(c).update(a)};for(var n=0;n<OUTPUT_TYPES.length;++n){var o=OUTPUT_TYPES[n];t[o]=createHmacOutputMethod(o,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if(n!=="string"){if(n==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);t=!0}for(var o,c=0,a,u=e.length,h=this.blocks;c<u;){if(this.hashed&&(this.hashed=!1,h[0]=this.block,h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0),t)for(a=this.start;c<u&&a<64;++c)h[a>>2]|=e[c]<<SHIFT[a++&3];else for(a=this.start;c<u&&a<64;++c)o=e.charCodeAt(c),o<128?h[a>>2]|=o<<SHIFT[a++&3]:o<2048?(h[a>>2]|=(192|o>>6)<<SHIFT[a++&3],h[a>>2]|=(128|o&63)<<SHIFT[a++&3]):o<55296||o>=57344?(h[a>>2]|=(224|o>>12)<<SHIFT[a++&3],h[a>>2]|=(128|o>>6&63)<<SHIFT[a++&3],h[a>>2]|=(128|o&63)<<SHIFT[a++&3]):(o=65536+((o&1023)<<10|e.charCodeAt(++c)&1023),h[a>>2]|=(240|o>>18)<<SHIFT[a++&3],h[a>>2]|=(128|o>>12&63)<<SHIFT[a++&3],h[a>>2]|=(128|o>>6&63)<<SHIFT[a++&3],h[a>>2]|=(128|o&63)<<SHIFT[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=h[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[t&3],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e=this.h0,t=this.h1,n=this.h2,o=this.h3,c=this.h4,a=this.h5,u=this.h6,h=this.h7,v=this.blocks,b,y,w,O,P,C,x,D,k,B,q;for(b=16;b<64;++b)P=v[b-15],y=(P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3,P=v[b-2],w=(P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10,v[b]=v[b-16]+y+v[b-7]+w<<0;for(q=t&n,b=0;b<64;b+=4)this.first?(this.is224?(D=300032,P=v[0]-1413257819,h=P-150054599<<0,o=P+24177077<<0):(D=704751109,P=v[0]-210244248,h=P-1521486534<<0,o=P+143694565<<0),this.first=!1):(y=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),w=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),D=e&t,O=D^e&n^q,x=c&a^~c&u,P=h+w+x+K[b]+v[b],C=y+O,h=o+P<<0,o=P+C<<0),y=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),w=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),k=o&e,O=k^o&t^D,x=h&c^~h&a,P=u+w+x+K[b+1]+v[b+1],C=y+O,u=n+P<<0,n=P+C<<0,y=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),w=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),B=n&o,O=B^n&e^k,x=u&h^~u&c,P=a+w+x+K[b+2]+v[b+2],C=y+O,a=t+P<<0,t=P+C<<0,y=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),w=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),q=t&n,O=q^t&o^B,x=a&u^~a&h,P=c+w+x+K[b+3]+v[b+3],C=y+O,c=e+P<<0,e=P+C<<0;this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+o<<0,this.h4=this.h4+c<<0,this.h5=this.h5+a<<0,this.h6=this.h6+u<<0,this.h7=this.h7+h<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,o=this.h3,c=this.h4,a=this.h5,u=this.h6,h=this.h7,v=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15];return this.is224||(v+=HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[h&15]),v},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,o=this.h3,c=this.h4,a=this.h5,u=this.h6,h=this.h7,v=[e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,o>>24&255,o>>16&255,o>>8&255,o&255,c>>24&255,c>>16&255,c>>8&255,c&255,a>>24&255,a>>16&255,a>>8&255,a&255,u>>24&255,u>>16&255,u>>8&255,u&255];return this.is224||v.push(h>>24&255,h>>16&255,h>>8&255,h&255),v},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e};function HmacSha256(e,t,n){var o,c=typeof e;if(c==="string"){var a=[],u=e.length,h=0,v;for(o=0;o<u;++o)v=e.charCodeAt(o),v<128?a[h++]=v:v<2048?(a[h++]=192|v>>6,a[h++]=128|v&63):v<55296||v>=57344?(a[h++]=224|v>>12,a[h++]=128|v>>6&63,a[h++]=128|v&63):(v=65536+((v&1023)<<10|e.charCodeAt(++o)&1023),a[h++]=240|v>>18,a[h++]=128|v>>12&63,a[h++]=128|v>>6&63,a[h++]=128|v&63);e=a}else if(c==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);e.length>64&&(e=new Sha256(t,!0).update(e).array());var b=[],y=[];for(o=0;o<64;++o){var w=e[o]||0;b[o]=92^w,y[o]=54^w}Sha256.call(this,t,n),this.update(y),this.oKeyPad=b,this.inner=!0,this.sharedMemory=n}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$3);var sha256Exports=sha256$3.exports,__awaiter$1h=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$F=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sign$3,"__esModule",{value:!0}),sign$3.signDelegateAction=sign$3.signTransaction=void 0;const js_sha256_1$2=__importDefault$F(sha256Exports),actions_1$7=actions$4,create_transaction_1$3=create_transaction$3,schema_1$6=schema$6,signature_1$3=signature$3;function signTransactionObject$3(e,t,n,o){return __awaiter$1h(this,void 0,void 0,function*(){const c=(0,schema_1$6.encodeTransaction)(e),a=new Uint8Array(js_sha256_1$2.default.sha256.array(c)),u=yield t.signMessage(c,n,o),h=new schema_1$6.SignedTransaction({transaction:e,signature:new signature_1$3.Signature({keyType:e.publicKey.keyType,data:u.signature})});return[a,h]})}function signTransaction$3(...e){return __awaiter$1h(this,void 0,void 0,function*(){if(e[0].constructor===schema_1$6.Transaction){const[t,n,o,c]=e;return signTransactionObject$3(t,n,o,c)}else{const[t,n,o,c,a,u,h]=e,v=yield a.getPublicKey(u,h),b=(0,create_transaction_1$3.createTransaction)(u,v,t,n,o,c);return signTransactionObject$3(b,a,u,h)}})}sign$3.signTransaction=signTransaction$3;function signDelegateAction$3({delegateAction:e,signer:t}){return __awaiter$1h(this,void 0,void 0,function*(){const n=(0,schema_1$6.encodeDelegateAction)(e),o=yield t.sign(n),c=new actions_1$7.SignedDelegate({delegateAction:e,signature:new signature_1$3.Signature({keyType:e.publicKey.keyType,data:o})});return{hash:new Uint8Array(js_sha256_1$2.default.sha256.array(n)),signedDelegateAction:c}})}sign$3.signDelegateAction=signDelegateAction$3,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(action_creators$3,e),n(actions$4,e),n(create_transaction$3,e),n(delegate$3,e),n(schema$6,e),n(sign$3,e),n(signature$3,e)}(lib$B);var provider$b={};Object.defineProperty(provider$b,"__esModule",{value:!0}),provider$b.Provider=void 0;let Provider$4=class{};provider$b.Provider=Provider$4;var fetch_json$3={},httpErrors$3={exports:{}};/*!
* depd
* Copyright(c) 2015 Douglas Christopher Wilson
* MIT Licensed
*/var browser$9=depd$3;function depd$3(e){if(!e)throw new TypeError("argument namespace is required");function t(n){}return t._file=void 0,t._ignored=!0,t._namespace=e,t._traced=!1,t._warned=Object.create(null),t.function=wrapfunction$3,t.property=wrapproperty$3,t}function wrapfunction$3(e,t){if(typeof e!="function")throw new TypeError("argument fn must be a function");return e}function wrapproperty$3(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(e,t);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable")}var setprototypeof$3=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf$3:mixinProperties$3);function setProtoOf$3(e,t){return e.__proto__=t,e}function mixinProperties$3(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e}const require$$0$3={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};/*!
* statuses
* Copyright(c) 2014 Jonathan Ong
* Copyright(c) 2016 Douglas Christopher Wilson
* MIT Licensed
*/var codes=require$$0$3,statuses=status;status.STATUS_CODES=codes,status.codes=populateStatusesMap(status,codes),status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status.empty={204:!0,205:!0,304:!0},status.retry={502:!0,503:!0,504:!0};function populateStatusesMap(e,t){var n=[];return Object.keys(t).forEach(function(o){var c=t[o],a=Number(o);e[a]=c,e[c]=a,e[c.toLowerCase()]=a,n.push(a)}),n}function status(e){if(typeof e=="number"){if(!status[e])throw new Error("invalid status code: "+e);return e}if(typeof e!="string")throw new TypeError("code must be a number or string");var t=parseInt(e,10);if(!isNaN(t)){if(!status[t])throw new Error("invalid status code: "+t);return t}if(t=status[e.toLowerCase()],!t)throw new Error('invalid status message: "'+e+'"');return t}/*!
* toidentifier
* Copyright(c) 2016 Douglas Christopher Wilson
* MIT Licensed
*/var toidentifier$3=toIdentifier$3;function toIdentifier$3(e){return e.split(" ").map(function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}/*!
* http-errors
* Copyright(c) 2014 Jonathan Ong
* Copyright(c) 2016 Douglas Christopher Wilson
* MIT Licensed
*/(function(e){var t=browser$9("http-errors"),n=setprototypeof$3,o=statuses,c=inherits_browserExports$3,a=toidentifier$3;e.exports=h,e.exports.HttpError=v(),e.exports.isHttpError=y(e.exports.HttpError),P(e.exports,o.codes,e.exports.HttpError);function u(x){return+(String(x).charAt(0)+"00")}function h(){for(var x,D,k=500,B={},q=0;q<arguments.length;q++){var V=arguments[q];if(V instanceof Error){x=V,k=x.status||x.statusCode||k;continue}switch(typeof V){case"string":D=V;break;case"number":k=V;break;case"object":B=V;break}}(typeof k!="number"||!o[k]&&(k<400||k>=600))&&(k=500);var ee=h[k]||h[u(k)];x||(x=ee?new ee(D):new Error(D||o[k]),Error.captureStackTrace(x,h)),(!ee||!(x instanceof ee)||x.status!==k)&&(x.expose=k<500,x.status=x.statusCode=k);for(var te in B)te!=="status"&&te!=="statusCode"&&(x[te]=B[te]);return x}function v(){function x(){throw new TypeError("cannot construct abstract class")}return c(x,Error),x}function b(x,D,k){var B=C(D);function q(V){var ee=V??o[k],te=new Error(ee);return Error.captureStackTrace(te,q),n(te,q.prototype),Object.defineProperty(te,"message",{enumerable:!0,configurable:!0,value:ee,writable:!0}),Object.defineProperty(te,"name",{enumerable:!1,configurable:!0,value:B,writable:!0}),te}return c(q,x),O(q,B),q.prototype.status=k,q.prototype.statusCode=k,q.prototype.expose=!0,q}function y(x){return function(D){return!D||typeof D!="object"?!1:D instanceof x?!0:D instanceof Error&&typeof D.expose=="boolean"&&typeof D.statusCode=="number"&&D.status===D.statusCode}}function w(x,D,k){var B=C(D);function q(V){var ee=V??o[k],te=new Error(ee);return Error.captureStackTrace(te,q),n(te,q.prototype),Object.defineProperty(te,"message",{enumerable:!0,configurable:!0,value:ee,writable:!0}),Object.defineProperty(te,"name",{enumerable:!1,configurable:!0,value:B,writable:!0}),te}return c(q,x),O(q,B),q.prototype.status=k,q.prototype.statusCode=k,q.prototype.expose=!1,q}function O(x,D){var k=Object.getOwnPropertyDescriptor(x,"name");k&&k.configurable&&(k.value=D,Object.defineProperty(x,"name",k))}function P(x,D,k){D.forEach(function(B){var q,V=a(o[B]);switch(u(B)){case 400:q=b(k,V,B);break;case 500:q=w(k,V,B);break}q&&(x[B]=q,x[V]=q)}),x["I'mateapot"]=t.function(x.ImATeapot,`"I'mateapot"; use "ImATeapot" instead`)}function C(x){return x.substr(-5)!=="Error"?x+"Error":x}})(httpErrors$3);var httpErrorsExports$3=httpErrors$3.exports,fetch$4={},browser$8={exports:{}},hasRequiredBrowser$4;function requireBrowser$4(){return hasRequiredBrowser$4||(hasRequiredBrowser$4=1,function(e,t){var n=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal$7<"u")return commonjsGlobal$7;throw new Error("unable to locate global object")},o=n();e.exports=t=o.fetch,o.fetch&&(t.default=o.fetch.bind(o)),t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response}(browser$8,browser$8.exports)),browser$8.exports}var streamHttp={},request={exports:{}},capability$4={},hasRequiredCapability;function requireCapability(){return hasRequiredCapability||(hasRequiredCapability=1,function(e){e.fetch=c(commonjsGlobal$7.fetch)&&c(commonjsGlobal$7.ReadableStream),e.writableStream=c(commonjsGlobal$7.WritableStream),e.abortController=c(commonjsGlobal$7.AbortController);var t;function n(){if(t!==void 0)return t;if(commonjsGlobal$7.XMLHttpRequest){t=new commonjsGlobal$7.XMLHttpRequest;try{t.open("GET",commonjsGlobal$7.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function o(a){var u=n();if(!u)return!1;try{return u.responseType=a,u.responseType===a}catch{}return!1}e.arraybuffer=e.fetch||o("arraybuffer"),e.msstream=!e.fetch&&o("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||(n()?c(n().overrideMimeType):!1);function c(a){return typeof a=="function"}t=null}(capability$4)),capability$4}var response$1={},readableBrowser={exports:{}},hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(e,t){t=e.exports=require_stream_readable$1(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable$1(),t.Duplex=require_stream_duplex$1(),t.Transform=require_stream_transform(),t.PassThrough=require_stream_passthrough(),t.finished=requireEndOfStream(),t.pipeline=requirePipeline()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var hasRequiredResponse;function requireResponse(){if(hasRequiredResponse)return response$1;hasRequiredResponse=1;var e=requireCapability(),t=inherits_browserExports$3,n=requireReadableBrowser(),o=response$1.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=response$1.IncomingMessage=function(a,u,h,v){var b=this;if(n.Readable.call(b),b._mode=h,b.headers={},b.rawHeaders=[],b.trailers={},b.rawTrailers=[],b.on("end",function(){process$1$5.nextTick(function(){b.emit("close")})}),h==="fetch"){let D=function(){O.read().then(function(k){if(!b._destroyed){if(v(k.done),k.done){b.push(null);return}b.push(Buffer$E.from(k.value)),D()}}).catch(function(k){v(!0),b._destroyed||b.emit("error",k)})};var y=D;if(b._fetchResponse=u,b.url=u.url,b.statusCode=u.status,b.statusMessage=u.statusText,u.headers.forEach(function(k,B){b.headers[B.toLowerCase()]=k,b.rawHeaders.push(B,k)}),e.writableStream){var w=new WritableStream({write:function(k){return v(!1),new Promise(function(B,q){b._destroyed?q():b.push(Buffer$E.from(k))?B():b._resumeFetch=B})},close:function(){v(!0),b._destroyed||b.push(null)},abort:function(k){v(!0),b._destroyed||b.emit("error",k)}});try{u.body.pipeTo(w).catch(function(k){v(!0),b._destroyed||b.emit("error",k)});return}catch{}}var O=u.body.getReader();D()}else{b._xhr=a,b._pos=0,b.url=a.responseURL,b.statusCode=a.status,b.statusMessage=a.statusText;var P=a.getAllResponseHeaders().split(/\r?\n/);if(P.forEach(function(D){var k=D.match(/^([^:]+):\s*(.*)/);if(k){var B=k[1].toLowerCase();B==="set-cookie"?(b.headers[B]===void 0&&(b.headers[B]=[]),b.headers[B].push(k[2])):b.headers[B]!==void 0?b.headers[B]+=", "+k[2]:b.headers[B]=k[2],b.rawHeaders.push(k[1],k[2])}}),b._charset="x-user-defined",!e.overrideMimeType){var C=b.rawHeaders["mime-type"];if(C){var x=C.match(/;\s*charset=([^;])(;|$)/);x&&(b._charset=x[1].toLowerCase())}b._charset||(b._charset="utf-8")}}};return t(c,n.Readable),c.prototype._read=function(){var a=this,u=a._resumeFetch;u&&(a._resumeFetch=null,u())},c.prototype._onXHRProgress=function(a){var u=this,h=u._xhr,v=null;switch(u._mode){case"text":if(v=h.responseText,v.length>u._pos){var b=v.substr(u._pos);if(u._charset==="x-user-defined"){for(var y=Buffer$E.alloc(b.length),w=0;w<b.length;w++)y[w]=b.charCodeAt(w)&255;u.push(y)}else u.push(b,u._charset);u._pos=v.length}break;case"arraybuffer":if(h.readyState!==o.DONE||!h.response)break;v=h.response,u.push(Buffer$E.from(new Uint8Array(v)));break;case"moz-chunked-arraybuffer":if(v=h.response,h.readyState!==o.LOADING||!v)break;u.push(Buffer$E.from(new Uint8Array(v)));break;case"ms-stream":if(v=h.response,h.readyState!==o.LOADING)break;var O=new commonjsGlobal$7.MSStreamReader;O.onprogress=function(){O.result.byteLength>u._pos&&(u.push(Buffer$E.from(new Uint8Array(O.result.slice(u._pos)))),u._pos=O.result.byteLength)},O.onload=function(){a(!0),u.push(null)},O.readAsArrayBuffer(v);break}u._xhr.readyState===o.DONE&&u._mode!=="ms-stream"&&(a(!0),u.push(null))},response$1}var hasRequiredRequest;function requireRequest(){if(hasRequiredRequest)return request.exports;hasRequiredRequest=1;var e=requireCapability(),t=inherits_browserExports$3,n=requireResponse(),o=requireReadableBrowser(),c=n.IncomingMessage,a=n.readyStates;function u(y,w){return e.fetch&&w?"fetch":e.mozchunkedarraybuffer?"moz-chunked-arraybuffer":e.msstream?"ms-stream":e.arraybuffer&&y?"arraybuffer":"text"}var h=request.exports=function(y){var w=this;o.Writable.call(w),w._opts=y,w._body=[],w._headers={},y.auth&&w.setHeader("Authorization","Basic "+Buffer$E.from(y.auth).toString("base64")),Object.keys(y.headers).forEach(function(C){w.setHeader(C,y.headers[C])});var O,P=!0;if(y.mode==="disable-fetch"||"requestTimeout"in y&&!e.abortController)P=!1,O=!0;else if(y.mode==="prefer-streaming")O=!1;else if(y.mode==="allow-wrong-content-type")O=!e.overrideMimeType;else if(!y.mode||y.mode==="default"||y.mode==="prefer-fast")O=!0;else throw new Error("Invalid value for opts.mode");w._mode=u(O,P),w._fetchTimer=null,w._socketTimeout=null,w._socketTimer=null,w.on("finish",function(){w._onFinish()})};t(h,o.Writable),h.prototype.setHeader=function(y,w){var O=this,P=y.toLowerCase();b.indexOf(P)===-1&&(O._headers[P]={name:y,value:w})},h.prototype.getHeader=function(y){var w=this._headers[y.toLowerCase()];return w?w.value:null},h.prototype.removeHeader=function(y){var w=this;delete w._headers[y.toLowerCase()]},h.prototype._onFinish=function(){var y=this;if(!y._destroyed){var w=y._opts;"timeout"in w&&w.timeout!==0&&y.setTimeout(w.timeout);var O=y._headers,P=null;w.method!=="GET"&&w.method!=="HEAD"&&(P=new Blob(y._body,{type:(O["content-type"]||{}).value||""}));var C=[];if(Object.keys(O).forEach(function(B){var q=O[B].name,V=O[B].value;Array.isArray(V)?V.forEach(function(ee){C.push([q,ee])}):C.push([q,V])}),y._mode==="fetch"){var x=null;if(e.abortController){var D=new AbortController;x=D.signal,y._fetchAbortController=D,"requestTimeout"in w&&w.requestTimeout!==0&&(y._fetchTimer=commonjsGlobal$7.setTimeout(function(){y.emit("requestTimeout"),y._fetchAbortController&&y._fetchAbortController.abort()},w.requestTimeout))}commonjsGlobal$7.fetch(y._opts.url,{method:y._opts.method,headers:C,body:P||void 0,mode:"cors",credentials:w.withCredentials?"include":"same-origin",signal:x}).then(function(B){y._fetchResponse=B,y._resetTimers(!1),y._connect()},function(B){y._resetTimers(!0),y._destroyed||y.emit("error",B)})}else{var k=y._xhr=new commonjsGlobal$7.XMLHttpRequest;try{k.open(y._opts.method,y._opts.url,!0)}catch(B){process$1$5.nextTick(function(){y.emit("error",B)});return}"responseType"in k&&(k.responseType=y._mode),"withCredentials"in k&&(k.withCredentials=!!w.withCredentials),y._mode==="text"&&"overrideMimeType"in k&&k.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in w&&(k.timeout=w.requestTimeout,k.ontimeout=function(){y.emit("requestTimeout")}),C.forEach(function(B){k.setRequestHeader(B[0],B[1])}),y._response=null,k.onreadystatechange=function(){switch(k.readyState){case a.LOADING:case a.DONE:y._onXHRProgress();break}},y._mode==="moz-chunked-arraybuffer"&&(k.onprogress=function(){y._onXHRProgress()}),k.onerror=function(){y._destroyed||(y._resetTimers(!0),y.emit("error",new Error("XHR error")))};try{k.send(P)}catch(B){process$1$5.nextTick(function(){y.emit("error",B)});return}}}};function v(y){try{var w=y.status;return w!==null&&w!==0}catch{return!1}}h.prototype._onXHRProgress=function(){var y=this;y._resetTimers(!1),!(!v(y._xhr)||y._destroyed)&&(y._response||y._connect(),y._response._onXHRProgress(y._resetTimers.bind(y)))},h.prototype._connect=function(){var y=this;y._destroyed||(y._response=new c(y._xhr,y._fetchResponse,y._mode,y._resetTimers.bind(y)),y._response.on("error",function(w){y.emit("error",w)}),y.emit("response",y._response))},h.prototype._write=function(y,w,O){var P=this;P._body.push(y),O()},h.prototype._resetTimers=function(y){var w=this;commonjsGlobal$7.clearTimeout(w._socketTimer),w._socketTimer=null,y?(commonjsGlobal$7.clearTimeout(w._fetchTimer),w._fetchTimer=null):w._socketTimeout&&(w._socketTimer=commonjsGlobal$7.setTimeout(function(){w.emit("timeout")},w._socketTimeout))},h.prototype.abort=h.prototype.destroy=function(y){var w=this;w._destroyed=!0,w._resetTimers(!0),w._response&&(w._response._destroyed=!0),w._xhr?w._xhr.abort():w._fetchAbortController&&w._fetchAbortController.abort(),y&&w.emit("error",y)},h.prototype.end=function(y,w,O){var P=this;typeof y=="function"&&(O=y,y=void 0),o.Writable.prototype.end.call(P,y,w,O)},h.prototype.setTimeout=function(y,w){var O=this;w&&O.once("timeout",w),O._socketTimeout=y,O._resetTimers(!1)},h.prototype.flushHeaders=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var b=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return request.exports}var immutable,hasRequiredImmutable;function requireImmutable(){if(hasRequiredImmutable)return immutable;hasRequiredImmutable=1,immutable=t;var e=Object.prototype.hasOwnProperty;function t(){for(var n={},o=0;o<arguments.length;o++){var c=arguments[o];for(var a in c)e.call(c,a)&&(n[a]=c[a])}return n}return immutable}var browser$7,hasRequiredBrowser$3;function requireBrowser$3(){return hasRequiredBrowser$3||(hasRequiredBrowser$3=1,browser$7={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),browser$7}var punycode$1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */punycode$1.exports,function(e,t){(function(n){var o=t&&!t.nodeType&&t,c=e&&!e.nodeType&&e,a=typeof commonjsGlobal$7=="object"&&commonjsGlobal$7;(a.global===a||a.window===a||a.self===a)&&(n=a);var u,h=2147483647,v=36,b=1,y=26,w=38,O=700,P=72,C=128,x="-",D=/^xn--/,k=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V=v-b,ee=Math.floor,te=String.fromCharCode,ce;function Q(E){throw new RangeError(q[E])}function ne(E,M){for(var U=E.length,F=[];U--;)F[U]=M(E[U]);return F}function fe(E,M){var U=E.split("@"),F="";U.length>1&&(F=U[0]+"@",E=U[1]),E=E.replace(B,".");var N=E.split("."),L=ne(N,M).join(".");return F+L}function l(E){for(var M=[],U=0,F=E.length,N,L;U<F;)N=E.charCodeAt(U++),N>=55296&&N<=56319&&U<F?(L=E.charCodeAt(U++),(L&64512)==56320?M.push(((N&1023)<<10)+(L&1023)+65536):(M.push(N),U--)):M.push(N);return M}function p(E){return ne(E,function(M){var U="";return M>65535&&(M-=65536,U+=te(M>>>10&1023|55296),M=56320|M&1023),U+=te(M),U}).join("")}function m(E){return E-48<10?E-22:E-65<26?E-65:E-97<26?E-97:v}function _(E,M){return E+22+75*(E<26)-((M!=0)<<5)}function A(E,M,U){var F=0;for(E=U?ee(E/O):E>>1,E+=ee(E/M);E>V*y>>1;F+=v)E=ee(E/V);return ee(F+(V+1)*E/(E+w))}function I(E){var M=[],U=E.length,F,N=0,L=C,H=P,Y,Z,de,he,re,ae,be,ye,we;for(Y=E.lastIndexOf(x),Y<0&&(Y=0),Z=0;Z<Y;++Z)E.charCodeAt(Z)>=128&&Q("not-basic"),M.push(E.charCodeAt(Z));for(de=Y>0?Y+1:0;de<U;){for(he=N,re=1,ae=v;de>=U&&Q("invalid-input"),be=m(E.charCodeAt(de++)),(be>=v||be>ee((h-N)/re))&&Q("overflow"),N+=be*re,ye=ae<=H?b:ae>=H+y?y:ae-H,!(be<ye);ae+=v)we=v-ye,re>ee(h/we)&&Q("overflow"),re*=we;F=M.length+1,H=A(N-he,F,he==0),ee(N/F)>h-L&&Q("overflow"),L+=ee(N/F),N%=F,M.splice(N++,0,L)}return p(M)}function T(E){var M,U,F,N,L,H,Y,Z,de,he,re,ae=[],be,ye,we,Te;for(E=l(E),be=E.length,M=C,U=0,L=P,H=0;H<be;++H)re=E[H],re<128&&ae.push(te(re));for(F=N=ae.length,N&&ae.push(x);F<be;){for(Y=h,H=0;H<be;++H)re=E[H],re>=M&&re<Y&&(Y=re);for(ye=F+1,Y-M>ee((h-U)/ye)&&Q("overflow"),U+=(Y-M)*ye,M=Y,H=0;H<be;++H)if(re=E[H],re<M&&++U>h&&Q("overflow"),re==M){for(Z=U,de=v;he=de<=L?b:de>=L+y?y:de-L,!(Z<he);de+=v)Te=Z-he,we=v-he,ae.push(te(_(he+Te%we,0))),Z=ee(Te/we);ae.push(te(_(Z,0))),L=A(U,ye,F==N),U=0,++F}++U,++M}return ae.join("")}function S(E){return fe(E,function(M){return D.test(M)?I(M.slice(4).toLowerCase()):M})}function d(E){return fe(E,function(M){return k.test(M)?"xn--"+T(M):M})}if(u={version:"1.4.1",ucs2:{decode:l,encode:p},decode:I,encode:T,toASCII:d,toUnicode:S},o&&c)if(e.exports==o)c.exports=u;else for(ce in u)u.hasOwnProperty(ce)&&(o[ce]=u[ce]);else n.punycode=u})(commonjsGlobal$7)}(punycode$1,punycode$1.exports);var punycodeExports=punycode$1.exports;const require$$0$2=getDefaultExportFromCjs$1(punycodeExports);function hasOwnProperty$7(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var decode$2=function(e,t,n,o){t=t||"&",n=n||"=";var c={};if(typeof e!="string"||e.length===0)return c;var a=/\+/g;e=e.split(t);var u=1e3;o&&typeof o.maxKeys=="number"&&(u=o.maxKeys);var h=e.length;u>0&&h>u&&(h=u);for(var v=0;v<h;++v){var b=e[v].replace(a,"%20"),y=b.indexOf(n),w,O,P,C;y>=0?(w=b.substr(0,y),O=b.substr(y+1)):(w=b,O=""),P=decodeURIComponent(w),C=decodeURIComponent(O),hasOwnProperty$7(c,P)?isArray$3(c[P])?c[P].push(C):c[P]=[c[P],C]:c[P]=C}return c},isArray$3=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},stringifyPrimitive=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},encode$2=function(e,t,n,o){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?map(objectKeys$8(e),function(c){var a=encodeURIComponent(stringifyPrimitive(c))+n;return isArray$2(e[c])?map(e[c],function(u){return a+encodeURIComponent(stringifyPrimitive(u))}).join(t):a+encodeURIComponent(stringifyPrimitive(e[c]))}).join(t):o?encodeURIComponent(stringifyPrimitive(o))+n+encodeURIComponent(stringifyPrimitive(e)):""},isArray$2=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function map(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var objectKeys$8=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},stringify,parse$5,decode$1=parse$5=decode$2,encode$1=stringify=encode$2;function qsEscape(e){return encodeURIComponent(e)}function qsUnescape(e){return decodeURIComponent(e)}var api$1={decode:decode$1,encode:encode$1,parse:parse$5,stringify,escape:qsEscape,unescape:qsUnescape},util$1$1={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},punycode=require$$0$2,util$4=util$1$1,parse$4=urlParse,resolve$1$1=urlResolve,resolveObject=urlResolveObject,format$h=urlFormat,Url_1=Url;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=api$1;function urlParse(e,t,n){if(e&&util$4.isObject(e)&&e instanceof Url)return e;var o=new Url;return o.parse(e,t,n),o}Url.prototype.parse=function(e,t,n){if(!util$4.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),c=o!==-1&&o<e.indexOf("#")?"?":"#",a=e.split(c),u=/\\/g;a[0]=a[0].replace(u,"/"),e=a.join(c);var h=e;if(h=h.trim(),!n&&e.split("#").length===1){var v=simplePathPattern.exec(h);if(v)return this.path=h,this.href=h,this.pathname=v[1],v[2]?(this.search=v[2],t?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=protocolPattern.exec(h);if(b){b=b[0];var y=b.toLowerCase();this.protocol=y,h=h.substr(b.length)}if(n||b||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var w=h.substr(0,2)==="//";w&&!(b&&hostlessProtocol[b])&&(h=h.substr(2),this.slashes=!0)}if(!hostlessProtocol[b]&&(w||b&&!slashedProtocol[b])){for(var O=-1,P=0;P<hostEndingChars.length;P++){var C=h.indexOf(hostEndingChars[P]);C!==-1&&(O===-1||C<O)&&(O=C)}var x,D;O===-1?D=h.lastIndexOf("@"):D=h.lastIndexOf("@",O),D!==-1&&(x=h.slice(0,D),h=h.slice(D+1),this.auth=decodeURIComponent(x)),O=-1;for(var P=0;P<nonHostChars.length;P++){var C=h.indexOf(nonHostChars[P]);C!==-1&&(O===-1||C<O)&&(O=C)}O===-1&&(O=h.length),this.host=h.slice(0,O),h=h.slice(O),this.parseHost(),this.hostname=this.hostname||"";var k=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!k)for(var B=this.hostname.split(/\./),P=0,q=B.length;P<q;P++){var V=B[P];if(V&&!V.match(hostnamePartPattern)){for(var ee="",te=0,ce=V.length;te<ce;te++)V.charCodeAt(te)>127?ee+="x":ee+=V[te];if(!ee.match(hostnamePartPattern)){var Q=B.slice(0,P),ne=B.slice(P+1),fe=V.match(hostnamePartStart);fe&&(Q.push(fe[1]),ne.unshift(fe[2])),ne.length&&(h="/"+ne.join(".")+h),this.hostname=Q.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=punycode.toASCII(this.hostname));var l=this.port?":"+this.port:"",p=this.hostname||"";this.host=p+l,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),h[0]!=="/"&&(h="/"+h))}if(!unsafeProtocol[y])for(var P=0,q=autoEscape.length;P<q;P++){var m=autoEscape[P];if(h.indexOf(m)!==-1){var _=encodeURIComponent(m);_===m&&(_=escape(m)),h=h.split(m).join(_)}}var A=h.indexOf("#");A!==-1&&(this.hash=h.substr(A),h=h.slice(0,A));var I=h.indexOf("?");if(I!==-1?(this.search=h.substr(I),this.query=h.substr(I+1),t&&(this.query=querystring.parse(this.query)),h=h.slice(0,I)):t&&(this.search="",this.query={}),h&&(this.pathname=h),slashedProtocol[y]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var l=this.pathname||"",T=this.search||"";this.path=l+T}return this.href=this.format(),this};function urlFormat(e){return util$4.isString(e)&&(e=urlParse(e)),e instanceof Url?e.format():Url.prototype.format.call(e)}Url.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",o=this.hash||"",c=!1,a="";this.host?c=e+this.host:this.hostname&&(c=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(c+=":"+this.port)),this.query&&util$4.isObject(this.query)&&Object.keys(this.query).length&&(a=querystring.stringify(this.query));var u=this.search||a&&"?"+a||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||slashedProtocol[t])&&c!==!1?(c="//"+(c||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):c||(c=""),o&&o.charAt(0)!=="#"&&(o="#"+o),u&&u.charAt(0)!=="?"&&(u="?"+u),n=n.replace(/[?#]/g,function(h){return encodeURIComponent(h)}),u=u.replace("#","%23"),t+c+n+u+o};function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)}Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()};function urlResolveObject(e,t){return e?urlParse(e,!1,!0).resolveObject(t):t}Url.prototype.resolveObject=function(e){if(util$4.isString(e)){var t=new Url;t.parse(e,!1,!0),e=t}for(var n=new Url,o=Object.keys(this),c=0;c<o.length;c++){var a=o[c];n[a]=this[a]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),h=0;h<u.length;h++){var v=u[h];v!=="protocol"&&(n[v]=e[v])}return slashedProtocol[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!slashedProtocol[e.protocol]){for(var b=Object.keys(e),y=0;y<b.length;y++){var w=b[y];n[w]=e[w]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!hostlessProtocol[e.protocol]){for(var q=(e.pathname||"").split("/");q.length&&!(e.host=q.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),q[0]!==""&&q.unshift(""),q.length<2&&q.unshift(""),n.pathname=q.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var O=n.pathname||"",P=n.search||"";n.path=O+P}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var C=n.pathname&&n.pathname.charAt(0)==="/",x=e.host||e.pathname&&e.pathname.charAt(0)==="/",D=x||C||n.host&&e.pathname,k=D,B=n.pathname&&n.pathname.split("/")||[],q=e.pathname&&e.pathname.split("/")||[],V=n.protocol&&!slashedProtocol[n.protocol];if(V&&(n.hostname="",n.port=null,n.host&&(B[0]===""?B[0]=n.host:B.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(q[0]===""?q[0]=e.host:q.unshift(e.host)),e.host=null),D=D&&(q[0]===""||B[0]==="")),x)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,B=q;else if(q.length)B||(B=[]),B.pop(),B=B.concat(q),n.search=e.search,n.query=e.query;else if(!util$4.isNullOrUndefined(e.search)){if(V){n.hostname=n.host=B.shift();var ee=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ee&&(n.auth=ee.shift(),n.host=n.hostname=ee.shift())}return n.search=e.search,n.query=e.query,(!util$4.isNull(n.pathname)||!util$4.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!B.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var te=B.slice(-1)[0],ce=(n.host||e.host||B.length>1)&&(te==="."||te==="..")||te==="",Q=0,ne=B.length;ne>=0;ne--)te=B[ne],te==="."?B.splice(ne,1):te===".."?(B.splice(ne,1),Q++):Q&&(B.splice(ne,1),Q--);if(!D&&!k)for(;Q--;Q)B.unshift("..");D&&B[0]!==""&&(!B[0]||B[0].charAt(0)!=="/")&&B.unshift(""),ce&&B.join("/").substr(-1)!=="/"&&B.push("");var fe=B[0]===""||B[0]&&B[0].charAt(0)==="/";if(V){n.hostname=n.host=fe?"":B.length?B.shift():"";var ee=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ee&&(n.auth=ee.shift(),n.host=n.hostname=ee.shift())}return D=D||n.host&&B.length,D&&!fe&&B.unshift(""),B.length?n.pathname=B.join("/"):(n.pathname=null,n.path=null),(!util$4.isNull(n.pathname)||!util$4.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Url.prototype.parseHost=function(){var e=this.host,t=portPattern.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};function normalizeArray(e,t){for(var n=0,o=e.length-1;o>=0;o--){var c=e[o];c==="."?e.splice(o,1):c===".."?(e.splice(o,1),n++):n&&(e.splice(o,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function resolve$7(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var o=n>=0?arguments[n]:"/";if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,t=o.charAt(0)==="/")}return e=normalizeArray(filter(e.split("/"),function(c){return!!c}),!t).join("/"),(t?"/":"")+e||"."}function filter(e,t){if(e.filter)return e.filter(t);for(var n=[],o=0;o<e.length;o++)t(e[o],o,e)&&n.push(e[o]);return n}var _globalThis=function(e){function t(){var o=this||self;return delete e.prototype.__magic__,o}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var n=__magic__;return n}(Object),formatImport=format$h,parseImport=parse$4,resolveImport=resolve$1$1,UrlImport=Url_1,URL$1=_globalThis.URL,URLSearchParams$2=_globalThis.URLSearchParams,percentRegEx=/%/g,backslashRegEx=/\\/g,newlineRegEx=/\n/g,carriageReturnRegEx=/\r/g,tabRegEx=/\t/g,CHAR_FORWARD_SLASH=47;function isURLInstance(e){var t=e??null;return!!(t!==null&&(t!=null&&t.href)&&(t!=null&&t.origin))}function getPathFromURLPosix(e){if(e.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var t=e.pathname,n=0;n<t.length;n++)if(t[n]==="%"){var o=t.codePointAt(n+2)|32;if(t[n+1]==="2"&&o===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(t)}function encodePathChars(e){return e.includes("%")&&(e=e.replace(percentRegEx,"%25")),e.includes("\\")&&(e=e.replace(backslashRegEx,"%5C")),e.includes(`
`)&&(e=e.replace(newlineRegEx,"%0A")),e.includes("\r")&&(e=e.replace(carriageReturnRegEx,"%0D")),e.includes("	")&&(e=e.replace(tabRegEx,"%09")),e}var domainToASCII=function e(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new URL$1("http://"+t).hostname},domainToUnicode=function e(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new URL$1("http://"+t).hostname},pathToFileURL=function e(t){var n=new URL$1("file://"),o=resolve$7(t),c=t.charCodeAt(t.length-1);return c===CHAR_FORWARD_SLASH&&o[o.length-1]!=="/"&&(o+="/"),n.pathname=encodePathChars(o),n},fileURLToPath=function e(t){if(!isURLInstance(t)&&typeof t!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof t+" ("+t+")");var n=new URL$1(t);if(n.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return getPathFromURLPosix(n)},formatImportWithOverloads=function e(t,n){var o,c,a;if(n===void 0&&(n={}),!(t instanceof URL$1))return formatImport(t);if(typeof n!="object"||n===null)throw new TypeError('The "options" argument must be of type object.');var u=(o=n.auth)!=null?o:!0,h=(c=n.fragment)!=null?c:!0,v=(a=n.search)!=null?a:!0,b=new URL$1(t.toString());return u||(b.username="",b.password=""),h||(b.hash=""),v||(b.search=""),b.toString()},api={format:formatImportWithOverloads,parse:parseImport,resolve:resolveImport,resolveObject,Url:UrlImport,URL:URL$1,URLSearchParams:URLSearchParams$2,domainToASCII,domainToUnicode,pathToFileURL,fileURLToPath};const url=Object.freeze(Object.defineProperty({__proto__:null,URL:URL$1,URLSearchParams:URLSearchParams$2,Url:UrlImport,default:api,domainToASCII,domainToUnicode,fileURLToPath,format:formatImportWithOverloads,parse:parseImport,pathToFileURL,resolve:resolveImport,resolveObject},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(url);var hasRequiredStreamHttp;function requireStreamHttp(){return hasRequiredStreamHttp||(hasRequiredStreamHttp=1,function(e){var t=requireRequest(),n=requireResponse(),o=requireImmutable(),c=requireBrowser$3(),a=require$$1,u=e;u.request=function(h,v){typeof h=="string"?h=a.parse(h):h=o(h);var b=commonjsGlobal$7.location.protocol.search(/^https?:$/)===-1?"http:":"",y=h.protocol||b,w=h.hostname||h.host,O=h.port,P=h.path||"/";w&&w.indexOf(":")!==-1&&(w="["+w+"]"),h.url=(w?y+"//"+w:"")+(O?":"+O:"")+P,h.method=(h.method||"GET").toUpperCase(),h.headers=h.headers||{};var C=new t(h);return v&&C.on("response",v),C},u.get=function(h,v){var b=u.request(h,v);return b.end(),b},u.ClientRequest=t,u.IncomingMessage=n.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=c,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(streamHttp)),streamHttp}var httpsBrowserify={exports:{}},hasRequiredHttpsBrowserify;function requireHttpsBrowserify(){return hasRequiredHttpsBrowserify||(hasRequiredHttpsBrowserify=1,function(e){var t=requireStreamHttp(),n=require$$1,o=e.exports;for(var c in t)t.hasOwnProperty(c)&&(o[c]=t[c]);o.request=function(u,h){return u=a(u),t.request.call(this,u,h)},o.get=function(u,h){return u=a(u),t.get.call(this,u,h)};function a(u){if(typeof u=="string"&&(u=n.parse(u)),u.protocol||(u.protocol="https:"),u.protocol!=="https:")throw new Error('Protocol "'+u.protocol+'" not supported. Expected "https:"');return u}}(httpsBrowserify)),httpsBrowserify.exports}var hasRequiredFetch$3;function requireFetch$3(){if(hasRequiredFetch$3)return fetch$4;hasRequiredFetch$3=1;var e=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(fetch$4,"__esModule",{value:!0});const t=e(requireBrowser$4()),n=e(requireStreamHttp()),o=e(requireHttpsBrowserify()),c=new n.default.Agent({keepAlive:!0}),a=new o.default.Agent({keepAlive:!0});function u(v){return v.protocol==="http:"?c:a}function h(v,b){return(0,t.default)(v,Object.assign({agent:u(new URL(v.toString()))},b))}return fetch$4.default=h,fetch$4}var define_process_env_default$5={},__createBinding$i=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$i=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$i=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$i(t,e,n);return __setModuleDefault$i(t,e),t},__awaiter$1g=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$E=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fetch_json$3,"__esModule",{value:!0}),fetch_json$3.fetchJson=void 0;const types_1$K=lib$F,http_errors_1$3=__importDefault$E(httpErrorsExports$3),exponential_backoff_1$7=exponentialBackoff$7,START_WAIT_TIME_MS$3=1e3,BACKOFF_MULTIPLIER$3=1.5,RETRY_NUMBER$3=10,logWarning$3=(...e)=>!define_process_env_default$5.NEAR_NO_LOGS&&console.warn(...e);function fetchJson$3(e,t){return __awaiter$1g(this,void 0,void 0,function*(){let n={url:null};typeof e=="string"?n.url=e:n=e;const o=yield(0,exponential_backoff_1$7.exponentialBackoff)(START_WAIT_TIME_MS$3,RETRY_NUMBER$3,BACKOFF_MULTIPLIER$3,()=>__awaiter$1g(this,void 0,void 0,function*(){try{commonjsGlobal$7.fetch||(commonjsGlobal$7.fetch=(yield Promise.resolve().then(()=>__importStar$i(requireFetch$3()))).default);const c=yield commonjsGlobal$7.fetch(n.url,{method:t?"POST":"GET",body:t||void 0,headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"application/json"})});if(!c.ok){if(c.status===503)return logWarning$3(`Retrying HTTP request for ${n.url} as it's not available now`),null;throw(0,http_errors_1$3.default)(c.status,yield c.text())}return c}catch(c){if(c.toString().includes("FetchError")||c.toString().includes("Failed to fetch"))return logWarning$3(`Retrying HTTP request for ${n.url} because of error: ${c}`),null;throw c}}));if(!o)throw new types_1$K.TypedError(`Exceeded ${RETRY_NUMBER$3} attempts for ${n.url}.`,"RetriesExceeded");return yield o.json()})}fetch_json$3.fetchJson=fetchJson$3;var define_process_env_default$4={},__awaiter$1f=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$a=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(jsonRpcProvider$7,"__esModule",{value:!0}),jsonRpcProvider$7.JsonRpcProvider=void 0;const utils_1$I=lib$D,types_1$J=lib$F,transactions_1$l=lib$B,borsh_1$6=lib$G,exponential_backoff_1$6=exponentialBackoff$7,provider_1$6=provider$b,fetch_json_1$3=fetch_json$3,REQUEST_RETRY_NUMBER$3=12,REQUEST_RETRY_WAIT$3=500,REQUEST_RETRY_WAIT_BACKOFF$3=1.5;let _nextId$3=123,JsonRpcProvider$3=class extends provider_1$6.Provider{constructor(e){super(),this.connection=e||{url:""}}status(){return __awaiter$1f(this,void 0,void 0,function*(){return this.sendJsonRpc("status",[])})}sendTransaction(e){return __awaiter$1f(this,void 0,void 0,function*(){const t=(0,transactions_1$l.encodeTransaction)(e);return this.sendJsonRpc("broadcast_tx_commit",[Buffer$E.from(t).toString("base64")])})}sendTransactionAsync(e){return __awaiter$1f(this,void 0,void 0,function*(){const t=(0,transactions_1$l.encodeTransaction)(e);return this.sendJsonRpc("broadcast_tx_async",[Buffer$E.from(t).toString("base64")])})}txStatus(e,t){return __awaiter$1f(this,void 0,void 0,function*(){return typeof e=="string"?this.txStatusString(e,t):this.txStatusUint8Array(e,t)})}txStatusUint8Array(e,t){return __awaiter$1f(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[(0,borsh_1$6.baseEncode)(e),t])})}txStatusString(e,t){return __awaiter$1f(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[e,t])})}txStatusReceipts(e,t){return __awaiter$1f(this,void 0,void 0,function*(){return typeof e=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",[e,t]):this.sendJsonRpc("EXPERIMENTAL_tx_status",[(0,borsh_1$6.baseEncode)(e),t])})}query(...e){return __awaiter$1f(this,void 0,void 0,function*(){let t;if(e.length===1){const n=e[0],{block_id:o,blockId:c}=n,a=__rest$a(n,["block_id","blockId"]);t=yield this.sendJsonRpc("query",Object.assign(Object.assign({},a),{block_id:o||c}))}else{const[n,o]=e;t=yield this.sendJsonRpc("query",[n,o])}if(t&&t.error)throw new types_1$J.TypedError(`Querying failed: ${t.error}.
${JSON.stringify(t,null,2)}`,(0,utils_1$I.getErrorTypeFromErrorMessage)(t.error,t.error.name));return t})}block(e){return __awaiter$1f(this,void 0,void 0,function*(){const{finality:t}=e,{blockId:n}=e;return this.sendJsonRpc("block",{block_id:n,finality:t})})}blockChanges(e){return __awaiter$1f(this,void 0,void 0,function*(){const{finality:t}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:n,finality:t})})}chunk(e){return __awaiter$1f(this,void 0,void 0,function*(){return this.sendJsonRpc("chunk",[e])})}validators(e){return __awaiter$1f(this,void 0,void 0,function*(){return this.sendJsonRpc("validators",[e])})}experimental_protocolConfig(e){return __awaiter$1f(this,void 0,void 0,function*(){const t=e,{blockId:n}=t,o=__rest$a(t,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},o),{block_id:n}))})}lightClientProof(e){return __awaiter$1f(this,void 0,void 0,function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",e)})}nextLightClientBlock(e){return __awaiter$1f(this,void 0,void 0,function*(){return yield this.sendJsonRpc("next_light_client_block",e)})}accessKeyChanges(e,t){return __awaiter$1f(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:e,block_id:o,finality:n})})}singleAccessKeyChanges(e,t){return __awaiter$1f(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:e,block_id:o,finality:n})})}accountChanges(e,t){return __awaiter$1f(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:e,block_id:o,finality:n})})}contractStateChanges(e,t,n=""){return __awaiter$1f(this,void 0,void 0,function*(){const{finality:o}=t,{blockId:c}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:e,key_prefix_base64:n,block_id:c,finality:o})})}contractCodeChanges(e,t){return __awaiter$1f(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:e,block_id:o,finality:n})})}gasPrice(e){return __awaiter$1f(this,void 0,void 0,function*(){return yield this.sendJsonRpc("gas_price",[e])})}sendJsonRpc(e,t){return __awaiter$1f(this,void 0,void 0,function*(){const n=yield(0,exponential_backoff_1$6.exponentialBackoff)(REQUEST_RETRY_WAIT$3,REQUEST_RETRY_NUMBER$3,REQUEST_RETRY_WAIT_BACKOFF$3,()=>__awaiter$1f(this,void 0,void 0,function*(){try{const c={method:e,params:t,id:_nextId$3++,jsonrpc:"2.0"},a=yield(0,fetch_json_1$3.fetchJson)(this.connection,JSON.stringify(c));if(a.error){if(typeof a.error.data=="object")throw typeof a.error.data.error_message=="string"&&typeof a.error.data.error_type=="string"?new types_1$J.TypedError(a.error.data.error_message,a.error.data.error_type):(0,utils_1$I.parseRpcError)(a.error.data);{const u=`[${a.error.code}] ${a.error.message}: ${a.error.data}`;throw a.error.data==="Timeout"||u.includes("Timeout error")||u.includes("query has timed out")?new types_1$J.TypedError(u,"TimeoutError"):new types_1$J.TypedError(u,(0,utils_1$I.getErrorTypeFromErrorMessage)(a.error.data,a.error.name))}}return a}catch(c){if(c.type==="TimeoutError")return define_process_env_default$4.NEAR_NO_LOGS||console.warn(`Retrying request to ${e} as it has timed out`,t),null;throw c}})),{result:o}=n;if(typeof o>"u")throw new types_1$J.TypedError(`Exceeded ${REQUEST_RETRY_NUMBER$3} attempts for request to ${e}.`,"RetriesExceeded");return o})}};jsonRpcProvider$7.JsonRpcProvider=JsonRpcProvider$3,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=e.Provider=e.JsonRpcProvider=e.exponentialBackoff=void 0;var t=exponentialBackoff$7;Object.defineProperty(e,"exponentialBackoff",{enumerable:!0,get:function(){return t.exponentialBackoff}});var n=jsonRpcProvider$7;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}});var o=provider$b;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return o.Provider}});var c=fetch_json$3;Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return c.fetchJson}})}(lib$C),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=e.Provider=e.getTransactionLastResult=void 0;var t=lib$D;Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}});var n=lib$C;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return n.Provider}});var o=lib$F;Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return o.IdType}}),Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return o.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return o.FinalExecutionStatusBasic}})}(provider$d);var jsonRpcProvider$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=e.TypedError=e.ErrorContext=void 0;var t=lib$F;Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return t.ErrorContext}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return t.TypedError}});var n=lib$C;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}})})(jsonRpcProvider$6),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.getTransactionLastResult=e.FinalExecutionStatusBasic=e.JsonRpcProvider=e.Provider=void 0;const t=provider$d;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return t.Provider}}),Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return t.FinalExecutionStatusBasic}});const n=jsonRpcProvider$6;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return n.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return n.ErrorContext}})}(providers$3);var utils$D={},key_pair$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyType=e.KeyPairEd25519=e.KeyPair=void 0;var t=lib$H;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return t.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return t.KeyPairEd25519}}),Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}}),Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return t.PublicKey}})})(key_pair$6);var serialize$j={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryReader=e.BinaryWriter=e.BorshError=e.deserialize=e.serialize=e.base_decode=e.base_encode=void 0;var t=lib$G;Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return t.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return t.baseDecode}}),Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return t.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return t.deserialize}}),Object.defineProperty(e,"BorshError",{enumerable:!0,get:function(){return t.BorshError}}),Object.defineProperty(e,"BinaryWriter",{enumerable:!0,get:function(){return t.BinaryWriter}}),Object.defineProperty(e,"BinaryReader",{enumerable:!0,get:function(){return t.BinaryReader}})})(serialize$j);var web$3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=void 0;var t=lib$C;Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return t.fetchJson}})})(web$3);var enums$3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Enum=e.Assignable=void 0;var t=lib$F;Object.defineProperty(e,"Assignable",{enumerable:!0,get:function(){return t.Assignable}});class n{constructor(c){if(Object.keys(c).length!==1)throw new Error("Enum can only take single value");Object.keys(c).map(a=>{this[a]=c[a],this.enum=a})}}e.Enum=n})(enums$3);var format$g={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION_EXP=e.NEAR_NOMINATION=void 0;var t=lib$D;Object.defineProperty(e,"NEAR_NOMINATION",{enumerable:!0,get:function(){return t.NEAR_NOMINATION}}),Object.defineProperty(e,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return t.NEAR_NOMINATION_EXP}}),Object.defineProperty(e,"formatNearAmount",{enumerable:!0,get:function(){return t.formatNearAmount}}),Object.defineProperty(e,"parseNearAmount",{enumerable:!0,get:function(){return t.parseNearAmount}})})(format$g);var rpc_errors$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=void 0;var t=lib$D;Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return t.parseRpcError}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return t.parseResultError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return t.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return t.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return t.ServerError}})})(rpc_errors$6);var errors$h={},lib$A={},account$7={},define_process_env_default$3={},__awaiter$1e=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$D=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(account$7,"__esModule",{value:!0}),account$7.Account=void 0;const crypto_1$r=lib$H,providers_1$g=lib$C,transactions_1$k=lib$B,types_1$I=lib$F,utils_1$H=lib$D,bn_js_1$r=__importDefault$D(bnExports$6),borsh_1$5=lib$G,{addKey:addKey$d,createAccount:createAccount$9,deleteAccount:deleteAccount$9,deleteKey:deleteKey$d,deployContract:deployContract$h,fullAccessKey:fullAccessKey$a,functionCall:functionCall$n,functionCallAccessKey:functionCallAccessKey$a,stake:stake$9,transfer:transfer$9}=transactions_1$k.actionCreators,TX_NONCE_RETRY_NUMBER$3=12,TX_NONCE_RETRY_WAIT$3=500,TX_NONCE_RETRY_WAIT_BACKOFF$3=1.5;function parseJsonFromRawResponse$3(e){return JSON.parse(Buffer$E.from(e).toString())}function bytesJsonStringify$3(e){return Buffer$E.from(JSON.stringify(e))}let Account$3=class Yt{constructor(t,n){this.accessKeyByPublicKeyCache={},this.connection=t,this.accountId=n}state(){return __awaiter$1e(this,void 0,void 0,function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})})}signTransaction(t,n){return __awaiter$1e(this,void 0,void 0,function*(){const o=yield this.findAccessKey(t,n);if(!o)throw new types_1$I.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:c}=o,a=(yield this.connection.provider.block({finality:"final"})).header.hash,u=c.nonce.add(new bn_js_1$r.default(1));return yield(0,transactions_1$k.signTransaction)(t,u,n,(0,borsh_1$5.baseDecode)(a),this.connection.signer,this.accountId,this.connection.networkId)})}signAndSendTransaction({receiverId:t,actions:n,returnError:o}){return __awaiter$1e(this,void 0,void 0,function*(){let c,a;const u=yield(0,providers_1$g.exponentialBackoff)(TX_NONCE_RETRY_WAIT$3,TX_NONCE_RETRY_NUMBER$3,TX_NONCE_RETRY_WAIT_BACKOFF$3,()=>__awaiter$1e(this,void 0,void 0,function*(){[c,a]=yield this.signTransaction(t,n);const h=a.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(a)}catch(v){if(v.type==="InvalidNonce")return(0,utils_1$H.logWarning)(`Retrying transaction ${t}:${(0,borsh_1$5.baseEncode)(c)} with new nonce.`),delete this.accessKeyByPublicKeyCache[h.toString()],null;if(v.type==="Expired")return(0,utils_1$H.logWarning)(`Retrying transaction ${t}:${(0,borsh_1$5.baseEncode)(c)} due to expired block hash`),null;throw v.context=new types_1$I.ErrorContext((0,borsh_1$5.baseEncode)(c)),v}}));if(!u)throw new types_1$I.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,utils_1$H.printTxOutcomeLogsAndFailures)({contractId:a.transaction.receiverId,outcome:u}),!o&&typeof u.status=="object"&&typeof u.status.Failure=="object"&&u.status.Failure!==null)throw u.status.Failure.error_message&&u.status.Failure.error_type?new types_1$I.TypedError(`Transaction ${u.transaction_outcome.id} failed. ${u.status.Failure.error_message}`,u.status.Failure.error_type):(0,utils_1$H.parseResultError)(u);return u})}findAccessKey(t,n){return __awaiter$1e(this,void 0,void 0,function*(){const o=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!o)throw new types_1$I.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const c=this.accessKeyByPublicKeyCache[o.toString()];if(c!==void 0)return{publicKey:o,accessKey:c};try{const a=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:o.toString(),finality:"optimistic"}),u=Object.assign(Object.assign({},a),{nonce:new bn_js_1$r.default(a.nonce)});return this.accessKeyByPublicKeyCache[o.toString()]?{publicKey:o,accessKey:this.accessKeyByPublicKeyCache[o.toString()]}:(this.accessKeyByPublicKeyCache[o.toString()]=u,{publicKey:o,accessKey:u})}catch(a){if(a.type=="AccessKeyDoesNotExist")return null;throw a}})}createAndDeployContract(t,n,o,c){return __awaiter$1e(this,void 0,void 0,function*(){const a=fullAccessKey$a();return yield this.signAndSendTransaction({receiverId:t,actions:[createAccount$9(),transfer$9(c),addKey$d(crypto_1$r.PublicKey.from(n),a),deployContract$h(o)]}),new Yt(this.connection,t)})}sendMoney(t,n){return __awaiter$1e(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:t,actions:[transfer$9(n)]})})}createAccount(t,n,o){return __awaiter$1e(this,void 0,void 0,function*(){const c=fullAccessKey$a();return this.signAndSendTransaction({receiverId:t,actions:[createAccount$9(),transfer$9(o),addKey$d(crypto_1$r.PublicKey.from(n),c)]})})}deleteAccount(t){return __awaiter$1e(this,void 0,void 0,function*(){return define_process_env_default$3.NEAR_NO_LOGS||console.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteAccount$9(t)]})})}deployContract(t){return __awaiter$1e(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deployContract$h(t)]})})}encodeJSContractArgs(t,n,o){return Buffer$E.concat([Buffer$E.from(t),Buffer$E.from([0]),Buffer$E.from(n),Buffer$E.from([0]),Buffer$E.from(o)])}functionCall({contractId:t,methodName:n,args:o={},gas:c=utils_1$H.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:a,walletMeta:u,walletCallbackUrl:h,stringify:v,jsContract:b}){return __awaiter$1e(this,void 0,void 0,function*(){this.validateArgs(o);let y;if(b)y=["call_js_contract",this.encodeJSContractArgs(t,n,JSON.stringify(o)),c,a,null,!0];else{const w=v===void 0?transactions_1$k.stringifyJsonOrBytes:v;y=[n,o,c,a,w,!1]}return this.signAndSendTransaction({receiverId:b?this.connection.jsvmAccountId:t,actions:[functionCall$n.apply(void 0,y)],walletMeta:u,walletCallbackUrl:h})})}addKey(t,n,o,c){return __awaiter$1e(this,void 0,void 0,function*(){o||(o=[]),Array.isArray(o)||(o=[o]);let a;return n?a=functionCallAccessKey$a(n,o,c):a=fullAccessKey$a(),this.signAndSendTransaction({receiverId:this.accountId,actions:[addKey$d(crypto_1$r.PublicKey.from(t),a)]})})}deleteKey(t){return __awaiter$1e(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteKey$d(crypto_1$r.PublicKey.from(t))]})})}stake(t,n){return __awaiter$1e(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[stake$9(n,crypto_1$r.PublicKey.from(t))]})})}signedDelegate({actions:t,blockHeightTtl:n,receiverId:o}){return __awaiter$1e(this,void 0,void 0,function*(){const{provider:c,signer:a}=this.connection,{header:u}=yield c.block({finality:"final"}),{accessKey:h,publicKey:v}=yield this.findAccessKey(null,null),b=(0,transactions_1$k.buildDelegateAction)({actions:t,maxBlockHeight:new bn_js_1$r.default(u.height).add(new bn_js_1$r.default(n)),nonce:new bn_js_1$r.default(h.nonce).add(new bn_js_1$r.default(1)),publicKey:v,receiverId:o,senderId:this.accountId}),{signedDelegateAction:y}=yield(0,transactions_1$k.signDelegateAction)({delegateAction:b,signer:{sign:w=>__awaiter$1e(this,void 0,void 0,function*(){const{signature:O}=yield a.signMessage(w,b.senderId,this.connection.networkId);return O})}});return y})}validateArgs(t){if(!(t.byteLength!==void 0&&t.byteLength===t.length)&&(Array.isArray(t)||typeof t!="object"))throw new types_1$I.PositionalArgsError}viewFunction({contractId:t,methodName:n,args:o={},parse:c=parseJsonFromRawResponse$3,stringify:a=bytesJsonStringify$3,jsContract:u=!1,blockQuery:h={finality:"optimistic"}}){return __awaiter$1e(this,void 0,void 0,function*(){let v;this.validateArgs(o),u?v=this.encodeJSContractArgs(t,n,Object.keys(o).length>0?JSON.stringify(o):""):v=a(o);const b=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"call_function"},h),{account_id:u?this.connection.jsvmAccountId:t,method_name:u?"view_js_contract":n,args_base64:v.toString("base64")}));return b.logs&&(0,utils_1$H.printTxOutcomeLogs)({contractId:t,logs:b.logs}),b.result&&b.result.length>0&&c(Buffer$E.from(b.result))})}viewState(t,n={finality:"optimistic"}){return __awaiter$1e(this,void 0,void 0,function*(){const{values:o}=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"view_state"},n),{account_id:this.accountId,prefix_base64:Buffer$E.from(t).toString("base64")}));return o.map(({key:c,value:a})=>({key:Buffer$E.from(c,"base64"),value:Buffer$E.from(a,"base64")}))})}getAccessKeys(){var t;return __awaiter$1e(this,void 0,void 0,function*(){const n=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(t=n==null?void 0:n.keys)===null||t===void 0?void 0:t.map(o=>Object.assign(Object.assign({},o),{access_key:Object.assign(Object.assign({},o.access_key),{nonce:new bn_js_1$r.default(o.access_key.nonce)})}))})}getAccountDetails(){return __awaiter$1e(this,void 0,void 0,function*(){return{authorizedApps:(yield this.getAccessKeys()).filter(t=>t.access_key.permission!=="FullAccess").map(t=>{const n=t.access_key.permission;return{contractId:n.FunctionCall.receiver_id,amount:n.FunctionCall.allowance,publicKey:t.public_key}})}})}getAccountBalance(){return __awaiter$1e(this,void 0,void 0,function*(){const t=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),n=yield this.state(),o=new bn_js_1$r.default(t.runtime_config.storage_amount_per_byte),c=new bn_js_1$r.default(n.storage_usage).mul(o),a=new bn_js_1$r.default(n.locked),u=new bn_js_1$r.default(n.amount).add(a),h=u.sub(bn_js_1$r.default.max(a,c));return{total:u.toString(),stateStaked:c.toString(),staked:a.toString(),available:h.toString()}})}getActiveDelegatedStakeBalance(){return __awaiter$1e(this,void 0,void 0,function*(){const t=yield this.connection.provider.block({finality:"final"}),n=t.header.hash,o=t.header.epoch_id,{current_validators:c,next_validators:a,current_proposals:u}=yield this.connection.provider.validators(o),h=new Set;[...c,...a,...u].forEach(O=>h.add(O.account_id));const v=[...h],b=v.map(O=>this.viewFunction({contractId:O,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:n}})),y=yield Promise.allSettled(b);if(y.some(O=>O.status==="rejected"&&O.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const w=y.reduce((O,P,C)=>{const x=v[C];if(P.status==="fulfilled"){const D=new bn_js_1$r.default(P.value);if(!D.isZero())return Object.assign(Object.assign({},O),{stakedValidators:[...O.stakedValidators,{validatorId:x,amount:D.toString()}],total:O.total.add(D)})}return P.status==="rejected"?Object.assign(Object.assign({},O),{failedValidators:[...O.failedValidators,{validatorId:x,error:P.reason}]}):O},{stakedValidators:[],failedValidators:[],total:new bn_js_1$r.default(0)});return Object.assign(Object.assign({},w),{total:w.total.toString()})})}};account$7.Account=Account$3;var account_2fa$3={},account_multisig$7={},constants$9={},__importDefault$C=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(constants$9,"__esModule",{value:!0}),constants$9.MULTISIG_CONFIRM_METHODS=constants$9.MULTISIG_CHANGE_METHODS=constants$9.MULTISIG_DEPOSIT=constants$9.MULTISIG_GAS=constants$9.MULTISIG_ALLOWANCE=constants$9.MULTISIG_STORAGE_KEY=void 0;const utils_1$G=lib$D,bn_js_1$q=__importDefault$C(bnExports$6);constants$9.MULTISIG_STORAGE_KEY="__multisigRequest",constants$9.MULTISIG_ALLOWANCE=new bn_js_1$q.default((0,utils_1$G.parseNearAmount)("1")),constants$9.MULTISIG_GAS=new bn_js_1$q.default("100000000000000"),constants$9.MULTISIG_DEPOSIT=new bn_js_1$q.default("0"),constants$9.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],constants$9.MULTISIG_CONFIRM_METHODS=["confirm"];var types$f={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=void 0,function(t){t.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",t.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",t.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",t.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",t.METHOD_NOT_FOUND="Contract method is not found"}(e.MultisigDeleteRequestRejectionError||(e.MultisigDeleteRequestRejectionError={})),function(t){t[t.INVALID_STATE=0]="INVALID_STATE",t[t.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",t[t.VALID_STATE=2]="VALID_STATE",t[t.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(e.MultisigStateStatus||(e.MultisigStateStatus={}))})(types$f);var __awaiter$1d=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account_multisig$7,"__esModule",{value:!0}),account_multisig$7.AccountMultisig=void 0;const transactions_1$j=lib$B,account_1$4=account$7,constants_1$d=constants$9,types_1$H=types$f,{deployContract:deployContract$g,functionCall:functionCall$m}=transactions_1$j.actionCreators;var MultisigCodeStatus$3;(function(e){e[e.INVALID_CODE=0]="INVALID_CODE",e[e.VALID_CODE=1]="VALID_CODE",e[e.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(MultisigCodeStatus$3||(MultisigCodeStatus$3={}));const storageFallback$3={[constants_1$d.MULTISIG_STORAGE_KEY]:null};let AccountMultisig$3=class extends account_1$4.Account{constructor(e,t,n){super(e,t),this.storage=n.storage,this.onAddRequestResult=n.onAddRequestResult}signAndSendTransactionWithAccount(e,t){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$1d(this,void 0,void 0,function*(){return n.signAndSendTransaction.call(this,{receiverId:e,actions:t})})}signAndSendTransaction({receiverId:e,actions:t}){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$1d(this,void 0,void 0,function*(){const{accountId:o}=this,c=Buffer$E.from(JSON.stringify({request:{receiver_id:e,actions:convertActions$3(t,o,e)}}));let a;try{a=yield n.signAndSendTransaction.call(this,{receiverId:o,actions:[functionCall$m("add_request_and_confirm",c,constants_1$d.MULTISIG_GAS,constants_1$d.MULTISIG_DEPOSIT)]})}catch(h){if(h.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:e,actions:t});throw h}if(!a.status)throw new Error("Request failed");const u=Object.assign({},a.status);if(!u.SuccessValue||typeof u.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:o,actions:t,requestId:parseInt(Buffer$E.from(u.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(a)),this.deleteUnconfirmedRequests(),a})}checkMultisigCodeAndStateStatus(e){const t=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$1d(this,void 0,void 0,function*(){const n=e?MultisigCodeStatus$3.UNKNOWN_CODE:MultisigCodeStatus$3.VALID_CODE;try{return e?yield t.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[deployContract$g(e),functionCall$m("delete_request",{request_id:4294967295},constants_1$d.MULTISIG_GAS,constants_1$d.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(4294967295),{codeStatus:MultisigCodeStatus$3.VALID_CODE,stateStatus:types_1$H.MultisigStateStatus.VALID_STATE}}catch(o){if(new RegExp(types_1$H.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(o&&o.kind&&o.kind.ExecutionError))return{codeStatus:n,stateStatus:types_1$H.MultisigStateStatus.INVALID_STATE};if(new RegExp(types_1$H.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(o&&o.kind&&o.kind.ExecutionError))return{codeStatus:n,stateStatus:types_1$H.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(types_1$H.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(o&&o.kind&&o.kind.ExecutionError))return{codeStatus:n,stateStatus:types_1$H.MultisigStateStatus.VALID_STATE};if(new RegExp(types_1$H.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(o&&o.message))return{codeStatus:MultisigCodeStatus$3.INVALID_CODE,stateStatus:types_1$H.MultisigStateStatus.UNKNOWN_STATE};throw o}})}deleteRequest(e){return super.signAndSendTransaction({receiverId:this.accountId,actions:[functionCall$m("delete_request",{request_id:e},constants_1$d.MULTISIG_GAS,constants_1$d.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return __awaiter$1d(this,void 0,void 0,function*(){const e=yield this.getRequestIds();e.length&&(yield Promise.all(e.map(t=>this.deleteRequest(t))))})}deleteUnconfirmedRequests(){const e=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$1d(this,void 0,void 0,function*(){const t=yield this.getRequestIds(),{requestId:n}=this.getRequest();for(const o of t)if(o!=n)try{yield e.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[functionCall$m("delete_request",{request_id:o},constants_1$d.MULTISIG_GAS,constants_1$d.MULTISIG_DEPOSIT)]})}catch{console.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}})}getRequestIds(){return __awaiter$1d(this,void 0,void 0,function*(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(constants_1$d.MULTISIG_STORAGE_KEY)||"{}"):storageFallback$3[constants_1$d.MULTISIG_STORAGE_KEY]}setRequest(e){if(this.storage)return this.storage.setItem(constants_1$d.MULTISIG_STORAGE_KEY,JSON.stringify(e));storageFallback$3[constants_1$d.MULTISIG_STORAGE_KEY]=e}};account_multisig$7.AccountMultisig=AccountMultisig$3;const convertPKForContract$3=e=>e.toString().replace("ed25519:",""),convertActions$3=(e,t,n)=>e.map(o=>{const c=o.enum,{gas:a,publicKey:u,methodName:h,args:v,deposit:b,accessKey:y,code:w}=o[c],O={type:c[0].toUpperCase()+c.substr(1),gas:a&&a.toString()||void 0,public_key:u&&convertPKForContract$3(u)||void 0,method_name:h,args:v&&Buffer$E.from(v).toString("base64")||void 0,code:w&&Buffer$E.from(w).toString("base64")||void 0,amount:b&&b.toString()||void 0,deposit:b&&b.toString()||"0",permission:void 0};if(y&&(n===t&&y.permission.enum!=="fullAccess"&&(O.permission={receiver_id:t,allowance:constants_1$d.MULTISIG_ALLOWANCE.toString(),method_names:constants_1$d.MULTISIG_CHANGE_METHODS}),y.permission.enum==="functionCall")){const{receiverId:P,methodNames:C,allowance:x}=y.permission.functionCall;O.permission={receiver_id:P,allowance:x&&x.toString()||void 0,method_names:C}}return O});var __awaiter$1c=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$B=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(account_2fa$3,"__esModule",{value:!0}),account_2fa$3.Account2FA=void 0;const crypto_1$q=lib$H,types_1$G=lib$F,providers_1$f=lib$C,transactions_1$i=lib$B,bn_js_1$p=__importDefault$B(bnExports$6),account_multisig_1$3=account_multisig$7,constants_1$c=constants$9,types_2$3=types$f,{addKey:addKey$c,deleteKey:deleteKey$c,deployContract:deployContract$f,fullAccessKey:fullAccessKey$9,functionCall:functionCall$l,functionCallAccessKey:functionCallAccessKey$9}=transactions_1$i.actionCreators;let Account2FA$3=class extends account_multisig_1$3.AccountMultisig{constructor(e,t,n){super(e,t,n),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=n.helperUrl||this.helperUrl,this.storage=n.storage,this.sendCode=n.sendCode||this.sendCodeDefault,this.getCode=n.getCode||this.getCodeDefault,this.verifyCode=n.verifyCode||this.verifyCodeDefault,this.onConfirmResult=n.onConfirmResult}signAndSendTransaction({receiverId:e,actions:t}){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$1c(this,void 0,void 0,function*(){yield n.signAndSendTransaction.call(this,{receiverId:e,actions:t}),yield this.sendCode();const o=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(o)),o})}deployMultisig(e){const t=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return __awaiter$1c(this,void 0,void 0,function*(){const{accountId:n}=this,o=(yield this.getRecoveryMethods()).data.filter(({kind:y,publicKey:w})=>(y==="phrase"||y==="ledger")&&w!==null).map(y=>y.publicKey),c=(yield this.getAccessKeys()).filter(({public_key:y,access_key:{permission:w}})=>w==="FullAccess"&&!o.includes(y)).map(y=>y.public_key).map(toPK$3),a=toPK$3((yield this.postSignedJson("/2fa/getAccessKey",{accountId:n})).publicKey),u=Buffer$E.from(JSON.stringify({num_confirmations:2})),h=[...c.map(y=>deleteKey$c(y)),...c.map(y=>addKey$c(y,functionCallAccessKey$9(n,constants_1$c.MULTISIG_CHANGE_METHODS,null))),addKey$c(a,functionCallAccessKey$9(n,constants_1$c.MULTISIG_CONFIRM_METHODS,null)),deployContract$f(e)],v=h.concat(functionCall$l("new",u,constants_1$c.MULTISIG_GAS,constants_1$c.MULTISIG_DEPOSIT));console.log("deploying multisig contract for",n);const{stateStatus:b}=yield this.checkMultisigCodeAndStateStatus(e);switch(b){case types_2$3.MultisigStateStatus.STATE_NOT_INITIALIZED:return yield t.signAndSendTransactionWithAccount.call(this,n,v);case types_2$3.MultisigStateStatus.VALID_STATE:return yield t.signAndSendTransactionWithAccount.call(this,n,h);case types_2$3.MultisigStateStatus.INVALID_STATE:throw new types_1$G.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new types_1$G.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}})}disableWithFAK({contractBytes:e,cleanupContractBytes:t}){return __awaiter$1c(this,void 0,void 0,function*(){let n=[];t&&(yield this.deleteAllRequests().catch(u=>u),n=yield this.get2faDisableCleanupActions(t));const o=yield this.get2faDisableKeyConversionActions(),c=[...n,...o,deployContract$f(e)],a=yield this.findAccessKey(this.accountId,c);if(a&&a.accessKey&&a.accessKey.permission!=="FullAccess")throw new types_1$G.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,c)})}get2faDisableCleanupActions(e){return __awaiter$1c(this,void 0,void 0,function*(){const t=yield this.viewState("").catch(o=>{const c=o.cause&&o.cause.name;if(c=="NO_CONTRACT_CODE")return[];throw c=="TOO_LARGE_CONTRACT_STATE"?new types_1$G.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):o}),n=t.map(({key:o})=>o.toString("base64"));return t.length?[deployContract$f(e),functionCall$l("clean",{keys:n},constants_1$c.MULTISIG_GAS,new bn_js_1$p.default("0"))]:[]})}get2faDisableKeyConversionActions(){return __awaiter$1c(this,void 0,void 0,function*(){const{accountId:e}=this,t=(yield this.getAccessKeys()).filter(({access_key:o})=>o.permission!=="FullAccess").filter(({access_key:o})=>{const c=o.permission.FunctionCall;return c.receiver_id===e&&c.method_names.length===4&&c.method_names.includes("add_request_and_confirm")}),n=crypto_1$q.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:e})).publicKey);return[deleteKey$c(n),...t.map(({public_key:o})=>deleteKey$c(crypto_1$q.PublicKey.from(o))),...t.map(({public_key:o})=>addKey$c(crypto_1$q.PublicKey.from(o),fullAccessKey$9()))]})}disable(e,t){return __awaiter$1c(this,void 0,void 0,function*(){const{stateStatus:n}=yield this.checkMultisigCodeAndStateStatus();if(n!==types_2$3.MultisigStateStatus.VALID_STATE&&n!==types_2$3.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new types_1$G.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let o;yield this.deleteAllRequests().catch(a=>o=a);const c=[...yield this.get2faDisableCleanupActions(t).catch(a=>{throw a.type==="ContractHasExistingState"&&o||a}),...yield this.get2faDisableKeyConversionActions(),deployContract$f(e)];return console.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:c})})}sendCodeDefault(){return __awaiter$1c(this,void 0,void 0,function*(){const{accountId:e}=this,{requestId:t}=this.getRequest(),n=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:e,method:n,requestId:t}),t})}getCodeDefault(){return __awaiter$1c(this,void 0,void 0,function*(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')})}promptAndVerify(){return __awaiter$1c(this,void 0,void 0,function*(){const e=yield this.get2faMethod(),t=yield this.getCode(e);try{return yield this.verifyCode(t)}catch(n){if(console.warn("Error validating security code:",n),n.toString().includes("invalid 2fa code provided")||n.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw n}})}verifyCodeDefault(e){return __awaiter$1c(this,void 0,void 0,function*(){const{accountId:t}=this,n=this.getRequest();if(!n)throw new Error("no request pending");const{requestId:o}=n;return yield this.postSignedJson("/2fa/verify",{accountId:t,securityCode:e,requestId:o})})}getRecoveryMethods(){return __awaiter$1c(this,void 0,void 0,function*(){const{accountId:e}=this;return{accountId:e,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:e})}})}get2faMethod(){return __awaiter$1c(this,void 0,void 0,function*(){let{data:e}=yield this.getRecoveryMethods();if(e&&e.length&&(e=e.find(o=>o.kind.indexOf("2fa-")===0)),!e)return null;const{kind:t,detail:n}=e;return{kind:t,detail:n}})}signatureFor(){return __awaiter$1c(this,void 0,void 0,function*(){const{accountId:e}=this,t=(yield this.connection.provider.block({finality:"final"})).header.height.toString(),n=yield this.connection.signer.signMessage(Buffer$E.from(t),e,this.connection.networkId),o=Buffer$E.from(n.signature).toString("base64");return{blockNumber:t,blockNumberSignature:o}})}postSignedJson(e,t){return __awaiter$1c(this,void 0,void 0,function*(){return yield(0,providers_1$f.fetchJson)(this.helperUrl+e,JSON.stringify(Object.assign(Object.assign({},t),yield this.signatureFor())))})}};account_2fa$3.Account2FA=Account2FA$3;const toPK$3=e=>crypto_1$q.PublicKey.from(e);var account_creator$7={},__awaiter$1b=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account_creator$7,"__esModule",{value:!0}),account_creator$7.UrlAccountCreator=account_creator$7.LocalAccountCreator=account_creator$7.AccountCreator=void 0;const providers_1$e=lib$C;let AccountCreator$3=class{};account_creator$7.AccountCreator=AccountCreator$3;let LocalAccountCreator$3=class extends AccountCreator$3{constructor(e,t){super(),this.masterAccount=e,this.initialBalance=t}createAccount(e,t){return __awaiter$1b(this,void 0,void 0,function*(){yield this.masterAccount.createAccount(e,t,this.initialBalance)})}};account_creator$7.LocalAccountCreator=LocalAccountCreator$3;let UrlAccountCreator$3=class extends AccountCreator$3{constructor(e,t){super(),this.connection=e,this.helperUrl=t}createAccount(e,t){return __awaiter$1b(this,void 0,void 0,function*(){yield(0,providers_1$e.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:e,newAccountPublicKey:t.toString()}))})}};account_creator$7.UrlAccountCreator=UrlAccountCreator$3;var connection$7={},lib$z={},in_memory_signer$3={},signer$7={};Object.defineProperty(signer$7,"__esModule",{value:!0}),signer$7.Signer=void 0;let Signer$3=class{};signer$7.Signer=Signer$3;var __awaiter$1a=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$A=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(in_memory_signer$3,"__esModule",{value:!0}),in_memory_signer$3.InMemorySigner=void 0;const crypto_1$p=lib$H,keystores_1$6=lib$I,js_sha256_1$1=__importDefault$A(sha256Exports),signer_1$3=signer$7;let InMemorySigner$3=class Zt extends signer_1$3.Signer{constructor(t){super(),this.keyStore=t}static fromKeyPair(t,n,o){return __awaiter$1a(this,void 0,void 0,function*(){const c=new keystores_1$6.InMemoryKeyStore;return yield c.setKey(t,n,o),new Zt(c)})}createKey(t,n){return __awaiter$1a(this,void 0,void 0,function*(){const o=crypto_1$p.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(n,t,o),o.getPublicKey()})}getPublicKey(t,n){return __awaiter$1a(this,void 0,void 0,function*(){const o=yield this.keyStore.getKey(n,t);return o===null?null:o.getPublicKey()})}signMessage(t,n,o){return __awaiter$1a(this,void 0,void 0,function*(){const c=new Uint8Array(js_sha256_1$1.default.sha256.array(t));if(!n)throw new Error("InMemorySigner requires provided account id");const a=yield this.keyStore.getKey(o,n);if(a===null)throw new Error(`Key for ${n} not found in ${o}`);return a.sign(c)})}toString(){return`InMemorySigner(${this.keyStore})`}};in_memory_signer$3.InMemorySigner=InMemorySigner$3,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=in_memory_signer$3;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}});var n=signer$7;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return n.Signer}})}(lib$z),Object.defineProperty(connection$7,"__esModule",{value:!0}),connection$7.Connection=void 0;const signers_1$3=lib$z,providers_1$d=lib$C;function getProvider$3(e){switch(e.type){case void 0:return e;case"JsonRpcProvider":return new providers_1$d.JsonRpcProvider(Object.assign({},e.args));default:throw new Error(`Unknown provider type ${e.type}`)}}function getSigner$3(e){switch(e.type){case void 0:return e;case"InMemorySigner":return new signers_1$3.InMemorySigner(e.keyStore);default:throw new Error(`Unknown signer type ${e.type}`)}}let Connection$3=class Xt{constructor(t,n,o,c){this.networkId=t,this.provider=n,this.signer=o,this.jsvmAccountId=c}static fromConfig(t){const n=getProvider$3(t.provider),o=getSigner$3(t.signer);return new Xt(t.networkId,n,o,t.jsvmAccountId)}};connection$7.Connection=Connection$3;var contract$7={},ajv$2={exports:{}},core$8={},validate$2={},boolSchema$2={},errors$g={},codegen$2={},code$5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(B){if(super(),!e.IDENTIFIER.test(B))throw new Error("CodeGen: name must be a valid identifier");this.str=B}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class o extends t{constructor(B){super(),this._items=typeof B=="string"?[B]:B}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const B=this._items[0];return B===""||B==='""'}get str(){var B;return(B=this._str)!==null&&B!==void 0?B:this._str=this._items.reduce((q,V)=>`${q}${V}`,"")}get names(){var B;return(B=this._names)!==null&&B!==void 0?B:this._names=this._items.reduce((q,V)=>(V instanceof n&&(q[V.str]=(q[V.str]||0)+1),q),{})}}e._Code=o,e.nil=new o("");function c(k,...B){const q=[k[0]];let V=0;for(;V<B.length;)h(q,B[V]),q.push(k[++V]);return new o(q)}e._=c;const a=new o("+");function u(k,...B){const q=[P(k[0])];let V=0;for(;V<B.length;)q.push(a),h(q,B[V]),q.push(a,P(k[++V]));return v(q),new o(q)}e.str=u;function h(k,B){B instanceof o?k.push(...B._items):B instanceof n?k.push(B):k.push(w(B))}e.addCodeArg=h;function v(k){let B=1;for(;B<k.length-1;){if(k[B]===a){const q=b(k[B-1],k[B+1]);if(q!==void 0){k.splice(B-1,3,q);continue}k[B++]="+"}B++}}function b(k,B){if(B==='""')return k;if(k==='""')return B;if(typeof k=="string")return B instanceof n||k[k.length-1]!=='"'?void 0:typeof B!="string"?`${k.slice(0,-1)}${B}"`:B[0]==='"'?k.slice(0,-1)+B.slice(1):void 0;if(typeof B=="string"&&B[0]==='"'&&!(k instanceof n))return`"${k}${B.slice(1)}`}function y(k,B){return B.emptyStr()?k:k.emptyStr()?B:u`${k}${B}`}e.strConcat=y;function w(k){return typeof k=="number"||typeof k=="boolean"||k===null?k:P(Array.isArray(k)?k.join(","):k)}function O(k){return new o(P(k))}e.stringify=O;function P(k){return JSON.stringify(k).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=P;function C(k){return typeof k=="string"&&e.IDENTIFIER.test(k)?new o(`.${k}`):c`[${k}]`}e.getProperty=C;function x(k){if(typeof k=="string"&&e.IDENTIFIER.test(k))return new o(`${k}`);throw new Error(`CodeGen: invalid export name: ${k}, use explicit $id name mapping`)}e.getEsmExportName=x;function D(k){return new o(k.toString())}e.regexpCode=D})(code$5);var scope$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=code$5;class n extends Error{constructor(b){super(`CodeGen: "code" for ${b} not defined`),this.value=b.value}}var o;(function(v){v[v.Started=0]="Started",v[v.Completed=1]="Completed"})(o||(e.UsedValueState=o={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class c{constructor({prefixes:b,parent:y}={}){this._names={},this._prefixes=b,this._parent=y}toName(b){return b instanceof t.Name?b:this.name(b)}name(b){return new t.Name(this._newName(b))}_newName(b){const y=this._names[b]||this._nameGroup(b);return`${b}${y.index++}`}_nameGroup(b){var y,w;if(!((w=(y=this._parent)===null||y===void 0?void 0:y._prefixes)===null||w===void 0)&&w.has(b)||this._prefixes&&!this._prefixes.has(b))throw new Error(`CodeGen: prefix "${b}" is not allowed in this scope`);return this._names[b]={prefix:b,index:0}}}e.Scope=c;class a extends t.Name{constructor(b,y){super(y),this.prefix=b}setValue(b,{property:y,itemIndex:w}){this.value=b,this.scopePath=(0,t._)`.${new t.Name(y)}[${w}]`}}e.ValueScopeName=a;const u=(0,t._)`\n`;class h extends c{constructor(b){super(b),this._values={},this._scope=b.scope,this.opts={...b,_n:b.lines?u:t.nil}}get(){return this._scope}name(b){return new a(b,this._newName(b))}value(b,y){var w;if(y.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const O=this.toName(b),{prefix:P}=O,C=(w=y.key)!==null&&w!==void 0?w:y.ref;let x=this._values[P];if(x){const B=x.get(C);if(B)return B}else x=this._values[P]=new Map;x.set(C,O);const D=this._scope[P]||(this._scope[P]=[]),k=D.length;return D[k]=y.ref,O.setValue(y,{property:P,itemIndex:k}),O}getValue(b,y){const w=this._values[b];if(w)return w.get(y)}scopeRefs(b,y=this._values){return this._reduceValues(y,w=>{if(w.scopePath===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return(0,t._)`${b}${w.scopePath}`})}scopeCode(b=this._values,y,w){return this._reduceValues(b,O=>{if(O.value===void 0)throw new Error(`CodeGen: name "${O}" has no value`);return O.value.code},y,w)}_reduceValues(b,y,w={},O){let P=t.nil;for(const C in b){const x=b[C];if(!x)continue;const D=w[C]=w[C]||new Map;x.forEach(k=>{if(D.has(k))return;D.set(k,o.Started);let B=y(k);if(B){const q=this.opts.es5?e.varKinds.var:e.varKinds.const;P=(0,t._)`${P}${q} ${k} = ${B};${this.opts._n}`}else if(B=O==null?void 0:O(k))P=(0,t._)`${P}${B}${this.opts._n}`;else throw new n(k);D.set(k,o.Completed)})}return P}}e.ValueScope=h})(scope$2),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=code$5,n=scope$2;var o=code$5;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return o.Name}});var c=scope$2;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return c.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return c.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return c.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return c.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(N,L){return this}}class u extends a{constructor(N,L,H){super(),this.varKind=N,this.name=L,this.rhs=H}render({es5:N,_n:L}){const H=N?n.varKinds.var:this.varKind,Y=this.rhs===void 0?"":` = ${this.rhs}`;return`${H} ${this.name}${Y};`+L}optimizeNames(N,L){if(N[this.name.str])return this.rhs&&(this.rhs=_(this.rhs,N,L)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class h extends a{constructor(N,L,H){super(),this.lhs=N,this.rhs=L,this.sideEffects=H}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,L){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=_(this.rhs,N,L),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return m(N,this.rhs)}}class v extends h{constructor(N,L,H,Y){super(N,H,Y),this.op=L}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}}class b extends a{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}}class y extends a{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}}class w extends a{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}}class O extends a{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,L){return this.code=_(this.code,N,L),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class P extends a{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((L,H)=>L+H.render(N),"")}optimizeNodes(){const{nodes:N}=this;let L=N.length;for(;L--;){const H=N[L].optimizeNodes();Array.isArray(H)?N.splice(L,1,...H):H?N[L]=H:N.splice(L,1)}return N.length>0?this:void 0}optimizeNames(N,L){const{nodes:H}=this;let Y=H.length;for(;Y--;){const Z=H[Y];Z.optimizeNames(N,L)||(A(N,Z.names),H.splice(Y,1))}return H.length>0?this:void 0}get names(){return this.nodes.reduce((N,L)=>p(N,L.names),{})}}class C extends P{render(N){return"{"+N._n+super.render(N)+"}"+N._n}}class x extends P{}class D extends C{}D.kind="else";class k extends C{constructor(N,L){super(L),this.condition=N}render(N){let L=`if(${this.condition})`+super.render(N);return this.else&&(L+="else "+this.else.render(N)),L}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let L=this.else;if(L){const H=L.optimizeNodes();L=this.else=Array.isArray(H)?new D(H):H}if(L)return N===!1?L instanceof k?L:L.nodes:this.nodes.length?this:new k(I(N),L instanceof k?[L]:L.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,L){var H;if(this.else=(H=this.else)===null||H===void 0?void 0:H.optimizeNames(N,L),!!(super.optimizeNames(N,L)||this.else))return this.condition=_(this.condition,N,L),this}get names(){const N=super.names;return m(N,this.condition),this.else&&p(N,this.else.names),N}}k.kind="if";class B extends C{}B.kind="for";class q extends B{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,L){if(super.optimizeNames(N,L))return this.iteration=_(this.iteration,N,L),this}get names(){return p(super.names,this.iteration.names)}}class V extends B{constructor(N,L,H,Y){super(),this.varKind=N,this.name=L,this.from=H,this.to=Y}render(N){const L=N.es5?n.varKinds.var:this.varKind,{name:H,from:Y,to:Z}=this;return`for(${L} ${H}=${Y}; ${H}<${Z}; ${H}++)`+super.render(N)}get names(){const N=m(super.names,this.from);return m(N,this.to)}}class ee extends B{constructor(N,L,H,Y){super(),this.loop=N,this.varKind=L,this.name=H,this.iterable=Y}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,L){if(super.optimizeNames(N,L))return this.iterable=_(this.iterable,N,L),this}get names(){return p(super.names,this.iterable.names)}}class te extends C{constructor(N,L,H){super(),this.name=N,this.args=L,this.async=H}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}}te.kind="func";class ce extends P{render(N){return"return "+super.render(N)}}ce.kind="return";class Q extends C{render(N){let L="try"+super.render(N);return this.catch&&(L+=this.catch.render(N)),this.finally&&(L+=this.finally.render(N)),L}optimizeNodes(){var N,L;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(L=this.finally)===null||L===void 0||L.optimizeNodes(),this}optimizeNames(N,L){var H,Y;return super.optimizeNames(N,L),(H=this.catch)===null||H===void 0||H.optimizeNames(N,L),(Y=this.finally)===null||Y===void 0||Y.optimizeNames(N,L),this}get names(){const N=super.names;return this.catch&&p(N,this.catch.names),this.finally&&p(N,this.finally.names),N}}class ne extends C{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}}ne.kind="catch";class fe extends C{render(N){return"finally"+super.render(N)}}fe.kind="finally";class l{constructor(N,L={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...L,_n:L.lines?`
`:""},this._extScope=N,this._scope=new n.Scope({parent:N}),this._nodes=[new x]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,L){const H=this._extScope.value(N,L);return(this._values[H.prefix]||(this._values[H.prefix]=new Set)).add(H),H}getScopeValue(N,L){return this._extScope.getValue(N,L)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,L,H,Y){const Z=this._scope.toName(L);return H!==void 0&&Y&&(this._constants[Z.str]=H),this._leafNode(new u(N,Z,H)),Z}const(N,L,H){return this._def(n.varKinds.const,N,L,H)}let(N,L,H){return this._def(n.varKinds.let,N,L,H)}var(N,L,H){return this._def(n.varKinds.var,N,L,H)}assign(N,L,H){return this._leafNode(new h(N,L,H))}add(N,L){return this._leafNode(new v(N,e.operators.ADD,L))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new O(N)),this}object(...N){const L=["{"];for(const[H,Y]of N)L.length>1&&L.push(","),L.push(H),(H!==Y||this.opts.es5)&&(L.push(":"),(0,t.addCodeArg)(L,Y));return L.push("}"),new t._Code(L)}if(N,L,H){if(this._blockNode(new k(N)),L&&H)this.code(L).else().code(H).endIf();else if(L)this.code(L).endIf();else if(H)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new k(N))}else(){return this._elseNode(new D)}endIf(){return this._endBlockNode(k,D)}_for(N,L){return this._blockNode(N),L&&this.code(L).endFor(),this}for(N,L){return this._for(new q(N),L)}forRange(N,L,H,Y,Z=this.opts.es5?n.varKinds.var:n.varKinds.let){const de=this._scope.toName(N);return this._for(new V(Z,de,L,H),()=>Y(de))}forOf(N,L,H,Y=n.varKinds.const){const Z=this._scope.toName(N);if(this.opts.es5){const de=L instanceof t.Name?L:this.var("_arr",L);return this.forRange("_i",0,(0,t._)`${de}.length`,he=>{this.var(Z,(0,t._)`${de}[${he}]`),H(Z)})}return this._for(new ee("of",Y,Z,L),()=>H(Z))}forIn(N,L,H,Y=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${L})`,H);const Z=this._scope.toName(N);return this._for(new ee("in",Y,Z,L),()=>H(Z))}endFor(){return this._endBlockNode(B)}label(N){return this._leafNode(new b(N))}break(N){return this._leafNode(new y(N))}return(N){const L=new ce;if(this._blockNode(L),this.code(N),L.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ce)}try(N,L,H){if(!L&&!H)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new Q;if(this._blockNode(Y),this.code(N),L){const Z=this.name("e");this._currNode=Y.catch=new ne(Z),L(Z)}return H&&(this._currNode=Y.finally=new fe,this.code(H)),this._endBlockNode(ne,fe)}throw(N){return this._leafNode(new w(N))}block(N,L){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(L),this}endBlock(N){const L=this._blockStarts.pop();if(L===void 0)throw new Error("CodeGen: not in self-balancing block");const H=this._nodes.length-L;if(H<0||N!==void 0&&H!==N)throw new Error(`CodeGen: wrong number of nodes: ${H} vs ${N} expected`);return this._nodes.length=L,this}func(N,L=t.nil,H,Y){return this._blockNode(new te(N,L,H)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode(te)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,L){const H=this._currNode;if(H instanceof N||L&&H instanceof L)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${L?`${N.kind}/${L.kind}`:N.kind}"`)}_elseNode(N){const L=this._currNode;if(!(L instanceof k))throw new Error('CodeGen: "else" without "if"');return this._currNode=L.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const L=this._nodes;L[L.length-1]=N}}e.CodeGen=l;function p(F,N){for(const L in N)F[L]=(F[L]||0)+(N[L]||0);return F}function m(F,N){return N instanceof t._CodeOrName?p(F,N.names):F}function _(F,N,L){if(F instanceof t.Name)return H(F);if(!Y(F))return F;return new t._Code(F._items.reduce((Z,de)=>(de instanceof t.Name&&(de=H(de)),de instanceof t._Code?Z.push(...de._items):Z.push(de),Z),[]));function H(Z){const de=L[Z.str];return de===void 0||N[Z.str]!==1?Z:(delete N[Z.str],de)}function Y(Z){return Z instanceof t._Code&&Z._items.some(de=>de instanceof t.Name&&N[de.str]===1&&L[de.str]!==void 0)}}function A(F,N){for(const L in N)F[L]=(F[L]||0)-(N[L]||0)}function I(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,t._)`!${U(F)}`}e.not=I;const T=M(e.operators.AND);function S(...F){return F.reduce(T)}e.and=S;const d=M(e.operators.OR);function E(...F){return F.reduce(d)}e.or=E;function M(F){return(N,L)=>N===t.nil?L:L===t.nil?N:(0,t._)`${U(N)} ${F} ${U(L)}`}function U(F){return F instanceof t.Name?F:(0,t._)`(${F})`}}(codegen$2);var util$3={};Object.defineProperty(util$3,"__esModule",{value:!0}),util$3.checkStrictMode=util$3.getErrorPath=util$3.Type=util$3.useFunc=util$3.setEvaluated=util$3.evaluatedPropsToName=util$3.mergeEvaluated=util$3.eachItem=util$3.unescapeJsonPointer=util$3.escapeJsonPointer=util$3.escapeFragment=util$3.unescapeFragment=util$3.schemaRefOrVal=util$3.schemaHasRulesButRef=util$3.schemaHasRules=util$3.checkUnknownRules=util$3.alwaysValidSchema=util$3.toHash=void 0;const codegen_1$1r=codegen$2,code_1$u=code$5;function toHash(e){const t={};for(const n of e)t[n]=!0;return t}util$3.toHash=toHash;function alwaysValidSchema(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(checkUnknownRules(e,t),!schemaHasRules(t,e.self.RULES.all))}util$3.alwaysValidSchema=alwaysValidSchema;function checkUnknownRules(e,t=e.schema){const{opts:n,self:o}=e;if(!n.strictSchema||typeof t=="boolean")return;const c=o.RULES.keywords;for(const a in t)c[a]||checkStrictMode(e,`unknown keyword: "${a}"`)}util$3.checkUnknownRules=checkUnknownRules;function schemaHasRules(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(t[n])return!0;return!1}util$3.schemaHasRules=schemaHasRules;function schemaHasRulesButRef(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(n!=="$ref"&&t.all[n])return!0;return!1}util$3.schemaHasRulesButRef=schemaHasRulesButRef;function schemaRefOrVal({topSchemaRef:e,schemaPath:t},n,o,c){if(!c){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,codegen_1$1r._)`${n}`}return(0,codegen_1$1r._)`${e}${t}${(0,codegen_1$1r.getProperty)(o)}`}util$3.schemaRefOrVal=schemaRefOrVal;function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))}util$3.unescapeFragment=unescapeFragment;function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))}util$3.escapeFragment=escapeFragment;function escapeJsonPointer(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}util$3.escapeJsonPointer=escapeJsonPointer;function unescapeJsonPointer(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}util$3.unescapeJsonPointer=unescapeJsonPointer;function eachItem(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)}util$3.eachItem=eachItem;function makeMergeEvaluated({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:o}){return(c,a,u,h)=>{const v=u===void 0?a:u instanceof codegen_1$1r.Name?(a instanceof codegen_1$1r.Name?e(c,a,u):t(c,a,u),u):a instanceof codegen_1$1r.Name?(t(c,u,a),a):n(a,u);return h===codegen_1$1r.Name&&!(v instanceof codegen_1$1r.Name)?o(c,v):v}}util$3.mergeEvaluated={props:makeMergeEvaluated({mergeNames:(e,t,n)=>e.if((0,codegen_1$1r._)`${n} !== true && ${t} !== undefined`,()=>{e.if((0,codegen_1$1r._)`${t} === true`,()=>e.assign(n,!0),()=>e.assign(n,(0,codegen_1$1r._)`${n} || {}`).code((0,codegen_1$1r._)`Object.assign(${n}, ${t})`))}),mergeToName:(e,t,n)=>e.if((0,codegen_1$1r._)`${n} !== true`,()=>{t===!0?e.assign(n,!0):(e.assign(n,(0,codegen_1$1r._)`${n} || {}`),setEvaluated(e,n,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:evaluatedPropsToName}),items:makeMergeEvaluated({mergeNames:(e,t,n)=>e.if((0,codegen_1$1r._)`${n} !== true && ${t} !== undefined`,()=>e.assign(n,(0,codegen_1$1r._)`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`)),mergeToName:(e,t,n)=>e.if((0,codegen_1$1r._)`${n} !== true`,()=>e.assign(n,t===!0?!0:(0,codegen_1$1r._)`${n} > ${t} ? ${n} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function evaluatedPropsToName(e,t){if(t===!0)return e.var("props",!0);const n=e.var("props",(0,codegen_1$1r._)`{}`);return t!==void 0&&setEvaluated(e,n,t),n}util$3.evaluatedPropsToName=evaluatedPropsToName;function setEvaluated(e,t,n){Object.keys(n).forEach(o=>e.assign((0,codegen_1$1r._)`${t}${(0,codegen_1$1r.getProperty)(o)}`,!0))}util$3.setEvaluated=setEvaluated;const snippets={};function useFunc(e,t){return e.scopeValue("func",{ref:t,code:snippets[t.code]||(snippets[t.code]=new code_1$u._Code(t.code))})}util$3.useFunc=useFunc;var Type;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Type||(util$3.Type=Type={}));function getErrorPath(e,t,n){if(e instanceof codegen_1$1r.Name){const o=t===Type.Num;return n?o?(0,codegen_1$1r._)`"[" + ${e} + "]"`:(0,codegen_1$1r._)`"['" + ${e} + "']"`:o?(0,codegen_1$1r._)`"/" + ${e}`:(0,codegen_1$1r._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,codegen_1$1r.getProperty)(e).toString():"/"+escapeJsonPointer(e)}util$3.getErrorPath=getErrorPath;function checkStrictMode(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,n===!0)throw new Error(t);e.self.logger.warn(t)}}util$3.checkStrictMode=checkStrictMode;var names$5={};Object.defineProperty(names$5,"__esModule",{value:!0});const codegen_1$1q=codegen$2,names$4={data:new codegen_1$1q.Name("data"),valCxt:new codegen_1$1q.Name("valCxt"),instancePath:new codegen_1$1q.Name("instancePath"),parentData:new codegen_1$1q.Name("parentData"),parentDataProperty:new codegen_1$1q.Name("parentDataProperty"),rootData:new codegen_1$1q.Name("rootData"),dynamicAnchors:new codegen_1$1q.Name("dynamicAnchors"),vErrors:new codegen_1$1q.Name("vErrors"),errors:new codegen_1$1q.Name("errors"),this:new codegen_1$1q.Name("this"),self:new codegen_1$1q.Name("self"),scope:new codegen_1$1q.Name("scope"),json:new codegen_1$1q.Name("json"),jsonPos:new codegen_1$1q.Name("jsonPos"),jsonLen:new codegen_1$1q.Name("jsonLen"),jsonPart:new codegen_1$1q.Name("jsonPart")};names$5.default=names$4,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=codegen$2,n=util$3,o=names$5;e.keywordError={message:({keyword:D})=>(0,t.str)`must pass "${D}" keyword validation`},e.keyword$DataError={message:({keyword:D,schemaType:k})=>k?(0,t.str)`"${D}" keyword must be ${k} ($data)`:(0,t.str)`"${D}" keyword is invalid ($data)`};function c(D,k=e.keywordError,B,q){const{it:V}=D,{gen:ee,compositeRule:te,allErrors:ce}=V,Q=w(D,k,B);q??(te||ce)?v(ee,Q):b(V,(0,t._)`[${Q}]`)}e.reportError=c;function a(D,k=e.keywordError,B){const{it:q}=D,{gen:V,compositeRule:ee,allErrors:te}=q,ce=w(D,k,B);v(V,ce),ee||te||b(q,o.default.vErrors)}e.reportExtraError=a;function u(D,k){D.assign(o.default.errors,k),D.if((0,t._)`${o.default.vErrors} !== null`,()=>D.if(k,()=>D.assign((0,t._)`${o.default.vErrors}.length`,k),()=>D.assign(o.default.vErrors,null)))}e.resetErrorsCount=u;function h({gen:D,keyword:k,schemaValue:B,data:q,errsCount:V,it:ee}){if(V===void 0)throw new Error("ajv implementation error");const te=D.name("err");D.forRange("i",V,o.default.errors,ce=>{D.const(te,(0,t._)`${o.default.vErrors}[${ce}]`),D.if((0,t._)`${te}.instancePath === undefined`,()=>D.assign((0,t._)`${te}.instancePath`,(0,t.strConcat)(o.default.instancePath,ee.errorPath))),D.assign((0,t._)`${te}.schemaPath`,(0,t.str)`${ee.errSchemaPath}/${k}`),ee.opts.verbose&&(D.assign((0,t._)`${te}.schema`,B),D.assign((0,t._)`${te}.data`,q))})}e.extendErrors=h;function v(D,k){const B=D.const("err",k);D.if((0,t._)`${o.default.vErrors} === null`,()=>D.assign(o.default.vErrors,(0,t._)`[${B}]`),(0,t._)`${o.default.vErrors}.push(${B})`),D.code((0,t._)`${o.default.errors}++`)}function b(D,k){const{gen:B,validateName:q,schemaEnv:V}=D;V.$async?B.throw((0,t._)`new ${D.ValidationError}(${k})`):(B.assign((0,t._)`${q}.errors`,k),B.return(!1))}const y={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function w(D,k,B){const{createErrors:q}=D.it;return q===!1?(0,t._)`{}`:O(D,k,B)}function O(D,k,B={}){const{gen:q,it:V}=D,ee=[P(V,B),C(D,B)];return x(D,k,ee),q.object(...ee)}function P({errorPath:D},{instancePath:k}){const B=k?(0,t.str)`${D}${(0,n.getErrorPath)(k,n.Type.Str)}`:D;return[o.default.instancePath,(0,t.strConcat)(o.default.instancePath,B)]}function C({keyword:D,it:{errSchemaPath:k}},{schemaPath:B,parentSchema:q}){let V=q?k:(0,t.str)`${k}/${D}`;return B&&(V=(0,t.str)`${V}${(0,n.getErrorPath)(B,n.Type.Str)}`),[y.schemaPath,V]}function x(D,{params:k,message:B},q){const{keyword:V,data:ee,schemaValue:te,it:ce}=D,{opts:Q,propertyName:ne,topSchemaRef:fe,schemaPath:l}=ce;q.push([y.keyword,V],[y.params,typeof k=="function"?k(D):k||(0,t._)`{}`]),Q.messages&&q.push([y.message,typeof B=="function"?B(D):B]),Q.verbose&&q.push([y.schema,te],[y.parentSchema,(0,t._)`${fe}${l}`],[o.default.data,ee]),ne&&q.push([y.propertyName,ne])}}(errors$g),Object.defineProperty(boolSchema$2,"__esModule",{value:!0}),boolSchema$2.boolOrEmptySchema=boolSchema$2.topBoolOrEmptySchema=void 0;const errors_1$g=errors$g,codegen_1$1p=codegen$2,names_1$k=names$5,boolError$2={message:"boolean schema is false"};function topBoolOrEmptySchema$2(e){const{gen:t,schema:n,validateName:o}=e;n===!1?falseSchemaError$2(e,!1):typeof n=="object"&&n.$async===!0?t.return(names_1$k.default.data):(t.assign((0,codegen_1$1p._)`${o}.errors`,null),t.return(!0))}boolSchema$2.topBoolOrEmptySchema=topBoolOrEmptySchema$2;function boolOrEmptySchema$2(e,t){const{gen:n,schema:o}=e;o===!1?(n.var(t,!1),falseSchemaError$2(e)):n.var(t,!0)}boolSchema$2.boolOrEmptySchema=boolOrEmptySchema$2;function falseSchemaError$2(e,t){const{gen:n,data:o}=e,c={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,errors_1$g.reportError)(c,boolError$2,void 0,t)}var dataType$2={},rules$2={};Object.defineProperty(rules$2,"__esModule",{value:!0}),rules$2.getRules=rules$2.isJSONType=void 0;const _jsonTypes$2=["string","number","integer","boolean","null","object","array"],jsonTypes$2=new Set(_jsonTypes$2);function isJSONType$2(e){return typeof e=="string"&&jsonTypes$2.has(e)}rules$2.isJSONType=isJSONType$2;function getRules$2(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}rules$2.getRules=getRules$2;var applicability$2={};Object.defineProperty(applicability$2,"__esModule",{value:!0}),applicability$2.shouldUseRule=applicability$2.shouldUseGroup=applicability$2.schemaHasRulesForType=void 0;function schemaHasRulesForType$2({schema:e,self:t},n){const o=t.RULES.types[n];return o&&o!==!0&&shouldUseGroup$2(e,o)}applicability$2.schemaHasRulesForType=schemaHasRulesForType$2;function shouldUseGroup$2(e,t){return t.rules.some(n=>shouldUseRule$2(e,n))}applicability$2.shouldUseGroup=shouldUseGroup$2;function shouldUseRule$2(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(o=>e[o]!==void 0))}applicability$2.shouldUseRule=shouldUseRule$2,Object.defineProperty(dataType$2,"__esModule",{value:!0}),dataType$2.reportTypeError=dataType$2.checkDataTypes=dataType$2.checkDataType=dataType$2.coerceAndCheckDataType=dataType$2.getJSONTypes=dataType$2.getSchemaTypes=dataType$2.DataType=void 0;const rules_1=rules$2,applicability_1$3=applicability$2,errors_1$f=errors$g,codegen_1$1o=codegen$2,util_1$1e=util$3;var DataType;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(DataType||(dataType$2.DataType=DataType={}));function getSchemaTypes(e){const t=getJSONTypes(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}dataType$2.getSchemaTypes=getSchemaTypes;function getJSONTypes(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(rules_1.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}dataType$2.getJSONTypes=getJSONTypes;function coerceAndCheckDataType(e,t){const{gen:n,data:o,opts:c}=e,a=coerceToTypes(t,c.coerceTypes),u=t.length>0&&!(a.length===0&&t.length===1&&(0,applicability_1$3.schemaHasRulesForType)(e,t[0]));if(u){const h=checkDataTypes(t,o,c.strictNumbers,DataType.Wrong);n.if(h,()=>{a.length?coerceData(e,t,a):reportTypeError(e)})}return u}dataType$2.coerceAndCheckDataType=coerceAndCheckDataType;const COERCIBLE=new Set(["string","number","integer","boolean","null"]);function coerceToTypes(e,t){return t?e.filter(n=>COERCIBLE.has(n)||t==="array"&&n==="array"):[]}function coerceData(e,t,n){const{gen:o,data:c,opts:a}=e,u=o.let("dataType",(0,codegen_1$1o._)`typeof ${c}`),h=o.let("coerced",(0,codegen_1$1o._)`undefined`);a.coerceTypes==="array"&&o.if((0,codegen_1$1o._)`${u} == 'object' && Array.isArray(${c}) && ${c}.length == 1`,()=>o.assign(c,(0,codegen_1$1o._)`${c}[0]`).assign(u,(0,codegen_1$1o._)`typeof ${c}`).if(checkDataTypes(t,c,a.strictNumbers),()=>o.assign(h,c))),o.if((0,codegen_1$1o._)`${h} !== undefined`);for(const b of n)(COERCIBLE.has(b)||b==="array"&&a.coerceTypes==="array")&&v(b);o.else(),reportTypeError(e),o.endIf(),o.if((0,codegen_1$1o._)`${h} !== undefined`,()=>{o.assign(c,h),assignParentData(e,h)});function v(b){switch(b){case"string":o.elseIf((0,codegen_1$1o._)`${u} == "number" || ${u} == "boolean"`).assign(h,(0,codegen_1$1o._)`"" + ${c}`).elseIf((0,codegen_1$1o._)`${c} === null`).assign(h,(0,codegen_1$1o._)`""`);return;case"number":o.elseIf((0,codegen_1$1o._)`${u} == "boolean" || ${c} === null
              || (${u} == "string" && ${c} && ${c} == +${c})`).assign(h,(0,codegen_1$1o._)`+${c}`);return;case"integer":o.elseIf((0,codegen_1$1o._)`${u} === "boolean" || ${c} === null
              || (${u} === "string" && ${c} && ${c} == +${c} && !(${c} % 1))`).assign(h,(0,codegen_1$1o._)`+${c}`);return;case"boolean":o.elseIf((0,codegen_1$1o._)`${c} === "false" || ${c} === 0 || ${c} === null`).assign(h,!1).elseIf((0,codegen_1$1o._)`${c} === "true" || ${c} === 1`).assign(h,!0);return;case"null":o.elseIf((0,codegen_1$1o._)`${c} === "" || ${c} === 0 || ${c} === false`),o.assign(h,null);return;case"array":o.elseIf((0,codegen_1$1o._)`${u} === "string" || ${u} === "number"
              || ${u} === "boolean" || ${c} === null`).assign(h,(0,codegen_1$1o._)`[${c}]`)}}}function assignParentData({gen:e,parentData:t,parentDataProperty:n},o){e.if((0,codegen_1$1o._)`${t} !== undefined`,()=>e.assign((0,codegen_1$1o._)`${t}[${n}]`,o))}function checkDataType(e,t,n,o=DataType.Correct){const c=o===DataType.Correct?codegen_1$1o.operators.EQ:codegen_1$1o.operators.NEQ;let a;switch(e){case"null":return(0,codegen_1$1o._)`${t} ${c} null`;case"array":a=(0,codegen_1$1o._)`Array.isArray(${t})`;break;case"object":a=(0,codegen_1$1o._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=u((0,codegen_1$1o._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=u();break;default:return(0,codegen_1$1o._)`typeof ${t} ${c} ${e}`}return o===DataType.Correct?a:(0,codegen_1$1o.not)(a);function u(h=codegen_1$1o.nil){return(0,codegen_1$1o.and)((0,codegen_1$1o._)`typeof ${t} == "number"`,h,n?(0,codegen_1$1o._)`isFinite(${t})`:codegen_1$1o.nil)}}dataType$2.checkDataType=checkDataType;function checkDataTypes(e,t,n,o){if(e.length===1)return checkDataType(e[0],t,n,o);let c;const a=(0,util_1$1e.toHash)(e);if(a.array&&a.object){const u=(0,codegen_1$1o._)`typeof ${t} != "object"`;c=a.null?u:(0,codegen_1$1o._)`!${t} || ${u}`,delete a.null,delete a.array,delete a.object}else c=codegen_1$1o.nil;a.number&&delete a.integer;for(const u in a)c=(0,codegen_1$1o.and)(c,checkDataType(u,t,n,o));return c}dataType$2.checkDataTypes=checkDataTypes;const typeError={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,codegen_1$1o._)`{type: ${e}}`:(0,codegen_1$1o._)`{type: ${t}}`};function reportTypeError(e){const t=getTypeErrorContext(e);(0,errors_1$f.reportError)(t,typeError)}dataType$2.reportTypeError=reportTypeError;function getTypeErrorContext(e){const{gen:t,data:n,schema:o}=e,c=(0,util_1$1e.schemaRefOrVal)(e,o,"type");return{gen:t,keyword:"type",data:n,schema:o.type,schemaCode:c,schemaValue:c,parentSchema:o,params:{},it:e}}var defaults$2={};Object.defineProperty(defaults$2,"__esModule",{value:!0}),defaults$2.assignDefaults=void 0;const codegen_1$1n=codegen$2,util_1$1d=util$3;function assignDefaults$2(e,t){const{properties:n,items:o}=e.schema;if(t==="object"&&n)for(const c in n)assignDefault$2(e,c,n[c].default);else t==="array"&&Array.isArray(o)&&o.forEach((c,a)=>assignDefault$2(e,a,c.default))}defaults$2.assignDefaults=assignDefaults$2;function assignDefault$2(e,t,n){const{gen:o,compositeRule:c,data:a,opts:u}=e;if(n===void 0)return;const h=(0,codegen_1$1n._)`${a}${(0,codegen_1$1n.getProperty)(t)}`;if(c){(0,util_1$1d.checkStrictMode)(e,`default is ignored for: ${h}`);return}let v=(0,codegen_1$1n._)`${h} === undefined`;u.useDefaults==="empty"&&(v=(0,codegen_1$1n._)`${v} || ${h} === null || ${h} === ""`),o.if(v,(0,codegen_1$1n._)`${h} = ${(0,codegen_1$1n.stringify)(n)}`)}var keyword$2={},code$4={};Object.defineProperty(code$4,"__esModule",{value:!0}),code$4.validateUnion=code$4.validateArray=code$4.usePattern=code$4.callValidateCode=code$4.schemaProperties=code$4.allSchemaProperties=code$4.noPropertyInData=code$4.propertyInData=code$4.isOwnProperty=code$4.hasPropFunc=code$4.reportMissingProp=code$4.checkMissingProp=code$4.checkReportMissingProp=void 0;const codegen_1$1m=codegen$2,util_1$1c=util$3,names_1$j=names$5,util_2$5=util$3;function checkReportMissingProp$2(e,t){const{gen:n,data:o,it:c}=e;n.if(noPropertyInData$2(n,o,t,c.opts.ownProperties),()=>{e.setParams({missingProperty:(0,codegen_1$1m._)`${t}`},!0),e.error()})}code$4.checkReportMissingProp=checkReportMissingProp$2;function checkMissingProp$2({gen:e,data:t,it:{opts:n}},o,c){return(0,codegen_1$1m.or)(...o.map(a=>(0,codegen_1$1m.and)(noPropertyInData$2(e,t,a,n.ownProperties),(0,codegen_1$1m._)`${c} = ${a}`)))}code$4.checkMissingProp=checkMissingProp$2;function reportMissingProp$2(e,t){e.setParams({missingProperty:t},!0),e.error()}code$4.reportMissingProp=reportMissingProp$2;function hasPropFunc$2(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,codegen_1$1m._)`Object.prototype.hasOwnProperty`})}code$4.hasPropFunc=hasPropFunc$2;function isOwnProperty$2(e,t,n){return(0,codegen_1$1m._)`${hasPropFunc$2(e)}.call(${t}, ${n})`}code$4.isOwnProperty=isOwnProperty$2;function propertyInData$2(e,t,n,o){const c=(0,codegen_1$1m._)`${t}${(0,codegen_1$1m.getProperty)(n)} !== undefined`;return o?(0,codegen_1$1m._)`${c} && ${isOwnProperty$2(e,t,n)}`:c}code$4.propertyInData=propertyInData$2;function noPropertyInData$2(e,t,n,o){const c=(0,codegen_1$1m._)`${t}${(0,codegen_1$1m.getProperty)(n)} === undefined`;return o?(0,codegen_1$1m.or)(c,(0,codegen_1$1m.not)(isOwnProperty$2(e,t,n))):c}code$4.noPropertyInData=noPropertyInData$2;function allSchemaProperties$2(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}code$4.allSchemaProperties=allSchemaProperties$2;function schemaProperties$2(e,t){return allSchemaProperties$2(t).filter(n=>!(0,util_1$1c.alwaysValidSchema)(e,t[n]))}code$4.schemaProperties=schemaProperties$2;function callValidateCode$2({schemaCode:e,data:t,it:{gen:n,topSchemaRef:o,schemaPath:c,errorPath:a},it:u},h,v,b){const y=b?(0,codegen_1$1m._)`${e}, ${t}, ${o}${c}`:t,w=[[names_1$j.default.instancePath,(0,codegen_1$1m.strConcat)(names_1$j.default.instancePath,a)],[names_1$j.default.parentData,u.parentData],[names_1$j.default.parentDataProperty,u.parentDataProperty],[names_1$j.default.rootData,names_1$j.default.rootData]];u.opts.dynamicRef&&w.push([names_1$j.default.dynamicAnchors,names_1$j.default.dynamicAnchors]);const O=(0,codegen_1$1m._)`${y}, ${n.object(...w)}`;return v!==codegen_1$1m.nil?(0,codegen_1$1m._)`${h}.call(${v}, ${O})`:(0,codegen_1$1m._)`${h}(${O})`}code$4.callValidateCode=callValidateCode$2;const newRegExp$2=(0,codegen_1$1m._)`new RegExp`;function usePattern$2({gen:e,it:{opts:t}},n){const o=t.unicodeRegExp?"u":"",{regExp:c}=t.code,a=c(n,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,codegen_1$1m._)`${c.code==="new RegExp"?newRegExp$2:(0,util_2$5.useFunc)(e,c)}(${n}, ${o})`})}code$4.usePattern=usePattern$2;function validateArray$2(e){const{gen:t,data:n,keyword:o,it:c}=e,a=t.name("valid");if(c.allErrors){const h=t.let("valid",!0);return u(()=>t.assign(h,!1)),h}return t.var(a,!0),u(()=>t.break()),a;function u(h){const v=t.const("len",(0,codegen_1$1m._)`${n}.length`);t.forRange("i",0,v,b=>{e.subschema({keyword:o,dataProp:b,dataPropType:util_1$1c.Type.Num},a),t.if((0,codegen_1$1m.not)(a),h)})}}code$4.validateArray=validateArray$2;function validateUnion$2(e){const{gen:t,schema:n,keyword:o,it:c}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(h=>(0,util_1$1c.alwaysValidSchema)(c,h))&&!c.opts.unevaluated)return;const a=t.let("valid",!1),u=t.name("_valid");t.block(()=>n.forEach((h,v)=>{const b=e.subschema({keyword:o,schemaProp:v,compositeRule:!0},u);t.assign(a,(0,codegen_1$1m._)`${a} || ${u}`),e.mergeValidEvaluated(b,u)||t.if((0,codegen_1$1m.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}code$4.validateUnion=validateUnion$2,Object.defineProperty(keyword$2,"__esModule",{value:!0}),keyword$2.validateKeywordUsage=keyword$2.validSchemaType=keyword$2.funcKeywordCode=keyword$2.macroKeywordCode=void 0;const codegen_1$1l=codegen$2,names_1$i=names$5,code_1$t=code$4,errors_1$e=errors$g;function macroKeywordCode$2(e,t){const{gen:n,keyword:o,schema:c,parentSchema:a,it:u}=e,h=t.macro.call(u.self,c,a,u),v=useKeyword$2(n,o,h);u.opts.validateSchema!==!1&&u.self.validateSchema(h,!0);const b=n.name("valid");e.subschema({schema:h,schemaPath:codegen_1$1l.nil,errSchemaPath:`${u.errSchemaPath}/${o}`,topSchemaRef:v,compositeRule:!0},b),e.pass(b,()=>e.error(!0))}keyword$2.macroKeywordCode=macroKeywordCode$2;function funcKeywordCode$2(e,t){var n;const{gen:o,keyword:c,schema:a,parentSchema:u,$data:h,it:v}=e;checkAsyncKeyword$2(v,t);const b=!h&&t.compile?t.compile.call(v.self,a,u,v):t.validate,y=useKeyword$2(o,c,b),w=o.let("valid");e.block$data(w,O),e.ok((n=t.valid)!==null&&n!==void 0?n:w);function O(){if(t.errors===!1)x(),t.modifying&&modifyData$2(e),D(()=>e.error());else{const k=t.async?P():C();t.modifying&&modifyData$2(e),D(()=>addErrs$2(e,k))}}function P(){const k=o.let("ruleErrs",null);return o.try(()=>x((0,codegen_1$1l._)`await `),B=>o.assign(w,!1).if((0,codegen_1$1l._)`${B} instanceof ${v.ValidationError}`,()=>o.assign(k,(0,codegen_1$1l._)`${B}.errors`),()=>o.throw(B))),k}function C(){const k=(0,codegen_1$1l._)`${y}.errors`;return o.assign(k,null),x(codegen_1$1l.nil),k}function x(k=t.async?(0,codegen_1$1l._)`await `:codegen_1$1l.nil){const B=v.opts.passContext?names_1$i.default.this:names_1$i.default.self,q=!("compile"in t&&!h||t.schema===!1);o.assign(w,(0,codegen_1$1l._)`${k}${(0,code_1$t.callValidateCode)(e,y,B,q)}`,t.modifying)}function D(k){var B;o.if((0,codegen_1$1l.not)((B=t.valid)!==null&&B!==void 0?B:w),k)}}keyword$2.funcKeywordCode=funcKeywordCode$2;function modifyData$2(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,()=>t.assign(n,(0,codegen_1$1l._)`${o.parentData}[${o.parentDataProperty}]`))}function addErrs$2(e,t){const{gen:n}=e;n.if((0,codegen_1$1l._)`Array.isArray(${t})`,()=>{n.assign(names_1$i.default.vErrors,(0,codegen_1$1l._)`${names_1$i.default.vErrors} === null ? ${t} : ${names_1$i.default.vErrors}.concat(${t})`).assign(names_1$i.default.errors,(0,codegen_1$1l._)`${names_1$i.default.vErrors}.length`),(0,errors_1$e.extendErrors)(e)},()=>e.error())}function checkAsyncKeyword$2({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function useKeyword$2(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,codegen_1$1l.stringify)(n)})}function validSchemaType$2(e,t,n=!1){return!t.length||t.some(o=>o==="array"?Array.isArray(e):o==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==o||n&&typeof e>"u")}keyword$2.validSchemaType=validSchemaType$2;function validateKeywordUsage$2({schema:e,opts:t,self:n,errSchemaPath:o},c,a){if(Array.isArray(c.keyword)?!c.keyword.includes(a):c.keyword!==a)throw new Error("ajv implementation error");const u=c.dependencies;if(u!=null&&u.some(h=>!Object.prototype.hasOwnProperty.call(e,h)))throw new Error(`parent schema must have dependencies of ${a}: ${u.join(",")}`);if(c.validateSchema&&!c.validateSchema(e[a])){const h=`keyword "${a}" value is invalid at path "${o}": `+n.errorsText(c.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(h);else throw new Error(h)}}keyword$2.validateKeywordUsage=validateKeywordUsage$2;var subschema$2={};Object.defineProperty(subschema$2,"__esModule",{value:!0}),subschema$2.extendSubschemaMode=subschema$2.extendSubschemaData=subschema$2.getSubschema=void 0;const codegen_1$1k=codegen$2,util_1$1b=util$3;function getSubschema$2(e,{keyword:t,schemaProp:n,schema:o,schemaPath:c,errSchemaPath:a,topSchemaRef:u}){if(t!==void 0&&o!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const h=e.schema[t];return n===void 0?{schema:h,schemaPath:(0,codegen_1$1k._)`${e.schemaPath}${(0,codegen_1$1k.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:h[n],schemaPath:(0,codegen_1$1k._)`${e.schemaPath}${(0,codegen_1$1k.getProperty)(t)}${(0,codegen_1$1k.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,util_1$1b.escapeFragment)(n)}`}}if(o!==void 0){if(c===void 0||a===void 0||u===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:c,topSchemaRef:u,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}subschema$2.getSubschema=getSubschema$2;function extendSubschemaData$2(e,t,{dataProp:n,dataPropType:o,data:c,dataTypes:a,propertyName:u}){if(c!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=t;if(n!==void 0){const{errorPath:b,dataPathArr:y,opts:w}=t,O=h.let("data",(0,codegen_1$1k._)`${t.data}${(0,codegen_1$1k.getProperty)(n)}`,!0);v(O),e.errorPath=(0,codegen_1$1k.str)`${b}${(0,util_1$1b.getErrorPath)(n,o,w.jsPropertySyntax)}`,e.parentDataProperty=(0,codegen_1$1k._)`${n}`,e.dataPathArr=[...y,e.parentDataProperty]}if(c!==void 0){const b=c instanceof codegen_1$1k.Name?c:h.let("data",c,!0);v(b),u!==void 0&&(e.propertyName=u)}a&&(e.dataTypes=a);function v(b){e.data=b,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,b]}}subschema$2.extendSubschemaData=extendSubschemaData$2;function extendSubschemaMode$2(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:o,createErrors:c,allErrors:a}){o!==void 0&&(e.compositeRule=o),c!==void 0&&(e.createErrors=c),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=n}subschema$2.extendSubschemaMode=extendSubschemaMode$2;var resolve$6={},fastDeepEqual=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var o,c,a;if(Array.isArray(t)){if(o=t.length,o!=n.length)return!1;for(c=o;c--!==0;)if(!e(t[c],n[c]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),o=a.length,o!==Object.keys(n).length)return!1;for(c=o;c--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[c]))return!1;for(c=o;c--!==0;){var u=a[c];if(!e(t[u],n[u]))return!1}return!0}return t!==t&&n!==n},jsonSchemaTraverse={exports:{}},traverse$3=jsonSchemaTraverse.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var o=typeof n=="function"?n:n.pre||function(){},c=n.post||function(){};_traverse(t,o,c,e,"",e)};traverse$3.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},traverse$3.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},traverse$3.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},traverse$3.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _traverse(e,t,n,o,c,a,u,h,v,b){if(o&&typeof o=="object"&&!Array.isArray(o)){t(o,c,a,u,h,v,b);for(var y in o){var w=o[y];if(Array.isArray(w)){if(y in traverse$3.arrayKeywords)for(var O=0;O<w.length;O++)_traverse(e,t,n,w[O],c+"/"+y+"/"+O,a,c,y,o,O)}else if(y in traverse$3.propsKeywords){if(w&&typeof w=="object")for(var P in w)_traverse(e,t,n,w[P],c+"/"+y+"/"+escapeJsonPtr(P),a,c,y,o,P)}else(y in traverse$3.keywords||e.allKeys&&!(y in traverse$3.skipKeywords))&&_traverse(e,t,n,w,c+"/"+y,a,c,y,o)}n(o,c,a,u,h,v,b)}}function escapeJsonPtr(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var jsonSchemaTraverseExports=jsonSchemaTraverse.exports;Object.defineProperty(resolve$6,"__esModule",{value:!0}),resolve$6.getSchemaRefs=resolve$6.resolveUrl=resolve$6.normalizeId=resolve$6._getFullPath=resolve$6.getFullPath=resolve$6.inlineRef=void 0;const util_1$1a=util$3,equal$9=fastDeepEqual,traverse$2=jsonSchemaTraverseExports,SIMPLE_INLINED$2=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function inlineRef$2(e,t=!0){return typeof e=="boolean"?!0:t===!0?!hasRef$2(e):t?countKeys$2(e)<=t:!1}resolve$6.inlineRef=inlineRef$2;const REF_KEYWORDS$2=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hasRef$2(e){for(const t in e){if(REF_KEYWORDS$2.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(hasRef$2)||typeof n=="object"&&hasRef$2(n))return!0}return!1}function countKeys$2(e){let t=0;for(const n in e)if(n==="$ref"||(t++,!SIMPLE_INLINED$2.has(n)&&(typeof e[n]=="object"&&(0,util_1$1a.eachItem)(e[n],o=>t+=countKeys$2(o)),t===1/0)))return 1/0;return t}function getFullPath$2(e,t="",n){n!==!1&&(t=normalizeId$2(t));const o=e.parse(t);return _getFullPath$2(e,o)}resolve$6.getFullPath=getFullPath$2;function _getFullPath$2(e,t){return e.serialize(t).split("#")[0]+"#"}resolve$6._getFullPath=_getFullPath$2;const TRAILING_SLASH_HASH$2=/#\/?$/;function normalizeId$2(e){return e?e.replace(TRAILING_SLASH_HASH$2,""):""}resolve$6.normalizeId=normalizeId$2;function resolveUrl$2(e,t,n){return n=normalizeId$2(n),e.resolve(t,n)}resolve$6.resolveUrl=resolveUrl$2;const ANCHOR$2=/^[a-z_][-a-z0-9._]*$/i;function getSchemaRefs$2(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:o}=this.opts,c=normalizeId$2(e[n]||t),a={"":c},u=getFullPath$2(o,c,!1),h={},v=new Set;return traverse$2(e,{allKeys:!0},(w,O,P,C)=>{if(C===void 0)return;const x=u+O;let D=a[C];typeof w[n]=="string"&&(D=k.call(this,w[n])),B.call(this,w.$anchor),B.call(this,w.$dynamicAnchor),a[O]=D;function k(q){const V=this.opts.uriResolver.resolve;if(q=normalizeId$2(D?V(D,q):q),v.has(q))throw y(q);v.add(q);let ee=this.refs[q];return typeof ee=="string"&&(ee=this.refs[ee]),typeof ee=="object"?b(w,ee.schema,q):q!==normalizeId$2(x)&&(q[0]==="#"?(b(w,h[q],q),h[q]=w):this.refs[q]=x),q}function B(q){if(typeof q=="string"){if(!ANCHOR$2.test(q))throw new Error(`invalid anchor "${q}"`);k.call(this,`#${q}`)}}}),h;function b(w,O,P){if(O!==void 0&&!equal$9(w,O))throw y(P)}function y(w){return new Error(`reference "${w}" resolves to more than one schema`)}}resolve$6.getSchemaRefs=getSchemaRefs$2,Object.defineProperty(validate$2,"__esModule",{value:!0}),validate$2.getData=validate$2.KeywordCxt=validate$2.validateFunctionCode=void 0;const boolSchema_1$2=boolSchema$2,dataType_1$5=dataType$2,applicability_1$2=applicability$2,dataType_2$2=dataType$2,defaults_1$2=defaults$2,keyword_1$2=keyword$2,subschema_1$2=subschema$2,codegen_1$1j=codegen$2,names_1$h=names$5,resolve_1$8=resolve$6,util_1$19=util$3,errors_1$d=errors$g;function validateFunctionCode$2(e){if(isSchemaObj$2(e)&&(checkKeywords$2(e),schemaCxtHasRules$2(e))){topSchemaObjCode$2(e);return}validateFunction$2(e,()=>(0,boolSchema_1$2.topBoolOrEmptySchema)(e))}validate$2.validateFunctionCode=validateFunctionCode$2;function validateFunction$2({gen:e,validateName:t,schema:n,schemaEnv:o,opts:c},a){c.code.es5?e.func(t,(0,codegen_1$1j._)`${names_1$h.default.data}, ${names_1$h.default.valCxt}`,o.$async,()=>{e.code((0,codegen_1$1j._)`"use strict"; ${funcSourceUrl$2(n,c)}`),destructureValCxtES5$2(e,c),e.code(a)}):e.func(t,(0,codegen_1$1j._)`${names_1$h.default.data}, ${destructureValCxt$2(c)}`,o.$async,()=>e.code(funcSourceUrl$2(n,c)).code(a))}function destructureValCxt$2(e){return(0,codegen_1$1j._)`{${names_1$h.default.instancePath}="", ${names_1$h.default.parentData}, ${names_1$h.default.parentDataProperty}, ${names_1$h.default.rootData}=${names_1$h.default.data}${e.dynamicRef?(0,codegen_1$1j._)`, ${names_1$h.default.dynamicAnchors}={}`:codegen_1$1j.nil}}={}`}function destructureValCxtES5$2(e,t){e.if(names_1$h.default.valCxt,()=>{e.var(names_1$h.default.instancePath,(0,codegen_1$1j._)`${names_1$h.default.valCxt}.${names_1$h.default.instancePath}`),e.var(names_1$h.default.parentData,(0,codegen_1$1j._)`${names_1$h.default.valCxt}.${names_1$h.default.parentData}`),e.var(names_1$h.default.parentDataProperty,(0,codegen_1$1j._)`${names_1$h.default.valCxt}.${names_1$h.default.parentDataProperty}`),e.var(names_1$h.default.rootData,(0,codegen_1$1j._)`${names_1$h.default.valCxt}.${names_1$h.default.rootData}`),t.dynamicRef&&e.var(names_1$h.default.dynamicAnchors,(0,codegen_1$1j._)`${names_1$h.default.valCxt}.${names_1$h.default.dynamicAnchors}`)},()=>{e.var(names_1$h.default.instancePath,(0,codegen_1$1j._)`""`),e.var(names_1$h.default.parentData,(0,codegen_1$1j._)`undefined`),e.var(names_1$h.default.parentDataProperty,(0,codegen_1$1j._)`undefined`),e.var(names_1$h.default.rootData,names_1$h.default.data),t.dynamicRef&&e.var(names_1$h.default.dynamicAnchors,(0,codegen_1$1j._)`{}`)})}function topSchemaObjCode$2(e){const{schema:t,opts:n,gen:o}=e;validateFunction$2(e,()=>{n.$comment&&t.$comment&&commentKeyword$2(e),checkNoDefault$2(e),o.let(names_1$h.default.vErrors,null),o.let(names_1$h.default.errors,0),n.unevaluated&&resetEvaluated$2(e),typeAndKeywords$2(e),returnResults$2(e)})}function resetEvaluated$2(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,codegen_1$1j._)`${n}.evaluated`),t.if((0,codegen_1$1j._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,codegen_1$1j._)`${e.evaluated}.props`,(0,codegen_1$1j._)`undefined`)),t.if((0,codegen_1$1j._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,codegen_1$1j._)`${e.evaluated}.items`,(0,codegen_1$1j._)`undefined`))}function funcSourceUrl$2(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,codegen_1$1j._)`/*# sourceURL=${n} */`:codegen_1$1j.nil}function subschemaCode$2(e,t){if(isSchemaObj$2(e)&&(checkKeywords$2(e),schemaCxtHasRules$2(e))){subSchemaObjCode$2(e,t);return}(0,boolSchema_1$2.boolOrEmptySchema)(e,t)}function schemaCxtHasRules$2({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function isSchemaObj$2(e){return typeof e.schema!="boolean"}function subSchemaObjCode$2(e,t){const{schema:n,gen:o,opts:c}=e;c.$comment&&n.$comment&&commentKeyword$2(e),updateContext$2(e),checkAsyncSchema$2(e);const a=o.const("_errs",names_1$h.default.errors);typeAndKeywords$2(e,a),o.var(t,(0,codegen_1$1j._)`${a} === ${names_1$h.default.errors}`)}function checkKeywords$2(e){(0,util_1$19.checkUnknownRules)(e),checkRefsAndKeywords$2(e)}function typeAndKeywords$2(e,t){if(e.opts.jtd)return schemaKeywords$2(e,[],!1,t);const n=(0,dataType_1$5.getSchemaTypes)(e.schema),o=(0,dataType_1$5.coerceAndCheckDataType)(e,n);schemaKeywords$2(e,n,!o,t)}function checkRefsAndKeywords$2(e){const{schema:t,errSchemaPath:n,opts:o,self:c}=e;t.$ref&&o.ignoreKeywordsWithRef&&(0,util_1$19.schemaHasRulesButRef)(t,c.RULES)&&c.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function checkNoDefault$2(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,util_1$19.checkStrictMode)(e,"default is ignored in the schema root")}function updateContext$2(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,resolve_1$8.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function checkAsyncSchema$2(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function commentKeyword$2({gen:e,schemaEnv:t,schema:n,errSchemaPath:o,opts:c}){const a=n.$comment;if(c.$comment===!0)e.code((0,codegen_1$1j._)`${names_1$h.default.self}.logger.log(${a})`);else if(typeof c.$comment=="function"){const u=(0,codegen_1$1j.str)`${o}/$comment`,h=e.scopeValue("root",{ref:t.root});e.code((0,codegen_1$1j._)`${names_1$h.default.self}.opts.$comment(${a}, ${u}, ${h}.schema)`)}}function returnResults$2(e){const{gen:t,schemaEnv:n,validateName:o,ValidationError:c,opts:a}=e;n.$async?t.if((0,codegen_1$1j._)`${names_1$h.default.errors} === 0`,()=>t.return(names_1$h.default.data),()=>t.throw((0,codegen_1$1j._)`new ${c}(${names_1$h.default.vErrors})`)):(t.assign((0,codegen_1$1j._)`${o}.errors`,names_1$h.default.vErrors),a.unevaluated&&assignEvaluated$2(e),t.return((0,codegen_1$1j._)`${names_1$h.default.errors} === 0`))}function assignEvaluated$2({gen:e,evaluated:t,props:n,items:o}){n instanceof codegen_1$1j.Name&&e.assign((0,codegen_1$1j._)`${t}.props`,n),o instanceof codegen_1$1j.Name&&e.assign((0,codegen_1$1j._)`${t}.items`,o)}function schemaKeywords$2(e,t,n,o){const{gen:c,schema:a,data:u,allErrors:h,opts:v,self:b}=e,{RULES:y}=b;if(a.$ref&&(v.ignoreKeywordsWithRef||!(0,util_1$19.schemaHasRulesButRef)(a,y))){c.block(()=>keywordCode$2(e,"$ref",y.all.$ref.definition));return}v.jtd||checkStrictTypes$2(e,t),c.block(()=>{for(const O of y.rules)w(O);w(y.post)});function w(O){(0,applicability_1$2.shouldUseGroup)(a,O)&&(O.type?(c.if((0,dataType_2$2.checkDataType)(O.type,u,v.strictNumbers)),iterateKeywords$2(e,O),t.length===1&&t[0]===O.type&&n&&(c.else(),(0,dataType_2$2.reportTypeError)(e)),c.endIf()):iterateKeywords$2(e,O),h||c.if((0,codegen_1$1j._)`${names_1$h.default.errors} === ${o||0}`))}}function iterateKeywords$2(e,t){const{gen:n,schema:o,opts:{useDefaults:c}}=e;c&&(0,defaults_1$2.assignDefaults)(e,t.type),n.block(()=>{for(const a of t.rules)(0,applicability_1$2.shouldUseRule)(o,a)&&keywordCode$2(e,a.keyword,a.definition,t.type)})}function checkStrictTypes$2(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(checkContextTypes$2(e,t),e.opts.allowUnionTypes||checkMultipleTypes$2(e,t),checkKeywordTypes$2(e,e.dataTypes))}function checkContextTypes$2(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{includesType$2(e.dataTypes,n)||strictTypesError$2(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),narrowSchemaTypes(e,t)}}function checkMultipleTypes$2(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&strictTypesError$2(e,"use allowUnionTypes to allow union type keyword")}function checkKeywordTypes$2(e,t){const n=e.self.RULES.all;for(const o in n){const c=n[o];if(typeof c=="object"&&(0,applicability_1$2.shouldUseRule)(e.schema,c)){const{type:a}=c.definition;a.length&&!a.some(u=>hasApplicableType$2(t,u))&&strictTypesError$2(e,`missing type "${a.join(",")}" for keyword "${o}"`)}}}function hasApplicableType$2(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function includesType$2(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function narrowSchemaTypes(e,t){const n=[];for(const o of e.dataTypes)includesType$2(t,o)?n.push(o):t.includes("integer")&&o==="number"&&n.push("integer");e.dataTypes=n}function strictTypesError$2(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,util_1$19.checkStrictMode)(e,t,e.opts.strictTypes)}let KeywordCxt$2=class{constructor(e,t,n){if((0,keyword_1$2.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,util_1$19.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",getData$2(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,keyword_1$2.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",names_1$h.default.errors))}result(e,t,n){this.failResult((0,codegen_1$1j.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,codegen_1$1j.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail((0,codegen_1$1j._)`${t} !== undefined && (${(0,codegen_1$1j.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t){this.setParams(t),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,t){(e?errors_1$d.reportExtraError:errors_1$d.reportError)(this,this.def.error,t)}$dataError(){(0,errors_1$d.reportError)(this,this.def.$dataError||errors_1$d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,errors_1$d.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=codegen_1$1j.nil){this.gen.block(()=>{this.check$data(e,n),t()})}check$data(e=codegen_1$1j.nil,t=codegen_1$1j.nil){if(!this.$data)return;const{gen:n,schemaCode:o,schemaType:c,def:a}=this;n.if((0,codegen_1$1j.or)((0,codegen_1$1j._)`${o} === undefined`,t)),e!==codegen_1$1j.nil&&n.assign(e,!0),(c.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==codegen_1$1j.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:o,it:c}=this;return(0,codegen_1$1j.or)(a(),u());function a(){if(n.length){if(!(t instanceof codegen_1$1j.Name))throw new Error("ajv implementation error");const h=Array.isArray(n)?n:[n];return(0,codegen_1$1j._)`${(0,dataType_2$2.checkDataTypes)(h,t,c.opts.strictNumbers,dataType_2$2.DataType.Wrong)}`}return codegen_1$1j.nil}function u(){if(o.validateSchema){const h=e.scopeValue("validate$data",{ref:o.validateSchema});return(0,codegen_1$1j._)`!${h}(${t})`}return codegen_1$1j.nil}}subschema(e,t){const n=(0,subschema_1$2.getSubschema)(this.it,e);(0,subschema_1$2.extendSubschemaData)(n,this.it,e),(0,subschema_1$2.extendSubschemaMode)(n,e);const o={...this.it,...n,items:void 0,props:void 0};return subschemaCode$2(o,t),o}mergeEvaluated(e,t){const{it:n,gen:o}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=util_1$19.mergeEvaluated.props(o,e.props,n.props,t)),n.items!==!0&&e.items!==void 0&&(n.items=util_1$19.mergeEvaluated.items(o,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:o}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return o.if(t,()=>this.mergeEvaluated(e,codegen_1$1j.Name)),!0}};validate$2.KeywordCxt=KeywordCxt$2;function keywordCode$2(e,t,n,o){const c=new KeywordCxt$2(e,n,t);"code"in n?n.code(c,o):c.$data&&n.validate?(0,keyword_1$2.funcKeywordCode)(c,n):"macro"in n?(0,keyword_1$2.macroKeywordCode)(c,n):(n.compile||n.validate)&&(0,keyword_1$2.funcKeywordCode)(c,n)}const JSON_POINTER$2=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER$2=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData$2(e,{dataLevel:t,dataNames:n,dataPathArr:o}){let c,a;if(e==="")return names_1$h.default.rootData;if(e[0]==="/"){if(!JSON_POINTER$2.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);c=e,a=names_1$h.default.rootData}else{const b=RELATIVE_JSON_POINTER$2.exec(e);if(!b)throw new Error(`Invalid JSON-pointer: ${e}`);const y=+b[1];if(c=b[2],c==="#"){if(y>=t)throw new Error(v("property/index",y));return o[t-y]}if(y>t)throw new Error(v("data",y));if(a=n[t-y],!c)return a}let u=a;const h=c.split("/");for(const b of h)b&&(a=(0,codegen_1$1j._)`${a}${(0,codegen_1$1j.getProperty)((0,util_1$19.unescapeJsonPointer)(b))}`,u=(0,codegen_1$1j._)`${u} && ${a}`);return u;function v(b,y){return`Cannot access ${b} ${y} levels up, current level is ${t}`}}validate$2.getData=getData$2;var validation_error$2={};Object.defineProperty(validation_error$2,"__esModule",{value:!0});let ValidationError$2=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};validation_error$2.default=ValidationError$2;var ref_error$2={};Object.defineProperty(ref_error$2,"__esModule",{value:!0});const resolve_1$7=resolve$6;let MissingRefError$2=class extends Error{constructor(e,t,n,o){super(o||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,resolve_1$7.resolveUrl)(e,t,n),this.missingSchema=(0,resolve_1$7.normalizeId)((0,resolve_1$7.getFullPath)(e,this.missingRef))}};ref_error$2.default=MissingRefError$2;var compile$3={};Object.defineProperty(compile$3,"__esModule",{value:!0}),compile$3.resolveSchema=compile$3.getCompilingSchema=compile$3.resolveRef=compile$3.compileSchema=compile$3.SchemaEnv=void 0;const codegen_1$1i=codegen$2,validation_error_1$2=validation_error$2,names_1$g=names$5,resolve_1$6=resolve$6,util_1$18=util$3,validate_1$5=validate$2;let SchemaEnv$2=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,resolve_1$6.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};compile$3.SchemaEnv=SchemaEnv$2;function compileSchema$2(e){const t=getCompilingSchema$2.call(this,e);if(t)return t;const n=(0,resolve_1$6.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:o,lines:c}=this.opts.code,{ownProperties:a}=this.opts,u=new codegen_1$1i.CodeGen(this.scope,{es5:o,lines:c,ownProperties:a});let h;e.$async&&(h=u.scopeValue("Error",{ref:validation_error_1$2.default,code:(0,codegen_1$1i._)`require("ajv/dist/runtime/validation_error").default`}));const v=u.scopeName("validate");e.validateName=v;const b={gen:u,allErrors:this.opts.allErrors,data:names_1$g.default.data,parentData:names_1$g.default.parentData,parentDataProperty:names_1$g.default.parentDataProperty,dataNames:[names_1$g.default.data],dataPathArr:[codegen_1$1i.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,codegen_1$1i.stringify)(e.schema)}:{ref:e.schema}),validateName:v,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:codegen_1$1i.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,codegen_1$1i._)`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,validate_1$5.validateFunctionCode)(b),u.optimize(this.opts.code.optimize);const w=u.toString();y=`${u.scopeRefs(names_1$g.default.scope)}return ${w}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const O=new Function(`${names_1$g.default.self}`,`${names_1$g.default.scope}`,y)(this,this.scope.get());if(this.scope.value(v,{ref:O}),O.errors=null,O.schema=e.schema,O.schemaEnv=e,e.$async&&(O.$async=!0),this.opts.code.source===!0&&(O.source={validateName:v,validateCode:w,scopeValues:u._values}),this.opts.unevaluated){const{props:P,items:C}=b;O.evaluated={props:P instanceof codegen_1$1i.Name?void 0:P,items:C instanceof codegen_1$1i.Name?void 0:C,dynamicProps:P instanceof codegen_1$1i.Name,dynamicItems:C instanceof codegen_1$1i.Name},O.source&&(O.source.evaluated=(0,codegen_1$1i.stringify)(O.evaluated))}return e.validate=O,e}catch(w){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),w}finally{this._compilations.delete(e)}}compile$3.compileSchema=compileSchema$2;function resolveRef$2(e,t,n){var o;n=(0,resolve_1$6.resolveUrl)(this.opts.uriResolver,t,n);const c=e.refs[n];if(c)return c;let a=resolve$5.call(this,e,n);if(a===void 0){const u=(o=e.localRefs)===null||o===void 0?void 0:o[n],{schemaId:h}=this.opts;u&&(a=new SchemaEnv$2({schema:u,schemaId:h,root:e,baseId:t}))}if(a!==void 0)return e.refs[n]=inlineOrCompile$2.call(this,a)}compile$3.resolveRef=resolveRef$2;function inlineOrCompile$2(e){return(0,resolve_1$6.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:compileSchema$2.call(this,e)}function getCompilingSchema$2(e){for(const t of this._compilations)if(sameSchemaEnv$2(t,e))return t}compile$3.getCompilingSchema=getCompilingSchema$2;function sameSchemaEnv$2(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function resolve$5(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||resolveSchema$2.call(this,e,t)}function resolveSchema$2(e,t){const n=this.opts.uriResolver.parse(t),o=(0,resolve_1$6._getFullPath)(this.opts.uriResolver,n);let c=(0,resolve_1$6.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&o===c)return getJsonPointer$2.call(this,n,e);const a=(0,resolve_1$6.normalizeId)(o),u=this.refs[a]||this.schemas[a];if(typeof u=="string"){const h=resolveSchema$2.call(this,e,u);return typeof(h==null?void 0:h.schema)!="object"?void 0:getJsonPointer$2.call(this,n,h)}if(typeof(u==null?void 0:u.schema)=="object"){if(u.validate||compileSchema$2.call(this,u),a===(0,resolve_1$6.normalizeId)(t)){const{schema:h}=u,{schemaId:v}=this.opts,b=h[v];return b&&(c=(0,resolve_1$6.resolveUrl)(this.opts.uriResolver,c,b)),new SchemaEnv$2({schema:h,schemaId:v,root:e,baseId:c})}return getJsonPointer$2.call(this,n,u)}}compile$3.resolveSchema=resolveSchema$2;const PREVENT_SCOPE_CHANGE$2=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer$2(e,{baseId:t,schema:n,root:o}){var c;if(((c=e.fragment)===null||c===void 0?void 0:c[0])!=="/")return;for(const h of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const v=n[(0,util_1$18.unescapeFragment)(h)];if(v===void 0)return;n=v;const b=typeof n=="object"&&n[this.opts.schemaId];!PREVENT_SCOPE_CHANGE$2.has(h)&&b&&(t=(0,resolve_1$6.resolveUrl)(this.opts.uriResolver,t,b))}let a;if(typeof n!="boolean"&&n.$ref&&!(0,util_1$18.schemaHasRulesButRef)(n,this.RULES)){const h=(0,resolve_1$6.resolveUrl)(this.opts.uriResolver,t,n.$ref);a=resolveSchema$2.call(this,o,h)}const{schemaId:u}=this.opts;if(a=a||new SchemaEnv$2({schema:n,schemaId:u,root:o,baseId:t}),a.schema!==a.root.schema)return a}const $id$5="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description$2="Meta-schema for $data reference (JSON AnySchema extension proposal)",type$5="object",required$5=["$data"],properties$8={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties$5=!1,require$$9$2={$id:$id$5,description:description$2,type:type$5,required:required$5,properties:properties$8,additionalProperties:additionalProperties$5};var uri$5={},fastUri$1={exports:{}};const HEX$2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var scopedChars={HEX:HEX$2};const{HEX:HEX$1}=scopedChars;function normalizeIPv4$1(e){if(findToken(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[n]=t;return n?{host:stripLeadingZeros(n,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function stringArrayToHexStripped(e,t=!1){let n="",o=!0;for(const c of e){if(HEX$1[c]===void 0)return;c!=="0"&&o===!0&&(o=!1),o||(n+=c)}return t&&n.length===0&&(n="0"),n}function getIPV6(e){let t=0;const n={error:!1,address:"",zone:""},o=[],c=[];let a=!1,u=!1,h=!1;function v(){if(c.length){if(a===!1){const b=stringArrayToHexStripped(c);if(b!==void 0)o.push(b);else return n.error=!0,!1}c.length=0}return!0}for(let b=0;b<e.length;b++){const y=e[b];if(!(y==="["||y==="]"))if(y===":"){if(u===!0&&(h=!0),!v())break;if(t++,o.push(":"),t>7){n.error=!0;break}b-1>=0&&e[b-1]===":"&&(u=!0);continue}else if(y==="%"){if(!v())break;a=!0}else{c.push(y);continue}}return c.length&&(a?n.zone=c.join(""):h?o.push(c.join("")):o.push(stringArrayToHexStripped(c))),n.address=o.join(""),n}function normalizeIPv6$1(e,t={}){if(findToken(e,":")<2)return{host:e,isIPV6:!1};const n=getIPV6(e);if(n.error)return{host:e,isIPV6:!1};{let o=n.address,c=n.address;return n.zone&&(o+="%"+n.zone,c+="%25"+n.zone),{host:o,escapedHost:c,isIPV6:!0}}}function stripLeadingZeros(e,t){let n="",o=!0;const c=e.length;for(let a=0;a<c;a++){const u=e[a];u==="0"&&o?(a+1<=c&&e[a+1]===t||a+1===c)&&(n+=u,o=!1):(u===t?o=!0:o=!1,n+=u)}return n}function findToken(e,t){let n=0;for(let o=0;o<e.length;o++)e[o]===t&&n++;return n}const RDS1=/^\.\.?\//u,RDS2=/^\/\.(?:\/|$)/u,RDS3=/^\/\.\.(?:\/|$)/u,RDS5=/^\/?(?:.|\n)*?(?=\/|$)/u;function removeDotSegments$1(e){const t=[];for(;e.length;)if(e.match(RDS1))e=e.replace(RDS1,"");else if(e.match(RDS2))e=e.replace(RDS2,"/");else if(e.match(RDS3))e=e.replace(RDS3,"/"),t.pop();else if(e==="."||e==="..")e="";else{const n=e.match(RDS5);if(n){const o=n[0];e=e.slice(o.length),t.push(o)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function normalizeComponentEncoding$1(e,t){const n=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=n(e.scheme)),e.userinfo!==void 0&&(e.userinfo=n(e.userinfo)),e.host!==void 0&&(e.host=n(e.host)),e.path!==void 0&&(e.path=n(e.path)),e.query!==void 0&&(e.query=n(e.query)),e.fragment!==void 0&&(e.fragment=n(e.fragment)),e}function recomposeAuthority$1(e,t){const n=[];if(e.userinfo!==void 0&&(n.push(e.userinfo),n.push("@")),e.host!==void 0){let o=unescape(e.host);const c=normalizeIPv4$1(o);if(c.isIPV4)o=c.host;else{const a=normalizeIPv6$1(c.host,{isIPV4:!1});a.isIPV6===!0?o=`[${a.escapedHost}]`:o=e.host}n.push(o)}return(typeof e.port=="number"||typeof e.port=="string")&&(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var utils$C={recomposeAuthority:recomposeAuthority$1,normalizeComponentEncoding:normalizeComponentEncoding$1,removeDotSegments:removeDotSegments$1,normalizeIPv4:normalizeIPv4$1,normalizeIPv6:normalizeIPv6$1,stringArrayToHexStripped};const UUID_REG=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,URN_REG=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function isSecure(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function httpParse(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function httpSerialize(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function wsParse(e){return e.secure=isSecure(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function wsSerialize(e){if((e.port===(isSecure(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,n]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=n,e.resourceName=void 0}return e.fragment=void 0,e}function urnParse(e,t){if(!e.path)return e.error="URN can not be parsed",e;const n=e.path.match(URN_REG);if(n){const o=t.scheme||e.scheme||"urn";e.nid=n[1].toLowerCase(),e.nss=n[2];const c=`${o}:${t.nid||e.nid}`,a=SCHEMES$1[c];e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function urnSerialize(e,t){const n=t.scheme||e.scheme||"urn",o=e.nid.toLowerCase(),c=`${n}:${t.nid||o}`,a=SCHEMES$1[c];a&&(e=a.serialize(e,t));const u=e,h=e.nss;return u.path=`${o||t.nid}:${h}`,t.skipEscape=!0,u}function urnuuidParse(e,t){const n=e;return n.uuid=n.nss,n.nss=void 0,!t.tolerant&&(!n.uuid||!UUID_REG.test(n.uuid))&&(n.error=n.error||"UUID is not valid."),n}function urnuuidSerialize(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const http={scheme:"http",domainHost:!0,parse:httpParse,serialize:httpSerialize},https={scheme:"https",domainHost:http.domainHost,parse:httpParse,serialize:httpSerialize},ws={scheme:"ws",domainHost:!0,parse:wsParse,serialize:wsSerialize},wss={scheme:"wss",domainHost:ws.domainHost,parse:ws.parse,serialize:ws.serialize},urn={scheme:"urn",parse:urnParse,serialize:urnSerialize,skipNormalize:!0},urnuuid={scheme:"urn:uuid",parse:urnuuidParse,serialize:urnuuidSerialize,skipNormalize:!0},SCHEMES$1={http,https,ws,wss,urn,"urn:uuid":urnuuid};var schemes=SCHEMES$1;const{normalizeIPv6,normalizeIPv4,removeDotSegments,recomposeAuthority,normalizeComponentEncoding}=utils$C,SCHEMES=schemes;function normalize$7(e,t){return typeof e=="string"?e=serialize$i(parse$3(e,t),t):typeof e=="object"&&(e=parse$3(serialize$i(e,t),t)),e}function resolve$4(e,t,n){const o=Object.assign({scheme:"null"},n),c=resolveComponents(parse$3(e,o),parse$3(t,o),o,!0);return serialize$i(c,{...o,skipEscape:!0})}function resolveComponents(e,t,n,o){const c={};return o||(e=parse$3(serialize$i(e,n),n),t=parse$3(serialize$i(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(c.scheme=t.scheme,c.userinfo=t.userinfo,c.host=t.host,c.port=t.port,c.path=removeDotSegments(t.path||""),c.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(c.userinfo=t.userinfo,c.host=t.host,c.port=t.port,c.path=removeDotSegments(t.path||""),c.query=t.query):(t.path?(t.path.charAt(0)==="/"?c.path=removeDotSegments(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?c.path="/"+t.path:e.path?c.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:c.path=t.path,c.path=removeDotSegments(c.path)),c.query=t.query):(c.path=e.path,t.query!==void 0?c.query=t.query:c.query=e.query),c.userinfo=e.userinfo,c.host=e.host,c.port=e.port),c.scheme=e.scheme),c.fragment=t.fragment,c}function equal$8(e,t,n){return typeof e=="string"?(e=unescape(e),e=serialize$i(normalizeComponentEncoding(parse$3(e,n),!0),{...n,skipEscape:!0})):typeof e=="object"&&(e=serialize$i(normalizeComponentEncoding(e,!0),{...n,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=serialize$i(normalizeComponentEncoding(parse$3(t,n),!0),{...n,skipEscape:!0})):typeof t=="object"&&(t=serialize$i(normalizeComponentEncoding(t,!0),{...n,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function serialize$i(e,t){const n={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},o=Object.assign({},t),c=[],a=SCHEMES[(o.scheme||n.scheme||"").toLowerCase()];a&&a.serialize&&a.serialize(n,o),n.path!==void 0&&(o.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),n.scheme!==void 0&&(n.path=n.path.split("%3A").join(":")))),o.reference!=="suffix"&&n.scheme&&(c.push(n.scheme),c.push(":"));const u=recomposeAuthority(n,o);if(u!==void 0&&(o.reference!=="suffix"&&c.push("//"),c.push(u),n.path&&n.path.charAt(0)!=="/"&&c.push("/")),n.path!==void 0){let h=n.path;!o.absolutePath&&(!a||!a.absolutePath)&&(h=removeDotSegments(h)),u===void 0&&(h=h.replace(/^\/\//u,"/%2F")),c.push(h)}return n.query!==void 0&&(c.push("?"),c.push(n.query)),n.fragment!==void 0&&(c.push("#"),c.push(n.fragment)),c.join("")}const hexLookUp=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function nonSimpleDomain(e){let t=0;for(let n=0,o=e.length;n<o;++n)if(t=e.charCodeAt(n),t>126||hexLookUp[t])return!0;return!1}const URI_PARSE=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function parse$3(e,t){const n=Object.assign({},t),o={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},c=e.indexOf("%")!==-1;let a=!1;n.reference==="suffix"&&(e=(n.scheme?n.scheme+":":"")+"//"+e);const u=e.match(URI_PARSE);if(u){if(o.scheme=u[1],o.userinfo=u[3],o.host=u[4],o.port=parseInt(u[5],10),o.path=u[6]||"",o.query=u[7],o.fragment=u[8],isNaN(o.port)&&(o.port=u[5]),o.host){const v=normalizeIPv4(o.host);if(v.isIPV4===!1){const b=normalizeIPv6(v.host,{isIPV4:!1});o.host=b.host.toLowerCase(),a=b.isIPV6}else o.host=v.host,a=!0}o.scheme===void 0&&o.userinfo===void 0&&o.host===void 0&&o.port===void 0&&!o.path&&o.query===void 0?o.reference="same-document":o.scheme===void 0?o.reference="relative":o.fragment===void 0?o.reference="absolute":o.reference="uri",n.reference&&n.reference!=="suffix"&&n.reference!==o.reference&&(o.error=o.error||"URI is not a "+n.reference+" reference.");const h=SCHEMES[(n.scheme||o.scheme||"").toLowerCase()];if(!n.unicodeSupport&&(!h||!h.unicodeSupport)&&o.host&&(n.domainHost||h&&h.domainHost)&&a===!1&&nonSimpleDomain(o.host))try{o.host=URL.domainToASCII(o.host.toLowerCase())}catch(v){o.error=o.error||"Host's domain name can not be converted to ASCII: "+v}(!h||h&&!h.skipNormalize)&&(c&&o.scheme!==void 0&&(o.scheme=unescape(o.scheme)),c&&o.userinfo!==void 0&&(o.userinfo=unescape(o.userinfo)),c&&o.host!==void 0&&(o.host=unescape(o.host)),o.path!==void 0&&o.path.length&&(o.path=escape(unescape(o.path))),o.fragment!==void 0&&o.fragment.length&&(o.fragment=encodeURI(decodeURIComponent(o.fragment)))),h&&h.parse&&h.parse(o,n)}else o.error=o.error||"URI can not be parsed.";return o}const fastUri={SCHEMES,normalize:normalize$7,resolve:resolve$4,resolveComponents,equal:equal$8,serialize:serialize$i,parse:parse$3};fastUri$1.exports=fastUri,fastUri$1.exports.default=fastUri,fastUri$1.exports.fastUri=fastUri;var fastUriExports=fastUri$1.exports;Object.defineProperty(uri$5,"__esModule",{value:!0});const uri$4=fastUriExports;uri$4.code='require("ajv/dist/runtime/uri").default',uri$5.default=uri$4,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=validate$2;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=codegen$2;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const o=validation_error$2,c=ref_error$2,a=rules$2,u=compile$3,h=codegen$2,v=resolve$6,b=dataType$2,y=util$3,w=require$$9$2,O=uri$5,P=(E,M)=>new RegExp(E,M);P.code="new RegExp";const C=["removeAdditional","useDefaults","coerceTypes"],x=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),D={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},k={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},B=200;function q(E){var M,U,F,N,L,H,Y,Z,de,he,re,ae,be,ye,we,Te,ve,Ce,Oe,Se,Pe,nt,Me,Re,pt;const je=E.strict,Be=(M=E.code)===null||M===void 0?void 0:M.optimize,vt=Be===!0||Be===void 0?1:Be||0,Ne=(F=(U=E.code)===null||U===void 0?void 0:U.regExp)!==null&&F!==void 0?F:P,J=(N=E.uriResolver)!==null&&N!==void 0?N:O.default;return{strictSchema:(H=(L=E.strictSchema)!==null&&L!==void 0?L:je)!==null&&H!==void 0?H:!0,strictNumbers:(Z=(Y=E.strictNumbers)!==null&&Y!==void 0?Y:je)!==null&&Z!==void 0?Z:!0,strictTypes:(he=(de=E.strictTypes)!==null&&de!==void 0?de:je)!==null&&he!==void 0?he:"log",strictTuples:(ae=(re=E.strictTuples)!==null&&re!==void 0?re:je)!==null&&ae!==void 0?ae:"log",strictRequired:(ye=(be=E.strictRequired)!==null&&be!==void 0?be:je)!==null&&ye!==void 0?ye:!1,code:E.code?{...E.code,optimize:vt,regExp:Ne}:{optimize:vt,regExp:Ne},loopRequired:(we=E.loopRequired)!==null&&we!==void 0?we:B,loopEnum:(Te=E.loopEnum)!==null&&Te!==void 0?Te:B,meta:(ve=E.meta)!==null&&ve!==void 0?ve:!0,messages:(Ce=E.messages)!==null&&Ce!==void 0?Ce:!0,inlineRefs:(Oe=E.inlineRefs)!==null&&Oe!==void 0?Oe:!0,schemaId:(Se=E.schemaId)!==null&&Se!==void 0?Se:"$id",addUsedSchema:(Pe=E.addUsedSchema)!==null&&Pe!==void 0?Pe:!0,validateSchema:(nt=E.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(Me=E.validateFormats)!==null&&Me!==void 0?Me:!0,unicodeRegExp:(Re=E.unicodeRegExp)!==null&&Re!==void 0?Re:!0,int32range:(pt=E.int32range)!==null&&pt!==void 0?pt:!0,uriResolver:J}}class V{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...q(M)};const{es5:U,lines:F}=this.opts.code;this.scope=new h.ValueScope({scope:{},prefixes:x,es5:U,lines:F}),this.logger=p(M.logger);const N=M.validateFormats;M.validateFormats=!1,this.RULES=(0,a.getRules)(),ee.call(this,D,M,"NOT SUPPORTED"),ee.call(this,k,M,"DEPRECATED","warn"),this._metaOpts=fe.call(this),M.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&ne.call(this,M.keywords),typeof M.meta=="object"&&this.addMetaSchema(M.meta),ce.call(this),M.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:U,schemaId:F}=this.opts;let N=w;F==="id"&&(N={...w},N.id=N.$id,delete N.$id),U&&M&&this.addMetaSchema(N,N[F],!1)}defaultMeta(){const{meta:M,schemaId:U}=this.opts;return this.opts.defaultMeta=typeof M=="object"?M[U]||M:void 0}validate(M,U){let F;if(typeof M=="string"){if(F=this.getSchema(M),!F)throw new Error(`no schema with key or ref "${M}"`)}else F=this.compile(M);const N=F(U);return"$async"in F||(this.errors=F.errors),N}compile(M,U){const F=this._addSchema(M,U);return F.validate||this._compileSchemaEnv(F)}compileAsync(M,U){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return N.call(this,M,U);async function N(he,re){await L.call(this,he.$schema);const ae=this._addSchema(he,re);return ae.validate||H.call(this,ae)}async function L(he){he&&!this.getSchema(he)&&await N.call(this,{$ref:he},!0)}async function H(he){try{return this._compileSchemaEnv(he)}catch(re){if(!(re instanceof c.default))throw re;return Y.call(this,re),await Z.call(this,re.missingSchema),H.call(this,he)}}function Y({missingSchema:he,missingRef:re}){if(this.refs[he])throw new Error(`AnySchema ${he} is loaded but ${re} cannot be resolved`)}async function Z(he){const re=await de.call(this,he);this.refs[he]||await L.call(this,re.$schema),this.refs[he]||this.addSchema(re,he,U)}async function de(he){const re=this._loading[he];if(re)return re;try{return await(this._loading[he]=F(he))}finally{delete this._loading[he]}}}addSchema(M,U,F,N=this.opts.validateSchema){if(Array.isArray(M)){for(const H of M)this.addSchema(H,void 0,F,N);return this}let L;if(typeof M=="object"){const{schemaId:H}=this.opts;if(L=M[H],L!==void 0&&typeof L!="string")throw new Error(`schema ${H} must be string`)}return U=(0,v.normalizeId)(U||L),this._checkUnique(U),this.schemas[U]=this._addSchema(M,F,U,N,!0),this}addMetaSchema(M,U,F=this.opts.validateSchema){return this.addSchema(M,U,!0,F),this}validateSchema(M,U){if(typeof M=="boolean")return!0;let F;if(F=M.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(F,M);if(!N&&U){const L="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(L);else throw new Error(L)}return N}getSchema(M){let U;for(;typeof(U=te.call(this,M))=="string";)M=U;if(U===void 0){const{schemaId:F}=this.opts,N=new u.SchemaEnv({schema:{},schemaId:F});if(U=u.resolveSchema.call(this,N,M),!U)return;this.refs[M]=U}return U.validate||this._compileSchemaEnv(U)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const U=te.call(this,M);return typeof U=="object"&&this._cache.delete(U.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{const U=M;this._cache.delete(U);let F=M[this.opts.schemaId];return F&&(F=(0,v.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const U of M)this.addKeyword(U);return this}addKeyword(M,U){let F;if(typeof M=="string")F=M,typeof U=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),U.keyword=F);else if(typeof M=="object"&&U===void 0){if(U=M,F=U.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(_.call(this,F,U),!U)return(0,y.eachItem)(F,L=>A.call(this,L)),this;T.call(this,U);const N={...U,type:(0,b.getJSONTypes)(U.type),schemaType:(0,b.getJSONTypes)(U.schemaType)};return(0,y.eachItem)(F,N.type.length===0?L=>A.call(this,L,N):L=>N.type.forEach(H=>A.call(this,L,N,H))),this}getKeyword(M){const U=this.RULES.all[M];return typeof U=="object"?U.definition:!!U}removeKeyword(M){const{RULES:U}=this;delete U.keywords[M],delete U.all[M];for(const F of U.rules){const N=F.rules.findIndex(L=>L.keyword===M);N>=0&&F.rules.splice(N,1)}return this}addFormat(M,U){return typeof U=="string"&&(U=new RegExp(U)),this.formats[M]=U,this}errorsText(M=this.errors,{separator:U=", ",dataVar:F="data"}={}){return!M||M.length===0?"No errors":M.map(N=>`${F}${N.instancePath} ${N.message}`).reduce((N,L)=>N+U+L)}$dataMetaSchema(M,U){const F=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const N of U){const L=N.split("/").slice(1);let H=M;for(const Y of L)H=H[Y];for(const Y in F){const Z=F[Y];if(typeof Z!="object")continue;const{$data:de}=Z.definition,he=H[Y];de&&he&&(H[Y]=d(he))}}return M}_removeAllSchemas(M,U){for(const F in M){const N=M[F];(!U||U.test(F))&&(typeof N=="string"?delete M[F]:N&&!N.meta&&(this._cache.delete(N.schema),delete M[F]))}}_addSchema(M,U,F,N=this.opts.validateSchema,L=this.opts.addUsedSchema){let H;const{schemaId:Y}=this.opts;if(typeof M=="object")H=M[Y];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}let Z=this._cache.get(M);if(Z!==void 0)return Z;F=(0,v.normalizeId)(H||F);const de=v.getSchemaRefs.call(this,M,F);return Z=new u.SchemaEnv({schema:M,schemaId:Y,meta:U,baseId:F,localRefs:de}),this._cache.set(Z.schema,Z),L&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=Z),N&&this.validateSchema(M,!0),Z}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):u.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const U=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,M)}finally{this.opts=U}}}V.ValidationError=o.default,V.MissingRefError=c.default,e.default=V;function ee(E,M,U,F="error"){for(const N in E){const L=N;L in M&&this.logger[F](`${U}: option ${N}. ${E[L]}`)}}function te(E){return E=(0,v.normalizeId)(E),this.schemas[E]||this.refs[E]}function ce(){const E=this.opts.schemas;if(E)if(Array.isArray(E))this.addSchema(E);else for(const M in E)this.addSchema(E[M],M)}function Q(){for(const E in this.opts.formats){const M=this.opts.formats[E];M&&this.addFormat(E,M)}}function ne(E){if(Array.isArray(E)){this.addVocabulary(E);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const M in E){const U=E[M];U.keyword||(U.keyword=M),this.addKeyword(U)}}function fe(){const E={...this.opts};for(const M of C)delete E[M];return E}const l={log(){},warn(){},error(){}};function p(E){if(E===!1)return l;if(E===void 0)return console;if(E.log&&E.warn&&E.error)return E;throw new Error("logger must implement log, warn and error methods")}const m=/^[a-z_$][a-z0-9_$:-]*$/i;function _(E,M){const{RULES:U}=this;if((0,y.eachItem)(E,F=>{if(U.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!m.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!M&&M.$data&&!("code"in M||"validate"in M))throw new Error('$data keyword must have "code" or "validate" function')}function A(E,M,U){var F;const N=M==null?void 0:M.post;if(U&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:L}=this;let H=N?L.post:L.rules.find(({type:Z})=>Z===U);if(H||(H={type:U,rules:[]},L.rules.push(H)),L.keywords[E]=!0,!M)return;const Y={keyword:E,definition:{...M,type:(0,b.getJSONTypes)(M.type),schemaType:(0,b.getJSONTypes)(M.schemaType)}};M.before?I.call(this,H,Y,M.before):H.rules.push(Y),L.all[E]=Y,(F=M.implements)===null||F===void 0||F.forEach(Z=>this.addKeyword(Z))}function I(E,M,U){const F=E.rules.findIndex(N=>N.keyword===U);F>=0?E.rules.splice(F,0,M):(E.rules.push(M),this.logger.warn(`rule ${U} is not defined`))}function T(E){let{metaSchema:M}=E;M!==void 0&&(E.$data&&this.opts.$data&&(M=d(M)),E.validateSchema=this.compile(M,!0))}const S={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function d(E){return{anyOf:[E,S]}}}(core$8);var draft7$2={},core$7={},id$9={};Object.defineProperty(id$9,"__esModule",{value:!0});const def$1m={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};id$9.default=def$1m;var ref$2={};Object.defineProperty(ref$2,"__esModule",{value:!0}),ref$2.callRef=ref$2.getValidate=void 0;const ref_error_1$3=ref_error$2,code_1$s=code$4,codegen_1$1h=codegen$2,names_1$f=names$5,compile_1$5=compile$3,util_1$17=util$3,def$1l={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:c,schemaEnv:a,validateName:u,opts:h,self:v}=o,{root:b}=a;if((n==="#"||n==="#/")&&c===b.baseId)return w();const y=compile_1$5.resolveRef.call(v,b,c,n);if(y===void 0)throw new ref_error_1$3.default(o.opts.uriResolver,c,n);if(y instanceof compile_1$5.SchemaEnv)return O(y);return P(y);function w(){if(a===b)return callRef$2(e,u,a,a.$async);const C=t.scopeValue("root",{ref:b});return callRef$2(e,(0,codegen_1$1h._)`${C}.validate`,b,b.$async)}function O(C){const x=getValidate$2(e,C);callRef$2(e,x,C,C.$async)}function P(C){const x=t.scopeValue("schema",h.code.source===!0?{ref:C,code:(0,codegen_1$1h.stringify)(C)}:{ref:C}),D=t.name("valid"),k=e.subschema({schema:C,dataTypes:[],schemaPath:codegen_1$1h.nil,topSchemaRef:x,errSchemaPath:n},D);e.mergeEvaluated(k),e.ok(D)}}};function getValidate$2(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,codegen_1$1h._)`${n.scopeValue("wrapper",{ref:t})}.validate`}ref$2.getValidate=getValidate$2;function callRef$2(e,t,n,o){const{gen:c,it:a}=e,{allErrors:u,schemaEnv:h,opts:v}=a,b=v.passContext?names_1$f.default.this:codegen_1$1h.nil;o?y():w();function y(){if(!h.$async)throw new Error("async schema referenced by sync schema");const C=c.let("valid");c.try(()=>{c.code((0,codegen_1$1h._)`await ${(0,code_1$s.callValidateCode)(e,t,b)}`),P(t),u||c.assign(C,!0)},x=>{c.if((0,codegen_1$1h._)`!(${x} instanceof ${a.ValidationError})`,()=>c.throw(x)),O(x),u||c.assign(C,!1)}),e.ok(C)}function w(){e.result((0,code_1$s.callValidateCode)(e,t,b),()=>P(t),()=>O(t))}function O(C){const x=(0,codegen_1$1h._)`${C}.errors`;c.assign(names_1$f.default.vErrors,(0,codegen_1$1h._)`${names_1$f.default.vErrors} === null ? ${x} : ${names_1$f.default.vErrors}.concat(${x})`),c.assign(names_1$f.default.errors,(0,codegen_1$1h._)`${names_1$f.default.vErrors}.length`)}function P(C){var x;if(!a.opts.unevaluated)return;const D=(x=n==null?void 0:n.validate)===null||x===void 0?void 0:x.evaluated;if(a.props!==!0)if(D&&!D.dynamicProps)D.props!==void 0&&(a.props=util_1$17.mergeEvaluated.props(c,D.props,a.props));else{const k=c.var("props",(0,codegen_1$1h._)`${C}.evaluated.props`);a.props=util_1$17.mergeEvaluated.props(c,k,a.props,codegen_1$1h.Name)}if(a.items!==!0)if(D&&!D.dynamicItems)D.items!==void 0&&(a.items=util_1$17.mergeEvaluated.items(c,D.items,a.items));else{const k=c.var("items",(0,codegen_1$1h._)`${C}.evaluated.items`);a.items=util_1$17.mergeEvaluated.items(c,k,a.items,codegen_1$1h.Name)}}}ref$2.callRef=callRef$2,ref$2.default=def$1l,Object.defineProperty(core$7,"__esModule",{value:!0});const id_1$2=id$9,ref_1$2=ref$2,core$6=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",id_1$2.default,ref_1$2.default];core$7.default=core$6;var validation$5={},limitNumber$2={};Object.defineProperty(limitNumber$2,"__esModule",{value:!0});const codegen_1$1g=codegen$2,ops$2=codegen_1$1g.operators,KWDs$2={maximum:{okStr:"<=",ok:ops$2.LTE,fail:ops$2.GT},minimum:{okStr:">=",ok:ops$2.GTE,fail:ops$2.LT},exclusiveMaximum:{okStr:"<",ok:ops$2.LT,fail:ops$2.GTE},exclusiveMinimum:{okStr:">",ok:ops$2.GT,fail:ops$2.LTE}},error$U={message:({keyword:e,schemaCode:t})=>(0,codegen_1$1g.str)`must be ${KWDs$2[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,codegen_1$1g._)`{comparison: ${KWDs$2[e].okStr}, limit: ${t}}`},def$1k={keyword:Object.keys(KWDs$2),type:"number",schemaType:"number",$data:!0,error:error$U,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data((0,codegen_1$1g._)`${n} ${KWDs$2[t].fail} ${o} || isNaN(${n})`)}};limitNumber$2.default=def$1k;var multipleOf$2={};Object.defineProperty(multipleOf$2,"__esModule",{value:!0});const codegen_1$1f=codegen$2,error$T={message:({schemaCode:e})=>(0,codegen_1$1f.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,codegen_1$1f._)`{multipleOf: ${e}}`},def$1j={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:error$T,code(e){const{gen:t,data:n,schemaCode:o,it:c}=e,a=c.opts.multipleOfPrecision,u=t.let("res"),h=a?(0,codegen_1$1f._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${a}`:(0,codegen_1$1f._)`${u} !== parseInt(${u})`;e.fail$data((0,codegen_1$1f._)`(${o} === 0 || (${u} = ${n}/${o}, ${h}))`)}};multipleOf$2.default=def$1j;var limitLength$2={},ucs2length$5={};Object.defineProperty(ucs2length$5,"__esModule",{value:!0});function ucs2length$4(e){const t=e.length;let n=0,o=0,c;for(;o<t;)n++,c=e.charCodeAt(o++),c>=55296&&c<=56319&&o<t&&(c=e.charCodeAt(o),(c&64512)===56320&&o++);return n}ucs2length$5.default=ucs2length$4,ucs2length$4.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(limitLength$2,"__esModule",{value:!0});const codegen_1$1e=codegen$2,util_1$16=util$3,ucs2length_1$2=ucs2length$5,error$S={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,codegen_1$1e.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,codegen_1$1e._)`{limit: ${e}}`},def$1i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:error$S,code(e){const{keyword:t,data:n,schemaCode:o,it:c}=e,a=t==="maxLength"?codegen_1$1e.operators.GT:codegen_1$1e.operators.LT,u=c.opts.unicode===!1?(0,codegen_1$1e._)`${n}.length`:(0,codegen_1$1e._)`${(0,util_1$16.useFunc)(e.gen,ucs2length_1$2.default)}(${n})`;e.fail$data((0,codegen_1$1e._)`${u} ${a} ${o}`)}};limitLength$2.default=def$1i;var pattern$2={};Object.defineProperty(pattern$2,"__esModule",{value:!0});const code_1$r=code$4,codegen_1$1d=codegen$2,error$R={message:({schemaCode:e})=>(0,codegen_1$1d.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,codegen_1$1d._)`{pattern: ${e}}`},def$1h={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:error$R,code(e){const{data:t,$data:n,schema:o,schemaCode:c,it:a}=e,u=a.opts.unicodeRegExp?"u":"",h=n?(0,codegen_1$1d._)`(new RegExp(${c}, ${u}))`:(0,code_1$r.usePattern)(e,o);e.fail$data((0,codegen_1$1d._)`!${h}.test(${t})`)}};pattern$2.default=def$1h;var limitProperties$2={};Object.defineProperty(limitProperties$2,"__esModule",{value:!0});const codegen_1$1c=codegen$2,error$Q={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,codegen_1$1c.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,codegen_1$1c._)`{limit: ${e}}`},def$1g={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:error$Q,code(e){const{keyword:t,data:n,schemaCode:o}=e,c=t==="maxProperties"?codegen_1$1c.operators.GT:codegen_1$1c.operators.LT;e.fail$data((0,codegen_1$1c._)`Object.keys(${n}).length ${c} ${o}`)}};limitProperties$2.default=def$1g;var required$4={};Object.defineProperty(required$4,"__esModule",{value:!0});const code_1$q=code$4,codegen_1$1b=codegen$2,util_1$15=util$3,error$P={message:({params:{missingProperty:e}})=>(0,codegen_1$1b.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,codegen_1$1b._)`{missingProperty: ${e}}`},def$1f={keyword:"required",type:"object",schemaType:"array",$data:!0,error:error$P,code(e){const{gen:t,schema:n,schemaCode:o,data:c,$data:a,it:u}=e,{opts:h}=u;if(!a&&n.length===0)return;const v=n.length>=h.loopRequired;if(u.allErrors?b():y(),h.strictRequired){const P=e.parentSchema.properties,{definedProperties:C}=e.it;for(const x of n)if((P==null?void 0:P[x])===void 0&&!C.has(x)){const D=u.schemaEnv.baseId+u.errSchemaPath,k=`required property "${x}" is not defined at "${D}" (strictRequired)`;(0,util_1$15.checkStrictMode)(u,k,u.opts.strictRequired)}}function b(){if(v||a)e.block$data(codegen_1$1b.nil,w);else for(const P of n)(0,code_1$q.checkReportMissingProp)(e,P)}function y(){const P=t.let("missing");if(v||a){const C=t.let("valid",!0);e.block$data(C,()=>O(P,C)),e.ok(C)}else t.if((0,code_1$q.checkMissingProp)(e,n,P)),(0,code_1$q.reportMissingProp)(e,P),t.else()}function w(){t.forOf("prop",o,P=>{e.setParams({missingProperty:P}),t.if((0,code_1$q.noPropertyInData)(t,c,P,h.ownProperties),()=>e.error())})}function O(P,C){e.setParams({missingProperty:P}),t.forOf(P,o,()=>{t.assign(C,(0,code_1$q.propertyInData)(t,c,P,h.ownProperties)),t.if((0,codegen_1$1b.not)(C),()=>{e.error(),t.break()})},codegen_1$1b.nil)}}};required$4.default=def$1f;var limitItems$2={};Object.defineProperty(limitItems$2,"__esModule",{value:!0});const codegen_1$1a=codegen$2,error$O={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,codegen_1$1a.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,codegen_1$1a._)`{limit: ${e}}`},def$1e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:error$O,code(e){const{keyword:t,data:n,schemaCode:o}=e,c=t==="maxItems"?codegen_1$1a.operators.GT:codegen_1$1a.operators.LT;e.fail$data((0,codegen_1$1a._)`${n}.length ${c} ${o}`)}};limitItems$2.default=def$1e;var uniqueItems$2={},equal$7={};Object.defineProperty(equal$7,"__esModule",{value:!0});const equal$6=fastDeepEqual;equal$6.code='require("ajv/dist/runtime/equal").default',equal$7.default=equal$6,Object.defineProperty(uniqueItems$2,"__esModule",{value:!0});const dataType_1$4=dataType$2,codegen_1$19=codegen$2,util_1$14=util$3,equal_1$8=equal$7,error$N={message:({params:{i:e,j:t}})=>(0,codegen_1$19.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,codegen_1$19._)`{i: ${e}, j: ${t}}`},def$1d={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:error$N,code(e){const{gen:t,data:n,$data:o,schema:c,parentSchema:a,schemaCode:u,it:h}=e;if(!o&&!c)return;const v=t.let("valid"),b=a.items?(0,dataType_1$4.getSchemaTypes)(a.items):[];e.block$data(v,y,(0,codegen_1$19._)`${u} === false`),e.ok(v);function y(){const C=t.let("i",(0,codegen_1$19._)`${n}.length`),x=t.let("j");e.setParams({i:C,j:x}),t.assign(v,!0),t.if((0,codegen_1$19._)`${C} > 1`,()=>(w()?O:P)(C,x))}function w(){return b.length>0&&!b.some(C=>C==="object"||C==="array")}function O(C,x){const D=t.name("item"),k=(0,dataType_1$4.checkDataTypes)(b,D,h.opts.strictNumbers,dataType_1$4.DataType.Wrong),B=t.const("indices",(0,codegen_1$19._)`{}`);t.for((0,codegen_1$19._)`;${C}--;`,()=>{t.let(D,(0,codegen_1$19._)`${n}[${C}]`),t.if(k,(0,codegen_1$19._)`continue`),b.length>1&&t.if((0,codegen_1$19._)`typeof ${D} == "string"`,(0,codegen_1$19._)`${D} += "_"`),t.if((0,codegen_1$19._)`typeof ${B}[${D}] == "number"`,()=>{t.assign(x,(0,codegen_1$19._)`${B}[${D}]`),e.error(),t.assign(v,!1).break()}).code((0,codegen_1$19._)`${B}[${D}] = ${C}`)})}function P(C,x){const D=(0,util_1$14.useFunc)(t,equal_1$8.default),k=t.name("outer");t.label(k).for((0,codegen_1$19._)`;${C}--;`,()=>t.for((0,codegen_1$19._)`${x} = ${C}; ${x}--;`,()=>t.if((0,codegen_1$19._)`${D}(${n}[${C}], ${n}[${x}])`,()=>{e.error(),t.assign(v,!1).break(k)})))}}};uniqueItems$2.default=def$1d;var _const$2={};Object.defineProperty(_const$2,"__esModule",{value:!0});const codegen_1$18=codegen$2,util_1$13=util$3,equal_1$7=equal$7,error$M={message:"must be equal to constant",params:({schemaCode:e})=>(0,codegen_1$18._)`{allowedValue: ${e}}`},def$1c={keyword:"const",$data:!0,error:error$M,code(e){const{gen:t,data:n,$data:o,schemaCode:c,schema:a}=e;o||a&&typeof a=="object"?e.fail$data((0,codegen_1$18._)`!${(0,util_1$13.useFunc)(t,equal_1$7.default)}(${n}, ${c})`):e.fail((0,codegen_1$18._)`${a} !== ${n}`)}};_const$2.default=def$1c;var _enum$2={};Object.defineProperty(_enum$2,"__esModule",{value:!0});const codegen_1$17=codegen$2,util_1$12=util$3,equal_1$6=equal$7,error$L={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,codegen_1$17._)`{allowedValues: ${e}}`},def$1b={keyword:"enum",schemaType:"array",$data:!0,error:error$L,code(e){const{gen:t,data:n,$data:o,schema:c,schemaCode:a,it:u}=e;if(!o&&c.length===0)throw new Error("enum must have non-empty array");const h=c.length>=u.opts.loopEnum;let v;const b=()=>v??(v=(0,util_1$12.useFunc)(t,equal_1$6.default));let y;if(h||o)y=t.let("valid"),e.block$data(y,w);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const P=t.const("vSchema",a);y=(0,codegen_1$17.or)(...c.map((C,x)=>O(P,x)))}e.pass(y);function w(){t.assign(y,!1),t.forOf("v",a,P=>t.if((0,codegen_1$17._)`${b()}(${n}, ${P})`,()=>t.assign(y,!0).break()))}function O(P,C){const x=c[C];return typeof x=="object"&&x!==null?(0,codegen_1$17._)`${b()}(${n}, ${P}[${C}])`:(0,codegen_1$17._)`${n} === ${x}`}}};_enum$2.default=def$1b,Object.defineProperty(validation$5,"__esModule",{value:!0});const limitNumber_1$2=limitNumber$2,multipleOf_1$2=multipleOf$2,limitLength_1$2=limitLength$2,pattern_1$2=pattern$2,limitProperties_1$2=limitProperties$2,required_1$2=required$4,limitItems_1$2=limitItems$2,uniqueItems_1$2=uniqueItems$2,const_1$2=_const$2,enum_1$2=_enum$2,validation$4=[limitNumber_1$2.default,multipleOf_1$2.default,limitLength_1$2.default,pattern_1$2.default,limitProperties_1$2.default,required_1$2.default,limitItems_1$2.default,uniqueItems_1$2.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},const_1$2.default,enum_1$2.default];validation$5.default=validation$4;var applicator$2={},additionalItems$2={};Object.defineProperty(additionalItems$2,"__esModule",{value:!0}),additionalItems$2.validateAdditionalItems=void 0;const codegen_1$16=codegen$2,util_1$11=util$3,error$K={message:({params:{len:e}})=>(0,codegen_1$16.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,codegen_1$16._)`{limit: ${e}}`},def$1a={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:error$K,code(e){const{parentSchema:t,it:n}=e,{items:o}=t;if(!Array.isArray(o)){(0,util_1$11.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}validateAdditionalItems$2(e,o)}};function validateAdditionalItems$2(e,t){const{gen:n,schema:o,data:c,keyword:a,it:u}=e;u.items=!0;const h=n.const("len",(0,codegen_1$16._)`${c}.length`);if(o===!1)e.setParams({len:t.length}),e.pass((0,codegen_1$16._)`${h} <= ${t.length}`);else if(typeof o=="object"&&!(0,util_1$11.alwaysValidSchema)(u,o)){const b=n.var("valid",(0,codegen_1$16._)`${h} <= ${t.length}`);n.if((0,codegen_1$16.not)(b),()=>v(b)),e.ok(b)}function v(b){n.forRange("i",t.length,h,y=>{e.subschema({keyword:a,dataProp:y,dataPropType:util_1$11.Type.Num},b),u.allErrors||n.if((0,codegen_1$16.not)(b),()=>n.break())})}}additionalItems$2.validateAdditionalItems=validateAdditionalItems$2,additionalItems$2.default=def$1a;var prefixItems$2={},items$2={};Object.defineProperty(items$2,"__esModule",{value:!0}),items$2.validateTuple=void 0;const codegen_1$15=codegen$2,util_1$10=util$3,code_1$p=code$4,def$19={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return validateTuple$2(e,"additionalItems",t);n.items=!0,!(0,util_1$10.alwaysValidSchema)(n,t)&&e.ok((0,code_1$p.validateArray)(e))}};function validateTuple$2(e,t,n=e.schema){const{gen:o,parentSchema:c,data:a,keyword:u,it:h}=e;y(c),h.opts.unevaluated&&n.length&&h.items!==!0&&(h.items=util_1$10.mergeEvaluated.items(o,n.length,h.items));const v=o.name("valid"),b=o.const("len",(0,codegen_1$15._)`${a}.length`);n.forEach((w,O)=>{(0,util_1$10.alwaysValidSchema)(h,w)||(o.if((0,codegen_1$15._)`${b} > ${O}`,()=>e.subschema({keyword:u,schemaProp:O,dataProp:O},v)),e.ok(v))});function y(w){const{opts:O,errSchemaPath:P}=h,C=n.length,x=C===w.minItems&&(C===w.maxItems||w[t]===!1);if(O.strictTuples&&!x){const D=`"${u}" is ${C}-tuple, but minItems or maxItems/${t} are not specified or different at path "${P}"`;(0,util_1$10.checkStrictMode)(h,D,O.strictTuples)}}}items$2.validateTuple=validateTuple$2,items$2.default=def$19,Object.defineProperty(prefixItems$2,"__esModule",{value:!0});const items_1$5=items$2,def$18={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,items_1$5.validateTuple)(e,"items")};prefixItems$2.default=def$18;var items2020$2={};Object.defineProperty(items2020$2,"__esModule",{value:!0});const codegen_1$14=codegen$2,util_1$$=util$3,code_1$o=code$4,additionalItems_1$5=additionalItems$2,error$J={message:({params:{len:e}})=>(0,codegen_1$14.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,codegen_1$14._)`{limit: ${e}}`},def$17={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:error$J,code(e){const{schema:t,parentSchema:n,it:o}=e,{prefixItems:c}=n;o.items=!0,!(0,util_1$$.alwaysValidSchema)(o,t)&&(c?(0,additionalItems_1$5.validateAdditionalItems)(e,c):e.ok((0,code_1$o.validateArray)(e)))}};items2020$2.default=def$17;var contains$2={};Object.defineProperty(contains$2,"__esModule",{value:!0});const codegen_1$13=codegen$2,util_1$_=util$3,error$I={message:({params:{min:e,max:t}})=>t===void 0?(0,codegen_1$13.str)`must contain at least ${e} valid item(s)`:(0,codegen_1$13.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,codegen_1$13._)`{minContains: ${e}}`:(0,codegen_1$13._)`{minContains: ${e}, maxContains: ${t}}`},def$16={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:error$I,code(e){const{gen:t,schema:n,parentSchema:o,data:c,it:a}=e;let u,h;const{minContains:v,maxContains:b}=o;a.opts.next?(u=v===void 0?1:v,h=b):u=1;const y=t.const("len",(0,codegen_1$13._)`${c}.length`);if(e.setParams({min:u,max:h}),h===void 0&&u===0){(0,util_1$_.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&u>h){(0,util_1$_.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,util_1$_.alwaysValidSchema)(a,n)){let x=(0,codegen_1$13._)`${y} >= ${u}`;h!==void 0&&(x=(0,codegen_1$13._)`${x} && ${y} <= ${h}`),e.pass(x);return}a.items=!0;const w=t.name("valid");h===void 0&&u===1?P(w,()=>t.if(w,()=>t.break())):u===0?(t.let(w,!0),h!==void 0&&t.if((0,codegen_1$13._)`${c}.length > 0`,O)):(t.let(w,!1),O()),e.result(w,()=>e.reset());function O(){const x=t.name("_valid"),D=t.let("count",0);P(x,()=>t.if(x,()=>C(D)))}function P(x,D){t.forRange("i",0,y,k=>{e.subschema({keyword:"contains",dataProp:k,dataPropType:util_1$_.Type.Num,compositeRule:!0},x),D()})}function C(x){t.code((0,codegen_1$13._)`${x}++`),h===void 0?t.if((0,codegen_1$13._)`${x} >= ${u}`,()=>t.assign(w,!0).break()):(t.if((0,codegen_1$13._)`${x} > ${h}`,()=>t.assign(w,!1).break()),u===1?t.assign(w,!0):t.if((0,codegen_1$13._)`${x} >= ${u}`,()=>t.assign(w,!0)))}}};contains$2.default=def$16;var dependencies$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=codegen$2,n=util$3,o=code$4;e.error={message:({params:{property:v,depsCount:b,deps:y}})=>{const w=b===1?"property":"properties";return(0,t.str)`must have ${w} ${y} when property ${v} is present`},params:({params:{property:v,depsCount:b,deps:y,missingProperty:w}})=>(0,t._)`{property: ${v},
    missingProperty: ${w},
    depsCount: ${b},
    deps: ${y}}`};const c={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(v){const[b,y]=a(v);u(v,b),h(v,y)}};function a({schema:v}){const b={},y={};for(const w in v){if(w==="__proto__")continue;const O=Array.isArray(v[w])?b:y;O[w]=v[w]}return[b,y]}function u(v,b=v.schema){const{gen:y,data:w,it:O}=v;if(Object.keys(b).length===0)return;const P=y.let("missing");for(const C in b){const x=b[C];if(x.length===0)continue;const D=(0,o.propertyInData)(y,w,C,O.opts.ownProperties);v.setParams({property:C,depsCount:x.length,deps:x.join(", ")}),O.allErrors?y.if(D,()=>{for(const k of x)(0,o.checkReportMissingProp)(v,k)}):(y.if((0,t._)`${D} && (${(0,o.checkMissingProp)(v,x,P)})`),(0,o.reportMissingProp)(v,P),y.else())}}e.validatePropertyDeps=u;function h(v,b=v.schema){const{gen:y,data:w,keyword:O,it:P}=v,C=y.name("valid");for(const x in b)(0,n.alwaysValidSchema)(P,b[x])||(y.if((0,o.propertyInData)(y,w,x,P.opts.ownProperties),()=>{const D=v.subschema({keyword:O,schemaProp:x},C);v.mergeValidEvaluated(D,C)},()=>y.var(C,!0)),v.ok(C))}e.validateSchemaDeps=h,e.default=c})(dependencies$2);var propertyNames$2={};Object.defineProperty(propertyNames$2,"__esModule",{value:!0});const codegen_1$12=codegen$2,util_1$Z=util$3,error$H={message:"property name must be valid",params:({params:e})=>(0,codegen_1$12._)`{propertyName: ${e.propertyName}}`},def$15={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:error$H,code(e){const{gen:t,schema:n,data:o,it:c}=e;if((0,util_1$Z.alwaysValidSchema)(c,n))return;const a=t.name("valid");t.forIn("key",o,u=>{e.setParams({propertyName:u}),e.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},a),t.if((0,codegen_1$12.not)(a),()=>{e.error(!0),c.allErrors||t.break()})}),e.ok(a)}};propertyNames$2.default=def$15;var additionalProperties$4={};Object.defineProperty(additionalProperties$4,"__esModule",{value:!0});const code_1$n=code$4,codegen_1$11=codegen$2,names_1$e=names$5,util_1$Y=util$3,error$G={message:"must NOT have additional properties",params:({params:e})=>(0,codegen_1$11._)`{additionalProperty: ${e.additionalProperty}}`},def$14={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:error$G,code(e){const{gen:t,schema:n,parentSchema:o,data:c,errsCount:a,it:u}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:h,opts:v}=u;if(u.props=!0,v.removeAdditional!=="all"&&(0,util_1$Y.alwaysValidSchema)(u,n))return;const b=(0,code_1$n.allSchemaProperties)(o.properties),y=(0,code_1$n.allSchemaProperties)(o.patternProperties);w(),e.ok((0,codegen_1$11._)`${a} === ${names_1$e.default.errors}`);function w(){t.forIn("key",c,D=>{!b.length&&!y.length?C(D):t.if(O(D),()=>C(D))})}function O(D){let k;if(b.length>8){const B=(0,util_1$Y.schemaRefOrVal)(u,o.properties,"properties");k=(0,code_1$n.isOwnProperty)(t,B,D)}else b.length?k=(0,codegen_1$11.or)(...b.map(B=>(0,codegen_1$11._)`${D} === ${B}`)):k=codegen_1$11.nil;return y.length&&(k=(0,codegen_1$11.or)(k,...y.map(B=>(0,codegen_1$11._)`${(0,code_1$n.usePattern)(e,B)}.test(${D})`))),(0,codegen_1$11.not)(k)}function P(D){t.code((0,codegen_1$11._)`delete ${c}[${D}]`)}function C(D){if(v.removeAdditional==="all"||v.removeAdditional&&n===!1){P(D);return}if(n===!1){e.setParams({additionalProperty:D}),e.error(),h||t.break();return}if(typeof n=="object"&&!(0,util_1$Y.alwaysValidSchema)(u,n)){const k=t.name("valid");v.removeAdditional==="failing"?(x(D,k,!1),t.if((0,codegen_1$11.not)(k),()=>{e.reset(),P(D)})):(x(D,k),h||t.if((0,codegen_1$11.not)(k),()=>t.break()))}}function x(D,k,B){const q={keyword:"additionalProperties",dataProp:D,dataPropType:util_1$Y.Type.Str};B===!1&&Object.assign(q,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(q,k)}}};additionalProperties$4.default=def$14;var properties$7={};Object.defineProperty(properties$7,"__esModule",{value:!0});const validate_1$4=validate$2,code_1$m=code$4,util_1$X=util$3,additionalProperties_1$5=additionalProperties$4,def$13={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:o,data:c,it:a}=e;a.opts.removeAdditional==="all"&&o.additionalProperties===void 0&&additionalProperties_1$5.default.code(new validate_1$4.KeywordCxt(a,additionalProperties_1$5.default,"additionalProperties"));const u=(0,code_1$m.allSchemaProperties)(n);for(const w of u)a.definedProperties.add(w);a.opts.unevaluated&&u.length&&a.props!==!0&&(a.props=util_1$X.mergeEvaluated.props(t,(0,util_1$X.toHash)(u),a.props));const h=u.filter(w=>!(0,util_1$X.alwaysValidSchema)(a,n[w]));if(h.length===0)return;const v=t.name("valid");for(const w of h)b(w)?y(w):(t.if((0,code_1$m.propertyInData)(t,c,w,a.opts.ownProperties)),y(w),a.allErrors||t.else().var(v,!0),t.endIf()),e.it.definedProperties.add(w),e.ok(v);function b(w){return a.opts.useDefaults&&!a.compositeRule&&n[w].default!==void 0}function y(w){e.subschema({keyword:"properties",schemaProp:w,dataProp:w},v)}}};properties$7.default=def$13;var patternProperties$2={};Object.defineProperty(patternProperties$2,"__esModule",{value:!0});const code_1$l=code$4,codegen_1$10=codegen$2,util_1$W=util$3,util_2$4=util$3,def$12={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:o,parentSchema:c,it:a}=e,{opts:u}=a,h=(0,code_1$l.allSchemaProperties)(n),v=h.filter(x=>(0,util_1$W.alwaysValidSchema)(a,n[x]));if(h.length===0||v.length===h.length&&(!a.opts.unevaluated||a.props===!0))return;const b=u.strictSchema&&!u.allowMatchingProperties&&c.properties,y=t.name("valid");a.props!==!0&&!(a.props instanceof codegen_1$10.Name)&&(a.props=(0,util_2$4.evaluatedPropsToName)(t,a.props));const{props:w}=a;O();function O(){for(const x of h)b&&P(x),a.allErrors?C(x):(t.var(y,!0),C(x),t.if(y))}function P(x){for(const D in b)new RegExp(x).test(D)&&(0,util_1$W.checkStrictMode)(a,`property ${D} matches pattern ${x} (use allowMatchingProperties)`)}function C(x){t.forIn("key",o,D=>{t.if((0,codegen_1$10._)`${(0,code_1$l.usePattern)(e,x)}.test(${D})`,()=>{const k=v.includes(x);k||e.subschema({keyword:"patternProperties",schemaProp:x,dataProp:D,dataPropType:util_2$4.Type.Str},y),a.opts.unevaluated&&w!==!0?t.assign((0,codegen_1$10._)`${w}[${D}]`,!0):!k&&!a.allErrors&&t.if((0,codegen_1$10.not)(y),()=>t.break())})})}}};patternProperties$2.default=def$12;var not$2={};Object.defineProperty(not$2,"__esModule",{value:!0});const util_1$V=util$3,def$11={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:o}=e;if((0,util_1$V.alwaysValidSchema)(o,n)){e.fail();return}const c=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},c),e.failResult(c,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};not$2.default=def$11;var anyOf$2={};Object.defineProperty(anyOf$2,"__esModule",{value:!0});const code_1$k=code$4,def$10={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:code_1$k.validateUnion,error:{message:"must match a schema in anyOf"}};anyOf$2.default=def$10;var oneOf$2={};Object.defineProperty(oneOf$2,"__esModule",{value:!0});const codegen_1$$=codegen$2,util_1$U=util$3,error$F={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,codegen_1$$._)`{passingSchemas: ${e.passing}}`},def$$={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:error$F,code(e){const{gen:t,schema:n,parentSchema:o,it:c}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(c.opts.discriminator&&o.discriminator)return;const a=n,u=t.let("valid",!1),h=t.let("passing",null),v=t.name("_valid");e.setParams({passing:h}),t.block(b),e.result(u,()=>e.reset(),()=>e.error(!0));function b(){a.forEach((y,w)=>{let O;(0,util_1$U.alwaysValidSchema)(c,y)?t.var(v,!0):O=e.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},v),w>0&&t.if((0,codegen_1$$._)`${v} && ${u}`).assign(u,!1).assign(h,(0,codegen_1$$._)`[${h}, ${w}]`).else(),t.if(v,()=>{t.assign(u,!0),t.assign(h,w),O&&e.mergeEvaluated(O,codegen_1$$.Name)})})}}};oneOf$2.default=def$$;var allOf$2={};Object.defineProperty(allOf$2,"__esModule",{value:!0});const util_1$T=util$3,def$_={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const c=t.name("valid");n.forEach((a,u)=>{if((0,util_1$T.alwaysValidSchema)(o,a))return;const h=e.subschema({keyword:"allOf",schemaProp:u},c);e.ok(c),e.mergeEvaluated(h)})}};allOf$2.default=def$_;var _if$2={};Object.defineProperty(_if$2,"__esModule",{value:!0});const codegen_1$_=codegen$2,util_1$S=util$3,error$E={message:({params:e})=>(0,codegen_1$_.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,codegen_1$_._)`{failingKeyword: ${e.ifClause}}`},def$Z={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:error$E,code(e){const{gen:t,parentSchema:n,it:o}=e;n.then===void 0&&n.else===void 0&&(0,util_1$S.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const c=hasSchema$2(o,"then"),a=hasSchema$2(o,"else");if(!c&&!a)return;const u=t.let("valid",!0),h=t.name("_valid");if(v(),e.reset(),c&&a){const y=t.let("ifClause");e.setParams({ifClause:y}),t.if(h,b("then",y),b("else",y))}else c?t.if(h,b("then")):t.if((0,codegen_1$_.not)(h),b("else"));e.pass(u,()=>e.error(!0));function v(){const y=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);e.mergeEvaluated(y)}function b(y,w){return()=>{const O=e.subschema({keyword:y},h);t.assign(u,h),e.mergeValidEvaluated(O,u),w?t.assign(w,(0,codegen_1$_._)`${y}`):e.setParams({ifClause:y})}}}};function hasSchema$2(e,t){const n=e.schema[t];return n!==void 0&&!(0,util_1$S.alwaysValidSchema)(e,n)}_if$2.default=def$Z;var thenElse$2={};Object.defineProperty(thenElse$2,"__esModule",{value:!0});const util_1$R=util$3,def$Y={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,util_1$R.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};thenElse$2.default=def$Y,Object.defineProperty(applicator$2,"__esModule",{value:!0});const additionalItems_1$4=additionalItems$2,prefixItems_1$2=prefixItems$2,items_1$4=items$2,items2020_1$2=items2020$2,contains_1$2=contains$2,dependencies_1$2=dependencies$2,propertyNames_1$2=propertyNames$2,additionalProperties_1$4=additionalProperties$4,properties_1$2=properties$7,patternProperties_1$2=patternProperties$2,not_1$2=not$2,anyOf_1$2=anyOf$2,oneOf_1$2=oneOf$2,allOf_1$2=allOf$2,if_1$2=_if$2,thenElse_1$2=thenElse$2;function getApplicator$2(e=!1){const t=[not_1$2.default,anyOf_1$2.default,oneOf_1$2.default,allOf_1$2.default,if_1$2.default,thenElse_1$2.default,propertyNames_1$2.default,additionalProperties_1$4.default,dependencies_1$2.default,properties_1$2.default,patternProperties_1$2.default];return e?t.push(prefixItems_1$2.default,items2020_1$2.default):t.push(additionalItems_1$4.default,items_1$4.default),t.push(contains_1$2.default),t}applicator$2.default=getApplicator$2;var format$f={},format$e={};Object.defineProperty(format$e,"__esModule",{value:!0});const codegen_1$Z=codegen$2,error$D={message:({schemaCode:e})=>(0,codegen_1$Z.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,codegen_1$Z._)`{format: ${e}}`},def$X={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:error$D,code(e,t){const{gen:n,data:o,$data:c,schema:a,schemaCode:u,it:h}=e,{opts:v,errSchemaPath:b,schemaEnv:y,self:w}=h;if(!v.validateFormats)return;c?O():P();function O(){const C=n.scopeValue("formats",{ref:w.formats,code:v.code.formats}),x=n.const("fDef",(0,codegen_1$Z._)`${C}[${u}]`),D=n.let("fType"),k=n.let("format");n.if((0,codegen_1$Z._)`typeof ${x} == "object" && !(${x} instanceof RegExp)`,()=>n.assign(D,(0,codegen_1$Z._)`${x}.type || "string"`).assign(k,(0,codegen_1$Z._)`${x}.validate`),()=>n.assign(D,(0,codegen_1$Z._)`"string"`).assign(k,x)),e.fail$data((0,codegen_1$Z.or)(B(),q()));function B(){return v.strictSchema===!1?codegen_1$Z.nil:(0,codegen_1$Z._)`${u} && !${k}`}function q(){const V=y.$async?(0,codegen_1$Z._)`(${x}.async ? await ${k}(${o}) : ${k}(${o}))`:(0,codegen_1$Z._)`${k}(${o})`,ee=(0,codegen_1$Z._)`(typeof ${k} == "function" ? ${V} : ${k}.test(${o}))`;return(0,codegen_1$Z._)`${k} && ${k} !== true && ${D} === ${t} && !${ee}`}}function P(){const C=w.formats[a];if(!C){B();return}if(C===!0)return;const[x,D,k]=q(C);x===t&&e.pass(V());function B(){if(v.strictSchema===!1){w.logger.warn(ee());return}throw new Error(ee());function ee(){return`unknown format "${a}" ignored in schema at path "${b}"`}}function q(ee){const te=ee instanceof RegExp?(0,codegen_1$Z.regexpCode)(ee):v.code.formats?(0,codegen_1$Z._)`${v.code.formats}${(0,codegen_1$Z.getProperty)(a)}`:void 0,ce=n.scopeValue("formats",{key:a,ref:ee,code:te});return typeof ee=="object"&&!(ee instanceof RegExp)?[ee.type||"string",ee.validate,(0,codegen_1$Z._)`${ce}.validate`]:["string",ee,ce]}function V(){if(typeof C=="object"&&!(C instanceof RegExp)&&C.async){if(!y.$async)throw new Error("async format in sync schema");return(0,codegen_1$Z._)`await ${k}(${o})`}return typeof D=="function"?(0,codegen_1$Z._)`${k}(${o})`:(0,codegen_1$Z._)`${k}.test(${o})`}}}};format$e.default=def$X,Object.defineProperty(format$f,"__esModule",{value:!0});const format_1$8=format$e,format$d=[format_1$8.default];format$f.default=format$d;var metadata$2={};Object.defineProperty(metadata$2,"__esModule",{value:!0}),metadata$2.contentVocabulary=metadata$2.metadataVocabulary=void 0,metadata$2.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],metadata$2.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(draft7$2,"__esModule",{value:!0});const core_1$2=core$7,validation_1$2=validation$5,applicator_1$2=applicator$2,format_1$7=format$f,metadata_1$2=metadata$2,draft7Vocabularies$2=[core_1$2.default,validation_1$2.default,(0,applicator_1$2.default)(),format_1$7.default,metadata_1$2.metadataVocabulary,metadata_1$2.contentVocabulary];draft7$2.default=draft7Vocabularies$2;var discriminator$2={},types$e={};Object.defineProperty(types$e,"__esModule",{value:!0}),types$e.DiscrError=void 0;var DiscrError;(function(e){e.Tag="tag",e.Mapping="mapping"})(DiscrError||(types$e.DiscrError=DiscrError={})),Object.defineProperty(discriminator$2,"__esModule",{value:!0});const codegen_1$Y=codegen$2,types_1$F=types$e,compile_1$4=compile$3,ref_error_1$2=ref_error$2,util_1$Q=util$3,error$C={message:({params:{discrError:e,tagName:t}})=>e===types_1$F.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,codegen_1$Y._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},def$W={keyword:"discriminator",type:"object",schemaType:"object",error:error$C,code(e){const{gen:t,data:n,schema:o,parentSchema:c,it:a}=e,{oneOf:u}=c;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=o.propertyName;if(typeof h!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const v=t.let("valid",!1),b=t.const("tag",(0,codegen_1$Y._)`${n}${(0,codegen_1$Y.getProperty)(h)}`);t.if((0,codegen_1$Y._)`typeof ${b} == "string"`,()=>y(),()=>e.error(!1,{discrError:types_1$F.DiscrError.Tag,tag:b,tagName:h})),e.ok(v);function y(){const P=O();t.if(!1);for(const C in P)t.elseIf((0,codegen_1$Y._)`${b} === ${C}`),t.assign(v,w(P[C]));t.else(),e.error(!1,{discrError:types_1$F.DiscrError.Mapping,tag:b,tagName:h}),t.endIf()}function w(P){const C=t.name("valid"),x=e.subschema({keyword:"oneOf",schemaProp:P},C);return e.mergeEvaluated(x,codegen_1$Y.Name),C}function O(){var P;const C={},x=k(c);let D=!0;for(let V=0;V<u.length;V++){let ee=u[V];if(ee!=null&&ee.$ref&&!(0,util_1$Q.schemaHasRulesButRef)(ee,a.self.RULES)){const ce=ee.$ref;if(ee=compile_1$4.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,ce),ee instanceof compile_1$4.SchemaEnv&&(ee=ee.schema),ee===void 0)throw new ref_error_1$2.default(a.opts.uriResolver,a.baseId,ce)}const te=(P=ee==null?void 0:ee.properties)===null||P===void 0?void 0:P[h];if(typeof te!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);D=D&&(x||k(ee)),B(te,V)}if(!D)throw new Error(`discriminator: "${h}" must be required`);return C;function k({required:V}){return Array.isArray(V)&&V.includes(h)}function B(V,ee){if(V.const)q(V.const,ee);else if(V.enum)for(const te of V.enum)q(te,ee);else throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`)}function q(V,ee){if(typeof V!="string"||V in C)throw new Error(`discriminator: "${h}" values must be unique strings`);C[V]=ee}}}};discriminator$2.default=def$W;const $schema$2="http://json-schema.org/draft-07/schema#",$id$4="http://json-schema.org/draft-07/schema#",title$2="Core schema meta-schema",definitions$2={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type$4=["object","boolean"],properties$6={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},require$$3$5={$schema:$schema$2,$id:$id$4,title:title$2,definitions:definitions$2,type:type$4,properties:properties$6,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=core$8,o=draft7$2,c=discriminator$2,a=require$$3$5,u=["/properties"],h="http://json-schema.org/draft-07/schema";class v extends n.default{_addVocabularies(){super._addVocabularies(),o.default.forEach(C=>this.addVocabulary(C)),this.opts.discriminator&&this.addKeyword(c.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const C=this.opts.$data?this.$dataMetaSchema(a,u):a;this.addMetaSchema(C,h,!1),this.refs["http://json-schema.org/schema"]=h}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(h)?h:void 0)}}t.Ajv=v,e.exports=t=v,e.exports.Ajv=v,Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var b=validate$2;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return b.KeywordCxt}});var y=codegen$2;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var w=validation_error$2;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return w.default}});var O=ref_error$2;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return O.default}})})(ajv$2,ajv$2.exports);var ajvExports$2=ajv$2.exports,dist={exports:{}},formats$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(ne,fe){return{validate:ne,compare:fe}}e.fullFormats={date:t(a,u),time:t(v,b),"date-time":t(w,O),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:x,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Q,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:k,int32:{type:"number",validate:V},int64:{type:"number",validate:ee},float:{type:"number",validate:te},double:{type:"number",validate:te},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,u),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,b),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,O),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function n(ne){return ne%4===0&&(ne%100!==0||ne%400===0)}const o=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,c=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(ne){const fe=o.exec(ne);if(!fe)return!1;const l=+fe[1],p=+fe[2],m=+fe[3];return p>=1&&p<=12&&m>=1&&m<=(p===2&&n(l)?29:c[p])}function u(ne,fe){if(ne&&fe)return ne>fe?1:ne<fe?-1:0}const h=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function v(ne,fe){const l=h.exec(ne);if(!l)return!1;const p=+l[1],m=+l[2],_=+l[3],A=l[5];return(p<=23&&m<=59&&_<=59||p===23&&m===59&&_===60)&&(!fe||A!=="")}function b(ne,fe){if(!(ne&&fe))return;const l=h.exec(ne),p=h.exec(fe);if(l&&p)return ne=l[1]+l[2]+l[3]+(l[4]||""),fe=p[1]+p[2]+p[3]+(p[4]||""),ne>fe?1:ne<fe?-1:0}const y=/t|\s/i;function w(ne){const fe=ne.split(y);return fe.length===2&&a(fe[0])&&v(fe[1],!0)}function O(ne,fe){if(!(ne&&fe))return;const[l,p]=ne.split(y),[m,_]=fe.split(y),A=u(l,m);if(A!==void 0)return A||b(p,_)}const P=/\/|:/,C=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function x(ne){return P.test(ne)&&C.test(ne)}const D=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function k(ne){return D.lastIndex=0,D.test(ne)}const B=-(2**31),q=2**31-1;function V(ne){return Number.isInteger(ne)&&ne<=q&&ne>=B}function ee(ne){return Number.isInteger(ne)}function te(){return!0}const ce=/[^\\]\\Z/;function Q(ne){if(ce.test(ne))return!1;try{return new RegExp(ne),!0}catch{return!1}}})(formats$2);var limit={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=ajvExports$2,n=codegen$2,o=n.operators,c={formatMaximum:{okStr:"<=",ok:o.LTE,fail:o.GT},formatMinimum:{okStr:">=",ok:o.GTE,fail:o.LT},formatExclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},formatExclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},a={message:({keyword:h,schemaCode:v})=>n.str`should be ${c[h].okStr} ${v}`,params:({keyword:h,schemaCode:v})=>n._`{comparison: ${c[h].okStr}, limit: ${v}}`};e.formatLimitDefinition={keyword:Object.keys(c),type:"string",schemaType:"string",$data:!0,error:a,code(h){const{gen:v,data:b,schemaCode:y,keyword:w,it:O}=h,{opts:P,self:C}=O;if(!P.validateFormats)return;const x=new t.KeywordCxt(O,C.RULES.all.format.definition,"format");x.$data?D():k();function D(){const q=v.scopeValue("formats",{ref:C.formats,code:P.code.formats}),V=v.const("fmt",n._`${q}[${x.schemaCode}]`);h.fail$data(n.or(n._`typeof ${V} != "object"`,n._`${V} instanceof RegExp`,n._`typeof ${V}.compare != "function"`,B(V)))}function k(){const q=x.schema,V=C.formats[q];if(!V||V===!0)return;if(typeof V!="object"||V instanceof RegExp||typeof V.compare!="function")throw new Error(`"${w}": format "${q}" does not define "compare" function`);const ee=v.scopeValue("formats",{key:q,ref:V,code:P.code.formats?n._`${P.code.formats}${n.getProperty(q)}`:void 0});h.fail$data(B(ee))}function B(q){return n._`${q}.compare(${b}, ${y}) ${c[w].fail} 0`}},dependencies:["format"]};const u=h=>(h.addKeyword(e.formatLimitDefinition),h);e.default=u})(limit),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=formats$2,o=limit,c=codegen$2,a=new c.Name("fullFormats"),u=new c.Name("fastFormats"),h=(b,y={keywords:!0})=>{if(Array.isArray(y))return v(b,y,n.fullFormats,a),b;const[w,O]=y.mode==="fast"?[n.fastFormats,u]:[n.fullFormats,a],P=y.formats||n.formatNames;return v(b,P,w,O),y.keywords&&o.default(b),b};h.get=(b,y="full")=>{const w=(y==="fast"?n.fastFormats:n.fullFormats)[b];if(!w)throw new Error(`Unknown format "${b}"`);return w};function v(b,y,w,O){var P,C;(P=(C=b.opts.code).formats)!==null&&P!==void 0||(C.formats=c._`require("ajv-formats/dist/formats").${O}`);for(const x of y)b.addFormat(x,w[x])}e.exports=t=h,Object.defineProperty(t,"__esModule",{value:!0}),t.default=h}(dist,dist.exports);var distExports=dist.exports,lib$y={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbiSerializationType=e.AbiFunctionModifier=e.AbiFunctionKind=e.SCHEMA_VERSION=void 0,e.SCHEMA_VERSION="0.3.0",function(t){t.View="view",t.Call="call"}(e.AbiFunctionKind||(e.AbiFunctionKind={})),function(t){t.Init="init",t.Private="private",t.Payable="payable"}(e.AbiFunctionModifier||(e.AbiFunctionModifier={})),function(t){t.Json="json",t.Borsh="borsh"}(e.AbiSerializationType||(e.AbiSerializationType={}))})(lib$y);var errors$f={};Object.defineProperty(errors$f,"__esModule",{value:!0}),errors$f.ConflictingOptions=errors$f.ArgumentSchemaError=errors$f.UnknownArgumentError=errors$f.UnsupportedSerializationError=void 0;let UnsupportedSerializationError$3=class extends Error{constructor(e,t){super(`Contract method '${e}' is using an unsupported serialization type ${t}`)}};errors$f.UnsupportedSerializationError=UnsupportedSerializationError$3;let UnknownArgumentError$3=class extends Error{constructor(e,t){super(`Unrecognized argument '${e}', expected '${JSON.stringify(t)}'`)}};errors$f.UnknownArgumentError=UnknownArgumentError$3;let ArgumentSchemaError$3=class extends Error{constructor(e,t){super(`Argument '${e}' does not conform to the specified ABI schema: '${JSON.stringify(t)}'`)}};errors$f.ArgumentSchemaError=ArgumentSchemaError$3;let ConflictingOptions$3=class extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}};errors$f.ConflictingOptions=ConflictingOptions$3;var __awaiter$19=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$z=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(contract$7,"__esModule",{value:!0}),contract$7.Contract=void 0;const utils_1$F=lib$D,types_1$E=lib$F,ajv_1$2=__importDefault$z(ajvExports$2),ajv_formats_1$2=__importDefault$z(distExports),bn_js_1$o=__importDefault$z(bnExports$6),depd_1$6=__importDefault$z(browser$a),near_abi_1$3=lib$y,errors_1$c=errors$f;function nameFunction$3(e,t){return{[e](...n){return t(...n)}}[e]}function validateArguments$3(e,t,n,o){var c;if(!isObject$l(e))return;if(t.params&&t.params.serialization_type!==near_abi_1$3.AbiSerializationType.Json)throw new errors_1$c.UnsupportedSerializationError(t.name,t.params.serialization_type);if(t.result&&t.result.serialization_type!==near_abi_1$3.AbiSerializationType.Json)throw new errors_1$c.UnsupportedSerializationError(t.name,t.result.serialization_type);const a=((c=t.params)===null||c===void 0?void 0:c.args)||[];for(const u of a){const h=e[u.name],v=u.type_schema;v.definitions=o.body.root_schema.definitions;const b=n.compile(v);if(!b(h))throw new errors_1$c.ArgumentSchemaError(u.name,b.errors)}for(const u of Object.keys(e))if(!a.find(h=>h.name===u))throw new errors_1$c.UnknownArgumentError(u,a.map(h=>h.name))}function createAjv$2(){const e=new ajv_1$2.default({strictSchema:!1,formats:{uint32:!0,uint64:!0}});return(0,ajv_formats_1$2.default)(e),e}const isUint8Array$3=e=>e&&e.byteLength!==void 0&&e.byteLength===e.length,isObject$l=e=>Object.prototype.toString.call(e)==="[object Object]";let Contract$3=class{constructor(e,t,n){this.account=e,this.contractId=t;const{viewMethods:o=[],changeMethods:c=[],abi:a}=n;let u=o.map(b=>({name:b,abi:null})),h=c.map(b=>({name:b,abi:null}));if(a){if(u.length>0||h.length>0)throw new errors_1$c.ConflictingOptions;u=a.body.functions.filter(b=>b.kind===near_abi_1$3.AbiFunctionKind.View).map(b=>({name:b.name,abi:b})),h=a.body.functions.filter(b=>b.kind===near_abi_1$3.AbiFunctionKind.Call).map(b=>({name:b.name,abi:b}))}const v=createAjv$2();u.forEach(({name:b,abi:y})=>{Object.defineProperty(this,b,{writable:!1,enumerable:!0,value:nameFunction$3(b,(w={},O={},...P)=>__awaiter$19(this,void 0,void 0,function*(){if(P.length||!(isObject$l(w)||isUint8Array$3(w))||!isObject$l(O))throw new types_1$E.PositionalArgsError;return y&&validateArguments$3(w,y,v,a),this.account.viewFunction(Object.assign({contractId:this.contractId,methodName:b,args:w},O))}))})}),h.forEach(({name:b,abi:y})=>{Object.defineProperty(this,b,{writable:!1,enumerable:!0,value:nameFunction$3(b,(...w)=>__awaiter$19(this,void 0,void 0,function*(){if(w.length&&(w.length>3||!(isObject$l(w[0])||isUint8Array$3(w[0]))))throw new types_1$E.PositionalArgsError;return(w.length>1||!(w[0]&&w[0].args))&&((0,depd_1$6.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),w[0]={args:w[0],gas:w[1],amount:w[2]}),y&&validateArguments$3(w[0].args,y,v,a),this._changeMethod(Object.assign({methodName:b},w[0]))}))})})}_changeMethod({args:e,methodName:t,gas:n,amount:o,meta:c,callbackUrl:a}){return __awaiter$19(this,void 0,void 0,function*(){validateBNLike$3({gas:n,amount:o});const u=yield this.account.functionCall({contractId:this.contractId,methodName:t,args:e,gas:n,attachedDeposit:o,walletMeta:c,walletCallbackUrl:a});return(0,utils_1$F.getTransactionLastResult)(u)})}};contract$7.Contract=Contract$3;function validateBNLike$3(e){const t="number, decimal string or BN";for(const n of Object.keys(e)){const o=e[n];if(o&&!bn_js_1$o.default.isBN(o)&&isNaN(o))throw new types_1$E.ArgumentTypeError(n,t,o)}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=e.Contract=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.Connection=e.AccountMultisig=e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=e.Account2FA=e.Account=void 0;var t=account$7;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}});var n=account_2fa$3;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return n.Account2FA}});var o=account_creator$7;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return o.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return o.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return o.UrlAccountCreator}});var c=account_multisig$7;Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return c.AccountMultisig}});var a=connection$7;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return a.Connection}});var u=constants$9;Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return u.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return u.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return u.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return u.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return u.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return u.MULTISIG_CONFIRM_METHODS}});var h=contract$7;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return h.Contract}});var v=errors$f;Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return v.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return v.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return v.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return v.UnsupportedSerializationError}});var b=types$f;Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return b.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return b.MultisigStateStatus}})})(lib$A),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.TypedError=e.PositionalArgsError=e.ErrorContext=e.ArgumentTypeError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=void 0;var t=lib$A;Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return t.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return t.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return t.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return t.UnsupportedSerializationError}});var n=lib$F;Object.defineProperty(e,"ArgumentTypeError",{enumerable:!0,get:function(){return n.ArgumentTypeError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return n.ErrorContext}}),Object.defineProperty(e,"PositionalArgsError",{enumerable:!0,get:function(){return n.PositionalArgsError}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return n.TypedError}});var o=lib$D;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return o.logWarning}})}(errors$h),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(O,P,C,x){x===void 0&&(x=C);var D=Object.getOwnPropertyDescriptor(P,C);(!D||("get"in D?!P.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return P[C]}}),Object.defineProperty(O,x,D)}:function(O,P,C,x){x===void 0&&(x=C),O[x]=P[C]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(O,P){Object.defineProperty(O,"default",{enumerable:!0,value:P})}:function(O,P){O.default=P}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(O){if(O&&O.__esModule)return O;var P={};if(O!=null)for(var C in O)C!=="default"&&Object.prototype.hasOwnProperty.call(O,C)&&t(P,O,C);return n(P,O),P};Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.web=e.serialize=e.key_pair=void 0;const c=o(key_pair$6);e.key_pair=c;const a=o(serialize$j);e.serialize=a;const u=o(web$3);e.web=u;const h=o(enums$3);e.enums=h;const v=o(format$g);e.format=v;const b=o(rpc_errors$6);e.rpc_errors=b;const y=key_pair$6;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return y.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return y.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return y.KeyPairEd25519}});const w=errors$h;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return w.logWarning}})}(utils$D);var transaction$3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.transfer=e.stake=e.functionCallAccessKey=e.functionCall=e.fullAccessKey=e.deployContract=e.deleteKey=e.deleteAccount=e.createAccount=e.addKey=e.encodeDelegateAction=e.encodeSignedDelegate=e.Transaction=e.SignedTransaction=e.Signature=e.signTransaction=e.createTransaction=e.SCHEMA=e.Transfer=e.Stake=e.FunctionCallPermission=e.FunctionCall=e.FullAccessPermission=e.DeployContract=e.DeleteKey=e.DeleteAccount=e.CreateAccount=e.AddKey=e.AccessKeyPermission=e.AccessKey=e.Action=e.stringifyJsonOrBytes=void 0;var t=lib$B;Object.defineProperty(e,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return t.stringifyJsonOrBytes}}),Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(e,"AccessKey",{enumerable:!0,get:function(){return t.AccessKey}}),Object.defineProperty(e,"AccessKeyPermission",{enumerable:!0,get:function(){return t.AccessKeyPermission}}),Object.defineProperty(e,"AddKey",{enumerable:!0,get:function(){return t.AddKey}}),Object.defineProperty(e,"CreateAccount",{enumerable:!0,get:function(){return t.CreateAccount}}),Object.defineProperty(e,"DeleteAccount",{enumerable:!0,get:function(){return t.DeleteAccount}}),Object.defineProperty(e,"DeleteKey",{enumerable:!0,get:function(){return t.DeleteKey}}),Object.defineProperty(e,"DeployContract",{enumerable:!0,get:function(){return t.DeployContract}}),Object.defineProperty(e,"FullAccessPermission",{enumerable:!0,get:function(){return t.FullAccessPermission}}),Object.defineProperty(e,"FunctionCall",{enumerable:!0,get:function(){return t.FunctionCall}}),Object.defineProperty(e,"FunctionCallPermission",{enumerable:!0,get:function(){return t.FunctionCallPermission}}),Object.defineProperty(e,"Stake",{enumerable:!0,get:function(){return t.Stake}}),Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return t.Transfer}}),Object.defineProperty(e,"SCHEMA",{enumerable:!0,get:function(){return t.SCHEMA}}),Object.defineProperty(e,"createTransaction",{enumerable:!0,get:function(){return t.createTransaction}}),Object.defineProperty(e,"signTransaction",{enumerable:!0,get:function(){return t.signTransaction}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return t.Signature}}),Object.defineProperty(e,"SignedTransaction",{enumerable:!0,get:function(){return t.SignedTransaction}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return t.Transaction}}),Object.defineProperty(e,"encodeSignedDelegate",{enumerable:!0,get:function(){return t.encodeSignedDelegate}}),Object.defineProperty(e,"encodeDelegateAction",{enumerable:!0,get:function(){return t.encodeDelegateAction}});const n=lib$B,o=(P,C)=>n.actionCreators.addKey(P,C);e.addKey=o;const c=()=>n.actionCreators.createAccount();e.createAccount=c;const a=P=>n.actionCreators.deleteAccount(P);e.deleteAccount=a;const u=P=>n.actionCreators.deleteKey(P);e.deleteKey=u;const h=P=>n.actionCreators.deployContract(P);e.deployContract=h;const v=()=>n.actionCreators.fullAccessKey();e.fullAccessKey=v;const b=(P,C,x,D,k,B)=>n.actionCreators.functionCall(P,C,x,D,k,B);e.functionCall=b;const y=(P,C,x)=>n.actionCreators.functionCallAccessKey(P,C,x);e.functionCallAccessKey=y;const w=(P,C)=>n.actionCreators.stake(P,C);e.stake=w;const O=P=>n.actionCreators.transfer(P);e.transfer=O})(transaction$3);var validators$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findSeatPrice=e.diffEpochValidators=void 0;var t=lib$D;Object.defineProperty(e,"diffEpochValidators",{enumerable:!0,get:function(){return t.diffEpochValidators}}),Object.defineProperty(e,"findSeatPrice",{enumerable:!0,get:function(){return t.findSeatPrice}})})(validators$6);var account$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;var t=lib$A;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}})})(account$6);var account_multisig$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.AccountMultisig=e.Account2FA=void 0;var t=lib$A;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return t.Account2FA}}),Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return t.AccountMultisig}}),Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return t.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return t.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return t.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return t.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return t.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return t.MultisigStateStatus}})})(account_multisig$6);var account_creator$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=void 0;var t=lib$A;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return t.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return t.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return t.UrlAccountCreator}})})(account_creator$6);var connection$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;var t=lib$A;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return t.Connection}})})(connection$6);var signer$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=lib$z;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}}),Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return t.Signer}})})(signer$6);var contract$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Contract=void 0;var t=lib$A;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return t.Contract}})})(contract$6);var near$7={},lib$x={},near$6={},__awaiter$18=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$y=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(near$6,"__esModule",{value:!0}),near$6.Near=void 0;const accounts_1$7=lib$A,bn_js_1$n=__importDefault$y(bnExports$6);let Near$3=class{constructor(e){var t;if(this.config=e,this.connection=accounts_1$7.Connection.fromConfig({networkId:e.networkId,provider:{type:"JsonRpcProvider",args:{url:e.nodeUrl,headers:e.headers}},signer:e.signer||{type:"InMemorySigner",keyStore:e.keyStore||((t=e.deps)===null||t===void 0?void 0:t.keyStore)},jsvmAccountId:e.jsvmAccountId||`jsvm.${e.networkId}`}),e.masterAccount){const n=e.initialBalance?new bn_js_1$n.default(e.initialBalance):new bn_js_1$n.default("500000000000000000000000000");this.accountCreator=new accounts_1$7.LocalAccountCreator(new accounts_1$7.Account(this.connection,e.masterAccount),n)}else e.helperUrl?this.accountCreator=new accounts_1$7.UrlAccountCreator(this.connection,e.helperUrl):this.accountCreator=null}account(e){return __awaiter$18(this,void 0,void 0,function*(){return new accounts_1$7.Account(this.connection,e)})}createAccount(e,t){return __awaiter$18(this,void 0,void 0,function*(){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(e,t),new accounts_1$7.Account(this.connection,e)})}};near$6.Near=Near$3;var wallet_account$3={},__awaiter$17=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$x=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wallet_account$3,"__esModule",{value:!0}),wallet_account$3.ConnectedWalletAccount=wallet_account$3.WalletConnection=void 0;const accounts_1$6=lib$A,crypto_1$o=lib$H,transactions_1$h=lib$B,bn_js_1$m=__importDefault$x(bnExports$6),borsh_1$4=lib$G,LOGIN_WALLET_URL_SUFFIX$3="/login/",MULTISIG_HAS_METHOD$4="add_request_and_confirm",LOCAL_STORAGE_KEY_SUFFIX$4="_wallet_auth_key",PENDING_ACCESS_KEY_PREFIX$3="pending_key";let WalletConnection$3=class{constructor(e,t){if(typeof t!="string")throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if(typeof window>"u")return new Proxy(this,{get(c,a){return a==="isSignedIn"?()=>!1:a==="getAccountId"?()=>"":c[a]&&typeof c[a]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:c[a]}});this._near=e;const n=t+LOCAL_STORAGE_KEY_SUFFIX$4,o=JSON.parse(window.localStorage.getItem(n));this._networkId=e.config.networkId,this._walletBaseUrl=e.config.walletUrl,t=t||e.config.contractName||"default",this._keyStore=e.connection.signer.keyStore,this._authData=o||{allKeys:[]},this._authDataKey=n,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return __awaiter$17(this,void 0,void 0,function*(){return this._completeSignInPromise?(yield this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()})}getAccountId(){return this._authData.accountId||""}requestSignIn({contractId:e,methodNames:t,successUrl:n,failureUrl:o}){return __awaiter$17(this,void 0,void 0,function*(){const c=new URL(window.location.href),a=new URL(this._walletBaseUrl+LOGIN_WALLET_URL_SUFFIX$3);if(a.searchParams.set("success_url",n||c.href),a.searchParams.set("failure_url",o||c.href),e){yield(yield this._near.account(e)).state(),a.searchParams.set("contract_id",e);const u=crypto_1$o.KeyPair.fromRandom("ed25519");a.searchParams.set("public_key",u.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,PENDING_ACCESS_KEY_PREFIX$3+u.getPublicKey(),u)}t&&t.forEach(u=>{a.searchParams.append("methodNames",u)}),window.location.assign(a.toString())})}requestSignTransactions({transactions:e,meta:t,callbackUrl:n}){return __awaiter$17(this,void 0,void 0,function*(){const o=new URL(window.location.href),c=new URL("sign",this._walletBaseUrl);c.searchParams.set("transactions",e.map(a=>(0,borsh_1$4.serialize)(transactions_1$h.SCHEMA,a)).map(a=>Buffer$E.from(a).toString("base64")).join(",")),c.searchParams.set("callbackUrl",n||o.href),t&&c.searchParams.set("meta",t),window.location.assign(c.toString())})}_completeSignInWithAccessKey(){return __awaiter$17(this,void 0,void 0,function*(){const e=new URL(window.location.href),t=e.searchParams.get("public_key")||"",n=(e.searchParams.get("all_keys")||"").split(","),o=e.searchParams.get("account_id")||"";if(o){const c={accountId:o,allKeys:n};window.localStorage.setItem(this._authDataKey,JSON.stringify(c)),t&&(yield this._moveKeyFromTempToPermanent(o,t)),this._authData=c}e.searchParams.delete("public_key"),e.searchParams.delete("all_keys"),e.searchParams.delete("account_id"),e.searchParams.delete("meta"),e.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,e.toString())})}_moveKeyFromTempToPermanent(e,t){return __awaiter$17(this,void 0,void 0,function*(){const n=yield this._keyStore.getKey(this._networkId,PENDING_ACCESS_KEY_PREFIX$3+t);yield this._keyStore.setKey(this._networkId,e,n),yield this._keyStore.removeKey(this._networkId,PENDING_ACCESS_KEY_PREFIX$3+t)})}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new ConnectedWalletAccount$3(this,this._near.connection,this._authData.accountId)),this._connectedAccount}};wallet_account$3.WalletConnection=WalletConnection$3;let ConnectedWalletAccount$3=class extends accounts_1$6.Account{constructor(e,t,n){super(t,n),this.walletConnection=e}signAndSendTransaction({receiverId:e,actions:t,walletMeta:n,walletCallbackUrl:o=window.location.href}){const c=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$17(this,void 0,void 0,function*(){const a=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let u=yield this.accessKeyForTransaction(e,t,a);if(!u)throw new Error(`Cannot find matching key for transaction sent to ${e}`);if(a&&a.toString()===u.public_key)try{return yield c.signAndSendTransaction.call(this,{receiverId:e,actions:t})}catch(O){if(O.type==="NotEnoughAllowance")u=yield this.accessKeyForTransaction(e,t);else throw O}const h=yield this.connection.provider.block({finality:"final"}),v=(0,borsh_1$4.baseDecode)(h.header.hash),b=crypto_1$o.PublicKey.from(u.public_key),y=u.access_key.nonce.add(new bn_js_1$m.default(1)),w=(0,transactions_1$h.createTransaction)(this.accountId,b,e,y,t,v);return yield this.walletConnection.requestSignTransactions({transactions:[w],meta:n,callbackUrl:o}),new Promise((O,P)=>{setTimeout(()=>{P(new Error("Failed to redirect to sign transaction"))},1e3)})})}accessKeyMatchesTransaction(e,t,n){return __awaiter$17(this,void 0,void 0,function*(){const{access_key:{permission:o}}=e;if(o==="FullAccess")return!0;if(o.FunctionCall){const{receiver_id:c,method_names:a}=o.FunctionCall;if(c===this.accountId&&a.includes(MULTISIG_HAS_METHOD$4))return!0;if(c===t){if(n.length!==1)return!1;const[{functionCall:u}]=n;return u&&(!u.deposit||u.deposit.toString()==="0")&&(a.length===0||a.includes(u.methodName))}}return!1})}accessKeyForTransaction(e,t,n){return __awaiter$17(this,void 0,void 0,function*(){const o=yield this.getAccessKeys();if(n){const a=o.find(u=>u.public_key.toString()===n.toString());if(a&&(yield this.accessKeyMatchesTransaction(a,e,t)))return a}const c=this.walletConnection._authData.allKeys;for(const a of o)if(c.indexOf(a.public_key)!==-1&&(yield this.accessKeyMatchesTransaction(a,e,t)))return a;return null})}};wallet_account$3.ConnectedWalletAccount=ConnectedWalletAccount$3,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=void 0;var t=near$6;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}});var n=wallet_account$3;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return n.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return n.WalletConnection}})}(lib$x),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Near=void 0;var t=lib$x;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}})}(near$7);var walletAccount$3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=void 0;var t=lib$x;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return t.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return t.WalletConnection}})})(walletAccount$3),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(k,B,q,V){V===void 0&&(V=q);var ee=Object.getOwnPropertyDescriptor(B,q);(!ee||("get"in ee?!B.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return B[q]}}),Object.defineProperty(k,V,ee)}:function(k,B,q,V){V===void 0&&(V=q),k[V]=B[q]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(k,B){Object.defineProperty(k,"default",{enumerable:!0,value:B})}:function(k,B){k.default=B}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(k){if(k&&k.__esModule)return k;var B={};if(k!=null)for(var q in k)q!=="default"&&Object.prototype.hasOwnProperty.call(k,q)&&t(B,k,q);return n(B,k),B};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=e.KeyPair=e.Signer=e.InMemorySigner=e.Contract=e.Connection=e.Account=e.multisig=e.validators=e.transactions=e.utils=e.providers=e.accountCreator=void 0;const c=o(providers$3);e.providers=c;const a=o(utils$D);e.utils=a;const u=o(transaction$3);e.transactions=u;const h=o(validators$6);e.validators=h;const v=account$6;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return v.Account}});const b=o(account_multisig$6);e.multisig=b;const y=o(account_creator$6);e.accountCreator=y;const w=connection$6;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return w.Connection}});const O=signer$6;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return O.Signer}}),Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return O.InMemorySigner}});const P=contract$6;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return P.Contract}});const C=key_pair$6;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return C.KeyPair}});const x=near$7;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return x.Near}});const D=walletAccount$3;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return D.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return D.WalletConnection}})}(commonIndex$3);var browserConnect$3={},__awaiter$16=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(browserConnect$3,"__esModule",{value:!0}),browserConnect$3.connect=void 0;const near_1$3=near$7;function connect$3(e){return __awaiter$16(this,void 0,void 0,function*(){return new near_1$3.Near(e)})}browserConnect$3.connect=connect$3;var CapabilityDetector$1=function(){this.tests={},this.cache={}};CapabilityDetector$1.prototype={constructor:CapabilityDetector$1,define:function(e,t){if(typeof e!="string"||!(t instanceof Function))throw new Error("Invalid capability definition.");if(this.tests[e])throw new Error('Duplicated capability definition by "'+e+'".');this.tests[e]=t},check:function(e){if(!this.test(e))throw new Error('The current environment does not support "'+e+'", therefore we cannot continue.')},test:function(e){if(this.cache[e]!==void 0)return this.cache[e];if(!this.tests[e])throw new Error('Unknown capability with name "'+e+'".');var t=this.tests[e];return this.cache[e]=!!t(),this.cache[e]}};var CapabilityDetector_1=CapabilityDetector$1,CapabilityDetector=CapabilityDetector_1,detector=new CapabilityDetector,capability$3=function(e){return detector.test(e)};capability$3.define=function(e,t){detector.define(e,t)},capability$3.check=function(e){detector.check(e)},capability$3.test=capability$3;var lib$w=capability$3,capability$2=lib$w,define=capability$2.define,test$8=capability$2.test;define("strict mode",function(){return this===void 0}),define("arguments.callee.caller",function(){try{return function(){return arguments.callee.caller}()===arguments.callee}catch{return!1}}),define("es5",function(){return test$8("Array.prototype.forEach")&&test$8("Array.prototype.map")&&test$8("Function.prototype.bind")&&test$8("Object.create")&&test$8("Object.defineProperties")&&test$8("Object.defineProperty")&&test$8("Object.prototype.hasOwnProperty")}),define("Array.prototype.forEach",function(){return Array.prototype.forEach}),define("Array.prototype.map",function(){return Array.prototype.map}),define("Function.prototype.bind",function(){return Function.prototype.bind}),define("Object.create",function(){return Object.create}),define("Object.defineProperties",function(){return Object.defineProperties}),define("Object.defineProperty",function(){return Object.defineProperty}),define("Object.prototype.hasOwnProperty",function(){return Object.prototype.hasOwnProperty}),define("Error.captureStackTrace",function(){return Error.captureStackTrace}),define("Error.prototype.stack",function(){try{throw new Error}catch(e){return e.stack||e.stacktrace}});var capability$1=lib$w;capability$1.check("es5");var prepareStackTrace_1,hasRequiredPrepareStackTrace;function requirePrepareStackTrace(){if(hasRequiredPrepareStackTrace)return prepareStackTrace_1;hasRequiredPrepareStackTrace=1;var e=function(t,n,o){var c="";if(c+=t.name||"Error",c+=": "+(t.message||""),o instanceof Array)for(var a in o){var u=o[a];c+=`
   # `+u}for(var h in n){var v=n[h];c+=`
   at `+v.toString()}return c};return prepareStackTrace_1=e,prepareStackTrace_1}var v8$7,hasRequiredV8;function requireV8(){if(hasRequiredV8)return v8$7;hasRequiredV8=1;var e=requirePrepareStackTrace();return v8$7=function(){return Error.getStackTrace=function(t){return t.stack},{prepareStackTrace:e}},v8$7}var Class_1,hasRequiredClass;function requireClass(){if(hasRequiredClass)return Class_1;hasRequiredClass=1;var e=function(){var t=Object.create({Source:Object,config:{},buildArgs:[]});function n(v){var b="config";if(v instanceof Function)b="Source";else if(v instanceof Array)b="buildArgs";else if(v instanceof Object)b="config";else throw new Error("Invalid configuration option.");if(t.hasOwnProperty(b))throw new Error("Duplicated configuration option: "+b+".");t[b]=v}for(var o=0,c=arguments.length;o<c;++o)n(arguments[o]);var a=t.Source,u=t.config,h=t.buildArgs;return(a.extend||e.extend).call(a,u,h)};return e.factory=function(){return function(){var t=this;t.build instanceof Function&&t.build.apply(t,arguments),t.init instanceof Function&&t.init.apply(t,arguments)}},e.extend=function(t,n){var o=this;t||(t={});var c;return t.prototype instanceof Object&&t.prototype.constructor!==Object?c=t.prototype.constructor:t.factory instanceof Function&&(c=t.factory.call(o)),c=(o.clone||e.clone).call(o,c,n),(c.merge||e.merge).call(c,t),c},e.prototype.extend=function(t,n){var o=this,c=(o.clone||e.prototype.clone).apply(o,n);return(c.merge||e.prototype.merge).call(c,t),c},e.clone=function(t,n){var o=this;t instanceof Function||(t=(o.factory||e.factory).call(o)),t.prototype=(o.prototype.clone||e.prototype.clone).apply(o.prototype,n||[]),t.prototype.constructor=t;for(var c in o)c!=="prototype"&&(t[c]=o[c]);return t},e.prototype.clone=function(){var t=this,n=Object.create(t);return n.build instanceof Function&&n.build.apply(n,arguments),n},e.merge=function(t){var n=this;for(var o in t)o!=="prototype"&&(n[o]=t[o]);return t.prototype instanceof Object&&(n.prototype.merge||e.prototype.merge).call(n.prototype,t.prototype),n},e.prototype.merge=function(t){var n=this;for(var o in t)o!=="constructor"&&(n[o]=t[o]);return n},e.absorb=function(t){var n=this;for(var o in t)o!=="prototype"&&(n[o]===void 0||n[o]===Function.prototype[o])&&(n[o]=t[o]);return t.prototype instanceof Object&&(n.prototype.absorb||e.prototype.absorb).call(n.prototype,t.prototype),n},e.prototype.absorb=function(t){var n=this;for(var o in t)o!=="constructor"&&(n[o]===void 0||n[o]===Object.prototype[o])&&(n[o]=t[o]);return n},e.getAncestor=function(){var t=this;if(t!==t.prototype.constructor)return t.prototype.constructor},e.newInstance=function(){var t=this,n=Object.create(this.prototype);return t.apply(n,arguments),n},Class_1=e,Class_1}var abstractMethod,hasRequiredAbstractMethod;function requireAbstractMethod(){return hasRequiredAbstractMethod||(hasRequiredAbstractMethod=1,abstractMethod=function(){throw new Error("Not implemented.")}),abstractMethod}var lib$v,hasRequiredLib$1;function requireLib$1(){return hasRequiredLib$1||(hasRequiredLib$1=1,lib$v={Class:requireClass(),abstractMethod:requireAbstractMethod()}),lib$v}var o3,hasRequiredO3;function requireO3(){return hasRequiredO3||(hasRequiredO3=1,o3=requireLib$1()),o3}var cache_1,hasRequiredCache;function requireCache(){if(hasRequiredCache)return cache_1;hasRequiredCache=1;var e=function(t){var n=!1,o;return t instanceof Function||(n=!0,o=t,t=null),function(){return n||(n=!0,o=t.apply(this,arguments),t=null),o}};return cache_1=e,cache_1}var eachCombination,hasRequiredEachCombination;function requireEachCombination(){return hasRequiredEachCombination||(hasRequiredEachCombination=1,eachCombination=function e(t,n,o){if(o||(o=[]),o.length<t.length){var c=t[o.length];for(var a in c)o[o.length]=c[a],e(t,n,o),--o.length}else n.apply(null,o)}),eachCombination}var lib$u,hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,lib$u={cache:requireCache(),eachCombination:requireEachCombination()}),lib$u}var u3,hasRequiredU3;function requireU3(){return hasRequiredU3||(hasRequiredU3=1,u3=requireLib()),u3}var FrameStringSource,hasRequiredFrameStringSource;function requireFrameStringSource(){if(hasRequiredFrameStringSource)return FrameStringSource;hasRequiredFrameStringSource=1;var e=requireO3().Class,t=requireO3().abstractMethod,n=requireU3().eachCombination,o=requireU3().cache,c=capability$1,a=e(Object,{prototype:{captureFrameStrings:function(h){var v=this.createError();h.unshift(this.captureFrameStrings),h.unshift(this.createError);var b=this.getFrameStrings(v),y=b.slice(h.length),w=[];if(c("arguments.callee.caller")){var O=[this.createError,this.captureFrameStrings];try{for(var P=arguments.callee;P=P.caller;)O.push(P)}catch{}w=O.slice(h.length)}return{frameStrings:y,functionValues:w}},getFrameStrings:function(h){var v=h.message||"",b=h.name||"",y=this.getStackString(h);if(y!==void 0){var w=y.split(`
`),O=0,P=w.length;return this.hasHeader&&(O+=b.split(`
`).length+v.split(`
`).length-1),this.hasFooter&&(P-=1),w.slice(O,P)}},createError:t,getStackString:t,hasHeader:void 0,hasFooter:void 0}}),u=e(Object,{prototype:{calibrateClass:function(h){return this.calibrateMethods(h)&&this.calibrateEnvelope(h)},calibrateMethods:function(h){try{n([[function(v){return new Error(v)},function(v){try{throw new Error(v)}catch(b){return b}}],[function(v){return v.stack},function(v){return v.stacktrace}]],function(v,b){if(b(v()))throw{getStackString:b,createError:v}})}catch(v){return e.merge.call(h,{prototype:v}),!0}return!1},calibrateEnvelope:function(h){var v=h.prototype.getStackString,b=h.prototype.createError,y=v(b("marker")),w=y.split(`
`);return e.merge.call(h,{prototype:{hasHeader:/marker/.test(w[0]),hasFooter:w[w.length-1]===""}}),!0}}});return FrameStringSource={getClass:o(function(){var h;if(h)return h;h=e(a,{});var v=new u;if(!v.calibrateClass(h))throw new Error("Cannot read Error.prototype.stack in this environment.");return h}),getInstance:o(function(){var h=this.getClass(),v=new h;return v})},FrameStringSource}var Frame_1,hasRequiredFrame;function requireFrame(){if(hasRequiredFrame)return Frame_1;hasRequiredFrame=1;var e=requireO3().Class,t=requireO3().abstractMethod,n=e(Object,{prototype:{init:e.prototype.merge,frameString:void 0,toString:function(){return this.frameString},functionValue:void 0,getThis:t,getTypeName:t,getFunction:function(){return this.functionValue},getFunctionName:t,getMethodName:t,getFileName:t,getLineNumber:t,getColumnNumber:t,getEvalOrigin:t,isTopLevel:t,isEval:t,isNative:t,isConstructor:t}});return Frame_1=n,Frame_1}var FrameStringParser_1,hasRequiredFrameStringParser;function requireFrameStringParser(){if(hasRequiredFrameStringParser)return FrameStringParser_1;hasRequiredFrameStringParser=1;var e=requireO3().Class,t=requireFrame(),n=requireU3().cache,o=e(Object,{prototype:{stackParser:null,frameParser:null,locationParsers:null,constructor:function(c){e.prototype.merge.call(this,c)},getFrames:function(c,a){for(var u=[],h=0,v=c.length;h<v;++h)u[h]=this.getFrame(c[h],a[h]);return u},getFrame:function(c,a){var u={frameString:c,functionValue:a};return new t(u)}}});return FrameStringParser_1={getClass:n(function(){return o}),getInstance:n(function(){var c=this.getClass(),a=new c;return a})},FrameStringParser_1}var nonV8,hasRequiredNonV8;function requireNonV8(){if(hasRequiredNonV8)return nonV8;hasRequiredNonV8=1;var e=requireFrameStringSource(),t=requireFrameStringParser(),n=requireU3().cache,o=requirePrepareStackTrace();return nonV8=function(){return Error.captureStackTrace=function c(a,u){var h,v=[c];u&&v.push(u);var b=e.getInstance().captureFrameStrings(v);Object.defineProperties(a,{stack:{configurable:!0,get:n(function(){var y=t.getInstance().getFrames(b.frameStrings,b.functionValues);return(Error.prepareStackTrace||o)(a,y,h)})},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(c){if(c.cachedStack)return c.stack;var a=e.getInstance().getFrameStrings(c),u=[],h;a?u=t.getInstance().getFrames(a,[]):h=["The stack is not readable by unthrown errors in this environment."];var v=(Error.prepareStackTrace||o)(c,u,h);if(a)try{Object.defineProperties(c,{stack:{configurable:!0,writable:!0,enumerable:!1,value:v},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch{}return v},{prepareStackTrace:o}},nonV8}var unsupported,hasRequiredUnsupported;function requireUnsupported(){if(hasRequiredUnsupported)return unsupported;hasRequiredUnsupported=1;var e=requireU3().cache,t=requirePrepareStackTrace();return unsupported=function(){return Error.captureStackTrace=function(n,o){Object.defineProperties(n,{stack:{configurable:!0,get:e(function(){return(Error.prepareStackTrace||t)(n,[])})},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(n){if(n.cachedStack)return n.stack;var o=(Error.prepareStackTrace||t)(n,[]);try{Object.defineProperties(n,{stack:{configurable:!0,writable:!0,enumerable:!1,value:o},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch{}return o},{prepareStackTrace:t}},unsupported}var capability=capability$1,polyfill;capability("Error.captureStackTrace")?polyfill=requireV8():capability("Error.prototype.stack")?polyfill=requireNonV8():polyfill=requireUnsupported(),polyfill(),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(a,u,h,v){v===void 0&&(v=h);var b=Object.getOwnPropertyDescriptor(u,h);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(a,v,b)}:function(a,u,h,v){v===void 0&&(v=h),a[v]=u[h]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var h in a)h!=="default"&&Object.prototype.hasOwnProperty.call(a,h)&&t(u,a,h);return n(u,a),u},c=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(a,u){for(var h in a)h!=="default"&&!Object.prototype.hasOwnProperty.call(u,h)&&t(u,a,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.keyStores=void 0,e.keyStores=o(browserIndex$8),c(commonIndex$3,e),c(browserConnect$3,e)}(browserIndex$9);const browserIndex$7=getDefaultExportFromCjs$1(browserIndex$9),nearAPI$2=_mergeNamespaces({__proto__:null,default:browserIndex$7},[browserIndex$9]);var extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])},extendStatics(e,t)};function __extends$7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function __values(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),c,a=[],u;try{for(;(t===void 0||t-- >0)&&!(c=o.next()).done;)a.push(c.value)}catch(h){u={error:h}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(u)throw u.error}}return a}function __spreadArray(e,t,n){if(n||arguments.length===2)for(var o=0,c=t.length,a;o<c;o++)(a||!(o in t))&&(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;function isFunction(e){return typeof e=="function"}function createErrorClass(e){var t=function(o){Error.call(o),o.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var UnsubscriptionError=createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function arrRemove(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Subscription=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,o,c,a;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var h=__values(u),v=h.next();!v.done;v=h.next()){var b=v.value;b.remove(this)}}catch(x){t={error:x}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}else u.remove(this);var y=this.initialTeardown;if(isFunction(y))try{y()}catch(x){a=x instanceof UnsubscriptionError?x.errors:[x]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var O=__values(w),P=O.next();!P.done;P=O.next()){var C=P.value;try{execFinalizer(C)}catch(x){a=a??[],x instanceof UnsubscriptionError?a=__spreadArray(__spreadArray([],__read(a)),__read(x.errors)):a.push(x)}}}catch(x){o={error:x}}finally{try{P&&!P.done&&(c=O.return)&&c.call(O)}finally{if(o)throw o.error}}}if(a)throw new UnsubscriptionError(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)execFinalizer(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&arrRemove(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(e){return e instanceof Subscription||e&&"closed"in e&&isFunction(e.remove)&&isFunction(e.add)&&isFunction(e.unsubscribe)}function execFinalizer(e){isFunction(e)?e():e.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return setTimeout.apply(void 0,__spreadArray([e,t],__read(n)))},clearTimeout:function(e){var t=timeoutProvider.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function reportUnhandledError(e){timeoutProvider.setTimeout(function(){throw e})}function noop$4(){}function errorContext(e){e()}var Subscriber=function(e){__extends$7(t,e);function t(n){var o=e.call(this)||this;return o.isStopped=!1,n?(o.destination=n,isSubscription(n)&&n.add(o)):o.destination=EMPTY_OBSERVER,o}return t.create=function(n,o,c){return new SafeSubscriber(n,o,c)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Subscription),_bind=Function.prototype.bind;function bind$c(e,t){return _bind.call(e,t)}var ConsumerObserver=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(o){handleUnhandledError(o)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(o){handleUnhandledError(o)}else handleUnhandledError(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){handleUnhandledError(n)}},e}(),SafeSubscriber=function(e){__extends$7(t,e);function t(n,o,c){var a=e.call(this)||this,u;if(isFunction(n)||!n)u={next:n??void 0,error:o??void 0,complete:c??void 0};else{var h;a&&config.useDeprecatedNextContext?(h=Object.create(n),h.unsubscribe=function(){return a.unsubscribe()},u={next:n.next&&bind$c(n.next,h),error:n.error&&bind$c(n.error,h),complete:n.complete&&bind$c(n.complete,h)}):u=n}return a.destination=new ConsumerObserver(u),a}return t}(Subscriber);function handleUnhandledError(e){reportUnhandledError(e)}function defaultErrorHandler(e){throw e}var EMPTY_OBSERVER={closed:!0,next:noop$4,error:defaultErrorHandler,complete:noop$4},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(e){return e}function pipeFromArray(e){return e.length===0?identity:e.length===1?e[0]:function(t){return e.reduce(function(n,o){return o(n)},t)}}var Observable=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,o){var c=this,a=isSubscriber(t)?t:new SafeSubscriber(t,n,o);return errorContext(function(){var u=c,h=u.operator,v=u.source;a.add(h?h.call(a,v):v?c._subscribe(a):c._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var o=this;return n=getPromiseCtor(n),new n(function(c,a){var u=new SafeSubscriber({next:function(h){try{t(h)}catch(v){a(v),u.unsubscribe()}},error:a,complete:c});o.subscribe(u)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=getPromiseCtor(t),new t(function(o,c){var a;n.subscribe(function(u){return a=u},function(u){return c(u)},function(){return o(a)})})},e.create=function(t){return new e(t)},e}();function getPromiseCtor(e){var t;return(t=e??config.Promise)!==null&&t!==void 0?t:Promise}function isObserver(e){return e&&isFunction(e.next)&&isFunction(e.error)&&isFunction(e.complete)}function isSubscriber(e){return e&&e instanceof Subscriber||isObserver(e)&&isSubscription(e)}function hasLift(e){return isFunction(e==null?void 0:e.lift)}function operate(e){return function(t){if(hasLift(t))return t.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(e,t,n,o,c){return new OperatorSubscriber(e,t,n,o,c)}var OperatorSubscriber=function(e){__extends$7(t,e);function t(n,o,c,a,u,h){var v=e.call(this,n)||this;return v.onFinalize=u,v.shouldUnsubscribe=h,v._next=o?function(b){try{o(b)}catch(y){n.error(y)}}:e.prototype._next,v._error=a?function(b){try{a(b)}catch(y){n.error(y)}finally{this.unsubscribe()}}:e.prototype._error,v._complete=c?function(){try{c()}catch(b){n.error(b)}finally{this.unsubscribe()}}:e.prototype._complete,v}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;e.prototype.unsubscribe.call(this),!o&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(e){__extends$7(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var o=new AnonymousSubject(this,this);return o.operator=n,o},t.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},t.prototype.next=function(n){var o=this;errorContext(function(){var c,a;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var u=__values(o.currentObservers),h=u.next();!h.done;h=u.next()){var v=h.value;v.next(n)}}catch(b){c={error:b}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(c)throw c.error}}}})},t.prototype.error=function(n){var o=this;errorContext(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=n;for(var c=o.observers;c.length;)c.shift().error(n)}})},t.prototype.complete=function(){var n=this;errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var o=n.observers;o.length;)o.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var o=this,c=this,a=c.hasError,u=c.isStopped,h=c.observers;return a||u?EMPTY_SUBSCRIPTION:(this.currentObservers=null,h.push(n),new Subscription(function(){o.currentObservers=null,arrRemove(h,n)}))},t.prototype._checkFinalizedStatuses=function(n){var o=this,c=o.hasError,a=o.thrownError,u=o.isStopped;c?n.error(a):u&&n.complete()},t.prototype.asObservable=function(){var n=new Observable;return n.source=this,n},t.create=function(n,o){return new AnonymousSubject(n,o)},t}(Observable),AnonymousSubject=function(e){__extends$7(t,e);function t(n,o){var c=e.call(this)||this;return c.destination=n,c.source=o,c}return t.prototype.next=function(n){var o,c;(c=(o=this.destination)===null||o===void 0?void 0:o.next)===null||c===void 0||c.call(o,n)},t.prototype.error=function(n){var o,c;(c=(o=this.destination)===null||o===void 0?void 0:o.error)===null||c===void 0||c.call(o,n)},t.prototype.complete=function(){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||o===void 0||o.call(n)},t.prototype._subscribe=function(n){var o,c;return(c=(o=this.source)===null||o===void 0?void 0:o.subscribe(n))!==null&&c!==void 0?c:EMPTY_SUBSCRIPTION},t}(Subject),BehaviorSubject=function(e){__extends$7(t,e);function t(n){var o=e.call(this)||this;return o._value=n,o}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var o=e.prototype._subscribe.call(this,n);return!o.closed&&n.next(this._value),o},t.prototype.getValue=function(){var n=this,o=n.hasError,c=n.thrownError,a=n._value;if(o)throw c;return this._throwIfClosed(),a},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Subject);function scanInternals(e,t,n,o,c){return function(a,u){var h=n,v=t,b=0;a.subscribe(createOperatorSubscriber(u,function(y){var w=b++;v=h?e(v,y,w):(h=!0,y),u.next(v)},c))}}function scan(e,t){return operate(scanInternals(e,t,arguments.length>=2,!0))}function __awaiter$15(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;let Provider$3=class{constructor(e){this.provider=new browserIndex$9.providers.JsonRpcProvider({url:e})}query(e){return this.provider.query(e)}viewAccessKey({accountId:e,publicKey:t}){return this.query({request_type:"view_access_key",finality:"final",account_id:e,public_key:t})}block(e){return this.provider.block(e)}sendTransaction(e){return this.provider.sendTransaction(e)}};const KEY_DELIMITER=":";class JsonStorage{constructor(t,n){this.storage=t,this.namespace=Array.isArray(n)?n.join(KEY_DELIMITER):n}resolveKey(t){return[this.namespace,t].join(KEY_DELIMITER)}getItem(t){return this.storage.getItem(this.resolveKey(t)).then(n=>typeof n=="string"?JSON.parse(n):null)}setItem(t,n){return this.storage.setItem(this.resolveKey(t),JSON.stringify(n))}removeItem(t){return this.storage.removeItem(this.resolveKey(t))}}var commonjsGlobal$6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$u<"u"?global$u:typeof self<"u"?self:{},check$6=function(e){return e&&e.Math==Math&&e},global$t=check$6(typeof globalThis=="object"&&globalThis)||check$6(typeof window=="object"&&window)||check$6(typeof self=="object"&&self)||check$6(typeof commonjsGlobal$6=="object"&&commonjsGlobal$6)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor$6={},fails$s=function(e){try{return!!e()}catch{return!0}},fails$r=fails$s,descriptors$6=!fails$r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),fails$q=fails$s,functionBindNative$5=!fails$q(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$3$3=functionBindNative$5,call$l$1=Function.prototype.call,functionCall$k=NATIVE_BIND$3$3?call$l$1.bind(call$l$1):function(){return call$l$1.apply(call$l$1,arguments)},objectPropertyIsEnumerable$6={},$propertyIsEnumerable$5={}.propertyIsEnumerable,getOwnPropertyDescriptor$2$4=Object.getOwnPropertyDescriptor,NASHORN_BUG$6=getOwnPropertyDescriptor$2$4&&!$propertyIsEnumerable$5.call({1:2},1);objectPropertyIsEnumerable$6.f=NASHORN_BUG$6?function e(t){var n=getOwnPropertyDescriptor$2$4(this,t);return!!n&&n.enumerable}:$propertyIsEnumerable$5;var createPropertyDescriptor$5$2=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},NATIVE_BIND$2$3=functionBindNative$5,FunctionPrototype$2$3=Function.prototype,bind$7$2=FunctionPrototype$2$3.bind,call$k$1=FunctionPrototype$2$3.call,uncurryThis$p=NATIVE_BIND$2$3&&bind$7$2.bind(call$k$1,call$k$1),functionUncurryThis$5=NATIVE_BIND$2$3?function(e){return e&&uncurryThis$p(e)}:function(e){return e&&function(){return call$k$1.apply(e,arguments)}},uncurryThis$o$1=functionUncurryThis$5,toString$7$1=uncurryThis$o$1({}.toString),stringSlice$3$2=uncurryThis$o$1("".slice),classofRaw$1$6=function(e){return stringSlice$3$2(toString$7$1(e),8,-1)},uncurryThis$n$1=functionUncurryThis$5,fails$p=fails$s,classof$b$1=classofRaw$1$6,$Object$4$3=Object,split$7=uncurryThis$n$1("".split),indexedObject$6=fails$p(function(){return!$Object$4$3("z").propertyIsEnumerable(0)})?function(e){return classof$b$1(e)=="String"?split$7(e,""):$Object$4$3(e)}:$Object$4$3,$TypeError$f$1=TypeError,requireObjectCoercible$6$1=function(e){if(e==null)throw $TypeError$f$1("Can't call method on "+e);return e},IndexedObject$3$1=indexedObject$6,requireObjectCoercible$5$1=requireObjectCoercible$6$1,toIndexedObject$6$1=function(e){return IndexedObject$3$1(requireObjectCoercible$5$1(e))},isCallable$n$1=function(e){return typeof e=="function"},isCallable$m$1=isCallable$n$1,isObject$d$1=function(e){return typeof e=="object"?e!==null:isCallable$m$1(e)},global$s=global$t,isCallable$l$1=isCallable$n$1,aFunction$a=function(e){return isCallable$l$1(e)?e:void 0},getBuiltIn$8$3=function(e,t){return arguments.length<2?aFunction$a(global$s[e]):global$s[e]&&global$s[e][t]},uncurryThis$m$1=functionUncurryThis$5,objectIsPrototypeOf$5=uncurryThis$m$1({}.isPrototypeOf),getBuiltIn$7$3=getBuiltIn$8$3,engineUserAgent$6=getBuiltIn$7$3("navigator","userAgent")||"",global$r=global$t,userAgent$5$1=engineUserAgent$6,process$3$4=global$r.process,Deno$1$3=global$r.Deno,versions$6=process$3$4&&process$3$4.versions||Deno$1$3&&Deno$1$3.version,v8$6=versions$6&&versions$6.v8,match$6,version$7;v8$6&&(match$6=v8$6.split("."),version$7=match$6[0]>0&&match$6[0]<4?1:+(match$6[0]+match$6[1])),!version$7&&userAgent$5$1&&(match$6=userAgent$5$1.match(/Edge\/(\d+)/),(!match$6||match$6[1]>=74)&&(match$6=userAgent$5$1.match(/Chrome\/(\d+)/),match$6&&(version$7=+match$6[1])));var engineV8Version$6=version$7,V8_VERSION$1$3=engineV8Version$6,fails$o=fails$s,nativeSymbol$6=!!Object.getOwnPropertySymbols&&!fails$o(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1$3&&V8_VERSION$1$3<41}),NATIVE_SYMBOL$1$6=nativeSymbol$6,useSymbolAsUid$6=NATIVE_SYMBOL$1$6&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$6$3=getBuiltIn$8$3,isCallable$k$3=isCallable$n$1,isPrototypeOf$4$1=objectIsPrototypeOf$5,USE_SYMBOL_AS_UID$1$5=useSymbolAsUid$6,$Object$3$5=Object,isSymbol$3$1=USE_SYMBOL_AS_UID$1$5?function(e){return typeof e=="symbol"}:function(e){var t=getBuiltIn$6$3("Symbol");return isCallable$k$3(t)&&isPrototypeOf$4$1(t.prototype,$Object$3$5(e))},$String$3$3=String,tryToString$5$1=function(e){try{return $String$3$3(e)}catch{return"Object"}},isCallable$j$3=isCallable$n$1,tryToString$4$3=tryToString$5$1,$TypeError$e$1=TypeError,aCallable$9$1=function(e){if(isCallable$j$3(e))return e;throw $TypeError$e$1(tryToString$4$3(e)+" is not a function")},aCallable$8$1=aCallable$9$1,getMethod$4$2=function(e,t){var n=e[t];return n==null?void 0:aCallable$8$1(n)},call$j$1=functionCall$k,isCallable$i$3=isCallable$n$1,isObject$c$1=isObject$d$1,$TypeError$d$1=TypeError,ordinaryToPrimitive$1$5=function(e,t){var n,o;if(t==="string"&&isCallable$i$3(n=e.toString)&&!isObject$c$1(o=call$j$1(n,e))||isCallable$i$3(n=e.valueOf)&&!isObject$c$1(o=call$j$1(n,e))||t!=="string"&&isCallable$i$3(n=e.toString)&&!isObject$c$1(o=call$j$1(n,e)))return o;throw $TypeError$d$1("Can't convert object to primitive value")},shared$4$2={exports:{}},global$q=global$t,defineProperty$7$1=Object.defineProperty,defineGlobalProperty$3$5=function(e,t){try{defineProperty$7$1(global$q,e,{value:t,configurable:!0,writable:!0})}catch{global$q[e]=t}return t},global$p=global$t,defineGlobalProperty$2$5=defineGlobalProperty$3$5,SHARED$6="__core-js_shared__",store$3$6=global$p[SHARED$6]||defineGlobalProperty$2$5(SHARED$6,{}),sharedStore$6=store$3$6,store$2$6=sharedStore$6;(shared$4$2.exports=function(e,t){return store$2$6[e]||(store$2$6[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var requireObjectCoercible$4$2=requireObjectCoercible$6$1,$Object$2$5=Object,toObject$7$1=function(e){return $Object$2$5(requireObjectCoercible$4$2(e))},uncurryThis$l$1=functionUncurryThis$5,toObject$6$1=toObject$7$1,hasOwnProperty$6=uncurryThis$l$1({}.hasOwnProperty),hasOwnProperty_1$5=Object.hasOwn||function e(t,n){return hasOwnProperty$6(toObject$6$1(t),n)},uncurryThis$k$2=functionUncurryThis$5,id$8=0,postfix$6=Math.random(),toString$6$2=uncurryThis$k$2(1 .toString),uid$3$1=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$6$2(++id$8+postfix$6,36)},global$o$1=global$t,shared$3$5=shared$4$2.exports,hasOwn$b$2=hasOwnProperty_1$5,uid$2$6=uid$3$1,NATIVE_SYMBOL$8=nativeSymbol$6,USE_SYMBOL_AS_UID$7=useSymbolAsUid$6,WellKnownSymbolsStore$6=shared$3$5("wks"),Symbol$1$6=global$o$1.Symbol,symbolFor$5=Symbol$1$6&&Symbol$1$6.for,createWellKnownSymbol$6=USE_SYMBOL_AS_UID$7?Symbol$1$6:Symbol$1$6&&Symbol$1$6.withoutSetter||uid$2$6,wellKnownSymbol$j$1=function(e){if(!hasOwn$b$2(WellKnownSymbolsStore$6,e)||!(NATIVE_SYMBOL$8||typeof WellKnownSymbolsStore$6[e]=="string")){var t="Symbol."+e;NATIVE_SYMBOL$8&&hasOwn$b$2(Symbol$1$6,e)?WellKnownSymbolsStore$6[e]=Symbol$1$6[e]:USE_SYMBOL_AS_UID$7&&symbolFor$5?WellKnownSymbolsStore$6[e]=symbolFor$5(t):WellKnownSymbolsStore$6[e]=createWellKnownSymbol$6(t)}return WellKnownSymbolsStore$6[e]},call$i$1=functionCall$k,isObject$b$1=isObject$d$1,isSymbol$2$5=isSymbol$3$1,getMethod$3$3=getMethod$4$2,ordinaryToPrimitive$6=ordinaryToPrimitive$1$5,wellKnownSymbol$i$1=wellKnownSymbol$j$1,$TypeError$c$2=TypeError,TO_PRIMITIVE$5=wellKnownSymbol$i$1("toPrimitive"),toPrimitive$2$2=function(e,t){if(!isObject$b$1(e)||isSymbol$2$5(e))return e;var n=getMethod$3$3(e,TO_PRIMITIVE$5),o;if(n){if(t===void 0&&(t="default"),o=call$i$1(n,e,t),!isObject$b$1(o)||isSymbol$2$5(o))return o;throw $TypeError$c$2("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive$6(e,t)},toPrimitive$1$6=toPrimitive$2$2,isSymbol$1$5=isSymbol$3$1,toPropertyKey$4$1=function(e){var t=toPrimitive$1$6(e,"string");return isSymbol$1$5(t)?t:t+""},global$n$1=global$t,isObject$a$1=isObject$d$1,document$3$3=global$n$1.document,EXISTS$1$5=isObject$a$1(document$3$3)&&isObject$a$1(document$3$3.createElement),documentCreateElement$2$3=function(e){return EXISTS$1$5?document$3$3.createElement(e):{}},DESCRIPTORS$d$1=descriptors$6,fails$n=fails$s,createElement$1$4=documentCreateElement$2$3,ie8DomDefine$6=!DESCRIPTORS$d$1&&!fails$n(function(){return Object.defineProperty(createElement$1$4("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$c$2=descriptors$6,call$h$1=functionCall$k,propertyIsEnumerableModule$1$3=objectPropertyIsEnumerable$6,createPropertyDescriptor$4$2=createPropertyDescriptor$5$2,toIndexedObject$5$3=toIndexedObject$6$1,toPropertyKey$3$2=toPropertyKey$4$1,hasOwn$a$3=hasOwnProperty_1$5,IE8_DOM_DEFINE$1$6=ie8DomDefine$6,$getOwnPropertyDescriptor$1$5=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$6.f=DESCRIPTORS$c$2?$getOwnPropertyDescriptor$1$5:function e(t,n){if(t=toIndexedObject$5$3(t),n=toPropertyKey$3$2(n),IE8_DOM_DEFINE$1$6)try{return $getOwnPropertyDescriptor$1$5(t,n)}catch{}if(hasOwn$a$3(t,n))return createPropertyDescriptor$4$2(!call$h$1(propertyIsEnumerableModule$1$3.f,t,n),t[n])};var objectDefineProperty$6={},DESCRIPTORS$b$2=descriptors$6,fails$m$1=fails$s,v8PrototypeDefineBug$5=DESCRIPTORS$b$2&&fails$m$1(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),isObject$9$1=isObject$d$1,$String$2$5=String,$TypeError$b$3=TypeError,anObject$e$2=function(e){if(isObject$9$1(e))return e;throw $TypeError$b$3($String$2$5(e)+" is not an object")},DESCRIPTORS$a$2=descriptors$6,IE8_DOM_DEFINE$7=ie8DomDefine$6,V8_PROTOTYPE_DEFINE_BUG$1$3=v8PrototypeDefineBug$5,anObject$d$2=anObject$e$2,toPropertyKey$2$5=toPropertyKey$4$1,$TypeError$a$3=TypeError,$defineProperty$5=Object.defineProperty,$getOwnPropertyDescriptor$6=Object.getOwnPropertyDescriptor,ENUMERABLE$5="enumerable",CONFIGURABLE$1$5="configurable",WRITABLE$5="writable";objectDefineProperty$6.f=DESCRIPTORS$a$2?V8_PROTOTYPE_DEFINE_BUG$1$3?function e(t,n,o){if(anObject$d$2(t),n=toPropertyKey$2$5(n),anObject$d$2(o),typeof t=="function"&&n==="prototype"&&"value"in o&&WRITABLE$5 in o&&!o[WRITABLE$5]){var c=$getOwnPropertyDescriptor$6(t,n);c&&c[WRITABLE$5]&&(t[n]=o.value,o={configurable:CONFIGURABLE$1$5 in o?o[CONFIGURABLE$1$5]:c[CONFIGURABLE$1$5],enumerable:ENUMERABLE$5 in o?o[ENUMERABLE$5]:c[ENUMERABLE$5],writable:!1})}return $defineProperty$5(t,n,o)}:$defineProperty$5:function e(t,n,o){if(anObject$d$2(t),n=toPropertyKey$2$5(n),anObject$d$2(o),IE8_DOM_DEFINE$7)try{return $defineProperty$5(t,n,o)}catch{}if("get"in o||"set"in o)throw $TypeError$a$3("Accessors not supported");return"value"in o&&(t[n]=o.value),t};var DESCRIPTORS$9$3=descriptors$6,definePropertyModule$6$1=objectDefineProperty$6,createPropertyDescriptor$3$4=createPropertyDescriptor$5$2,createNonEnumerableProperty$8$1=DESCRIPTORS$9$3?function(e,t,n){return definePropertyModule$6$1.f(e,t,createPropertyDescriptor$3$4(1,n))}:function(e,t,n){return e[t]=n,e},makeBuiltIn$2$5={exports:{}},DESCRIPTORS$8$3=descriptors$6,hasOwn$9$3=hasOwnProperty_1$5,FunctionPrototype$1$5=Function.prototype,getDescriptor$5=DESCRIPTORS$8$3&&Object.getOwnPropertyDescriptor,EXISTS$7=hasOwn$9$3(FunctionPrototype$1$5,"name"),PROPER$5=EXISTS$7&&(function e(){}).name==="something",CONFIGURABLE$6=EXISTS$7&&(!DESCRIPTORS$8$3||DESCRIPTORS$8$3&&getDescriptor$5(FunctionPrototype$1$5,"name").configurable),functionName$5={EXISTS:EXISTS$7,PROPER:PROPER$5,CONFIGURABLE:CONFIGURABLE$6},uncurryThis$j$2=functionUncurryThis$5,isCallable$h$3=isCallable$n$1,store$1$6=sharedStore$6,functionToString$6=uncurryThis$j$2(Function.toString);isCallable$h$3(store$1$6.inspectSource)||(store$1$6.inspectSource=function(e){return functionToString$6(e)});var inspectSource$4$3=store$1$6.inspectSource,global$m$1=global$t,isCallable$g$3=isCallable$n$1,inspectSource$3$4=inspectSource$4$3,WeakMap$1$6=global$m$1.WeakMap,nativeWeakMap$6=isCallable$g$3(WeakMap$1$6)&&/native code/.test(inspectSource$3$4(WeakMap$1$6)),shared$2$6=shared$4$2.exports,uid$1$6=uid$3$1,keys$1$1=shared$2$6("keys"),sharedKey$3$4=function(e){return keys$1$1[e]||(keys$1$1[e]=uid$1$6(e))},hiddenKeys$4$4={},NATIVE_WEAK_MAP$6=nativeWeakMap$6,global$l$1=global$t,uncurryThis$i$2=functionUncurryThis$5,isObject$8$2=isObject$d$1,createNonEnumerableProperty$7$1=createNonEnumerableProperty$8$1,hasOwn$8$3=hasOwnProperty_1$5,shared$1$6=sharedStore$6,sharedKey$2$4=sharedKey$3$4,hiddenKeys$3$6=hiddenKeys$4$4,OBJECT_ALREADY_INITIALIZED$5="Object already initialized",TypeError$3$1=global$l$1.TypeError,WeakMap$8=global$l$1.WeakMap,set$2$1,get$1$1,has$e,enforce$6=function(e){return has$e(e)?get$1$1(e):set$2$1(e,{})},getterFor$6=function(e){return function(t){var n;if(!isObject$8$2(t)||(n=get$1$1(t)).type!==e)throw TypeError$3$1("Incompatible receiver, "+e+" required");return n}};if(NATIVE_WEAK_MAP$6||shared$1$6.state){var store$9=shared$1$6.state||(shared$1$6.state=new WeakMap$8),wmget$6=uncurryThis$i$2(store$9.get),wmhas$6=uncurryThis$i$2(store$9.has),wmset$6=uncurryThis$i$2(store$9.set);set$2$1=function(e,t){if(wmhas$6(store$9,e))throw new TypeError$3$1(OBJECT_ALREADY_INITIALIZED$5);return t.facade=e,wmset$6(store$9,e,t),t},get$1$1=function(e){return wmget$6(store$9,e)||{}},has$e=function(e){return wmhas$6(store$9,e)}}else{var STATE$6=sharedKey$2$4("state");hiddenKeys$3$6[STATE$6]=!0,set$2$1=function(e,t){if(hasOwn$8$3(e,STATE$6))throw new TypeError$3$1(OBJECT_ALREADY_INITIALIZED$5);return t.facade=e,createNonEnumerableProperty$7$1(e,STATE$6,t),t},get$1$1=function(e){return hasOwn$8$3(e,STATE$6)?e[STATE$6]:{}},has$e=function(e){return hasOwn$8$3(e,STATE$6)}}var internalState$6={set:set$2$1,get:get$1$1,has:has$e,enforce:enforce$6,getterFor:getterFor$6},fails$l$1=fails$s,isCallable$f$3=isCallable$n$1,hasOwn$7$5=hasOwnProperty_1$5,DESCRIPTORS$7$5=descriptors$6,CONFIGURABLE_FUNCTION_NAME$2$1=functionName$5.CONFIGURABLE,inspectSource$2$6=inspectSource$4$3,InternalStateModule$5$1=internalState$6,enforceInternalState$2$1=InternalStateModule$5$1.enforce,getInternalState$5$1=InternalStateModule$5$1.get,defineProperty$6$2=Object.defineProperty,CONFIGURABLE_LENGTH$5=DESCRIPTORS$7$5&&!fails$l$1(function(){return defineProperty$6$2(function(){},"length",{value:8}).length!==8}),TEMPLATE$6=String(String).split("String"),makeBuiltIn$1$5=makeBuiltIn$2$5.exports=function(e,t,n){String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!hasOwn$7$5(e,"name")||CONFIGURABLE_FUNCTION_NAME$2$1&&e.name!==t)&&(DESCRIPTORS$7$5?defineProperty$6$2(e,"name",{value:t,configurable:!0}):e.name=t),CONFIGURABLE_LENGTH$5&&n&&hasOwn$7$5(n,"arity")&&e.length!==n.arity&&defineProperty$6$2(e,"length",{value:n.arity});try{n&&hasOwn$7$5(n,"constructor")&&n.constructor?DESCRIPTORS$7$5&&defineProperty$6$2(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var o=enforceInternalState$2$1(e);return hasOwn$7$5(o,"source")||(o.source=TEMPLATE$6.join(typeof t=="string"?t:"")),e};Function.prototype.toString=makeBuiltIn$1$5(function e(){return isCallable$f$3(this)&&getInternalState$5$1(this).source||inspectSource$2$6(this)},"toString");var isCallable$e$3=isCallable$n$1,definePropertyModule$5$2=objectDefineProperty$6,makeBuiltIn$7=makeBuiltIn$2$5.exports,defineGlobalProperty$1$5=defineGlobalProperty$3$5,defineBuiltIn$8$1=function(e,t,n,o){o||(o={});var c=o.enumerable,a=o.name!==void 0?o.name:t;if(isCallable$e$3(n)&&makeBuiltIn$7(n,a,o),o.global)c?e[t]=n:defineGlobalProperty$1$5(t,n);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch{}c?e[t]=n:definePropertyModule$5$2.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e},objectGetOwnPropertyNames$6={},ceil$6=Math.ceil,floor$3$2=Math.floor,mathTrunc$5=Math.trunc||function e(t){var n=+t;return(n>0?floor$3$2:ceil$6)(n)},trunc$5=mathTrunc$5,toIntegerOrInfinity$6$1=function(e){var t=+e;return t!==t||t===0?0:trunc$5(t)},toIntegerOrInfinity$5$1=toIntegerOrInfinity$6$1,max$1$2=Math.max,min$2$2=Math.min,toAbsoluteIndex$4$1=function(e,t){var n=toIntegerOrInfinity$5$1(e);return n<0?max$1$2(n+t,0):min$2$2(n,t)},toIntegerOrInfinity$4$2=toIntegerOrInfinity$6$1,min$1$6=Math.min,toLength$6$1=function(e){return e>0?min$1$6(toIntegerOrInfinity$4$2(e),9007199254740991):0},toLength$5$1=toLength$6$1,lengthOfArrayLike$8$1=function(e){return toLength$5$1(e.length)},toIndexedObject$4$4=toIndexedObject$6$1,toAbsoluteIndex$3$1=toAbsoluteIndex$4$1,lengthOfArrayLike$7$1=lengthOfArrayLike$8$1,createMethod$4$1=function(e){return function(t,n,o){var c=toIndexedObject$4$4(t),a=lengthOfArrayLike$7$1(c),u=toAbsoluteIndex$3$1(o,a),h;if(e&&n!=n){for(;a>u;)if(h=c[u++],h!=h)return!0}else for(;a>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}},arrayIncludes$6={includes:createMethod$4$1(!0),indexOf:createMethod$4$1(!1)},uncurryThis$h$2=functionUncurryThis$5,hasOwn$6$5=hasOwnProperty_1$5,toIndexedObject$3$6=toIndexedObject$6$1,indexOf$1$2=arrayIncludes$6.indexOf,hiddenKeys$2$6=hiddenKeys$4$4,push$2$2=uncurryThis$h$2([].push),objectKeysInternal$6=function(e,t){var n=toIndexedObject$3$6(e),o=0,c=[],a;for(a in n)!hasOwn$6$5(hiddenKeys$2$6,a)&&hasOwn$6$5(n,a)&&push$2$2(c,a);for(;t.length>o;)hasOwn$6$5(n,a=t[o++])&&(~indexOf$1$2(c,a)||push$2$2(c,a));return c},enumBugKeys$3$4=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$6=objectKeysInternal$6,enumBugKeys$2$6=enumBugKeys$3$4,hiddenKeys$1$6=enumBugKeys$2$6.concat("length","prototype");objectGetOwnPropertyNames$6.f=Object.getOwnPropertyNames||function e(t){return internalObjectKeys$1$6(t,hiddenKeys$1$6)};var objectGetOwnPropertySymbols$6={};objectGetOwnPropertySymbols$6.f=Object.getOwnPropertySymbols;var getBuiltIn$5$4=getBuiltIn$8$3,uncurryThis$g$2=functionUncurryThis$5,getOwnPropertyNamesModule$6=objectGetOwnPropertyNames$6,getOwnPropertySymbolsModule$1$3=objectGetOwnPropertySymbols$6,anObject$c$3=anObject$e$2,concat$1$3=uncurryThis$g$2([].concat),ownKeys$1$6=getBuiltIn$5$4("Reflect","ownKeys")||function e(t){var n=getOwnPropertyNamesModule$6.f(anObject$c$3(t)),o=getOwnPropertySymbolsModule$1$3.f;return o?concat$1$3(n,o(t)):n},hasOwn$5$5=hasOwnProperty_1$5,ownKeys$7=ownKeys$1$6,getOwnPropertyDescriptorModule$1$1=objectGetOwnPropertyDescriptor$6,definePropertyModule$4$4=objectDefineProperty$6,copyConstructorProperties$1$6=function(e,t,n){for(var o=ownKeys$7(t),c=definePropertyModule$4$4.f,a=getOwnPropertyDescriptorModule$1$1.f,u=0;u<o.length;u++){var h=o[u];!hasOwn$5$5(e,h)&&!(n&&hasOwn$5$5(n,h))&&c(e,h,a(t,h))}},fails$k$1=fails$s,isCallable$d$3=isCallable$n$1,replacement$6=/#|\.prototype\./,isForced$2$4=function(e,t){var n=data$6[normalize$6(e)];return n==POLYFILL$6?!0:n==NATIVE$6?!1:isCallable$d$3(t)?fails$k$1(t):!!t},normalize$6=isForced$2$4.normalize=function(e){return String(e).replace(replacement$6,".").toLowerCase()},data$6=isForced$2$4.data={},NATIVE$6=isForced$2$4.NATIVE="N",POLYFILL$6=isForced$2$4.POLYFILL="P",isForced_1$6=isForced$2$4,global$k$2=global$t,getOwnPropertyDescriptor$1$6=objectGetOwnPropertyDescriptor$6.f,createNonEnumerableProperty$6$1=createNonEnumerableProperty$8$1,defineBuiltIn$7$1=defineBuiltIn$8$1,defineGlobalProperty$8=defineGlobalProperty$3$5,copyConstructorProperties$8=copyConstructorProperties$1$6,isForced$1$6=isForced_1$6,_export$6=function(e,t){var n=e.target,o=e.global,c=e.stat,a,u,h,v,b,y;if(o?u=global$k$2:c?u=global$k$2[n]||defineGlobalProperty$8(n,{}):u=(global$k$2[n]||{}).prototype,u)for(h in t){if(b=t[h],e.dontCallGetSet?(y=getOwnPropertyDescriptor$1$6(u,h),v=y&&y.value):v=u[h],a=isForced$1$6(o?h:n+(c?".":"#")+h,e.forced),!a&&v!==void 0){if(typeof b==typeof v)continue;copyConstructorProperties$8(b,v)}(e.sham||v&&v.sham)&&createNonEnumerableProperty$6$1(b,"sham",!0),defineBuiltIn$7$1(u,h,b,e)}},classof$a$1=classofRaw$1$6,global$j$3=global$t,engineIsNode$3=classof$a$1(global$j$3.process)=="process",isCallable$c$3=isCallable$n$1,$String$1$5=String,$TypeError$9$3=TypeError,aPossiblePrototype$1$4=function(e){if(typeof e=="object"||isCallable$c$3(e))return e;throw $TypeError$9$3("Can't set "+$String$1$5(e)+" as a prototype")},uncurryThis$f$2=functionUncurryThis$5,anObject$b$4=anObject$e$2,aPossiblePrototype$5=aPossiblePrototype$1$4,objectSetPrototypeOf$4=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=uncurryThis$f$2(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),n(t,[]),e=t instanceof Array}catch{}return function(o,c){return anObject$b$4(o),aPossiblePrototype$5(c),e?n(o,c):o.__proto__=c,o}}():void 0),defineProperty$5$2=objectDefineProperty$6.f,hasOwn$4$5=hasOwnProperty_1$5,wellKnownSymbol$h$1=wellKnownSymbol$j$1,TO_STRING_TAG$4$1=wellKnownSymbol$h$1("toStringTag"),setToStringTag$4$2=function(e,t,n){e&&!n&&(e=e.prototype),e&&!hasOwn$4$5(e,TO_STRING_TAG$4$1)&&defineProperty$5$2(e,TO_STRING_TAG$4$1,{configurable:!0,value:t})},getBuiltIn$4$4=getBuiltIn$8$3,definePropertyModule$3$4=objectDefineProperty$6,wellKnownSymbol$g$2=wellKnownSymbol$j$1,DESCRIPTORS$6$5=descriptors$6,SPECIES$4$1=wellKnownSymbol$g$2("species"),setSpecies$2$1=function(e){var t=getBuiltIn$4$4(e),n=definePropertyModule$3$4.f;DESCRIPTORS$6$5&&t&&!t[SPECIES$4$1]&&n(t,SPECIES$4$1,{configurable:!0,get:function(){return this}})},isPrototypeOf$3$3=objectIsPrototypeOf$5,$TypeError$8$3=TypeError,anInstance$3$1=function(e,t){if(isPrototypeOf$3$3(t,e))return e;throw $TypeError$8$3("Incorrect invocation")},wellKnownSymbol$f$2=wellKnownSymbol$j$1,TO_STRING_TAG$3$4=wellKnownSymbol$f$2("toStringTag"),test$7={};test$7[TO_STRING_TAG$3$4]="z";var toStringTagSupport$6=String(test$7)==="[object z]",TO_STRING_TAG_SUPPORT$6=toStringTagSupport$6,isCallable$b$5=isCallable$n$1,classofRaw$7=classofRaw$1$6,wellKnownSymbol$e$3=wellKnownSymbol$j$1,TO_STRING_TAG$2$4=wellKnownSymbol$e$3("toStringTag"),$Object$1$5=Object,CORRECT_ARGUMENTS$6=classofRaw$7(function(){return arguments}())=="Arguments",tryGet$6=function(e,t){try{return e[t]}catch{}},classof$9$1=TO_STRING_TAG_SUPPORT$6?classofRaw$7:function(e){var t,n,o;return e===void 0?"Undefined":e===null?"Null":typeof(n=tryGet$6(t=$Object$1$5(e),TO_STRING_TAG$2$4))=="string"?n:CORRECT_ARGUMENTS$6?classofRaw$7(t):(o=classofRaw$7(t))=="Object"&&isCallable$b$5(t.callee)?"Arguments":o},uncurryThis$e$2=functionUncurryThis$5,fails$j$1=fails$s,isCallable$a$5=isCallable$n$1,classof$8$1=classof$9$1,getBuiltIn$3$6=getBuiltIn$8$3,inspectSource$1$6=inspectSource$4$3,noop$3=function(){},empty$3=[],construct$3=getBuiltIn$3$6("Reflect","construct"),constructorRegExp$3=/^\s*(?:class|function)\b/,exec$2$1=uncurryThis$e$2(constructorRegExp$3.exec),INCORRECT_TO_STRING$3=!constructorRegExp$3.exec(noop$3),isConstructorModern$3=function e(t){if(!isCallable$a$5(t))return!1;try{return construct$3(noop$3,empty$3,t),!0}catch{return!1}},isConstructorLegacy$3=function e(t){if(!isCallable$a$5(t))return!1;switch(classof$8$1(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$3||!!exec$2$1(constructorRegExp$3,inspectSource$1$6(t))}catch{return!0}};isConstructorLegacy$3.sham=!0;var isConstructor$2$1=!construct$3||fails$j$1(function(){var e;return isConstructorModern$3(isConstructorModern$3.call)||!isConstructorModern$3(Object)||!isConstructorModern$3(function(){e=!0})||e})?isConstructorLegacy$3:isConstructorModern$3,isConstructor$1$3=isConstructor$2$1,tryToString$3$3=tryToString$5$1,$TypeError$7$3=TypeError,aConstructor$2$1=function(e){if(isConstructor$1$3(e))return e;throw $TypeError$7$3(tryToString$3$3(e)+" is not a constructor")},anObject$a$4=anObject$e$2,aConstructor$1$3=aConstructor$2$1,wellKnownSymbol$d$4=wellKnownSymbol$j$1,SPECIES$3$2=wellKnownSymbol$d$4("species"),speciesConstructor$3$1=function(e,t){var n=anObject$a$4(e).constructor,o;return n===void 0||(o=anObject$a$4(n)[SPECIES$3$2])==null?t:aConstructor$1$3(o)},NATIVE_BIND$1$5=functionBindNative$5,FunctionPrototype$7=Function.prototype,apply$3$1=FunctionPrototype$7.apply,call$g$1=FunctionPrototype$7.call,functionApply$3=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1$5?call$g$1.bind(apply$3$1):function(){return call$g$1.apply(apply$3$1,arguments)}),uncurryThis$d$3=functionUncurryThis$5,aCallable$7$3=aCallable$9$1,NATIVE_BIND$8=functionBindNative$5,bind$6$2=uncurryThis$d$3(uncurryThis$d$3.bind),functionBindContext$4=function(e,t){return aCallable$7$3(e),t===void 0?e:NATIVE_BIND$8?bind$6$2(e,t):function(){return e.apply(t,arguments)}},getBuiltIn$2$6=getBuiltIn$8$3,html$2$4=getBuiltIn$2$6("document","documentElement"),uncurryThis$c$3=functionUncurryThis$5,arraySlice$5$1=uncurryThis$c$3([].slice),$TypeError$6$3=TypeError,validateArgumentsLength$1$3=function(e,t){if(e<t)throw $TypeError$6$3("Not enough arguments");return e},userAgent$4$1=engineUserAgent$6,engineIsIos$4=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$4$1),global$i$4=global$t,apply$2$1=functionApply$3,bind$5$3=functionBindContext$4,isCallable$9$5=isCallable$n$1,hasOwn$3$5=hasOwnProperty_1$5,fails$i$2=fails$s,html$1$4=html$2$4,arraySlice$4$1=arraySlice$5$1,createElement$7=documentCreateElement$2$3,validateArgumentsLength$6=validateArgumentsLength$1$3,IS_IOS$1$4=engineIsIos$4,IS_NODE$3$1=engineIsNode$3,set$1$4=global$i$4.setImmediate,clear$6=global$i$4.clearImmediate,process$2$4=global$i$4.process,Dispatch$4=global$i$4.Dispatch,Function$1$3=global$i$4.Function,MessageChannel$4=global$i$4.MessageChannel,String$1$3=global$i$4.String,counter$4=0,queue$1$3={},ONREADYSTATECHANGE$4="onreadystatechange",location$4,defer$4,channel$4,port$4;try{location$4=global$i$4.location}catch(e){}var run$4=function(e){if(hasOwn$3$5(queue$1$3,e)){var t=queue$1$3[e];delete queue$1$3[e],t()}},runner$4=function(e){return function(){run$4(e)}},listener$4=function(e){run$4(e.data)},post$4=function(e){global$i$4.postMessage(String$1$3(e),location$4.protocol+"//"+location$4.host)};(!set$1$4||!clear$6)&&(set$1$4=function(e){validateArgumentsLength$6(arguments.length,1);var t=isCallable$9$5(e)?e:Function$1$3(e),n=arraySlice$4$1(arguments,1);return queue$1$3[++counter$4]=function(){apply$2$1(t,void 0,n)},defer$4(counter$4),counter$4},clear$6=function(e){delete queue$1$3[e]},IS_NODE$3$1?defer$4=function(e){process$2$4.nextTick(runner$4(e))}:Dispatch$4&&Dispatch$4.now?defer$4=function(e){Dispatch$4.now(runner$4(e))}:MessageChannel$4&&!IS_IOS$1$4?(channel$4=new MessageChannel$4,port$4=channel$4.port2,channel$4.port1.onmessage=listener$4,defer$4=bind$5$3(port$4.postMessage,port$4)):global$i$4.addEventListener&&isCallable$9$5(global$i$4.postMessage)&&!global$i$4.importScripts&&location$4&&location$4.protocol!=="file:"&&!fails$i$2(post$4)?(defer$4=post$4,global$i$4.addEventListener("message",listener$4,!1)):ONREADYSTATECHANGE$4 in createElement$7("script")?defer$4=function(e){html$1$4.appendChild(createElement$7("script"))[ONREADYSTATECHANGE$4]=function(){html$1$4.removeChild(this),run$4(e)}}:defer$4=function(e){setTimeout(runner$4(e),0)});var task$1$4={set:set$1$4,clear:clear$6},userAgent$3$3=engineUserAgent$6,global$h$4=global$t,engineIsIosPebble$3=/ipad|iphone|ipod/i.test(userAgent$3$3)&&global$h$4.Pebble!==void 0,userAgent$2$3=engineUserAgent$6,engineIsWebosWebkit$3=/web0s(?!.*chrome)/i.test(userAgent$2$3),global$g$4=global$t,bind$4$3=functionBindContext$4,getOwnPropertyDescriptor$8=objectGetOwnPropertyDescriptor$6.f,macrotask$4=task$1$4.set,IS_IOS$5=engineIsIos$4,IS_IOS_PEBBLE$3=engineIsIosPebble$3,IS_WEBOS_WEBKIT$3=engineIsWebosWebkit$3,IS_NODE$2$3=engineIsNode$3,MutationObserver$5=global$g$4.MutationObserver||global$g$4.WebKitMutationObserver,document$2$4=global$g$4.document,process$1$4=global$g$4.process,Promise$1$4=global$g$4.Promise,queueMicrotaskDescriptor$4=getOwnPropertyDescriptor$8(global$g$4,"queueMicrotask"),queueMicrotask$4=queueMicrotaskDescriptor$4&&queueMicrotaskDescriptor$4.value,flush$4,head$4,last$4,notify$1$4,toggle$4,node$4,promise$4,then$4;queueMicrotask$4||(flush$4=function(){var e,t;for(IS_NODE$2$3&&(e=process$1$4.domain)&&e.exit();head$4;){t=head$4.fn,head$4=head$4.next;try{t()}catch(n){throw head$4?notify$1$4():last$4=void 0,n}}last$4=void 0,e&&e.enter()},!IS_IOS$5&&!IS_NODE$2$3&&!IS_WEBOS_WEBKIT$3&&MutationObserver$5&&document$2$4?(toggle$4=!0,node$4=document$2$4.createTextNode(""),new MutationObserver$5(flush$4).observe(node$4,{characterData:!0}),notify$1$4=function(){node$4.data=toggle$4=!toggle$4}):!IS_IOS_PEBBLE$3&&Promise$1$4&&Promise$1$4.resolve?(promise$4=Promise$1$4.resolve(void 0),promise$4.constructor=Promise$1$4,then$4=bind$4$3(promise$4.then,promise$4),notify$1$4=function(){then$4(flush$4)}):IS_NODE$2$3?notify$1$4=function(){process$1$4.nextTick(flush$4)}:(macrotask$4=bind$4$3(macrotask$4,global$g$4),notify$1$4=function(){macrotask$4(flush$4)}));var microtask$1$4=queueMicrotask$4||function(e){var t={fn:e,next:void 0};last$4&&(last$4.next=t),head$4||(head$4=t,notify$1$4()),last$4=t},global$f$4=global$t,hostReportErrors$1$4=function(e,t){var n=global$f$4.console;n&&n.error&&(arguments.length==1?n.error(e):n.error(e,t))},perform$3$3=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},Queue$1$3=function(){this.head=null,this.tail=null};Queue$1$3.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var queue$5=Queue$1$3,global$e$4=global$t,promiseNativeConstructor$3=global$e$4.Promise,engineIsBrowser$3=typeof window=="object"&&typeof Deno!="object",global$d$4=global$t,NativePromiseConstructor$3$3=promiseNativeConstructor$3,isCallable$8$5=isCallable$n$1,isForced$8=isForced_1$6,inspectSource$a=inspectSource$4$3,wellKnownSymbol$c$4=wellKnownSymbol$j$1,IS_BROWSER$3=engineIsBrowser$3,V8_VERSION$7=engineV8Version$6;NativePromiseConstructor$3$3&&NativePromiseConstructor$3$3.prototype;var SPECIES$2$4=wellKnownSymbol$c$4("species"),SUBCLASSING$3=!1,NATIVE_PROMISE_REJECTION_EVENT$1$3=isCallable$8$5(global$d$4.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5$3=isForced$8("Promise",function(){var e=inspectSource$a(NativePromiseConstructor$3$3),t=e!==String(NativePromiseConstructor$3$3);if(!t&&V8_VERSION$7===66)return!0;if(V8_VERSION$7>=51&&/native code/.test(e))return!1;var n=new NativePromiseConstructor$3$3(function(a){a(1)}),o=function(a){a(function(){},function(){})},c=n.constructor={};return c[SPECIES$2$4]=o,SUBCLASSING$3=n.then(function(){})instanceof o,SUBCLASSING$3?!t&&IS_BROWSER$3&&!NATIVE_PROMISE_REJECTION_EVENT$1$3:!0}),promiseConstructorDetection$3={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5$3,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1$3,SUBCLASSING:SUBCLASSING$3},newPromiseCapability$2$4={},aCallable$6$3=aCallable$9$1,PromiseCapability$4=function(e){var t,n;this.promise=new e(function(o,c){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=o,n=c}),this.resolve=aCallable$6$3(t),this.reject=aCallable$6$3(n)};newPromiseCapability$2$4.f=function(e){return new PromiseCapability$4(e)};var $$e$1=_export$6,IS_NODE$1$4=engineIsNode$3,global$c$4=global$t,call$f$2=functionCall$k,defineBuiltIn$6$3=defineBuiltIn$8$1,setPrototypeOf$5=objectSetPrototypeOf$4,setToStringTag$3$3=setToStringTag$4$2,setSpecies$1$4=setSpecies$2$1,aCallable$5$3=aCallable$9$1,isCallable$7$5=isCallable$n$1,isObject$7$4=isObject$d$1,anInstance$2$2=anInstance$3$1,speciesConstructor$2$1=speciesConstructor$3$1,task$5=task$1$4.set,microtask$5=microtask$1$4,hostReportErrors$5=hostReportErrors$1$4,perform$2$3=perform$3$3,Queue$4=queue$5,InternalStateModule$4$2=internalState$6,NativePromiseConstructor$2$3=promiseNativeConstructor$3,PromiseConstructorDetection$3=promiseConstructorDetection$3,newPromiseCapabilityModule$3$3=newPromiseCapability$2$4,PROMISE$4="Promise",FORCED_PROMISE_CONSTRUCTOR$4$3=PromiseConstructorDetection$3.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT$4=PromiseConstructorDetection$3.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING$3=PromiseConstructorDetection$3.SUBCLASSING,getInternalPromiseState$4=InternalStateModule$4$2.getterFor(PROMISE$4),setInternalState$3$1=InternalStateModule$4$2.set,NativePromisePrototype$1$3=NativePromiseConstructor$2$3&&NativePromiseConstructor$2$3.prototype,PromiseConstructor$4=NativePromiseConstructor$2$3,PromisePrototype$3=NativePromisePrototype$1$3,TypeError$2$3=global$c$4.TypeError,document$1$4=global$c$4.document,process$9=global$c$4.process,newPromiseCapability$1$4=newPromiseCapabilityModule$3$3.f,newGenericPromiseCapability$4=newPromiseCapability$1$4,DISPATCH_EVENT$4=!!(document$1$4&&document$1$4.createEvent&&global$c$4.dispatchEvent),UNHANDLED_REJECTION$4="unhandledrejection",REJECTION_HANDLED$4="rejectionhandled",PENDING$4=0,FULFILLED$4=1,REJECTED$4=2,HANDLED$4=1,UNHANDLED$4=2,Internal$4,OwnPromiseCapability$4,PromiseWrapper$4,nativeThen$4,isThenable$4=function(e){var t;return isObject$7$4(e)&&isCallable$7$5(t=e.then)?t:!1},callReaction$3=function(e,t){var n=t.value,o=t.state==FULFILLED$4,c=o?e.ok:e.fail,a=e.resolve,u=e.reject,h=e.domain,v,b,y;try{c?(o||(t.rejection===UNHANDLED$4&&onHandleUnhandled$4(t),t.rejection=HANDLED$4),c===!0?v=n:(h&&h.enter(),v=c(n),h&&(h.exit(),y=!0)),v===e.promise?u(TypeError$2$3("Promise-chain cycle")):(b=isThenable$4(v))?call$f$2(b,v,a,u):a(v)):u(n)}catch(w){h&&!y&&h.exit(),u(w)}},notify$5=function(e,t){e.notified||(e.notified=!0,microtask$5(function(){for(var n=e.reactions,o;o=n.get();)callReaction$3(o,e);e.notified=!1,t&&!e.rejection&&onUnhandled$4(e)}))},dispatchEvent$4=function(e,t,n){var o,c;DISPATCH_EVENT$4?(o=document$1$4.createEvent("Event"),o.promise=t,o.reason=n,o.initEvent(e,!1,!0),global$c$4.dispatchEvent(o)):o={promise:t,reason:n},!NATIVE_PROMISE_REJECTION_EVENT$4&&(c=global$c$4["on"+e])?c(o):e===UNHANDLED_REJECTION$4&&hostReportErrors$5("Unhandled promise rejection",n)},onUnhandled$4=function(e){call$f$2(task$5,global$c$4,function(){var t=e.facade,n=e.value,o=isUnhandled$4(e),c;if(o&&(c=perform$2$3(function(){IS_NODE$1$4?process$9.emit("unhandledRejection",n,t):dispatchEvent$4(UNHANDLED_REJECTION$4,t,n)}),e.rejection=IS_NODE$1$4||isUnhandled$4(e)?UNHANDLED$4:HANDLED$4,c.error))throw c.value})},isUnhandled$4=function(e){return e.rejection!==HANDLED$4&&!e.parent},onHandleUnhandled$4=function(e){call$f$2(task$5,global$c$4,function(){var t=e.facade;IS_NODE$1$4?process$9.emit("rejectionHandled",t):dispatchEvent$4(REJECTION_HANDLED$4,t,e.value)})},bind$3$3=function(e,t,n){return function(o){e(t,o,n)}},internalReject$4=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=REJECTED$4,notify$5(e,!0))},internalResolve$4=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw TypeError$2$3("Promise can't be resolved itself");var o=isThenable$4(t);o?microtask$5(function(){var c={done:!1};try{call$f$2(o,t,bind$3$3(internalResolve$4,c,e),bind$3$3(internalReject$4,c,e))}catch(a){internalReject$4(c,a,e)}}):(e.value=t,e.state=FULFILLED$4,notify$5(e,!1))}catch(c){internalReject$4({done:!1},c,e)}}};if(FORCED_PROMISE_CONSTRUCTOR$4$3&&(PromiseConstructor$4=function(e){anInstance$2$2(this,PromisePrototype$3),aCallable$5$3(e),call$f$2(Internal$4,this);var t=getInternalPromiseState$4(this);try{e(bind$3$3(internalResolve$4,t),bind$3$3(internalReject$4,t))}catch(n){internalReject$4(t,n)}},PromisePrototype$3=PromiseConstructor$4.prototype,Internal$4=function(e){setInternalState$3$1(this,{type:PROMISE$4,done:!1,notified:!1,parent:!1,reactions:new Queue$4,rejection:!1,state:PENDING$4,value:void 0})},Internal$4.prototype=defineBuiltIn$6$3(PromisePrototype$3,"then",function(e,t){var n=getInternalPromiseState$4(this),o=newPromiseCapability$1$4(speciesConstructor$2$1(this,PromiseConstructor$4));return n.parent=!0,o.ok=isCallable$7$5(e)?e:!0,o.fail=isCallable$7$5(t)&&t,o.domain=IS_NODE$1$4?process$9.domain:void 0,n.state==PENDING$4?n.reactions.add(o):microtask$5(function(){callReaction$3(o,n)}),o.promise}),OwnPromiseCapability$4=function(){var e=new Internal$4,t=getInternalPromiseState$4(e);this.promise=e,this.resolve=bind$3$3(internalResolve$4,t),this.reject=bind$3$3(internalReject$4,t)},newPromiseCapabilityModule$3$3.f=newPromiseCapability$1$4=function(e){return e===PromiseConstructor$4||e===PromiseWrapper$4?new OwnPromiseCapability$4(e):newGenericPromiseCapability$4(e)},isCallable$7$5(NativePromiseConstructor$2$3)&&NativePromisePrototype$1$3!==Object.prototype)){nativeThen$4=NativePromisePrototype$1$3.then,NATIVE_PROMISE_SUBCLASSING$3||defineBuiltIn$6$3(NativePromisePrototype$1$3,"then",function(e,t){var n=this;return new PromiseConstructor$4(function(o,c){call$f$2(nativeThen$4,n,o,c)}).then(e,t)},{unsafe:!0});try{delete NativePromisePrototype$1$3.constructor}catch{}setPrototypeOf$5&&setPrototypeOf$5(NativePromisePrototype$1$3,PromisePrototype$3)}$$e$1({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4$3},{Promise:PromiseConstructor$4}),setToStringTag$3$3(PromiseConstructor$4,PROMISE$4,!1),setSpecies$1$4(PROMISE$4);var iterators$4={},wellKnownSymbol$b$4=wellKnownSymbol$j$1,Iterators$4$3=iterators$4,ITERATOR$5$3=wellKnownSymbol$b$4("iterator"),ArrayPrototype$1$4=Array.prototype,isArrayIteratorMethod$2$2=function(e){return e!==void 0&&(Iterators$4$3.Array===e||ArrayPrototype$1$4[ITERATOR$5$3]===e)},classof$7$2=classof$9$1,getMethod$2$3=getMethod$4$2,Iterators$3$3=iterators$4,wellKnownSymbol$a$4=wellKnownSymbol$j$1,ITERATOR$4$3=wellKnownSymbol$a$4("iterator"),getIteratorMethod$3$2=function(e){if(e!=null)return getMethod$2$3(e,ITERATOR$4$3)||getMethod$2$3(e,"@@iterator")||Iterators$3$3[classof$7$2(e)]},call$e$3=functionCall$k,aCallable$4$3=aCallable$9$1,anObject$9$4=anObject$e$2,tryToString$2$3=tryToString$5$1,getIteratorMethod$2$3=getIteratorMethod$3$2,$TypeError$5$5=TypeError,getIterator$2$1=function(e,t){var n=arguments.length<2?getIteratorMethod$2$3(e):t;if(aCallable$4$3(n))return anObject$9$4(call$e$3(n,e));throw $TypeError$5$5(tryToString$2$3(e)+" is not iterable")},call$d$3=functionCall$k,anObject$8$4=anObject$e$2,getMethod$1$5=getMethod$4$2,iteratorClose$1$3=function(e,t,n){var o,c;anObject$8$4(e);try{if(o=getMethod$1$5(e,"return"),!o){if(t==="throw")throw n;return n}o=call$d$3(o,e)}catch(a){c=!0,o=a}if(t==="throw")throw n;if(c)throw o;return anObject$8$4(o),n},bind$2$4=functionBindContext$4,call$c$3=functionCall$k,anObject$7$4=anObject$e$2,tryToString$1$5=tryToString$5$1,isArrayIteratorMethod$1$4=isArrayIteratorMethod$2$2,lengthOfArrayLike$6$1=lengthOfArrayLike$8$1,isPrototypeOf$2$3=objectIsPrototypeOf$5,getIterator$1$3=getIterator$2$1,getIteratorMethod$1$4=getIteratorMethod$3$2,iteratorClose$5=iteratorClose$1$3,$TypeError$4$5=TypeError,Result$4=function(e,t){this.stopped=e,this.result=t},ResultPrototype$3=Result$4.prototype,iterate$2$4=function(e,t,n){var o=n&&n.that,c=!!(n&&n.AS_ENTRIES),a=!!(n&&n.IS_ITERATOR),u=!!(n&&n.INTERRUPTED),h=bind$2$4(t,o),v,b,y,w,O,P,C,x=function(k){return v&&iteratorClose$5(v,"normal",k),new Result$4(!0,k)},D=function(k){return c?(anObject$7$4(k),u?h(k[0],k[1],x):h(k[0],k[1])):u?h(k,x):h(k)};if(a)v=e;else{if(b=getIteratorMethod$1$4(e),!b)throw $TypeError$4$5(tryToString$1$5(e)+" is not iterable");if(isArrayIteratorMethod$1$4(b)){for(y=0,w=lengthOfArrayLike$6$1(e);w>y;y++)if(O=D(e[y]),O&&isPrototypeOf$2$3(ResultPrototype$3,O))return O;return new Result$4(!1)}v=getIterator$1$3(e,b)}for(P=v.next;!(C=call$c$3(P,v)).done;){try{O=D(C.value)}catch(k){iteratorClose$5(v,"throw",k)}if(typeof O=="object"&&O&&isPrototypeOf$2$3(ResultPrototype$3,O))return O}return new Result$4(!1)},wellKnownSymbol$9$4=wellKnownSymbol$j$1,ITERATOR$3$4=wellKnownSymbol$9$4("iterator"),SAFE_CLOSING$4=!1;try{var called$4=0,iteratorWithReturn$4={next:function(){return{done:!!called$4++}},return:function(){SAFE_CLOSING$4=!0}};iteratorWithReturn$4[ITERATOR$3$4]=function(){return this},Array.from(iteratorWithReturn$4,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$2$1=function(e,t){if(!t&&!SAFE_CLOSING$4)return!1;var n=!1;try{var o={};o[ITERATOR$3$4]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch{}return n},NativePromiseConstructor$1$3=promiseNativeConstructor$3,checkCorrectnessOfIteration$1$4=checkCorrectnessOfIteration$2$1,FORCED_PROMISE_CONSTRUCTOR$3$3=promiseConstructorDetection$3.CONSTRUCTOR,promiseStaticsIncorrectIteration$3=FORCED_PROMISE_CONSTRUCTOR$3$3||!checkCorrectnessOfIteration$1$4(function(e){NativePromiseConstructor$1$3.all(e).then(void 0,function(){})}),$$d$1=_export$6,call$b$3=functionCall$k,aCallable$3$3=aCallable$9$1,newPromiseCapabilityModule$2$3=newPromiseCapability$2$4,perform$1$4=perform$3$3,iterate$1$4=iterate$2$4,PROMISE_STATICS_INCORRECT_ITERATION$1$3=promiseStaticsIncorrectIteration$3;$$d$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1$3},{all:function e(t){var n=this,o=newPromiseCapabilityModule$2$3.f(n),c=o.resolve,a=o.reject,u=perform$1$4(function(){var h=aCallable$3$3(n.resolve),v=[],b=0,y=1;iterate$1$4(t,function(w){var O=b++,P=!1;y++,call$b$3(h,n,w).then(function(C){P||(P=!0,v[O]=C,--y||c(v))},a)}),--y||c(v)});return u.error&&a(u.value),o.promise}});var $$c$1=_export$6,FORCED_PROMISE_CONSTRUCTOR$2$3=promiseConstructorDetection$3.CONSTRUCTOR,NativePromiseConstructor$6=promiseNativeConstructor$3,getBuiltIn$1$6=getBuiltIn$8$3,isCallable$6$5=isCallable$n$1,defineBuiltIn$5$3=defineBuiltIn$8$1,NativePromisePrototype$4=NativePromiseConstructor$6&&NativePromiseConstructor$6.prototype;if($$c$1({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2$3,real:!0},{catch:function(e){return this.then(void 0,e)}}),isCallable$6$5(NativePromiseConstructor$6)){var method$3=getBuiltIn$1$6("Promise").prototype.catch;NativePromisePrototype$4.catch!==method$3&&defineBuiltIn$5$3(NativePromisePrototype$4,"catch",method$3,{unsafe:!0})}var $$b$1=_export$6,call$a$3=functionCall$k,aCallable$2$3=aCallable$9$1,newPromiseCapabilityModule$1$3=newPromiseCapability$2$4,perform$7=perform$3$3,iterate$6=iterate$2$4,PROMISE_STATICS_INCORRECT_ITERATION$4=promiseStaticsIncorrectIteration$3;$$b$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$4},{race:function e(t){var n=this,o=newPromiseCapabilityModule$1$3.f(n),c=o.reject,a=perform$7(function(){var u=aCallable$2$3(n.resolve);iterate$6(t,function(h){call$a$3(u,n,h).then(o.resolve,c)})});return a.error&&c(a.value),o.promise}});var $$a$2=_export$6,call$9$3=functionCall$k,newPromiseCapabilityModule$7=newPromiseCapability$2$4,FORCED_PROMISE_CONSTRUCTOR$1$3=promiseConstructorDetection$3.CONSTRUCTOR;$$a$2({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1$3},{reject:function e(t){var n=newPromiseCapabilityModule$7.f(this);return call$9$3(n.reject,void 0,t),n.promise}});var anObject$6$4=anObject$e$2,isObject$6$4=isObject$d$1,newPromiseCapability$6=newPromiseCapability$2$4,promiseResolve$1$4=function(e,t){if(anObject$6$4(e),isObject$6$4(t)&&t.constructor===e)return t;var n=newPromiseCapability$6.f(e),o=n.resolve;return o(t),n.promise},$$9$2=_export$6,getBuiltIn$e=getBuiltIn$8$3,FORCED_PROMISE_CONSTRUCTOR$8=promiseConstructorDetection$3.CONSTRUCTOR,promiseResolve$5=promiseResolve$1$4;getBuiltIn$e("Promise"),$$9$2({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$8},{resolve:function e(t){return promiseResolve$5(this,t)}});class WebStorageService{getItem(t){return new Promise(n=>{const o=localStorage.getItem(t);n(o)})}setItem(t,n){return new Promise(o=>{localStorage.setItem(t,n),o()})}removeItem(t){return new Promise(n=>{localStorage.removeItem(t),n()})}}var objectDefineProperties$4={},internalObjectKeys$7=objectKeysInternal$6,enumBugKeys$1$6=enumBugKeys$3$4,objectKeys$2$2=Object.keys||function e(t){return internalObjectKeys$7(t,enumBugKeys$1$6)},DESCRIPTORS$5$6=descriptors$6,V8_PROTOTYPE_DEFINE_BUG$6=v8PrototypeDefineBug$5,definePropertyModule$2$6=objectDefineProperty$6,anObject$5$4=anObject$e$2,toIndexedObject$2$6=toIndexedObject$6$1,objectKeys$1$6=objectKeys$2$2;objectDefineProperties$4.f=DESCRIPTORS$5$6&&!V8_PROTOTYPE_DEFINE_BUG$6?Object.defineProperties:function e(t,n){anObject$5$4(t);for(var o=toIndexedObject$2$6(n),c=objectKeys$1$6(n),a=c.length,u=0,h;a>u;)definePropertyModule$2$6.f(t,h=c[u++],o[h]);return t};var anObject$4$6=anObject$e$2,definePropertiesModule$3=objectDefineProperties$4,enumBugKeys$9=enumBugKeys$3$4,hiddenKeys$a=hiddenKeys$4$4,html$6=html$2$4,documentCreateElement$1$4=documentCreateElement$2$3,sharedKey$1$6=sharedKey$3$4,GT$4=">",LT$4="<",PROTOTYPE$1$1="prototype",SCRIPT$4="script",IE_PROTO$1$3=sharedKey$1$6("IE_PROTO"),EmptyConstructor$4=function(){},scriptTag$4=function(e){return LT$4+SCRIPT$4+GT$4+e+LT$4+"/"+SCRIPT$4+GT$4},NullProtoObjectViaActiveX$4=function(e){e.write(scriptTag$4("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame$4=function(){var e=documentCreateElement$1$4("iframe"),t="java"+SCRIPT$4+":",n;return e.style.display="none",html$6.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(scriptTag$4("document.F=Object")),n.close(),n.F},activeXDocument$4,NullProtoObject$4=function(){try{activeXDocument$4=new ActiveXObject("htmlfile")}catch{}NullProtoObject$4=typeof document<"u"?document.domain&&activeXDocument$4?NullProtoObjectViaActiveX$4(activeXDocument$4):NullProtoObjectViaIFrame$4():NullProtoObjectViaActiveX$4(activeXDocument$4);for(var e=enumBugKeys$9.length;e--;)delete NullProtoObject$4[PROTOTYPE$1$1][enumBugKeys$9[e]];return NullProtoObject$4()};hiddenKeys$a[IE_PROTO$1$3]=!0;var objectCreate$4=Object.create||function e(t,n){var o;return t!==null?(EmptyConstructor$4[PROTOTYPE$1$1]=anObject$4$6(t),o=new EmptyConstructor$4,EmptyConstructor$4[PROTOTYPE$1$1]=null,o[IE_PROTO$1$3]=t):o=NullProtoObject$4(),n===void 0?o:definePropertiesModule$3.f(o,n)},wellKnownSymbol$8$4=wellKnownSymbol$j$1,create$3$1=objectCreate$4,defineProperty$4$3=objectDefineProperty$6.f,UNSCOPABLES$4=wellKnownSymbol$8$4("unscopables"),ArrayPrototype$5=Array.prototype;ArrayPrototype$5[UNSCOPABLES$4]==null&&defineProperty$4$3(ArrayPrototype$5,UNSCOPABLES$4,{configurable:!0,value:create$3$1(null)});var addToUnscopables$2$1=function(e){ArrayPrototype$5[UNSCOPABLES$4][e]=!0},fails$h$2=fails$s,correctPrototypeGetter$3=!fails$h$2(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),hasOwn$2$5=hasOwnProperty_1$5,isCallable$5$5=isCallable$n$1,toObject$5$2=toObject$7$1,sharedKey$8=sharedKey$3$4,CORRECT_PROTOTYPE_GETTER$3=correctPrototypeGetter$3,IE_PROTO$5=sharedKey$8("IE_PROTO"),$Object$8=Object,ObjectPrototype$2$1=$Object$8.prototype,objectGetPrototypeOf$3=CORRECT_PROTOTYPE_GETTER$3?$Object$8.getPrototypeOf:function(e){var t=toObject$5$2(e);if(hasOwn$2$5(t,IE_PROTO$5))return t[IE_PROTO$5];var n=t.constructor;return isCallable$5$5(n)&&t instanceof n?n.prototype:t instanceof $Object$8?ObjectPrototype$2$1:null},fails$g$2=fails$s,isCallable$4$5=isCallable$n$1,getPrototypeOf$3$1=objectGetPrototypeOf$3,defineBuiltIn$4$3=defineBuiltIn$8$1,wellKnownSymbol$7$4=wellKnownSymbol$j$1,ITERATOR$2$4=wellKnownSymbol$7$4("iterator"),BUGGY_SAFARI_ITERATORS$1$3=!1,IteratorPrototype$2$3,PrototypeOfArrayIteratorPrototype$3,arrayIterator$3;[].keys&&(arrayIterator$3=[].keys(),"next"in arrayIterator$3?(PrototypeOfArrayIteratorPrototype$3=getPrototypeOf$3$1(getPrototypeOf$3$1(arrayIterator$3)),PrototypeOfArrayIteratorPrototype$3!==Object.prototype&&(IteratorPrototype$2$3=PrototypeOfArrayIteratorPrototype$3)):BUGGY_SAFARI_ITERATORS$1$3=!0);var NEW_ITERATOR_PROTOTYPE$2=IteratorPrototype$2$3==null||fails$g$2(function(){var e={};return IteratorPrototype$2$3[ITERATOR$2$4].call(e)!==e});NEW_ITERATOR_PROTOTYPE$2&&(IteratorPrototype$2$3={}),isCallable$4$5(IteratorPrototype$2$3[ITERATOR$2$4])||defineBuiltIn$4$3(IteratorPrototype$2$3,ITERATOR$2$4,function(){return this});var iteratorsCore$3={IteratorPrototype:IteratorPrototype$2$3,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$3},IteratorPrototype$1$3=iteratorsCore$3.IteratorPrototype,create$2$2=objectCreate$4,createPropertyDescriptor$2$6=createPropertyDescriptor$5$2,setToStringTag$2$3=setToStringTag$4$2,Iterators$2$3=iterators$4,returnThis$1$3=function(){return this},createIteratorConstructor$1$3=function(e,t,n,o){var c=t+" Iterator";return e.prototype=create$2$2(IteratorPrototype$1$3,{next:createPropertyDescriptor$2$6(+!o,n)}),setToStringTag$2$3(e,c,!1),Iterators$2$3[c]=returnThis$1$3,e},$$8$2=_export$6,call$8$3=functionCall$k,FunctionName$1$1=functionName$5,isCallable$3$5=isCallable$n$1,createIteratorConstructor$5=createIteratorConstructor$1$3,getPrototypeOf$2$1=objectGetPrototypeOf$3,setPrototypeOf$4=objectSetPrototypeOf$4,setToStringTag$1$4=setToStringTag$4$2,createNonEnumerableProperty$5$2=createNonEnumerableProperty$8$1,defineBuiltIn$3$3=defineBuiltIn$8$1,wellKnownSymbol$6$4=wellKnownSymbol$j$1,Iterators$1$4=iterators$4,IteratorsCore$3=iteratorsCore$3,PROPER_FUNCTION_NAME$2$1=FunctionName$1$1.PROPER,CONFIGURABLE_FUNCTION_NAME$1$3=FunctionName$1$1.CONFIGURABLE,IteratorPrototype$5=IteratorsCore$3.IteratorPrototype,BUGGY_SAFARI_ITERATORS$4=IteratorsCore$3.BUGGY_SAFARI_ITERATORS,ITERATOR$1$4=wellKnownSymbol$6$4("iterator"),KEYS$3="keys",VALUES$3="values",ENTRIES$3="entries",returnThis$5=function(){return this},defineIterator$1$3=function(e,t,n,o,c,a,u){createIteratorConstructor$5(n,t,o);var h=function(k){if(k===c&&O)return O;if(!BUGGY_SAFARI_ITERATORS$4&&k in y)return y[k];switch(k){case KEYS$3:return function(){return new n(this,k)};case VALUES$3:return function(){return new n(this,k)};case ENTRIES$3:return function(){return new n(this,k)}}return function(){return new n(this)}},v=t+" Iterator",b=!1,y=e.prototype,w=y[ITERATOR$1$4]||y["@@iterator"]||c&&y[c],O=!BUGGY_SAFARI_ITERATORS$4&&w||h(c),P=t=="Array"&&y.entries||w,C,x,D;if(P&&(C=getPrototypeOf$2$1(P.call(new e)),C!==Object.prototype&&C.next&&(getPrototypeOf$2$1(C)!==IteratorPrototype$5&&(setPrototypeOf$4?setPrototypeOf$4(C,IteratorPrototype$5):isCallable$3$5(C[ITERATOR$1$4])||defineBuiltIn$3$3(C,ITERATOR$1$4,returnThis$5)),setToStringTag$1$4(C,v,!0))),PROPER_FUNCTION_NAME$2$1&&c==VALUES$3&&w&&w.name!==VALUES$3&&(CONFIGURABLE_FUNCTION_NAME$1$3?createNonEnumerableProperty$5$2(y,"name",VALUES$3):(b=!0,O=function(){return call$8$3(w,this)})),c)if(x={values:h(VALUES$3),keys:a?O:h(KEYS$3),entries:h(ENTRIES$3)},u)for(D in x)(BUGGY_SAFARI_ITERATORS$4||b||!(D in y))&&defineBuiltIn$3$3(y,D,x[D]);else $$8$2({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS$4||b},x);return y[ITERATOR$1$4]!==O&&defineBuiltIn$3$3(y,ITERATOR$1$4,O,{name:c}),Iterators$1$4[t]=O,x},toIndexedObject$1$6=toIndexedObject$6$1,addToUnscopables$1$4=addToUnscopables$2$1,Iterators$8=iterators$4,InternalStateModule$3$2=internalState$6,defineProperty$3$3=objectDefineProperty$6.f,defineIterator$5=defineIterator$1$3,DESCRIPTORS$4$6=descriptors$6,ARRAY_ITERATOR$3="Array Iterator",setInternalState$2$2=InternalStateModule$3$2.set,getInternalState$4$1=InternalStateModule$3$2.getterFor(ARRAY_ITERATOR$3),es_array_iterator$3=defineIterator$5(Array,"Array",function(e,t){setInternalState$2$2(this,{type:ARRAY_ITERATOR$3,target:toIndexedObject$1$6(e),index:0,kind:t})},function(){var e=getInternalState$4$1(this),t=e.target,n=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:o,done:!1}:n=="values"?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}},"values"),values$2=Iterators$8.Arguments=Iterators$8.Array;if(addToUnscopables$1$4("keys"),addToUnscopables$1$4("values"),addToUnscopables$1$4("entries"),DESCRIPTORS$4$6&&values$2.name!=="values")try{defineProperty$3$3(values$2,"name",{value:"values"})}catch(e){}var domIterables$3={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement$7=documentCreateElement$2$3,classList$2=documentCreateElement$7("span").classList,DOMTokenListPrototype$1$2=classList$2&&classList$2.constructor&&classList$2.constructor.prototype,domTokenListPrototype$2=DOMTokenListPrototype$1$2===Object.prototype?void 0:DOMTokenListPrototype$1$2,global$b$4=global$t,DOMIterables$3=domIterables$3,DOMTokenListPrototype$3=domTokenListPrototype$2,ArrayIteratorMethods$3=es_array_iterator$3,createNonEnumerableProperty$4$3=createNonEnumerableProperty$8$1,wellKnownSymbol$5$4=wellKnownSymbol$j$1,ITERATOR$a=wellKnownSymbol$5$4("iterator"),TO_STRING_TAG$1$6=wellKnownSymbol$5$4("toStringTag"),ArrayValues$3=ArrayIteratorMethods$3.values,handlePrototype$2=function(e,t){if(e){if(e[ITERATOR$a]!==ArrayValues$3)try{createNonEnumerableProperty$4$3(e,ITERATOR$a,ArrayValues$3)}catch{e[ITERATOR$a]=ArrayValues$3}if(e[TO_STRING_TAG$1$6]||createNonEnumerableProperty$4$3(e,TO_STRING_TAG$1$6,t),DOMIterables$3[t]){for(var n in ArrayIteratorMethods$3)if(e[n]!==ArrayIteratorMethods$3[n])try{createNonEnumerableProperty$4$3(e,n,ArrayIteratorMethods$3[n])}catch{e[n]=ArrayIteratorMethods$3[n]}}}};for(var COLLECTION_NAME$3 in DOMIterables$3)handlePrototype$2(global$b$4[COLLECTION_NAME$3]&&global$b$4[COLLECTION_NAME$3].prototype,COLLECTION_NAME$3);handlePrototype$2(DOMTokenListPrototype$3,"DOMTokenList");let Logger$3=class Qt{constructor(t){this.namespace=t}emit(t,...n){if(Qt.debug){if(this.namespace&&t!=="error"){console[t](this.namespace,...n);return}console[t](...n)}}log(...t){this.emit("log",...t)}info(...t){this.emit("info",...t)}warn(...t){this.emit("warn",...t)}error(...t){this.emit("error",...t)}};Logger$3.debug=!1;const logger$9=new Logger$3;var $$7$2=_export$6,$includes$1=arrayIncludes$6.includes,fails$f$2=fails$s,addToUnscopables$5=addToUnscopables$2$1,BROKEN_ON_SPARSE$1=fails$f$2(function(){return!Array(1).includes()});$$7$2({target:"Array",proto:!0,forced:BROKEN_ON_SPARSE$1},{includes:function e(t){return $includes$1(this,t,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$5("includes");var isObject$5$6=isObject$d$1,classof$6$2=classofRaw$1$6,wellKnownSymbol$4$4=wellKnownSymbol$j$1,MATCH$1$1=wellKnownSymbol$4$4("match"),isRegexp$1=function(e){var t;return isObject$5$6(e)&&((t=e[MATCH$1$1])!==void 0?!!t:classof$6$2(e)=="RegExp")},isRegExp$1=isRegexp$1,$TypeError$3$5=TypeError,notARegexp$1=function(e){if(isRegExp$1(e))throw $TypeError$3$5("The method doesn't accept regular expressions");return e},classof$5$4=classof$9$1,$String$8=String,toString$5$2=function(e){if(classof$5$4(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $String$8(e)},wellKnownSymbol$3$6=wellKnownSymbol$j$1,MATCH$2=wellKnownSymbol$3$6("match"),correctIsRegexpLogic$1=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[MATCH$2]=!1,"/./"[e](t)}catch{}}return!1},$$6$3=_export$6,uncurryThis$b$3=functionUncurryThis$5,notARegExp$1=notARegexp$1,requireObjectCoercible$3$2=requireObjectCoercible$6$1,toString$4$2=toString$5$2,correctIsRegExpLogic$1=correctIsRegexpLogic$1,stringIndexOf$2=uncurryThis$b$3("".indexOf);$$6$3({target:"String",proto:!0,forced:!correctIsRegExpLogic$1("includes")},{includes:function e(t){return!!~stringIndexOf$2(toString$4$2(requireObjectCoercible$3$2(this)),toString$4$2(notARegExp$1(t)),arguments.length>1?arguments[1]:void 0)}});var whitespaces$2$1=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,uncurryThis$a$5=functionUncurryThis$5,requireObjectCoercible$2$6=requireObjectCoercible$6$1,toString$3$2=toString$5$2,whitespaces$1$1=whitespaces$2$1,replace$1$2=uncurryThis$a$5("".replace),whitespace$1="["+whitespaces$1$1+"]",ltrim$1=RegExp("^"+whitespace$1+whitespace$1+"*"),rtrim$1=RegExp(whitespace$1+whitespace$1+"*$"),createMethod$3$1=function(e){return function(t){var n=toString$3$2(requireObjectCoercible$2$6(t));return e&1&&(n=replace$1$2(n,ltrim$1,"")),e&2&&(n=replace$1$2(n,rtrim$1,"")),n}},stringTrim$1={start:createMethod$3$1(1),end:createMethod$3$1(2),trim:createMethod$3$1(3)},PROPER_FUNCTION_NAME$1$3=functionName$5.PROPER,fails$e$2=fails$s,whitespaces$3=whitespaces$2$1,non="\u200B\x85\u180E",stringTrimForced=function(e){return fails$e$2(function(){return!!whitespaces$3[e]()||non[e]()!==non||PROPER_FUNCTION_NAME$1$3&&whitespaces$3[e].name!==e})},$$5$3=_export$6,$trim=stringTrim$1.trim,forcedStringTrimMethod=stringTrimForced;$$5$3({target:"String",proto:!0,forced:forcedStringTrimMethod("trim")},{trim:function e(){return $trim(this)}});var DESCRIPTORS$3$6=descriptors$6,uncurryThis$9$5=functionUncurryThis$5,call$7$3=functionCall$k,fails$d$3=fails$s,objectKeys$7=objectKeys$2$2,getOwnPropertySymbolsModule$7=objectGetOwnPropertySymbols$6,propertyIsEnumerableModule$7=objectPropertyIsEnumerable$6,toObject$4$2=toObject$7$1,IndexedObject$2$1=indexedObject$6,$assign$3=Object.assign,defineProperty$2$5=Object.defineProperty,concat$6=uncurryThis$9$5([].concat),objectAssign$3=!$assign$3||fails$d$3(function(){if(DESCRIPTORS$3$6&&$assign$3({b:1},$assign$3(defineProperty$2$5({},"a",{enumerable:!0,get:function(){defineProperty$2$5(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(c){t[c]=c}),$assign$3({},e)[n]!=7||objectKeys$7($assign$3({},t)).join("")!=o})?function e(t,n){for(var o=toObject$4$2(t),c=arguments.length,a=1,u=getOwnPropertySymbolsModule$7.f,h=propertyIsEnumerableModule$7.f;c>a;)for(var v=IndexedObject$2$1(arguments[a++]),b=u?concat$6(objectKeys$7(v),u(v)):objectKeys$7(v),y=b.length,w=0,O;y>w;)O=b[w++],(!DESCRIPTORS$3$6||call$7$3(h,v,O))&&(o[O]=v[O]);return o}:$assign$3,$$4$3=_export$6,assign$3=objectAssign$3;$$4$3({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign$3},{assign:assign$3});class EventEmitter{constructor(){this.emitter=new eventsExports.EventEmitter}on(t,n){return this.emitter.on(t,n),{remove:()=>this.emitter.off(t,n)}}off(t,n){this.emitter.off(t,n)}emit(t,n){this.emitter.emit(t,n)}}const PACKAGE_NAME="near-wallet-selector",RECENTLY_SIGNED_IN_WALLETS="recentlySignedInWallets",CONTRACT="contract",PENDING_CONTRACT="contract:pending",SELECTED_WALLET_ID="selectedWalletId",PENDING_SELECTED_WALLET_ID="selectedWalletId:pending";class WalletModules{constructor({factories:t,storage:n,options:o,store:c,emitter:a,provider:u}){this.factories=t,this.storage=n,this.options=o,this.store=c,this.emitter=a,this.provider=u,this.modules=[],this.instances={}}validateWallet(t){return __awaiter$15(this,void 0,void 0,function*(){let n=[];const o=yield this.getWallet(t);return o&&(n=yield o.getAccounts().catch(c=>(logger$9.log(`Failed to validate ${o.id} during setup`),logger$9.error(c),[]))),n})}resolveStorageState(){return __awaiter$15(this,void 0,void 0,function*(){const t=new JsonStorage(this.storage,PACKAGE_NAME),n=yield t.getItem(PENDING_SELECTED_WALLET_ID),o=yield t.getItem(PENDING_CONTRACT);if(n&&o){const v=yield this.validateWallet(n);if(yield t.removeItem(PENDING_SELECTED_WALLET_ID),yield t.removeItem(PENDING_CONTRACT),v.length){const{selectedWalletId:b}=this.store.getState(),y=yield this.getWallet(b);y&&n!==b&&(yield y.signOut().catch(O=>{logger$9.log("Failed to sign out existing wallet"),logger$9.error(O)}));const w=yield this.setWalletAsRecentlySignedIn(n);return{accounts:v,contract:o,selectedWalletId:n,recentlySignedInWallets:w}}}const{contract:c,selectedWalletId:a}=this.store.getState(),u=yield this.validateWallet(a),h=yield t.getItem(RECENTLY_SIGNED_IN_WALLETS);return u.length?{accounts:u,contract:c,selectedWalletId:a,recentlySignedInWallets:h||[]}:{accounts:[],contract:null,selectedWalletId:null,recentlySignedInWallets:h||[]}})}setWalletAsRecentlySignedIn(t){return __awaiter$15(this,void 0,void 0,function*(){const n=new JsonStorage(this.storage,PACKAGE_NAME);let o=yield n.getItem(RECENTLY_SIGNED_IN_WALLETS);return o||(o=[]),o.includes(t)||(o.unshift(t),o=o.slice(0,5),yield n.setItem(RECENTLY_SIGNED_IN_WALLETS,o)),o})}signOutWallet(t){return __awaiter$15(this,void 0,void 0,function*(){const n=yield this.getWallet(t);yield n.signOut().catch(o=>{logger$9.log(`Failed to sign out ${n.id}`),logger$9.error(o),this.onWalletSignedOut(n.id)})})}onWalletSignedIn(t,{accounts:n,contractId:o,methodNames:c}){return __awaiter$15(this,void 0,void 0,function*(){const{selectedWalletId:a}=this.store.getState(),u=new JsonStorage(this.storage,PACKAGE_NAME),h={contractId:o,methodNames:c};if(!n.length){this.getModule(t).type==="browser"&&(yield u.setItem(PENDING_SELECTED_WALLET_ID,t),yield u.setItem(PENDING_CONTRACT,h));return}a&&a!==t&&(yield this.signOutWallet(a));const v=yield this.setWalletAsRecentlySignedIn(t);this.store.dispatch({type:"WALLET_CONNECTED",payload:{walletId:t,contract:h,accounts:n,recentlySignedInWallets:v}}),this.emitter.emit("signedIn",{walletId:t,contractId:o,methodNames:c,accounts:n})})}onWalletSignedOut(t){this.store.dispatch({type:"WALLET_DISCONNECTED",payload:{walletId:t}}),this.emitter.emit("signedOut",{walletId:t})}setupWalletEmitter(t){const n=new EventEmitter;return n.on("signedOut",()=>{this.onWalletSignedOut(t.id)}),n.on("signedIn",o=>{this.onWalletSignedIn(t.id,o)}),n.on("accountsChanged",({accounts:o})=>__awaiter$15(this,void 0,void 0,function*(){if(this.emitter.emit("accountsChanged",{walletId:t.id,accounts:o}),!o.length)return this.signOutWallet(t.id);this.store.dispatch({type:"ACCOUNTS_CHANGED",payload:{walletId:t.id,accounts:o}})})),n.on("networkChanged",({networkId:o})=>{this.emitter.emit("networkChanged",{walletId:t.id,networkId:o})}),n.on("uriChanged",({uri:o})=>{this.emitter.emit("uriChanged",{walletId:t.id,uri:o})}),n}validateSignMessageParams({message:t,nonce:n,recipient:o}){if(!t||t.trim()==="")throw new Error("Invalid message. It must be a non-empty string.");if(!Buffer$E.isBuffer(n)||n.length!==32)throw new Error("Invalid nonce. It must be a Buffer with a length of 32 bytes.");if(!o||o.trim()==="")throw new Error("Invalid recipient. It must be a non-empty string.")}decorateWallet(t){const n=t.signIn,o=t.signOut,c=t.signMessage;return t.signIn=a=>__awaiter$15(this,void 0,void 0,function*(){const u=yield n(a),{contractId:h,methodNames:v=[]}=a;return yield this.onWalletSignedIn(t.id,{accounts:u,contractId:h,methodNames:v}),u}),t.signOut=()=>__awaiter$15(this,void 0,void 0,function*(){yield o(),this.onWalletSignedOut(t.id)}),t.signMessage=a=>__awaiter$15(this,void 0,void 0,function*(){if(c===void 0)throw Error(`The signMessage method is not supported by ${t.metadata.name}`);return this.validateSignMessageParams(a),yield c(a)}),t}setupInstance(t){return __awaiter$15(this,void 0,void 0,function*(){if(!t.metadata.available){const o=t.type==="injected"?"not installed":"not available";throw Error(`${t.metadata.name} is ${o}`)}const n=Object.assign({id:t.id,type:t.type,metadata:t.metadata},yield t.init({id:t.id,type:t.type,metadata:t.metadata,options:this.options,store:this.store.toReadOnly(),provider:this.provider,emitter:this.setupWalletEmitter(t),logger:new Logger$3(t.id),storage:new JsonStorage(this.storage,[PACKAGE_NAME,t.id])}));return this.decorateWallet(n)})}getModule(t){return this.modules.find(n=>n.id===t)}getWallet(t){return __awaiter$15(this,void 0,void 0,function*(){const n=this.getModule(t);if(!n)return null;const{selectedWalletId:o}=this.store.getState();return!n.metadata.available&&o?(this.onWalletSignedOut(o),null):yield n.wallet()})}setup(){return __awaiter$15(this,void 0,void 0,function*(){const t=[];for(let u=0;u<this.factories.length;u+=1){const h=yield this.factories[u]({options:this.options}).catch(v=>(logger$9.log("Failed to setup module"),logger$9.error(v),null));h&&(t.some(v=>v.id===h.id)||t.push({id:h.id,type:h.type,metadata:h.metadata,wallet:()=>__awaiter$15(this,void 0,void 0,function*(){let v=this.instances[h.id];return v||(v=yield this.setupInstance(h),this.instances[h.id]=v,v)})}))}this.modules=t;const{accounts:n,contract:o,selectedWalletId:c,recentlySignedInWallets:a}=yield this.resolveStorageState();this.store.dispatch({type:"SETUP_WALLET_MODULES",payload:{modules:t,accounts:n,contract:o,selectedWalletId:c,recentlySignedInWallets:a}});for(let u=0;u<this.modules.length;u++){if(this.modules[u].type!=="instant-link")continue;const h=yield this.modules[u].wallet();if(h.metadata.runOnStartup)try{yield h.signIn({contractId:h.getContractId()})}catch(v){logger$9.error("Failed to sign in to wallet. "+v)}}})}}const getNetworkPreset$1=e=>{switch(e){case"mainnet":return{networkId:e,nodeUrl:"https://rpc.mainnet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://nearblocks.io",indexerUrl:"https://api.kitwallet.app"};case"testnet":return{networkId:e,nodeUrl:"https://rpc.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://testnet.nearblocks.io",indexerUrl:"https://testnet-api.kitwallet.app"};default:throw Error(`Failed to find config for: '${e}'`)}},resolveNetwork=e=>typeof e=="string"?getNetworkPreset$1(e):e,resolveOptions=e=>({options:{languageCode:e.languageCode||void 0,network:resolveNetwork(e.network),debug:e.debug||!1,optimizeWalletOrder:e.optimizeWalletOrder!==!1,randomizeWalletOrder:e.randomizeWalletOrder||!1,relayerUrl:e.relayerUrl||void 0},storage:e.storage||new WebStorageService}),reducer=(e,t)=>{switch(logger$9.log("Store Action",t),t.type){case"SETUP_WALLET_MODULES":{const{modules:n,accounts:o,contract:c,selectedWalletId:a,recentlySignedInWallets:u}=t.payload,h=o.map((v,b)=>Object.assign(Object.assign({},v),{active:b===0}));return Object.assign(Object.assign({},e),{modules:n,accounts:h,contract:c,selectedWalletId:a,recentlySignedInWallets:u})}case"WALLET_CONNECTED":{const{walletId:n,contract:o,accounts:c,recentlySignedInWallets:a}=t.payload;if(!c.length)return e;const u=e.accounts.findIndex(v=>v.active),h=c.map((v,b)=>Object.assign(Object.assign({},v),{active:b===(u>-1?u:0)}));return Object.assign(Object.assign({},e),{contract:o,accounts:h,selectedWalletId:n,recentlySignedInWallets:a})}case"WALLET_DISCONNECTED":{const{walletId:n}=t.payload;return n!==e.selectedWalletId?e:Object.assign(Object.assign({},e),{contract:null,accounts:[],selectedWalletId:null})}case"ACCOUNTS_CHANGED":{const{walletId:n,accounts:o}=t.payload;if(n!==e.selectedWalletId)return e;const c=e.accounts.find(h=>h.active),a=!o.some(h=>h.accountId===(c==null?void 0:c.accountId)),u=o.map((h,v)=>Object.assign(Object.assign({},h),{active:a?v===0:h.accountId===(c==null?void 0:c.accountId)}));return Object.assign(Object.assign({},e),{accounts:u})}case"SET_ACTIVE_ACCOUNT":{const{accountId:n}=t.payload,o=e.accounts.map(c=>Object.assign(Object.assign({},c),{active:c.accountId===n}));return Object.assign(Object.assign({},e),{accounts:o})}default:return e}},createStore=e=>__awaiter$15(void 0,void 0,void 0,function*(){const t=new JsonStorage(e,PACKAGE_NAME),n={modules:[],accounts:[],contract:yield t.getItem(CONTRACT),selectedWalletId:yield t.getItem(SELECTED_WALLET_ID),recentlySignedInWallets:(yield t.getItem(RECENTLY_SIGNED_IN_WALLETS))||[]},o=new BehaviorSubject(n),c=new Subject;c.pipe(scan(reducer,n)).subscribe(o);const a=(h,v,b,y)=>__awaiter$15(void 0,void 0,void 0,function*(){if(v[y]!==h[y]){if(v[y]){yield t.setItem(b,v[y]);return}yield t.removeItem(b)}});let u=o.getValue();return o.subscribe(h=>{a(u,h,SELECTED_WALLET_ID,"selectedWalletId"),a(u,h,CONTRACT,"contract"),a(u,h,RECENTLY_SIGNED_IN_WALLETS,"recentlySignedInWallets"),u=h}),{observable:o,getState:()=>o.getValue(),dispatch:h=>c.next(h),toReadOnly:()=>({getState:()=>o.getValue(),observable:o.asObservable()})}});let walletSelectorInstance=null;const createSelector=(e,t,n,o)=>({options:e,store:t.toReadOnly(),wallet:c=>__awaiter$15(void 0,void 0,void 0,function*(){const{selectedWalletId:a}=t.getState(),u=yield n.getWallet(c||a);if(!u)throw c?new Error("Invalid wallet id"):new Error("No wallet selected");return u}),setActiveAccount:c=>{const{accounts:a}=t.getState();if(!a.some(u=>u.accountId===c))throw new Error("Invalid account id");t.dispatch({type:"SET_ACTIVE_ACCOUNT",payload:{accountId:c}})},isSignedIn(){const{accounts:c}=t.getState();return!!c.length},on:(c,a)=>o.on(c,a),off:(c,a)=>{o.off(c,a)}}),setupWalletSelector=e=>__awaiter$15(void 0,void 0,void 0,function*(){const{options:t,storage:n}=resolveOptions(e);Logger$3.debug=t.debug;const o=new EventEmitter,c=yield createStore(n),a=new WalletModules({factories:e.modules,storage:n,options:t,store:c,emitter:o,provider:new Provider$3(t.network.nodeUrl)});return yield a.setup(),e.allowMultipleSelectors?createSelector(t,c,a,o):(walletSelectorInstance||(walletSelectorInstance=createSelector(t,c,a,o)),walletSelectorInstance)});var aCallable$1$5=aCallable$9$1,toObject$3$2=toObject$7$1,IndexedObject$1$3=indexedObject$6,lengthOfArrayLike$5$1=lengthOfArrayLike$8$1,$TypeError$2$5=TypeError,createMethod$2$1=function(e){return function(t,n,o,c){aCallable$1$5(n);var a=toObject$3$2(t),u=IndexedObject$1$3(a),h=lengthOfArrayLike$5$1(a),v=e?h-1:0,b=e?-1:1;if(o<2)for(;;){if(v in u){c=u[v],v+=b;break}if(v+=b,e?v<0:h<=v)throw $TypeError$2$5("Reduce of empty array with no initial value")}for(;e?v>=0:h>v;v+=b)v in u&&(c=n(c,u[v],v,a));return c}},arrayReduce={left:createMethod$2$1(!1),right:createMethod$2$1(!0)},fails$c$3=fails$s,arrayMethodIsStrict$1$1=function(e,t){var n=[][e];return!!n&&fails$c$3(function(){n.call(null,t||function(){return 1},1)})},$$3$3=_export$6,$reduce=arrayReduce.left,arrayMethodIsStrict$2=arrayMethodIsStrict$1$1,CHROME_VERSION=engineV8Version$6,IS_NODE$6=engineIsNode$3,STRICT_METHOD$1=arrayMethodIsStrict$2("reduce"),CHROME_BUG=!IS_NODE$6&&CHROME_VERSION>79&&CHROME_VERSION<83;$$3$3({target:"Array",proto:!0,forced:!STRICT_METHOD$1||CHROME_BUG},{reduce:function e(t){var n=arguments.length;return $reduce(this,t,n,n>1?arguments[1]:void 0)}});var anObject$3$6=anObject$e$2,regexpFlags$1$2=function(){var e=anObject$3$6(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},fails$b$3=fails$s,global$a$6=global$t,$RegExp$2$1=global$a$6.RegExp,UNSUPPORTED_Y$2=fails$b$3(function(){var e=$RegExp$2$1("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),MISSED_STICKY$1=UNSUPPORTED_Y$2||fails$b$3(function(){return!$RegExp$2$1("a","y").sticky}),BROKEN_CARET$1=UNSUPPORTED_Y$2||fails$b$3(function(){var e=$RegExp$2$1("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),regexpStickyHelpers$1={BROKEN_CARET:BROKEN_CARET$1,MISSED_STICKY:MISSED_STICKY$1,UNSUPPORTED_Y:UNSUPPORTED_Y$2},fails$a$5=fails$s,global$9$6=global$t,$RegExp$1$1=global$9$6.RegExp,regexpUnsupportedDotAll$1=fails$a$5(function(){var e=$RegExp$1$1(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),fails$9$5=fails$s,global$8$6=global$t,$RegExp$3=global$8$6.RegExp,regexpUnsupportedNcg$1=fails$9$5(function(){var e=$RegExp$3("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),call$6$5=functionCall$k,uncurryThis$8$5=functionUncurryThis$5,toString$2$5=toString$5$2,regexpFlags$6=regexpFlags$1$2,stickyHelpers$1=regexpStickyHelpers$1,shared$9=shared$4$2.exports,create$1$3=objectCreate$4,getInternalState$3$2=internalState$6.get,UNSUPPORTED_DOT_ALL$1=regexpUnsupportedDotAll$1,UNSUPPORTED_NCG$1=regexpUnsupportedNcg$1,nativeReplace$1=shared$9("native-string-replace",String.prototype.replace),nativeExec$1=RegExp.prototype.exec,patchedExec$1=nativeExec$1,charAt$2$1=uncurryThis$8$5("".charAt),indexOf$6=uncurryThis$8$5("".indexOf),replace$6=uncurryThis$8$5("".replace),stringSlice$2$2=uncurryThis$8$5("".slice),UPDATES_LAST_INDEX_WRONG$1=function(){var e=/a/,t=/b*/g;return call$6$5(nativeExec$1,e,"a"),call$6$5(nativeExec$1,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),UNSUPPORTED_Y$1$1=stickyHelpers$1.BROKEN_CARET,NPCG_INCLUDED$1=/()??/.exec("")[1]!==void 0,PATCH$1=UPDATES_LAST_INDEX_WRONG$1||NPCG_INCLUDED$1||UNSUPPORTED_Y$1$1||UNSUPPORTED_DOT_ALL$1||UNSUPPORTED_NCG$1;PATCH$1&&(patchedExec$1=function(e){var t=this,n=getInternalState$3$2(t),o=toString$2$5(e),c=n.raw,a,u,h,v,b,y,w;if(c)return c.lastIndex=t.lastIndex,a=call$6$5(patchedExec$1,c,o),t.lastIndex=c.lastIndex,a;var O=n.groups,P=UNSUPPORTED_Y$1$1&&t.sticky,C=call$6$5(regexpFlags$6,t),x=t.source,D=0,k=o;if(P&&(C=replace$6(C,"y",""),indexOf$6(C,"g")===-1&&(C+="g"),k=stringSlice$2$2(o,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&charAt$2$1(o,t.lastIndex-1)!==`
`)&&(x="(?: "+x+")",k=" "+k,D++),u=new RegExp("^(?:"+x+")",C)),NPCG_INCLUDED$1&&(u=new RegExp("^"+x+"$(?!\\s)",C)),UPDATES_LAST_INDEX_WRONG$1&&(h=t.lastIndex),v=call$6$5(nativeExec$1,P?u:t,k),P?v?(v.input=stringSlice$2$2(v.input,D),v[0]=stringSlice$2$2(v[0],D),v.index=t.lastIndex,t.lastIndex+=v[0].length):t.lastIndex=0:UPDATES_LAST_INDEX_WRONG$1&&v&&(t.lastIndex=t.global?v.index+v[0].length:h),NPCG_INCLUDED$1&&v&&v.length>1&&call$6$5(nativeReplace$1,v[0],u,function(){for(b=1;b<arguments.length-2;b++)arguments[b]===void 0&&(v[b]=void 0)}),v&&O)for(v.groups=y=create$1$3(null),b=0;b<O.length;b++)w=O[b],y[w[0]]=v[w[1]];return v});var regexpExec$3=patchedExec$1,$$2$3=_export$6,exec$1$2=regexpExec$3;$$2$3({target:"RegExp",proto:!0,forced:/./.exec!==exec$1$2},{exec:exec$1$2});var arrayBufferNative=typeof ArrayBuffer<"u"&&typeof DataView<"u",NATIVE_ARRAY_BUFFER$1=arrayBufferNative,DESCRIPTORS$2$6=descriptors$6,global$7$6=global$t,isCallable$2$5=isCallable$n$1,isObject$4$6=isObject$d$1,hasOwn$1$5=hasOwnProperty_1$5,classof$4$4=classof$9$1,tryToString$a=tryToString$5$1,createNonEnumerableProperty$3$4=createNonEnumerableProperty$8$1,defineBuiltIn$2$5=defineBuiltIn$8$1,defineProperty$1$5=objectDefineProperty$6.f,isPrototypeOf$1$5=objectIsPrototypeOf$5,getPrototypeOf$1$3=objectGetPrototypeOf$3,setPrototypeOf$3$1=objectSetPrototypeOf$4,wellKnownSymbol$2$6=wellKnownSymbol$j$1,uid$8=uid$3$1,InternalStateModule$2$4=internalState$6,enforceInternalState$1$1=InternalStateModule$2$4.enforce,getInternalState$2$2=InternalStateModule$2$4.get,Int8Array$4=global$7$6.Int8Array,Int8ArrayPrototype$1=Int8Array$4&&Int8Array$4.prototype,Uint8ClampedArray$1=global$7$6.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray$1&&Uint8ClampedArray$1.prototype,TypedArray$1=Int8Array$4&&getPrototypeOf$1$3(Int8Array$4),TypedArrayPrototype$1=Int8ArrayPrototype$1&&getPrototypeOf$1$3(Int8ArrayPrototype$1),ObjectPrototype$1$1=Object.prototype,TypeError$1$6=global$7$6.TypeError,TO_STRING_TAG$8=wellKnownSymbol$2$6("toStringTag"),TYPED_ARRAY_TAG$1=uid$8("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR="TypedArrayConstructor",NATIVE_ARRAY_BUFFER_VIEWS$2=NATIVE_ARRAY_BUFFER$1&&!!setPrototypeOf$3$1&&classof$4$4(global$7$6.opera)!=="Opera",TYPED_ARRAY_TAG_REQUIRED=!1,NAME,Constructor,Prototype,TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},isView=function e(t){if(!isObject$4$6(t))return!1;var n=classof$4$4(t);return n==="DataView"||hasOwn$1$5(TypedArrayConstructorsList,n)||hasOwn$1$5(BigIntArrayConstructorsList,n)},getTypedArrayConstructor=function(e){var t=getPrototypeOf$1$3(e);if(isObject$4$6(t)){var n=getInternalState$2$2(t);return n&&hasOwn$1$5(n,TYPED_ARRAY_CONSTRUCTOR)?n[TYPED_ARRAY_CONSTRUCTOR]:getTypedArrayConstructor(t)}},isTypedArray$1=function(e){if(!isObject$4$6(e))return!1;var t=classof$4$4(e);return hasOwn$1$5(TypedArrayConstructorsList,t)||hasOwn$1$5(BigIntArrayConstructorsList,t)},aTypedArray$4=function(e){if(isTypedArray$1(e))return e;throw TypeError$1$6("Target is not a typed array")},aTypedArrayConstructor$2=function(e){if(isCallable$2$5(e)&&(!setPrototypeOf$3$1||isPrototypeOf$1$5(TypedArray$1,e)))return e;throw TypeError$1$6(tryToString$a(e)+" is not a typed array constructor")},exportTypedArrayMethod$4=function(e,t,n,o){if(DESCRIPTORS$2$6){if(n)for(var c in TypedArrayConstructorsList){var a=global$7$6[c];if(a&&hasOwn$1$5(a.prototype,e))try{delete a.prototype[e]}catch{try{a.prototype[e]=t}catch{}}}(!TypedArrayPrototype$1[e]||n)&&defineBuiltIn$2$5(TypedArrayPrototype$1,e,n?t:NATIVE_ARRAY_BUFFER_VIEWS$2&&Int8ArrayPrototype$1[e]||t,o)}},exportTypedArrayStaticMethod$1=function(e,t,n){var o,c;if(DESCRIPTORS$2$6){if(setPrototypeOf$3$1){if(n){for(o in TypedArrayConstructorsList)if(c=global$7$6[o],c&&hasOwn$1$5(c,e))try{delete c[e]}catch{}}if(!TypedArray$1[e]||n)try{return defineBuiltIn$2$5(TypedArray$1,e,n?t:NATIVE_ARRAY_BUFFER_VIEWS$2&&TypedArray$1[e]||t)}catch{}else return}for(o in TypedArrayConstructorsList)c=global$7$6[o],c&&(!c[e]||n)&&defineBuiltIn$2$5(c,e,t)}};for(NAME in TypedArrayConstructorsList)Constructor=global$7$6[NAME],Prototype=Constructor&&Constructor.prototype,Prototype?enforceInternalState$1$1(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor:NATIVE_ARRAY_BUFFER_VIEWS$2=!1;for(NAME in BigIntArrayConstructorsList)Constructor=global$7$6[NAME],Prototype=Constructor&&Constructor.prototype,Prototype&&(enforceInternalState$1$1(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS$2||!isCallable$2$5(TypedArray$1)||TypedArray$1===Function.prototype)&&(TypedArray$1=function(){throw TypeError$1$6("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS$2))for(NAME in TypedArrayConstructorsList)global$7$6[NAME]&&setPrototypeOf$3$1(global$7$6[NAME],TypedArray$1);if((!NATIVE_ARRAY_BUFFER_VIEWS$2||!TypedArrayPrototype$1||TypedArrayPrototype$1===ObjectPrototype$1$1)&&(TypedArrayPrototype$1=TypedArray$1.prototype,NATIVE_ARRAY_BUFFER_VIEWS$2))for(NAME in TypedArrayConstructorsList)global$7$6[NAME]&&setPrototypeOf$3$1(global$7$6[NAME].prototype,TypedArrayPrototype$1);if(NATIVE_ARRAY_BUFFER_VIEWS$2&&getPrototypeOf$1$3(Uint8ClampedArrayPrototype)!==TypedArrayPrototype$1&&setPrototypeOf$3$1(Uint8ClampedArrayPrototype,TypedArrayPrototype$1),DESCRIPTORS$2$6&&!hasOwn$1$5(TypedArrayPrototype$1,TO_STRING_TAG$8)){TYPED_ARRAY_TAG_REQUIRED=!0,defineProperty$1$5(TypedArrayPrototype$1,TO_STRING_TAG$8,{get:function(){return isObject$4$6(this)?this[TYPED_ARRAY_TAG$1]:void 0}});for(NAME in TypedArrayConstructorsList)global$7$6[NAME]&&createNonEnumerableProperty$3$4(global$7$6[NAME],TYPED_ARRAY_TAG$1,NAME)}var arrayBufferViewCore={NATIVE_ARRAY_BUFFER_VIEWS:NATIVE_ARRAY_BUFFER_VIEWS$2,TYPED_ARRAY_TAG:TYPED_ARRAY_TAG_REQUIRED&&TYPED_ARRAY_TAG$1,aTypedArray:aTypedArray$4,aTypedArrayConstructor:aTypedArrayConstructor$2,exportTypedArrayMethod:exportTypedArrayMethod$4,exportTypedArrayStaticMethod:exportTypedArrayStaticMethod$1,getTypedArrayConstructor,isView,isTypedArray:isTypedArray$1,TypedArray:TypedArray$1,TypedArrayPrototype:TypedArrayPrototype$1},global$6$6=global$t,fails$8$6=fails$s,checkCorrectnessOfIteration$5=checkCorrectnessOfIteration$2$1,NATIVE_ARRAY_BUFFER_VIEWS$1=arrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS,ArrayBuffer$3=global$6$6.ArrayBuffer,Int8Array$3=global$6$6.Int8Array,typedArrayConstructorsRequireWrappers=!NATIVE_ARRAY_BUFFER_VIEWS$1||!fails$8$6(function(){Int8Array$3(1)})||!fails$8$6(function(){new Int8Array$3(-1)})||!checkCorrectnessOfIteration$5(function(e){new Int8Array$3,new Int8Array$3(null),new Int8Array$3(1.5),new Int8Array$3(e)},!0)||fails$8$6(function(){return new Int8Array$3(new ArrayBuffer$3(2),1,void 0).length!==1}),bind$1$4=functionBindContext$4,call$5$5=functionCall$k,aConstructor$4=aConstructor$2$1,toObject$2$5=toObject$7$1,lengthOfArrayLike$4$2=lengthOfArrayLike$8$1,getIterator$6=getIterator$2$1,getIteratorMethod$7=getIteratorMethod$3$2,isArrayIteratorMethod$5=isArrayIteratorMethod$2$2,aTypedArrayConstructor$1=arrayBufferViewCore.aTypedArrayConstructor,typedArrayFrom$2=function e(t){var n=aConstructor$4(this),o=toObject$2$5(t),c=arguments.length,a=c>1?arguments[1]:void 0,u=a!==void 0,h=getIteratorMethod$7(o),v,b,y,w,O,P;if(h&&!isArrayIteratorMethod$5(h))for(O=getIterator$6(o,h),P=O.next,o=[];!(w=call$5$5(P,O)).done;)o.push(w.value);for(u&&c>2&&(a=bind$1$4(a,arguments[2])),b=lengthOfArrayLike$4$2(o),y=new(aTypedArrayConstructor$1(n))(b),v=0;b>v;v++)y[v]=u?a(o[v],v):o[v];return y},TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1=typedArrayConstructorsRequireWrappers,exportTypedArrayStaticMethod=arrayBufferViewCore.exportTypedArrayStaticMethod,typedArrayFrom$1=typedArrayFrom$2;exportTypedArrayStaticMethod("from",typedArrayFrom$1,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1);var defineBuiltIn$1$5=defineBuiltIn$8$1,defineBuiltIns$1$1=function(e,t,n){for(var o in t)defineBuiltIn$1$5(e,o,t[o],n);return e},toIntegerOrInfinity$3$2=toIntegerOrInfinity$6$1,toLength$4$1=toLength$6$1,$RangeError$2=RangeError,toIndex$2=function(e){if(e===void 0)return 0;var t=toIntegerOrInfinity$3$2(e),n=toLength$4$1(t);if(t!==n)throw $RangeError$2("Wrong length or index");return n},$Array$2$1=Array,abs=Math.abs,pow$2=Math.pow,floor$2$2=Math.floor,log=Math.log,LN2=Math.LN2,pack=function(e,t,n){var o=$Array$2$1(n),c=n*8-t-1,a=(1<<c)-1,u=a>>1,h=t===23?pow$2(2,-24)-pow$2(2,-77):0,v=e<0||e===0&&1/e<0?1:0,b=0,y,w,O;for(e=abs(e),e!=e||e===1/0?(w=e!=e?1:0,y=a):(y=floor$2$2(log(e)/LN2),O=pow$2(2,-y),e*O<1&&(y--,O*=2),y+u>=1?e+=h/O:e+=h*pow$2(2,1-u),e*O>=2&&(y++,O/=2),y+u>=a?(w=0,y=a):y+u>=1?(w=(e*O-1)*pow$2(2,t),y=y+u):(w=e*pow$2(2,u-1)*pow$2(2,t),y=0));t>=8;)o[b++]=w&255,w/=256,t-=8;for(y=y<<t|w,c+=t;c>0;)o[b++]=y&255,y/=256,c-=8;return o[--b]|=v*128,o},unpack=function(e,t){var n=e.length,o=n*8-t-1,c=(1<<o)-1,a=c>>1,u=o-7,h=n-1,v=e[h--],b=v&127,y;for(v>>=7;u>0;)b=b*256+e[h--],u-=8;for(y=b&(1<<-u)-1,b>>=-u,u+=t;u>0;)y=y*256+e[h--],u-=8;if(b===0)b=1-a;else{if(b===c)return y?NaN:v?-1/0:1/0;y=y+pow$2(2,t),b=b-a}return(v?-1:1)*y*pow$2(2,b-t)},ieee754={pack,unpack},toObject$1$6=toObject$7$1,toAbsoluteIndex$2$2=toAbsoluteIndex$4$1,lengthOfArrayLike$3$2=lengthOfArrayLike$8$1,arrayFill$1=function e(t){for(var n=toObject$1$6(this),o=lengthOfArrayLike$3$2(n),c=arguments.length,a=toAbsoluteIndex$2$2(c>1?arguments[1]:void 0,o),u=c>2?arguments[2]:void 0,h=u===void 0?o:toAbsoluteIndex$2$2(u,o);h>a;)n[a++]=t;return n},toPropertyKey$1$5=toPropertyKey$4$1,definePropertyModule$1$6=objectDefineProperty$6,createPropertyDescriptor$1$6=createPropertyDescriptor$5$2,createProperty$1$2=function(e,t,n){var o=toPropertyKey$1$5(t);o in e?definePropertyModule$1$6.f(e,o,createPropertyDescriptor$1$6(0,n)):e[o]=n},toAbsoluteIndex$1$6=toAbsoluteIndex$4$1,lengthOfArrayLike$2$3=lengthOfArrayLike$8$1,createProperty$4=createProperty$1$2,$Array$1$1=Array,max$7=Math.max,arraySliceSimple$2=function(e,t,n){for(var o=lengthOfArrayLike$2$3(e),c=toAbsoluteIndex$1$6(t,o),a=toAbsoluteIndex$1$6(n===void 0?o:n,o),u=$Array$1$1(max$7(a-c,0)),h=0;c<a;c++,h++)createProperty$4(u,h,e[c]);return u.length=h,u},global$5$6=global$t,uncurryThis$7$5=functionUncurryThis$5,DESCRIPTORS$1$6=descriptors$6,NATIVE_ARRAY_BUFFER=arrayBufferNative,FunctionName$2=functionName$5,createNonEnumerableProperty$2$6=createNonEnumerableProperty$8$1,defineBuiltIns$2=defineBuiltIns$1$1,fails$7$6=fails$s,anInstance$1$4=anInstance$3$1,toIntegerOrInfinity$2$5=toIntegerOrInfinity$6$1,toLength$3$1=toLength$6$1,toIndex$1=toIndex$2,IEEE754=ieee754,getPrototypeOf$4=objectGetPrototypeOf$3,setPrototypeOf$2$1=objectSetPrototypeOf$4,getOwnPropertyNames$1=objectGetOwnPropertyNames$6.f,defineProperty$a=objectDefineProperty$6.f,arrayFill=arrayFill$1,arraySlice$3$1=arraySliceSimple$2,setToStringTag$8=setToStringTag$4$2,InternalStateModule$1$4=internalState$6,PROPER_FUNCTION_NAME$5=FunctionName$2.PROPER,CONFIGURABLE_FUNCTION_NAME$5=FunctionName$2.CONFIGURABLE,getInternalState$1$4=InternalStateModule$1$4.get,setInternalState$1$3=InternalStateModule$1$4.set,ARRAY_BUFFER="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE$4="prototype",WRONG_LENGTH$1="Wrong length",WRONG_INDEX="Wrong index",NativeArrayBuffer=global$5$6[ARRAY_BUFFER],$ArrayBuffer=NativeArrayBuffer,ArrayBufferPrototype$1=$ArrayBuffer&&$ArrayBuffer[PROTOTYPE$4],$DataView=global$5$6[DATA_VIEW],DataViewPrototype$1=$DataView&&$DataView[PROTOTYPE$4],ObjectPrototype$3=Object.prototype,Array$1=global$5$6.Array,RangeError$3=global$5$6.RangeError,fill=uncurryThis$7$5(arrayFill),reverse=uncurryThis$7$5([].reverse),packIEEE754=IEEE754.pack,unpackIEEE754=IEEE754.unpack,packInt8=function(e){return[e&255]},packInt16=function(e){return[e&255,e>>8&255]},packInt32=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},unpackInt32=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},packFloat32=function(e){return packIEEE754(e,23,4)},packFloat64=function(e){return packIEEE754(e,52,8)},addGetter$1=function(e,t){defineProperty$a(e[PROTOTYPE$4],t,{get:function(){return getInternalState$1$4(this)[t]}})},get$8=function(e,t,n,o){var c=toIndex$1(n),a=getInternalState$1$4(e);if(c+t>a.byteLength)throw RangeError$3(WRONG_INDEX);var u=getInternalState$1$4(a.buffer).bytes,h=c+a.byteOffset,v=arraySlice$3$1(u,h,h+t);return o?v:reverse(v)},set$9=function(e,t,n,o,c,a){var u=toIndex$1(n),h=getInternalState$1$4(e);if(u+t>h.byteLength)throw RangeError$3(WRONG_INDEX);for(var v=getInternalState$1$4(h.buffer).bytes,b=u+h.byteOffset,y=o(+c),w=0;w<t;w++)v[b+w]=y[a?w:t-w-1]};if(!NATIVE_ARRAY_BUFFER)$ArrayBuffer=function(e){anInstance$1$4(this,ArrayBufferPrototype$1);var t=toIndex$1(e);setInternalState$1$3(this,{bytes:fill(Array$1(t),0),byteLength:t}),DESCRIPTORS$1$6||(this.byteLength=t)},ArrayBufferPrototype$1=$ArrayBuffer[PROTOTYPE$4],$DataView=function(e,t,n){anInstance$1$4(this,DataViewPrototype$1),anInstance$1$4(e,ArrayBufferPrototype$1);var o=getInternalState$1$4(e).byteLength,c=toIntegerOrInfinity$2$5(t);if(c<0||c>o)throw RangeError$3("Wrong offset");if(n=n===void 0?o-c:toLength$3$1(n),c+n>o)throw RangeError$3(WRONG_LENGTH$1);setInternalState$1$3(this,{buffer:e,byteLength:n,byteOffset:c}),DESCRIPTORS$1$6||(this.buffer=e,this.byteLength=n,this.byteOffset=c)},DataViewPrototype$1=$DataView[PROTOTYPE$4],DESCRIPTORS$1$6&&(addGetter$1($ArrayBuffer,"byteLength"),addGetter$1($DataView,"buffer"),addGetter$1($DataView,"byteLength"),addGetter$1($DataView,"byteOffset")),defineBuiltIns$2(DataViewPrototype$1,{getInt8:function(e){return get$8(this,1,e)[0]<<24>>24},getUint8:function(e){return get$8(this,1,e)[0]},getInt16:function(e){var t=get$8(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=get$8(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return unpackInt32(get$8(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return unpackInt32(get$8(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return unpackIEEE754(get$8(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return unpackIEEE754(get$8(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){set$9(this,1,e,packInt8,t)},setUint8:function(e,t){set$9(this,1,e,packInt8,t)},setInt16:function(e,t){set$9(this,2,e,packInt16,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){set$9(this,2,e,packInt16,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){set$9(this,4,e,packInt32,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){set$9(this,4,e,packInt32,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){set$9(this,4,e,packFloat32,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){set$9(this,8,e,packFloat64,t,arguments.length>2?arguments[2]:void 0)}});else{var INCORRECT_ARRAY_BUFFER_NAME=PROPER_FUNCTION_NAME$5&&NativeArrayBuffer.name!==ARRAY_BUFFER;if(!fails$7$6(function(){NativeArrayBuffer(1)})||!fails$7$6(function(){new NativeArrayBuffer(-1)})||fails$7$6(function(){return new NativeArrayBuffer,new NativeArrayBuffer(1.5),new NativeArrayBuffer(NaN),INCORRECT_ARRAY_BUFFER_NAME&&!CONFIGURABLE_FUNCTION_NAME$5})){$ArrayBuffer=function(e){return anInstance$1$4(this,ArrayBufferPrototype$1),new NativeArrayBuffer(toIndex$1(e))},$ArrayBuffer[PROTOTYPE$4]=ArrayBufferPrototype$1;for(var keys$6=getOwnPropertyNames$1(NativeArrayBuffer),j=0,key;keys$6.length>j;)(key=keys$6[j++])in $ArrayBuffer||createNonEnumerableProperty$2$6($ArrayBuffer,key,NativeArrayBuffer[key]);ArrayBufferPrototype$1.constructor=$ArrayBuffer}else INCORRECT_ARRAY_BUFFER_NAME&&CONFIGURABLE_FUNCTION_NAME$5&&createNonEnumerableProperty$2$6(NativeArrayBuffer,"name",ARRAY_BUFFER);setPrototypeOf$2$1&&getPrototypeOf$4(DataViewPrototype$1)!==ObjectPrototype$3&&setPrototypeOf$2$1(DataViewPrototype$1,ObjectPrototype$3);var testView=new $DataView(new $ArrayBuffer(2)),$setInt8=uncurryThis$7$5(DataViewPrototype$1.setInt8);testView.setInt8(0,2147483648),testView.setInt8(1,2147483649),(testView.getInt8(0)||!testView.getInt8(1))&&defineBuiltIns$2(DataViewPrototype$1,{setInt8:function(e,t){$setInt8(this,e,t<<24>>24)},setUint8:function(e,t){$setInt8(this,e,t<<24>>24)}},{unsafe:!0})}setToStringTag$8($ArrayBuffer,ARRAY_BUFFER),setToStringTag$8($DataView,DATA_VIEW);var arrayBuffer={ArrayBuffer:$ArrayBuffer,DataView:$DataView},$$1$4=_export$6,uncurryThis$6$5=functionUncurryThis$5,fails$6$6=fails$s,ArrayBufferModule$1=arrayBuffer,anObject$2$6=anObject$e$2,toAbsoluteIndex$8=toAbsoluteIndex$4$1,toLength$2$3=toLength$6$1,speciesConstructor$1$4=speciesConstructor$3$1,ArrayBuffer$2=ArrayBufferModule$1.ArrayBuffer,DataView$2=ArrayBufferModule$1.DataView,DataViewPrototype=DataView$2.prototype,un$ArrayBufferSlice=uncurryThis$6$5(ArrayBuffer$2.prototype.slice),getUint8=uncurryThis$6$5(DataViewPrototype.getUint8),setUint8=uncurryThis$6$5(DataViewPrototype.setUint8),INCORRECT_SLICE=fails$6$6(function(){return!new ArrayBuffer$2(2).slice(1,void 0).byteLength});$$1$4({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:INCORRECT_SLICE},{slice:function e(t,n){if(un$ArrayBufferSlice&&n===void 0)return un$ArrayBufferSlice(anObject$2$6(this),t);for(var o=anObject$2$6(this).byteLength,c=toAbsoluteIndex$8(t,o),a=toAbsoluteIndex$8(n===void 0?o:n,o),u=new(speciesConstructor$1$4(this,ArrayBuffer$2))(toLength$2$3(a-c)),h=new DataView$2(this),v=new DataView$2(u),b=0;c<a;)setUint8(v,b++,getUint8(h,c++));return u}});var typedArrayConstructor={exports:{}},isObject$3$6=isObject$d$1,floor$1$2=Math.floor,isIntegralNumber$1=Number.isInteger||function e(t){return!isObject$3$6(t)&&isFinite(t)&&floor$1$2(t)===t},toIntegerOrInfinity$1$5=toIntegerOrInfinity$6$1,$RangeError$1=RangeError,toPositiveInteger$1=function(e){var t=toIntegerOrInfinity$1$5(e);if(t<0)throw $RangeError$1("The argument can't be less than 0");return t},toPositiveInteger=toPositiveInteger$1,$RangeError$3=RangeError,toOffset$2=function(e,t){var n=toPositiveInteger(e);if(n%t)throw $RangeError$3("Wrong offset");return n},classof$3$4=classofRaw$1$6,isArray$1=Array.isArray||function e(t){return classof$3$4(t)=="Array"},isArray=isArray$1,isConstructor$5=isConstructor$2$1,isObject$2$6=isObject$d$1,wellKnownSymbol$1$6=wellKnownSymbol$j$1,SPECIES$1$4=wellKnownSymbol$1$6("species"),$Array$3=Array,arraySpeciesConstructor$1=function(e){var t;return isArray(e)&&(t=e.constructor,isConstructor$5(t)&&(t===$Array$3||isArray(t.prototype))?t=void 0:isObject$2$6(t)&&(t=t[SPECIES$1$4],t===null&&(t=void 0))),t===void 0?$Array$3:t},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$1=function(e,t){return new(arraySpeciesConstructor(e))(t===0?0:t)},bind$b=functionBindContext$4,uncurryThis$5$5=functionUncurryThis$5,IndexedObject$7=indexedObject$6,toObject$8=toObject$7$1,lengthOfArrayLike$1$5=lengthOfArrayLike$8$1,arraySpeciesCreate=arraySpeciesCreate$1,push$1$2=uncurryThis$5$5([].push),createMethod$1$2=function(e){var t=e==1,n=e==2,o=e==3,c=e==4,a=e==6,u=e==7,h=e==5||a;return function(v,b,y,w){for(var O=toObject$8(v),P=IndexedObject$7(O),C=bind$b(b,y),x=lengthOfArrayLike$1$5(P),D=0,k=w||arraySpeciesCreate,B=t?k(v,x):n||u?k(v,0):void 0,q,V;x>D;D++)if((h||D in P)&&(q=P[D],V=C(q,D,O),e))if(t)B[D]=V;else if(V)switch(e){case 3:return!0;case 5:return q;case 6:return D;case 2:push$1$2(B,q)}else switch(e){case 4:return!1;case 7:push$1$2(B,q)}return a?-1:o||c?c:B}},arrayIteration={forEach:createMethod$1$2(0),map:createMethod$1$2(1),filter:createMethod$1$2(2),some:createMethod$1$2(3),every:createMethod$1$2(4),find:createMethod$1$2(5),findIndex:createMethod$1$2(6),filterReject:createMethod$1$2(7)},isCallable$1$5=isCallable$n$1,isObject$1$6=isObject$d$1,setPrototypeOf$1$3=objectSetPrototypeOf$4,inheritIfRequired$1=function(e,t,n){var o,c;return setPrototypeOf$1$3&&isCallable$1$5(o=t.constructor)&&o!==n&&isObject$1$6(c=o.prototype)&&c!==n.prototype&&setPrototypeOf$1$3(e,c),e},$$g=_export$6,global$4$6=global$t,call$4$5=functionCall$k,DESCRIPTORS$f=descriptors$6,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS=typedArrayConstructorsRequireWrappers,ArrayBufferViewCore$4=arrayBufferViewCore,ArrayBufferModule=arrayBuffer,anInstance$6=anInstance$3$1,createPropertyDescriptor$9=createPropertyDescriptor$5$2,createNonEnumerableProperty$1$6=createNonEnumerableProperty$8$1,isIntegralNumber=isIntegralNumber$1,toLength$1$6=toLength$6$1,toIndex=toIndex$2,toOffset$1=toOffset$2,toPropertyKey$8=toPropertyKey$4$1,hasOwn$f=hasOwnProperty_1$5,classof$2$6=classof$9$1,isObject$k=isObject$d$1,isSymbol$7=isSymbol$3$1,create$6=objectCreate$4,isPrototypeOf$9=objectIsPrototypeOf$5,setPrototypeOf$6=objectSetPrototypeOf$4,getOwnPropertyNames=objectGetOwnPropertyNames$6.f,typedArrayFrom=typedArrayFrom$2,forEach=arrayIteration.forEach,setSpecies$5=setSpecies$2$1,definePropertyModule$b=objectDefineProperty$6,getOwnPropertyDescriptorModule$6=objectGetOwnPropertyDescriptor$6,InternalStateModule$8=internalState$6,inheritIfRequired=inheritIfRequired$1,getInternalState$7=InternalStateModule$8.get,setInternalState$7=InternalStateModule$8.set,enforceInternalState$6=InternalStateModule$8.enforce,nativeDefineProperty$1=definePropertyModule$b.f,nativeGetOwnPropertyDescriptor$1=getOwnPropertyDescriptorModule$6.f,round=Math.round,RangeError$2=global$4$6.RangeError,ArrayBuffer$1=ArrayBufferModule.ArrayBuffer,ArrayBufferPrototype=ArrayBuffer$1.prototype,DataView$1=ArrayBufferModule.DataView,NATIVE_ARRAY_BUFFER_VIEWS=ArrayBufferViewCore$4.NATIVE_ARRAY_BUFFER_VIEWS,TYPED_ARRAY_TAG=ArrayBufferViewCore$4.TYPED_ARRAY_TAG,TypedArray=ArrayBufferViewCore$4.TypedArray,TypedArrayPrototype=ArrayBufferViewCore$4.TypedArrayPrototype,aTypedArrayConstructor=ArrayBufferViewCore$4.aTypedArrayConstructor,isTypedArray=ArrayBufferViewCore$4.isTypedArray,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",WRONG_LENGTH="Wrong length",fromList=function(e,t){aTypedArrayConstructor(e);for(var n=0,o=t.length,c=new e(o);o>n;)c[n]=t[n++];return c},addGetter=function(e,t){nativeDefineProperty$1(e,t,{get:function(){return getInternalState$7(this)[t]}})},isArrayBuffer=function(e){var t;return isPrototypeOf$9(ArrayBufferPrototype,e)||(t=classof$2$6(e))=="ArrayBuffer"||t=="SharedArrayBuffer"},isTypedArrayIndex=function(e,t){return isTypedArray(e)&&!isSymbol$7(t)&&t in e&&isIntegralNumber(+t)&&t>=0},wrappedGetOwnPropertyDescriptor=function e(t,n){return n=toPropertyKey$8(n),isTypedArrayIndex(t,n)?createPropertyDescriptor$9(2,t[n]):nativeGetOwnPropertyDescriptor$1(t,n)},wrappedDefineProperty=function e(t,n,o){return n=toPropertyKey$8(n),isTypedArrayIndex(t,n)&&isObject$k(o)&&hasOwn$f(o,"value")&&!hasOwn$f(o,"get")&&!hasOwn$f(o,"set")&&!o.configurable&&(!hasOwn$f(o,"writable")||o.writable)&&(!hasOwn$f(o,"enumerable")||o.enumerable)?(t[n]=o.value,t):nativeDefineProperty$1(t,n,o)};DESCRIPTORS$f?(NATIVE_ARRAY_BUFFER_VIEWS||(getOwnPropertyDescriptorModule$6.f=wrappedGetOwnPropertyDescriptor,definePropertyModule$b.f=wrappedDefineProperty,addGetter(TypedArrayPrototype,"buffer"),addGetter(TypedArrayPrototype,"byteOffset"),addGetter(TypedArrayPrototype,"byteLength"),addGetter(TypedArrayPrototype,"length")),$$g({target:"Object",stat:!0,forced:!NATIVE_ARRAY_BUFFER_VIEWS},{getOwnPropertyDescriptor:wrappedGetOwnPropertyDescriptor,defineProperty:wrappedDefineProperty}),typedArrayConstructor.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,c=e+(n?"Clamped":"")+"Array",a="get"+e,u="set"+e,h=global$4$6[c],v=h,b=v&&v.prototype,y={},w=function(x,D){var k=getInternalState$7(x);return k.view[a](D*o+k.byteOffset,!0)},O=function(x,D,k){var B=getInternalState$7(x);n&&(k=(k=round(k))<0?0:k>255?255:k&255),B.view[u](D*o+B.byteOffset,k,!0)},P=function(x,D){nativeDefineProperty$1(x,D,{get:function(){return w(this,D)},set:function(k){return O(this,D,k)},enumerable:!0})};NATIVE_ARRAY_BUFFER_VIEWS?TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS&&(v=t(function(x,D,k,B){return anInstance$6(x,b),inheritIfRequired(function(){return isObject$k(D)?isArrayBuffer(D)?B!==void 0?new h(D,toOffset$1(k,o),B):k!==void 0?new h(D,toOffset$1(k,o)):new h(D):isTypedArray(D)?fromList(v,D):call$4$5(typedArrayFrom,v,D):new h(toIndex(D))}(),x,v)}),setPrototypeOf$6&&setPrototypeOf$6(v,TypedArray),forEach(getOwnPropertyNames(h),function(x){x in v||createNonEnumerableProperty$1$6(v,x,h[x])}),v.prototype=b):(v=t(function(x,D,k,B){anInstance$6(x,b);var q=0,V=0,ee,te,ce;if(!isObject$k(D))ce=toIndex(D),te=ce*o,ee=new ArrayBuffer$1(te);else if(isArrayBuffer(D)){ee=D,V=toOffset$1(k,o);var Q=D.byteLength;if(B===void 0){if(Q%o||(te=Q-V,te<0))throw RangeError$2(WRONG_LENGTH)}else if(te=toLength$1$6(B)*o,te+V>Q)throw RangeError$2(WRONG_LENGTH);ce=te/o}else return isTypedArray(D)?fromList(v,D):call$4$5(typedArrayFrom,v,D);for(setInternalState$7(x,{buffer:ee,byteOffset:V,byteLength:te,length:ce,view:new DataView$1(ee)});q<ce;)P(x,q++)}),setPrototypeOf$6&&setPrototypeOf$6(v,TypedArray),b=v.prototype=create$6(TypedArrayPrototype)),b.constructor!==v&&createNonEnumerableProperty$1$6(b,"constructor",v),enforceInternalState$6(b).TypedArrayConstructor=v,TYPED_ARRAY_TAG&&createNonEnumerableProperty$1$6(b,TYPED_ARRAY_TAG,c);var C=v!=h;y[c]=v,$$g({global:!0,constructor:!0,forced:C,sham:!NATIVE_ARRAY_BUFFER_VIEWS},y),BYTES_PER_ELEMENT in v||createNonEnumerableProperty$1$6(v,BYTES_PER_ELEMENT,o),BYTES_PER_ELEMENT in b||createNonEnumerableProperty$1$6(b,BYTES_PER_ELEMENT,o),setSpecies$5(c)}):typedArrayConstructor.exports=function(){};var createTypedArrayConstructor=typedArrayConstructor.exports;createTypedArrayConstructor("Uint8",function(e){return function(t,n,o){return e(this,t,n,o)}});var toPrimitive$7=toPrimitive$2$2,$TypeError$1$5=TypeError,toBigInt$1=function(e){var t=toPrimitive$7(e,"number");if(typeof t=="number")throw $TypeError$1$5("Can't convert number to bigint");return BigInt(t)},ArrayBufferViewCore$3=arrayBufferViewCore,$fill=arrayFill$1,toBigInt=toBigInt$1,classof$1$6=classof$9$1,call$3$5=functionCall$k,uncurryThis$4$5=functionUncurryThis$5,fails$5$6=fails$s,aTypedArray$3=ArrayBufferViewCore$3.aTypedArray,exportTypedArrayMethod$3=ArrayBufferViewCore$3.exportTypedArrayMethod,slice=uncurryThis$4$5("".slice),CONVERSION_BUG=fails$5$6(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});exportTypedArrayMethod$3("fill",function e(t){var n=arguments.length;aTypedArray$3(this);var o=slice(classof$1$6(this),0,3)==="Big"?toBigInt(t):+t;return call$3$5($fill,this,o,n>1?arguments[1]:void 0,n>2?arguments[2]:void 0)},CONVERSION_BUG);var global$3$6=global$t,call$2$5=functionCall$k,ArrayBufferViewCore$2=arrayBufferViewCore,lengthOfArrayLike$9=lengthOfArrayLike$8$1,toOffset=toOffset$2,toIndexedObject$a=toObject$7$1,fails$4$6=fails$s,RangeError$1=global$3$6.RangeError,Int8Array$2=global$3$6.Int8Array,Int8ArrayPrototype=Int8Array$2&&Int8Array$2.prototype,$set=Int8ArrayPrototype&&Int8ArrayPrototype.set,aTypedArray$2=ArrayBufferViewCore$2.aTypedArray,exportTypedArrayMethod$2=ArrayBufferViewCore$2.exportTypedArrayMethod,WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS=!fails$4$6(function(){var e=new Uint8ClampedArray(2);return call$2$5($set,e,{length:1,0:3},1),e[1]!==3}),TO_OBJECT_BUG=WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS&&ArrayBufferViewCore$2.NATIVE_ARRAY_BUFFER_VIEWS&&fails$4$6(function(){var e=new Int8Array$2(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});exportTypedArrayMethod$2("set",function e(t){aTypedArray$2(this);var n=toOffset(arguments.length>1?arguments[1]:void 0,1),o=toIndexedObject$a(t);if(WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS)return call$2$5($set,this,o,n);var c=this.length,a=lengthOfArrayLike$9(o),u=0;if(a+n>c)throw RangeError$1("Wrong length");for(;u<a;)this[n+u]=o[u++]},!WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS||TO_OBJECT_BUG);var arraySlice$2$2=arraySliceSimple$2,floor$7=Math.floor,mergeSort$2=function(e,t){var n=e.length,o=floor$7(n/2);return n<8?insertionSort$2(e,t):merge$2(e,mergeSort$2(arraySlice$2$2(e,0,o),t),mergeSort$2(arraySlice$2$2(e,o),t),t)},insertionSort$2=function(e,t){for(var n=e.length,o=1,c,a;o<n;){for(a=o,c=e[o];a&&t(e[a-1],c)>0;)e[a]=e[--a];a!==o++&&(e[a]=c)}return e},merge$2=function(e,t,n,o){for(var c=t.length,a=n.length,u=0,h=0;u<c||h<a;)e[u+h]=u<c&&h<a?o(t[u],n[h])<=0?t[u++]:n[h++]:u<c?t[u++]:n[h++];return e},arraySort$3=mergeSort$2,userAgent$1$4=engineUserAgent$6,firefox$1=userAgent$1$4.match(/firefox\/(\d+)/i),engineFfVersion$1=!!firefox$1&&+firefox$1[1],UA$1=engineUserAgent$6,engineIsIeOrEdge$1=/MSIE|Trident/.test(UA$1),userAgent$b=engineUserAgent$6,webkit$1=userAgent$b.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion$1=!!webkit$1&&+webkit$1[1],global$2$6=global$t,uncurryThis$3$5=functionUncurryThis$5,fails$3$6=fails$s,aCallable$d=aCallable$9$1,internalSort$1=arraySort$3,ArrayBufferViewCore$1=arrayBufferViewCore,FF$1=engineFfVersion$1,IE_OR_EDGE$1=engineIsIeOrEdge$1,V8$1=engineV8Version$6,WEBKIT$1=engineWebkitVersion$1,aTypedArray$1=ArrayBufferViewCore$1.aTypedArray,exportTypedArrayMethod$1=ArrayBufferViewCore$1.exportTypedArrayMethod,Uint16Array$1=global$2$6.Uint16Array,un$Sort$1=Uint16Array$1&&uncurryThis$3$5(Uint16Array$1.prototype.sort),ACCEPT_INCORRECT_ARGUMENTS=!!un$Sort$1&&!(fails$3$6(function(){un$Sort$1(new Uint16Array$1(2),null)})&&fails$3$6(function(){un$Sort$1(new Uint16Array$1(2),{})})),STABLE_SORT$1=!!un$Sort$1&&!fails$3$6(function(){if(V8$1)return V8$1<74;if(FF$1)return FF$1<67;if(IE_OR_EDGE$1)return!0;if(WEBKIT$1)return WEBKIT$1<602;var e=new Uint16Array$1(516),t=Array(516),n,o;for(n=0;n<516;n++)o=n%4,e[n]=515-n,t[n]=n-2*o+3;for(un$Sort$1(e,function(c,a){return(c/4|0)-(a/4|0)}),n=0;n<516;n++)if(e[n]!==t[n])return!0}),getSortCompare$1=function(e){return function(t,n){return e!==void 0?+e(t,n)||0:n!==n?-1:t!==t?1:t===0&&n===0?1/t>0&&1/n<0?1:-1:t>n}};exportTypedArrayMethod$1("sort",function e(t){return t!==void 0&&aCallable$d(t),STABLE_SORT$1?un$Sort$1(this,t):internalSort$1(aTypedArray$1(this),getSortCompare$1(t))},!STABLE_SORT$1||ACCEPT_INCORRECT_ARGUMENTS);var global$1$6=global$t,apply$1$3=functionApply$3,ArrayBufferViewCore=arrayBufferViewCore,fails$2$6=fails$s,arraySlice$1$3=arraySlice$5$1,Int8Array$1=global$1$6.Int8Array,aTypedArray=ArrayBufferViewCore.aTypedArray,exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod,$toLocaleString=[].toLocaleString,TO_LOCALE_STRING_BUG=!!Int8Array$1&&fails$2$6(function(){$toLocaleString.call(new Int8Array$1(1))}),FORCED$3=fails$2$6(function(){return[1,2].toLocaleString()!=new Int8Array$1([1,2]).toLocaleString()})||!fails$2$6(function(){Int8Array$1.prototype.toLocaleString.call([1,2])});exportTypedArrayMethod("toLocaleString",function e(){return apply$1$3($toLocaleString,TO_LOCALE_STRING_BUG?arraySlice$1$3(aTypedArray(this)):aTypedArray(this),arraySlice$1$3(arguments))},FORCED$3);var uncurryThis$2$5=functionUncurryThis$5,defineBuiltIn$d=defineBuiltIn$8$1,regexpExec$2$1=regexpExec$3,fails$1$6=fails$s,wellKnownSymbol$l=wellKnownSymbol$j$1,createNonEnumerableProperty$c=createNonEnumerableProperty$8$1,SPECIES$6=wellKnownSymbol$l("species"),RegExpPrototype$7=RegExp.prototype,fixRegexpWellKnownSymbolLogic$1=function(e,t,n,o){var c=wellKnownSymbol$l(e),a=!fails$1$6(function(){var b={};return b[c]=function(){return 7},""[e](b)!=7}),u=a&&!fails$1$6(function(){var b=!1,y=/a/;return e==="split"&&(y={},y.constructor={},y.constructor[SPECIES$6]=function(){return y},y.flags="",y[c]=/./[c]),y.exec=function(){return b=!0,null},y[c](""),!b});if(!a||!u||n){var h=uncurryThis$2$5(/./[c]),v=t(c,""[e],function(b,y,w,O,P){var C=uncurryThis$2$5(b),x=y.exec;return x===regexpExec$2$1||x===RegExpPrototype$7.exec?a&&!P?{done:!0,value:h(y,w,O)}:{done:!0,value:C(w,y,O)}:{done:!1}});defineBuiltIn$d(String.prototype,e,v[0]),defineBuiltIn$d(RegExpPrototype$7,c,v[1])}o&&createNonEnumerableProperty$c(RegExpPrototype$7[c],"sham",!0)},uncurryThis$1$5=functionUncurryThis$5,toIntegerOrInfinity$7=toIntegerOrInfinity$6$1,toString$1$5=toString$5$2,requireObjectCoercible$1$6=requireObjectCoercible$6$1,charAt$1$1=uncurryThis$1$5("".charAt),charCodeAt$2=uncurryThis$1$5("".charCodeAt),stringSlice$1$2=uncurryThis$1$5("".slice),createMethod$7=function(e){return function(t,n){var o=toString$1$5(requireObjectCoercible$1$6(t)),c=toIntegerOrInfinity$7(n),a=o.length,u,h;return c<0||c>=a?e?"":void 0:(u=charCodeAt$2(o,c),u<55296||u>56319||c+1===a||(h=charCodeAt$2(o,c+1))<56320||h>57343?e?charAt$1$1(o,c):u:e?stringSlice$1$2(o,c,c+2):(u-55296<<10)+(h-56320)+65536)}},stringMultibyte$1={codeAt:createMethod$7(!1),charAt:createMethod$7(!0)},charAt$7=stringMultibyte$1.charAt,advanceStringIndex$1$1=function(e,t,n){return t+(n?charAt$7(e,t).length:1)},call$1$5=functionCall$k,anObject$1$6=anObject$e$2,isCallable$q=isCallable$n$1,classof$c=classofRaw$1$6,regexpExec$1$1=regexpExec$3,$TypeError$i=TypeError,regexpExecAbstract$1=function(e,t){var n=e.exec;if(isCallable$q(n)){var o=call$1$5(n,e,t);return o!==null&&anObject$1$6(o),o}if(classof$c(e)==="RegExp")return call$1$5(regexpExec$1$1,e,t);throw $TypeError$i("RegExp#exec called on incompatible receiver")},apply$5=functionApply$3,call$n=functionCall$k,uncurryThis$q=functionUncurryThis$5,fixRegExpWellKnownSymbolLogic$1=fixRegexpWellKnownSymbolLogic$1,isRegExp$2=isRegexp$1,anObject$j=anObject$e$2,requireObjectCoercible$a=requireObjectCoercible$6$1,speciesConstructor$5=speciesConstructor$3$1,advanceStringIndex$2=advanceStringIndex$1$1,toLength$7=toLength$6$1,toString$e=toString$5$2,getMethod$8=getMethod$4$2,arraySlice$6=arraySliceSimple$2,callRegExpExec=regexpExecAbstract$1,regexpExec$4=regexpExec$3,stickyHelpers$2=regexpStickyHelpers$1,fails$t=fails$s,UNSUPPORTED_Y$3=stickyHelpers$2.UNSUPPORTED_Y,MAX_UINT32=4294967295,min$7=Math.min,$push=[].push,exec$6=uncurryThis$q(/./.exec),push$7=uncurryThis$q($push),stringSlice$9=uncurryThis$q("".slice),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails$t(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return n.length!==2||n[0]!=="a"||n[1]!=="b"});fixRegExpWellKnownSymbolLogic$1("split",function(e,t,n){var o;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?o=function(c,a){var u=toString$e(requireObjectCoercible$a(this)),h=a===void 0?MAX_UINT32:a>>>0;if(h===0)return[];if(c===void 0)return[u];if(!isRegExp$2(c))return call$n(t,u,c,h);for(var v=[],b=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),y=0,w=new RegExp(c.source,b+"g"),O,P,C;(O=call$n(regexpExec$4,w,u))&&(P=w.lastIndex,!(P>y&&(push$7(v,stringSlice$9(u,y,O.index)),O.length>1&&O.index<u.length&&apply$5($push,v,arraySlice$6(O,1)),C=O[0].length,y=P,v.length>=h)));)w.lastIndex===O.index&&w.lastIndex++;return y===u.length?(C||!exec$6(w,""))&&push$7(v,""):push$7(v,stringSlice$9(u,y)),v.length>h?arraySlice$6(v,0,h):v}:"0".split(void 0,0).length?o=function(c,a){return c===void 0&&a===0?[]:call$n(t,this,c,a)}:o=t,[function(c,a){var u=requireObjectCoercible$a(this),h=c==null?void 0:getMethod$8(c,e);return h?call$n(h,c,u,a):call$n(o,toString$e(u),c,a)},function(c,a){var u=anObject$j(this),h=toString$e(c),v=n(o,u,h,a,o!==t);if(v.done)return v.value;var b=speciesConstructor$5(u,RegExp),y=u.unicode,w=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(UNSUPPORTED_Y$3?"g":"y"),O=new b(UNSUPPORTED_Y$3?"^(?:"+u.source+")":u,w),P=a===void 0?MAX_UINT32:a>>>0;if(P===0)return[];if(h.length===0)return callRegExpExec(O,h)===null?[h]:[];for(var C=0,x=0,D=[];x<h.length;){O.lastIndex=UNSUPPORTED_Y$3?0:x;var k=callRegExpExec(O,UNSUPPORTED_Y$3?stringSlice$9(h,x):h),B;if(k===null||(B=min$7(toLength$7(O.lastIndex+(UNSUPPORTED_Y$3?x:0)),h.length))===C)x=advanceStringIndex$2(h,x,y);else{if(push$7(D,stringSlice$9(h,C,x)),D.length===P)return D;for(var q=1;q<=k.length-1;q++)if(push$7(D,k[q]),D.length===P)return D;x=C=B}}return push$7(D,stringSlice$9(h,C)),D}]},!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC,UNSUPPORTED_Y$3);var modal$b={wallet:{connectYourWallet:"Connect Your Wallet",whatIsAWallet:"What is a Wallet?",secureAndManage:"Secure & Manage Your Digital Assets",safelyStore:"Safely store and transfer your crypto and NFTs.",logInToAny:"Log In to Any NEAR App",noNeedToCreate:"No need to create new accounts or credentials. Connect your wallet and you are good to go!",getAWallet:"Get a Wallet",useAWallet:"Use a wallet to secure and manage your NEAR assets, and to log in to any NEAR app without the need for usernames and passwords.",connectionFailed:"Connection Failed",connectionSuccessful:"Connection Successful",connected:"Connected",connectingTo:"Connecting to",connectingMessage:{injected:"Confirm the connection in the extension window",browser:"Confirm the connection in the wallet after redirect",hardware:"Confirm the connection in the ledger device",bridge:"Confirm the connection in the wallet"}},ledger:{connectWithLedger:"Connect with Ledger",makeSureYourLedger:"Make sure your Ledger is connected securely, and that the NEAR app is open on your device",continue:"Continue",specifyHDPath:"Specify HD Path",enterYourPreferredHDPath:"Enter your preferred HD path, then scan for any active accounts.",scan:"Scan",retry:"Retry",ledgerIsNotAvailable:"Ledger is not available",accessDeniedToUseLedgerDevice:"Access denied to use Ledger device",noAccountsFound:"No Accounts Found",selectYourAccounts:"Select Your Accounts",connecting1Account:"Connecting 1 Account",cantFindAnyAccount:"Can't find any account associated with this Ledger. Please create a new NEAR account on",orConnectAnAnotherLedger:"or connect an another Ledger.",connecting:"Connecting",ofAccounts:"of Accounts",failedToAutomatically:"Failed to automatically find account id. Provide it manually:",overviewTheListOfAuthorized:"Overview the list of authorized account(s), complete sign in by clicking the button below.",finish:"Finish"},install:{youllNeedToInstall:"You'll need to install",toContinueAfterInstalling:"to continue. After installing",refreshThePage:"refresh the page.",open:"Open"},qr:{copiedToClipboard:"Copied to clipboard",failedToCopy:"Failed to copy to clipboard",scanWithYourMobile:"Scan with Your Mobile Device",copyToClipboard:" Copy to clipboard",preferTheOfficial:"Prefer the official dialogue of",open:"Open"},walletTypes:{hardware:"Hardware Wallet",browser:"Browser Wallet",injected:"Wallet Extension",bridge:"Bridge Wallet",mobile:"Mobile Wallet","instant-link":"Instant Wallet"},exportAccounts:{chooseAWallet:"Choose a Wallet",transferYourAccounts:"Transfer Your Accounts",selectAWallet:"Select a wallet that fits your needs and supports your connected accounts.",selectYourAccounts:"Select Your Accounts",afterDecide:"After you decide on a wallet, you can select which accounts you want to transfer.",disclaimer:"You won\u2019t be able to transfer accounts that have never been funded or used on NEAR.",warning:"does not support account export at this time. Please select another wallet.",walletTypes:{hardware:"Hardware Wallet",browser:"Browser Wallet",injected:"Wallet Extension",bridge:"Bridge Wallet",mobile:"Mobile Wallet"},selectAccounts:{title:"Select Accounts to Transfer",button:"Continue",deselectAll:"Deselect All",selectAll:"Select All",unavailable:"Transfer Unavailable",error:"Account does not exist",warningLedger:"Ledger support required",noBalance:"Account not funded"},getPassphrase:{title:"Copy Temporary Password",desc:"You\u2019ll need to enter this password when you begin exporting your accounts to a different wallet.",button:"Continue",transferButton:"Transfer Accounts",label:"Click to Copy",checkLabel:"I copied or wrote down the password"},complete:{title:"Complete the Transfer",descOne:"You will now be redirected to the wallet you selected to complete the transfer.",descTwo:"Once import part of process is completed from selected wallet, press button to complete the transfer process.",startOverButton:"Start Over",button:"Complete"}}},component$1={clickToCopy:{label:"Copied",tooltip:"Click to copy"}},en={modal:modal$b,component:component$1},modal$a={wallet:{connectYourWallet:"Conecta Tu Billetera",whatIsAWallet:"\xBFQue es una Billetera?",secureAndManage:"Resguarda y Administrar Tus Activos Digitales",safelyStore:"Almacena de forma segura y transfiere tus cryptos y NFT's",logInToAny:"Inicie sesi\xF3n en Cualquier Aplicacion NEAR",noNeedToCreate:"No es necesario crear nuevas cuentas o credenciales, \xA1Conecta tu billetera y listo!",getAWallet:"Obten una Billetera",useAWallet:"Usa tu Billetera para resguardar y administrar tus activos en NEAR, e Iniciar sesi\xF3n en cualquier aplicacion NEAR sin la necesidad de nombres de usuarios y contrase\xF1as",connectionFailed:"Conexi\xF3n Fallida",connectionSuccessful:"Conexi\xF3n Existosa",connected:"Conectado",connectingTo:"Conectando a ",connectingMessage:{injected:"Confirme la conexi\xF3n en la ventana de extensi\xF3n",browser:"Confirme la conexi\xF3n en la billetera despu\xE9s de la redirecci\xF3n",hardware:"Confirme la conexi\xF3n en el dispositivo de libro mayor",bridge:"Confirmar la conexi\xF3n en la billetera"}},ledger:{connectWithLedger:"Conectar con Ledger",makeSureYourLedger:"Aseg\xFArese de que su ledger est\xE1 conectada de forma segura y que la aplicacion NEAR est\xE9 abierta en su dispositivo",continue:"Continuar",specifyHDPath:"Especifique la ruta HD",enterYourPreferredHDPath:"Ingrese su ruta HD prerida,y luego busque cualquier cuenta activa.",scan:"Escanear",retry:"Reintentar",ledgerIsNotAvailable:"El Ledger no est\xE1 disponible",accessDeniedToUseLedgerDevice:"Acceso denegado para usar el dispositivo ledger",noAccountsFound:"No se encontraron cuentas",selectYourAccounts:"Selecciona tus cuentas",connecting1Account:"Conectando a 1 cuenta",cantFindAnyAccount:"No se pudo encontrar ninguna cuenta asociada con este ledger,Por favor crea una nueva cuenta en NEAR",orConnectAnAnotherLedger:"o conecta otro ledger",connecting:"Conectando",ofAccounts:"de Cuentas",failedToAutomatically:"No se pudo encontrar automaticamente el id de la cuenta,Ingresalo manualmente:",overviewTheListOfAuthorized:"Revise la lista de las cuentas autorizadas,Complete el inicio de sesi\xF3n haciedo click a countinuacion.",finish:"Finalizar"},install:{youllNeedToInstall:"Tendr\xE1s que instalar",toContinueAfterInstalling:"Para continuar, Despues de instalar",refreshThePage:"Recarga la pagina",open:"Abrir"},qr:{copiedToClipboard:"Copiado al Portapapeles",failedToCopy:"Fall\xF3 la copia al Portapapeles",scanWithYourMobile:"Busca con tu dispositivo movil",copyToClipboard:" Copiar al Portapapeles",preferTheOfficial:"\xBFPrefires el di\xE1logo oficial de",open:"Abrir"},walletTypes:{hardware:"Hardware Wallet",browser:"Browser Wallet",injected:"Wallet Extension",bridge:"Bridge Wallet",mobile:"Mobile Wallet","instant-link":"Instant Wallet"}},es={modal:modal$a},modal$9={wallet:{connectYourWallet:"\u8FDE\u63A5\u4F60\u7684\u94B1\u5305",whatIsAWallet:"\u4EC0\u4E48\u662F\u94B1\u5305\uFF1F",secureAndManage:"\u4FDD\u62A4\u548C\u7BA1\u7406\u4F60\u7684\u6570\u5B57\u8D44\u4EA7",safelyStore:"\u5B89\u5168\u5B58\u50A8\u548C\u8F6C\u79FB\u4F60\u7684\u52A0\u5BC6\u8D27\u5E01\u548CNFT",logInToAny:"\u767B\u5F55\u4EFB\u4F55 NEAR \u5E94\u7528",noNeedToCreate:"\u4E0D\u9700\u8981\u521B\u5EFA\u65B0\u8D26\u6237\u6216\u5BC6\u7801\u3002\u8FDE\u63A5\u4F60\u7684\u94B1\u5305\uFF0C\u5373\u53EF\u5F00\u59CB\u4F7F\u7528\uFF01",getAWallet:"\u83B7\u53D6\u65B0\u8D26\u6237",useAWallet:"\u4F7F\u7528\u94B1\u5305\u6765\u4FDD\u62A4\u548C\u7BA1\u7406\u4F60\u7684 NEAR \u8D44\u4EA7\uFF0C\u65E0\u9700\u7528\u6237\u540D\u548C\u5BC6\u7801\u5373\u53EF\u767B\u5F55\u4EFB\u4F55 NEAR \u5E94\u7528",connectionFailed:"\u8FDE\u63A5\u5931\u8D25",connectionSuccessful:"\u8FDE\u63A5\u6210\u529F",connected:"\u5DF2\u8FDE\u63A5",connectingTo:"\u6B63\u5728\u8FDE\u63A5"},ledger:{connectWithLedger:"\u8FDE\u63A5 Ledger",makeSureYourLedger:"\u786E\u4FDD\u4F60\u7684 Ledger \u5DF2\u7ECF\u5B89\u5168\u8FDE\u63A5\uFF0C\u5E76\u4E14 NEAR \u5E94\u7528\u5DF2\u7ECF\u5728\u4F60\u8BBE\u5907\u4E0A\u6253\u5F00",continue:"\u7EE7\u7EED",specifyHDPath:"\u6307\u5B9A HD \u8DEF\u5F84",enterYourPreferredHDPath:"\u8F93\u5165\u4F60\u504F\u597D\u7684 HD \u8DEF\u5F84\uFF0C\u7136\u540E\u4E3A\u4EFB\u610F\u6D3B\u8DC3\u8D26\u6237\u626B\u7801",scan:"\u626B\u7801",retry:"\u91CD\u8BD5",ledgerIsNotAvailable:"Ledger \u4E0D\u53EF\u7528",accessDeniedToUseLedgerDevice:"\u8BBF\u95EE Ledger \u8BBE\u5907\u88AB\u62D2\u7EDD",noAccountsFound:"\u6CA1\u6709\u627E\u5230\u8D26\u6237",selectYourAccounts:"\u9009\u62E9\u4F60\u7684\u8D26\u6237",connecting1Account:"\u6B63\u5728\u8FDE\u63A51\u4E2A\u8D26\u6237",cantFindAnyAccount:"\u6CA1\u6709\u627E\u5230\u4EFB\u4F55\u4E0E\u8FD9\u4E2A Ledger \u76F8\u5173\u8054\u7684\u8D26\u6237\u3002\u8BF7\u521B\u5EFA\u65B0\u8D26\u6237\u4E8E","orConnectAnAnotherLedger.":"\u6216\u8FDE\u63A5\u53E6\u4E00\u4E2A Ledger",connecting:"\u6B63\u5728\u8FDE\u63A5",ofAccounts:"\u4E2A\u8D26\u6237",failedToAutomatically:"\u65E0\u6CD5\u81EA\u52A8\u627E\u5230\u8D26\u6237ID\uFF0C\u8BF7\u4E3B\u52A8\u63D0\u4F9B\uFF1A",overviewTheListOfAuthorized:"\u8BF7\u67E5\u770B\u5DF2\u6388\u6743\u7684\u8D26\u6237\u5217\u8868\uFF0C\u70B9\u51FB\u4EE5\u4E0B\u6309\u94AE\u5B8C\u6210\u767B\u5F55",finish:"\u5B8C\u6210"},install:{youllNeedToInstall:"\u4F60\u5C06\u9700\u8981\u5B89\u88C5",toContinueAfterInstalling:"\u4EE5\u7EE7\u7EED\u3002\u5B89\u88C5\u5B8C",refreshThePage:"\u8BF7\u5237\u65B0\u9875\u9762",open:"\u6253\u5F00"},qr:{copiedToClipboard:"\u590D\u5236\u5230\u4E86\u526A\u8D34\u677F",failedToCopy:"\u590D\u5236\u5230\u526A\u8D34\u677F\u5931\u8D25",scanWithYourMobile:"\u7528\u4F60\u7684\u79FB\u52A8\u8BBE\u5907\u626B\u7801",copyToClipboard:" \u590D\u5236\u5230\u526A\u8D34\u677F",preferTheOfficial:"\u5E0C\u671B\u4F7F\u7528\u5B98\u65B9\u5BF9\u8BDD\u6846\u4E8E",open:"\u6253\u5F00"},walletTypes:{hardware:"Hardware Wallet",browser:"Browser Wallet",injected:"Wallet Extension",bridge:"Bridge Wallet",mobile:"Mobile Wallet","instant-link":"Instant Wallet"}},zh={modal:modal$9},modal$8={wallet:{connectYourWallet:"\u0421\u0432\u044A\u0440\u0436\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044F \u041F\u043E\u0440\u0442\u0444\u0435\u0439\u043B",whatIsAWallet:"\u041A\u0430\u043A\u0432\u043E \u0435 \u041F\u043E\u0440\u0442\u0444\u0435\u0439\u043B?",secureAndManage:"\u0417\u0430\u0449\u0438\u0442\u0435\u0442\u0435 \u0438 \u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0432\u0430\u0439\u0442\u0435 \u0434\u0438\u0433\u0438\u0442\u0430\u043B\u043D\u0438\u0442\u0435 \u0441\u0438 \u0430\u043A\u0442\u0438\u0432\u0438",safelyStore:"\u0421\u044A\u0445\u0440\u0430\u043D\u044F\u0432\u0430\u0439\u0442\u0435 \u0438 \u043F\u0440\u0435\u0445\u0432\u044A\u0440\u043B\u044F\u0439\u0442\u0435 \u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E \u0432\u0430\u0448\u0438\u0442\u0435 \u043A\u0440\u0438\u043F\u0442\u043E \u0438 NFT.",logInToAny:"\u0418\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0439\u0442\u0435 \u0432\u0441\u044F\u043A\u043E \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043D\u0430 NEAR",noNeedToCreate:"\u041D\u044F\u043C\u0430 \u043D\u0443\u0436\u0434\u0430 \u0434\u0430 \u0441\u044A\u0437\u0434\u0430\u0432\u0430\u0442\u0435 \u043D\u043E\u0432\u0438 \u043F\u0440\u043E\u0444\u0438\u043B\u0438. \u0421\u0432\u044A\u0440\u0436\u0435\u0442\u0435 \u043F\u043E\u0440\u0442\u0444\u0435\u0439\u043B\u0430 \u0441\u0438 \u0438 \u0441\u0442\u0435 \u0433\u043E\u0442\u043E\u0432\u0438!",getAWallet:"\u0421\u044A\u0437\u0434\u0430\u0439\u0442\u0435 \u041F\u043E\u0440\u0442\u0444\u0435\u0439\u043B",useAWallet:"\u0418\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0439\u0442\u0435 \u043F\u043E\u0440\u0442\u0444\u0435\u0439\u043B\u0430, \u0437\u0430 \u0434\u0430 \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u0435 \u0438 \u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0432\u0430\u0442\u0435 \u0430\u043A\u0442\u0438\u0432\u0438\u0442\u0435 \u0441\u0438 \u043D\u0430 NEAR \u043A\u0430\u043A\u0442\u043E \u0438 \u0434\u0430 \u0438\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0442\u0435 \u0432\u0441\u044F\u043A\u043E \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043D\u0430 NEAR \u0431\u0435\u0437 \u043D\u0443\u0436\u0434\u0430 \u043E\u0442 \u043F\u043E\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043B\u0441\u043A\u0438 \u0438\u043C\u0435\u043D\u0430 \u0438 \u043F\u0430\u0440\u043E\u043B\u0438.",connectionFailed:"\u0421\u0432\u044A\u0440\u0437\u0432\u0430\u043D\u0435\u0442\u043E \u043D\u0435\u0443\u0441\u043F\u0435\u0448\u043D\u043E",connectionSuccessful:"\u0421\u0432\u044A\u0440\u0437\u0432\u0430\u043D\u0435\u0442\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E",connected:"\u0421\u0432\u044A\u0440\u0437\u0430\u043D",connectingTo:"\u0421\u0432\u044A\u0440\u0437\u0432\u0430\u043D\u0435 \u043A\u044A\u043C",connectingMessage:{injected:"\u041F\u043E\u0442\u0432\u044A\u0440\u0434\u0435\u0442\u0435 \u0441\u0432\u044A\u0440\u0437\u0432\u0430\u043D\u0435\u0442\u043E \u0432 \u043F\u0440\u043E\u0437\u043E\u0440\u0435\u0446\u0430 \u043D\u0430 \u0440\u0430\u0437\u0448\u0438\u0440\u0435\u043D\u0438\u0435\u0442\u043E",browser:"\u041F\u043E\u0442\u0432\u044A\u0440\u0434\u0435\u0442\u0435 \u0441\u0432\u044A\u0440\u0437\u0432\u0430\u043D\u0435\u0442\u043E \u0432 \u043F\u043E\u0440\u0442\u0444\u0435\u0439\u043B\u0430 \u0441\u043B\u0435\u0434 \u043F\u0440\u0435\u043D\u0430\u0441\u043E\u0447\u0432\u0430\u043D\u0435\u0442\u043E",hardware:"\u041F\u043E\u0442\u0432\u044A\u0440\u0434\u0435\u0442\u0435 \u0441\u0432\u044A\u0440\u0437\u0432\u0430\u043D\u0435\u0442\u043E \u0432 \u0445\u0430\u0440\u0434\u0443\u0435\u0440\u043D\u0438\u044F \u043F\u043E\u0440\u0442\u0444\u0435\u0439\u043B",bridge:"\u041F\u043E\u0442\u0432\u044A\u0440\u0434\u0435\u0442\u0435 \u0432\u0440\u044A\u0437\u043A\u0430\u0442\u0430 \u0432 \u043F\u043E\u0440\u0442\u0444\u0435\u0439\u043B\u0430"}},ledger:{connectWithLedger:"\u0421\u0432\u044A\u0440\u0436\u0435\u0442\u0435 \u0441\u0435 \u0441 Ledger",makeSureYourLedger:"\u0423\u0432\u0435\u0440\u0435\u0442\u0435 \u0441\u0435, \u0447\u0435 \u0432\u0430\u0448\u0438\u044F\u0442 Ledger \u0435 \u0441\u0432\u044A\u0440\u0437\u0430\u043D \u0438 \u0447\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435\u0442\u043E NEAR \u0435 \u043E\u0442\u0432\u043E\u0440\u0435\u043D\u043E \u043Da \u043D\u0435\u0433\u043E.",continue:"\u041F\u0440\u043E\u0434\u044A\u043B\u0436\u0435\u0442\u0435",specifyHDPath:"\u041F\u043E\u0441\u043E\u0447\u0435\u0442\u0435 HD \u043F\u044A\u0442",enterYourPreferredHDPath:"\u0412\u044A\u0432\u0435\u0434\u0435\u0442\u0435 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u043D\u0438\u044F HD \u043F\u044A\u0442, \u0441\u043B\u0435\u0434 \u043A\u043E\u0435\u0442\u043E \u0441\u043A\u0430\u043D\u0438\u0440\u0430\u0439\u0442\u0435 \u0437\u0430 \u0430\u043A\u0442\u0438\u0432\u043D\u0438 \u0430\u043A\u0430\u0443\u043D\u0442\u0438.",scan:"\u0421\u043A\u0430\u043D\u0438\u0440\u0430\u0439\u0442\u0435",retry:"\u041E\u043F\u0438\u0442\u0430\u0439\u0442\u0435 \u043E\u0442\u043D\u043E\u0432\u043E",ledgerIsNotAvailable:"Ledger \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E\u0442\u043E \u043D\u0435 \u0435 \u0434\u043E\u0441\u0442\u044A\u043F\u043D\u043E",accessDeniedToUseLedgerDevice:"\u0414\u043E\u0441\u0442\u044A\u043F\u044A\u0442 \u0437\u0430 \u0438\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u043D\u0435 \u043D\u0430 Ledger \u0435 \u043E\u0442\u043A\u0430\u0437\u0430\u043D",noAccountsFound:"\u041D\u044F\u043C\u0430 \u043D\u0430\u043C\u0435\u0440\u0435\u043D\u0438 \u043F\u0440\u043E\u0444\u0438\u043B\u0438",selectYourAccounts:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u0442\u0435 \u043F\u0440\u043E\u0444\u0438\u043B\u0438",connecting1Account:"\u0421\u0432\u044A\u0440\u0437\u0432\u0430\u043D\u0435 \u043D\u0430 1 \u043F\u0440\u043E\u0444\u0438\u043B",cantFindAnyAccount:"\u041D\u044F\u043C\u0430 \u043D\u0430\u043C\u0435\u0440\u0435\u043D\u0438 \u043F\u0440\u043E\u0444\u0438\u043B\u0438, \u0441\u044A\u0432\u0440\u0437\u0430\u043D\u0438 \u0441 \u0442\u043E\u0437\u0438 Ledger. \u041C\u043E\u043B\u044F, \u0441\u044A\u0437\u0434\u0430\u0439\u0442\u0435 \u043D\u043E\u0432 NEAR \u043F\u0440\u043E\u0444\u0438\u043B \u043D\u0430",orConnectAnAnotherLedger:"\u0438\u043B\u0438 \u0441\u0432\u044A\u0440\u0436\u0435\u0442\u0435 \u0434\u0440\u0443\u0433 Ledger.",connecting:"\u0421\u0432\u044A\u0440\u0437\u0432\u0430\u043D\u0435",ofAccounts:"\u043E\u0442 \u043F\u0440\u043E\u0444\u0438\u043B\u0438",failedToAutomatically:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u043D\u043E\u0442\u043E \u043D\u0430\u043C\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u043F\u0440\u043E\u0444\u0438\u043B\u0430 \u043D\u0435 \u0431\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E. \u0412\u044A\u0432\u0435\u0434\u0435\u0442\u0435 \u0433\u043E \u0440\u044A\u0447\u043D\u043E:",overviewTheListOfAuthorized:"\u041F\u0440\u0435\u0433\u043B\u0435\u0434\u0430\u0439\u0442\u0435 \u0441\u043F\u0438\u0441\u044A\u043A\u0430 \u0441 \u0443\u043F\u044A\u043B\u043D\u043E\u043C\u043E\u0449\u0435\u043D\u0438 \u043F\u0440\u043E\u0444\u0438\u043B\u0438, \u0437\u0430\u0432\u044A\u0440\u0448\u0435\u0442\u0435 \u0432\u043B\u0438\u0437\u0430\u043D\u0435\u0442\u043E, \u043A\u0430\u0442\u043E \u0449\u0440\u0430\u043A\u043D\u0435\u0442\u0435 \u0432\u044A\u0440\u0445\u0443 \u0431\u0443\u0442\u043E\u043D\u0430 \u043F\u043E-\u0434\u043E\u043B\u0443..",finish:"\u0417\u0430\u0432\u044A\u0440\u0448\u0435\u0442\u0435"},install:{youllNeedToInstall:"\u0429\u0435 \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0438\u043D\u0441\u0442\u0430\u043B\u0438\u0440\u0430\u0442\u0435",toContinueAfterInstalling:"\u0437\u0430 \u0434\u0430 \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435. \u0421\u043B\u0435\u0434 \u0438\u043D\u0441\u0442\u0430\u043B\u0438\u0440\u0430\u043D\u0435",refreshThePage:"\u043F\u0440\u0435\u0437\u0430\u0440\u0435\u0434\u0435\u0442\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430\u0442\u0430.",open:"\u041E\u0442\u0432\u043E\u0440\u0435\u0442\u0435"},qr:{copiedToClipboard:"\u041A\u043E\u043F\u0438\u0440\u0430\u043D\u043E \u0432 \u043A\u043B\u0438\u043F\u0431\u043E\u0440\u0434\u0430",failedToCopy:"\u041D\u0435\u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u0430\u043D\u0435 \u0432 \u043A\u043B\u0438\u043F\u0431\u043E\u0440\u0434\u0430",scanWithYourMobile:" \u0421\u043A\u0430\u043D\u0438\u0440\u0430\u0439\u0442\u0435 \u0441 \u043C\u043E\u0431\u0438\u043B\u043D\u043E\u0442\u043E \u0441\u0438 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E",copyToClipboard:" \u041A\u043E\u043F\u0438\u0440\u0430\u0439\u0442\u0435 \u0432 \u043A\u043B\u0438\u043F\u0431\u043E\u0440\u0434\u0430",preferTheOfficial:"\u041F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u043D \u0435\u0437\u0438\u043A \u0437\u0430 \u043A\u043E\u0440\u0435\u0441\u043F\u043E\u043D\u0434\u0435\u043D\u0446\u0438\u044F",open:"\u041E\u0442\u0432\u043E\u0440\u0435\u0442\u0435"},walletTypes:{hardware:"Hardware Wallet",browser:"Browser Wallet",injected:"Wallet Extension",bridge:"Bridge Wallet",mobile:"Mobile Wallet","instant-link":"Instant Wallet"}},bg={modal:modal$8},modal$7={wallet:{connectYourWallet:"\uC9C0\uAC11 \uC5F0\uACB0\uD558\uAE30",whatIsAWallet:"\uC9C0\uAC11\uC740 \uBB34\uC2A8 \uC5ED\uD560\uC744 \uD558\uB098\uC694?",secureAndManage:"\uB2F9\uC2E0\uC758 \uB514\uC9C0\uD138 \uC790\uC0B0\uC744 \uBCF4\uD638\uD558\uACE0 \uAD00\uB9AC\uD569\uB2C8\uB2E4.",safelyStore:"\uC554\uD638\uD654\uD3D0\uC640 NFT\uB97C \uC548\uC804\uD558\uAC8C \uC800\uC7A5\uD558\uACE0 \uC804\uC1A1\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",logInToAny:"NEAR App\uC5D0 \uB85C\uADF8\uC778\uD569\uB2C8\uB2E4.",noNeedToCreate:"\uC0C8\uB85C\uC6B4 \uACC4\uC815\uC774\uB098 \uBE44\uBC00\uBC88\uD638\uB97C \uB9CC\uB4E4 \uD544\uC694 \uC5C6\uC774 \uC9C0\uAC11\uC744 \uC5F0\uACB0\uD55C \uD6C4 \uBC14\uB85C \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",getAWallet:"\uC9C0\uAC11 \uAC00\uC838\uC624\uAE30",useAWallet:"\uC9C0\uAC11\uC744 \uC0AC\uC6A9\uD558\uC5EC NEAR \uC790\uC0B0\uC744 \uBCF4\uD638\xB7\uAD00\uB9AC\uD558\uACE0, \uC544\uC774\uB514\uC640 \uBE44\uBC00\uBC88\uD638 \uC5C6\uC774 NEAR \uC571\uC5D0 \uB85C\uADF8\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",connectionFailed:"\uC5F0\uACB0 \uC2E4\uD328",connectionSuccessful:"\uC5F0\uACB0 \uC131\uACF5",connected:"Connected",connectingTo:"\uC5F0\uACB0 \uC911: ",connectingMessage:{injected:"\uC775\uC2A4\uD150\uC158 \uCC3D\uC5D0\uC11C \uC5F0\uACB0\uC744 \uD655\uC778\uD558\uC138\uC694",browser:"\uB9AC\uB2E4\uC774\uB809\uD2B8 \uB41C \uC9C0\uAC11\uC5D0\uC11C \uC5F0\uACB0\uC744 \uD655\uC778\uD558\uC138\uC694",hardware:"Ledger \uAE30\uAE30\uC5D0\uC11C \uC5F0\uACB0\uC744 \uD655\uC778\uD558\uC138\uC694",bridge:"\uC9C0\uAC11\uC5D0\uC11C \uC5F0\uACB0 \uD655\uC778"}},ledger:{connectWithLedger:"Ledger \uC5F0\uACB0\uD558\uAE30",makeSureYourLedger:"Ledger\uAC00 \uC548\uC804\uD558\uAC8C \uC5F0\uACB0\uB418\uC5B4 \uC788\uACE0, NEAR \uC571\uC774 \uC5F4\uB824 \uC788\uB294 \uC9C0 \uD655\uC778\uD558\uC138\uC694",continue:"\uACC4\uC18D\uD558\uAE30",specifyHDPath:"HD Path \uC9C0\uC815\uD558\uAE30",enterYourPreferredHDPath:"\uC6D0\uD558\uB294 HD Path\uB97C \uC120\uD0DD\uD558\uACE0, \uD65C\uC131\uD654\uB41C \uACC4\uC815\uC774 \uC788\uB294 \uC9C0 \uAC80\uC0C9\uD558\uC138\uC694",scan:"\uAC80\uC0C9",retry:"\uB2E4\uC2DC \uC2DC\uB3C4",ledgerIsNotAvailable:"Ledger\uB97C \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4",accessDeniedToUseLedgerDevice:"Ledger \uAE30\uAE30 \uC811\uADFC \uAD8C\uD55C\uC774 \uAC70\uBD80\uB418\uC5C8\uC2B5\uB2C8\uB2E4",noAccountsFound:"\uACC4\uC815\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4",selectYourAccounts:"\uACC4\uC815 \uC120\uD0DD\uD558\uAE30",connecting1Account:"\uD558\uB098\uC758 \uACC4\uC815\uC5D0 \uC5F0\uACB0",cantFindAnyAccount:"Ledger\uC640 \uC5F0\uACB0\uB41C \uACC4\uC815\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC0C8\uB85C\uC6B4 \uACC4\uC815\uC744 \uC0DD\uC131\uD558\uAC70\uB098 ",orConnectAnAnotherLedger:"\uB2E4\uB978 Ledger\uB97C \uC5F0\uACB0\uD558\uC138\uC694",connecting:"\uACC4\uC815 \uC5F0\uACB0\uD558\uAE30: ",ofAccounts:"\uAC1C \uACC4\uC815\uC744 \uCC3E\uC558\uC2B5\uB2C8\uB2E4",failedToAutomatically:"\uACC4\uC815 ID\uB97C \uCC3E\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4. \uC218\uB3D9\uC73C\uB85C \uC785\uB825\uD574\uC8FC\uC138\uC694.",overviewTheListOfAuthorized:"\uC778\uC99D\uB41C \uACC4\uC815 \uBAA9\uB85D\uC744 \uD655\uC778\uD55C \uD6C4 \uC544\uB798 \uBC84\uD2BC\uC744 \uD074\uB9AD\uD558\uC5EC \uB85C\uADF8\uC778\uC744 \uC644\uB8CC\uD558\uC138\uC694",finish:"\uC644\uB8CC"},walletTypes:{hardware:"\uD558\uB4DC\uC6E8\uC5B4 \uC9C0\uAC11",browser:"\uBE0C\uB77C\uC6B0\uC800 \uC9C0\uAC11",injected:"\uC9C0\uAC11 \uD655\uC7A5",bridge:"\uBE0C\uB9AC\uC9C0 \uC9C0\uAC11",mobile:"\uBAA8\uBC14\uC77C \uC9C0\uAC11","instant-link":"\uC778\uC2A4\uD134\uD2B8 \uC9C0\uAC11"},install:{youllNeedToInstall:"\uB2E4\uC74C \uD655\uC7A5 \uD504\uB85C\uADF8\uB7A8\uC744 \uC124\uCE58\uD574\uC8FC\uC138\uC694:",toContinueAfterInstalling:". \uC124\uCE58 \uC644\uB8CC \uD6C4 \uD398\uC774\uC9C0 \uC0C8\uB85C \uACE0\uCE68\uC774 \uD544\uC694\uD569\uB2C8\uB2E4. ",refreshThePage:"\uC0C8\uB85C \uACE0\uCE68",open:"Open"},qr:{copiedToClipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC \uC644\uB8CC",failedToCopy:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC \uC2E4\uD328",scanWithYourMobile:"\uBAA8\uBC14\uC77C \uC7A5\uCE58\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC2A4\uCE94\uD574\uC8FC\uC138\uC694",copyToClipboard:" \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uD558\uAE30",preferTheOfficial:"\uB2E4\uC74C \uD504\uB85C\uADF8\uB7A8\uC5D0\uC11C \uC81C\uACF5\uD558\uB294 \uACF5\uC2DD \uD504\uB85C\uC138\uC2A4\uB97C \uC120\uD638\uD558\uC2ED\uB2C8\uAE4C: ",open:"Open"}},ko={modal:modal$7},modal$6={wallet:{connectYourWallet:"K\u1EBFt n\u1ED1i v\xED c\u1EE7a b\u1EA1n",whatIsAWallet:"V\xED l\xE0 g\xEC?",secureAndManage:"B\u1EA3o m\u1EADt & Qu\u1EA3n l\xFD t\xE0i s\u1EA3n s\u1ED1 c\u1EE7a b\u1EA1n",safelyStore:"L\u01B0u tr\u1EEF v\xE0 chuy\u1EC3n ti\u1EC1n \u0111i\u1EC7n t\u1EED v\xE0 NFT c\u1EE7a b\u1EA1n m\u1ED9t c\xE1ch an to\xE0n.",logInToAny:"\u0110\u0103ng nh\u1EADp v\xE0o b\u1EA5t k\u1EF3 \u1EE9ng d\u1EE5ng tr\xEAn NEAR",noNeedToCreate:"Kh\xF4ng c\u1EA7n t\u1EA1o t\xE0i kho\u1EA3n ho\u1EB7c th\xF4ng tin \u0111\u0103ng nh\u1EADp m\u1EDBi. K\u1EBFt n\u1ED1i v\xED c\u1EE7a b\u1EA1n v\xE0 b\u1EAFt \u0111\u1EA7u!",getAWallet:"T\u1EA1o V\xED",useAWallet:"S\u1EED d\u1EE5ng v\xED \u0111\u1EC3 b\u1EA3o m\u1EADt v\xE0 qu\u1EA3n l\xFD t\xE0i s\u1EA3n tr\xEAn NEAR c\u1EE7a b\u1EA1n v\xE0 \u0111\u0103ng nh\u1EADp v\xE0o b\u1EA5t k\u1EF3 \u1EE9ng d\u1EE5ng NEAR n\xE0o, kh\xF4ng c\u1EA7n t\xEAn ng\u01B0\u1EDDi d\xF9ng v\xE0 m\u1EADt kh\u1EA9u.",connectionFailed:"K\u1EBFt n\u1ED1i th\u1EA5t b\u1EA1i",connectionSuccessful:"K\u1EBFt n\u1ED1i th\xE0nh c\xF4ng",connected:"\u0110\xE3 k\u1EBFt n\u1ED1i",connectingTo:"\u0110ang k\u1EBFt n\u1ED1i t\u1EDBi",connectingMessage:{injected:"X\xE1c nh\u1EADn k\u1EBFt n\u1ED1i trong c\u1EEDa s\u1ED5 ti\u1EC7n \xEDch m\u1EDF r\u1ED9ng",browser:"X\xE1c nh\u1EADn k\u1EBFt n\u1ED1i trong v\xED sau khi \u0111\u01B0\u1EE3c chuy\u1EC3n h\u01B0\u1EDBng",hardware:"X\xE1c nh\u1EADn k\u1EBFt n\u1ED1i v\u1EDBi v\xED l\u1EA1nh",bridge:"X\xE1c nh\u1EADn k\u1EBFt n\u1ED1i trong v\xED"}},ledger:{connectWithLedger:"K\u1EBFt n\u1ED1i v\xED Ledger",makeSureYourLedger:"\u0110\u1EA3m b\u1EA3o Ledger c\u1EE7a b\u1EA1n \u0111\u01B0\u1EE3c k\u1EBFt n\u1ED1i an to\xE0n v\xE0 \u1EE9ng d\u1EE5ng NEAR \u0111ang m\u1EDF s\u1EB5n tr\xEAn thi\u1EBFt b\u1ECB",continue:"Ti\u1EBFp t\u1EE5c",specifyHDPath:"Ch\u1EC9 \u0111\u1ECBnh HD Path",enterYourPreferredHDPath:"Nh\u1EADp HD Path c\u1EE7a b\u1EA1n, sau \u0111\xF3 qu\xE9t t\xECm c\xE1c t\xE0i kho\u1EA3n ho\u1EA1t \u0111\u1ED9ng",scan:"Qu\xE9t",retry:"Th\u1EED l\u1EA1i",ledgerIsNotAvailable:"Ledger kh\xF4ng kh\u1EA3 d\u1EE5ng",accessDeniedToUseLedgerDevice:"Truy c\u1EADp Ledger b\u1ECB t\u1EEB ch\u1ED1i",noAccountsFound:"Kh\xF4ng t\xECm th\u1EA5y t\xE0i kho\u1EA3n",selectYourAccounts:"Ch\u1ECDn t\xE0i kho\u1EA3n c\u1EE7a b\u1EA1n",connecting1Account:"\u0110ang k\u1EBFt n\u1ED1i 1 t\xE0i kho\u1EA3n",cantFindAnyAccount:"Kh\xF4ng th\u1EC3 t\xECm th\u1EA5y b\u1EA5t k\u1EF3 t\xE0i kho\u1EA3n n\xE0o \u0111\u01B0\u1EE3c li\xEAn k\u1EBFt v\u1EDBi Ledger n\xE0y. Vui l\xF2ng t\u1EA1o m\u1ED9t t\xE0i kho\u1EA3n NEAR m\u1EDBi",orConnectAnAnotherLedger:"ho\u1EB7c k\u1EBFt n\u1ED1i v\u1EDBi v\xED Ledger kh\xE1c.",connecting:"\u0110ang k\u1EBFt n\u1ED1i",ofAccounts:"c\u1EE7a t\xE0i kho\u1EA3n",failedToAutomatically:"Kh\xF4ng th\u1EC3 t\u1EF1 \u0111\u1ED9ng t\xECm id t\xE0i kho\u1EA3n. Nh\u1EADp th\u1EE7 c\xF4ng:",overviewTheListOfAuthorized:"T\u1ED5ng quan danh s\xE1ch c\xE1c t\xE0i kho\u1EA3n \u0111\u01B0\u1EE3c \u1EE7y quy\u1EC1n, ho\xE0n t\u1EA5t \u0111\u0103ng nh\u1EADp b\u1EB1ng c\xE1ch b\u1EA5m v\xE0o n\xFAt b\xEAn d\u01B0\u1EDBi.",finish:"Ho\xE0n th\xE0nh"},install:{youllNeedToInstall:"B\u1EA1n s\u1EBD c\u1EA7n c\xE0i \u0111\u1EB7t",toContinueAfterInstalling:"\u0111\u1EC3 b\u1EAFt \u0111\u1EA7u. Sau khi c\xE0i \u0111\u1EB7t xong",refreshThePage:"T\u1EA3i l\u1EA1i trang.",open:"M\u1EDF"},qr:{copiedToClipboard:"\u0110\xE3 sao ch\xE9p v\xE0o b\u1EA3ng ghi t\u1EA1m",failedToCopy:"Sao ch\xE9p v\xE0o b\u1EA3ng ghi t\u1EA1m th\u1EA5t b\u1EA1i",scanWithYourMobile:"Qu\xE9t v\u1EDBi \u0111i\u1EC7n tho\u1EA1i c\u1EE7a b\u1EA1n",copyToClipboard:" Sao ch\xE9p v\xE0o b\u1EA3ng ghi t\u1EA1m",preferTheOfficial:"Dialogue ch\xEDnh th\u1EE9c c\u1EE7a",open:"M\u1EDF"},walletTypes:{hardware:"V\xED l\u1EA1nh",browser:"V\xED tr\xECnh duy\u1EC7t",injected:"V\xED ti\u1EC7n \xEDch m\u1EDF r\u1ED9ng",bridge:"V\xED C\u1EA7u",mobile:"V\xED Mobile","instant-link":"V\xED t\u1EE9c th\xEC"},exportAccounts:{chooseAWallet:"Ch\u1ECDn v\xED",transferYourAccounts:"Chuy\u1EC3n t\xE0i kho\u1EA3n",selectAWallet:"Ch\u1ECDn v\xED ph\xF9 h\u1EE3p v\u1EDBi nhu c\u1EA7u c\u1EE7a b\u1EA1n, v\xED \u0111\u01B0\u1EE3c ch\u1ECDn c\u1EA7n h\u1ED7 tr\u1EE3 c\xE1c t\xE0i kho\u1EA3n \u0111ang s\u1EED d\u1EE5ng.",selectYourAccounts:"Ch\u1ECDn t\xE0i kho\u1EA3n",afterDecide:"Sau khi ch\u1ECDn \u0111\u01B0\u1EE3c t\xE0i kho\u1EA3n b\u1EA1n c\xF3 chuy\u1EC3n.",disclaimer:"B\u1EA1n kh\xF4ng th\u1EC3 chuy\u1EC3n t\xE0i kho\u1EA3n n\u1EBFu t\xE0i kho\u1EA3n \u0111\xF3 ch\u01B0a \u0111\u01B0\u1EE3c nh\u1EADn ti\u1EC1n ho\u1EB7c ch\u01B0a ph\xE1t sinh giao d\u1ECBch tr\xEAn NEAR.",warning:"kh\xF4ng h\u1ED7 tr\u1EE3 xu\u1EA5t t\xE0i kho\u1EA3n. Vui l\xF2ng ch\u1ECDn v\xED kh\xE1c.",walletTypes:{hardware:"V\xED l\u1EA1nh",browser:"V\xED tr\xECnh duy\u1EC7t",injected:"V\xED ti\u1EC7n \xEDch m\u1EDF r\u1ED9ng",bridge:"V\xED C\u1EA7u",mobile:"V\xED Mobile"},selectAccounts:{title:"Ch\u1ECDn t\xE0i kho\u1EA3n \u0111\u1EC3 chuy\u1EC3n",button:"L\u1EA5y c\u1EE5m m\u1EADt kh\u1EA9u",deselectAll:"B\u1ECF ch\u1ECDn t\u1EA5t c\u1EA3",selectAll:"Ch\u1ECDn t\u1EA5t c\u1EA3",unavailable:"Chuy\u1EC3n kh\xF4ng kh\u1EA3 d\u1EE5ng",error:"T\xE0i kho\u1EA3n kh\xF4ng t\u1ED3n t\u1EA1i",warningLedger:"Y\xEAu c\u1EA7u h\u1ED7 tr\u1EE3 Ledger",noBalance:"T\xE0i kho\u1EA3n tr\u1ED1ng"},getPassphrase:{title:"Sao ch\xE9p m\u1EADt kh\u1EA9u t\u1EA1m th\u1EDDi",desc:"B\u1EA1n s\u1EBD c\u1EA7n nh\u1EADp m\u1EADt kh\u1EA9u khi b\u1EAFt \u0111\u1EA7u xu\u1EA5t c\xE1c kho\u1EA3n t\u1EDBi v\xED kh\xE1c.",button:"Ti\u1EBFp t\u1EE5c",label:"B\u1EA5m \u0111\u1EC3 sao ch\xE9p",checkLabel:"T\xF4i \u0111\xE3 ch\xE9p ho\u1EB7c ghi l\u1EA1i m\u1EADt kh\u1EA9u"},complete:{title:"Ho\xE0n th\xE0nh chuy\u1EC3n",descOne:"B\u1EA1n s\u1EBD \u0111\u01B0\u1EE3c chuy\u1EC3n h\u01B0\u1EDBng t\u1EDBi t\xE0i kho\u1EA3n \u0111\xE3 ch\u1ECDn \u0111\u1EC3 ho\xE0n t\u1EA5t qu\xE1 tr\xECnh.",descTwo:"Sau khi nh\u1EADp, nh\u1EA5n n\xFAt \u0111\u1EC3 ho\xE0n t\u1EA5t quy tr\xECnh chuy\u1EC3n.",button:"Ho\xE0n th\xE0nh"}}},component={clickToCopy:{label:"\u0110\xE3 sao ch\xE9p",tooltip:"B\u1EA5m \u0111\u1EC3 sao ch\xE9p"}},vi={modal:modal$6,component},modal$5={wallet:{connectYourWallet:"\u0905\u092A\u0928\u093E \u0935\u0949\u0932\u0947\u091F (Wallet) \u0915\u0928\u0947\u0915\u094D\u091F \u0915\u0930\u0947\u0902\u0964",whatIsAWallet:"\u0935\u0949\u0932\u0947\u091F \u0915\u094D\u092F\u093E \u0939\u0948?",secureAndManage:"\u0938\u0941\u0930\u0915\u094D\u0937\u093F\u0924 \u0914\u0930 \u092A\u094D\u0930\u092C\u0902\u0927\u093F\u0924 \u0915\u0930\u0947\u0902\u0964",safelyStore:"\u0905\u092A\u0928\u0940 \u0915\u094D\u0930\u093F\u092A\u094D\u091F\u094B\u0915\u0930\u0947\u0902\u0938\u0940 \u0914\u0930 \u090F\u0928\u090F\u092B\u091F\u0940 \u0915\u094B \u0938\u0941\u0930\u0915\u094D\u0937\u093F\u0924 \u0930\u0942\u092A \u0938\u0947 \u0938\u094D\u091F\u094B\u0930 \u0914\u0930 \u091F\u094D\u0930\u093E\u0902\u0938\u092B\u0930 \u0915\u0930\u0947\u0902\u0964",logInToAny:"NEAR \u092A\u0930 \u0915\u093F\u0938\u0940 \u092D\u0940 \u0910\u092A \u092E\u0947\u0902 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964",noNeedToCreate:"\u0928\u090F \u0916\u093E\u0924\u0947 \u092F\u093E \u0932\u0949\u0917\u093F\u0928 \u092C\u0928\u093E\u0928\u0947 \u0915\u0940 \u0906\u0935\u0936\u094D\u092F\u0915\u0924\u093E \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u0905\u092A\u0928\u093E \u0935\u0949\u0932\u0947\u091F(NEAR Wallet)\u0915\u0928\u0947\u0915\u094D\u091F \u0915\u0930\u0947\u0902 \u0914\u0930 \u0906\u0930\u0902\u092D \u0915\u0930\u0947\u0902\u0964",getAWallet:"\u090F\u0915 \u0935\u0949\u0932\u0947\u091F \u092C\u0928\u093E\u090F\u0901\u0964",useAWallet:"\u0905\u092A\u0928\u0940 NEAR \u0938\u0902\u092A\u0924\u094D\u0924\u093F\u092F\u094B\u0902 \u0915\u094B \u0938\u0941\u0930\u0915\u094D\u0937\u093F\u0924 \u0914\u0930 \u092A\u094D\u0930\u092C\u0902\u0927\u093F\u0924 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0935\u0949\u0932\u0947\u091F \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0947\u0902 \u0914\u0930 \u0915\u093F\u0938\u0940 \u092D\u0940 NEAR \u0910\u092A (app) \u092E\u0947\u0902 \u0932\u0949\u0917 \u0907\u0928 \u0915\u0930\u0947\u0902, \u0915\u093F\u0938\u0940 \u0909\u092A\u092F\u094B\u0917\u0915\u0930\u094D\u0924\u093E (user) \u0928\u093E\u092E \u0914\u0930 \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u0906\u0935\u0936\u094D\u092F\u0915\u0924\u093E \u0928\u0939\u0940\u0902 \u0939\u0948\u0964",connectionFailed:"\u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u0935\u093F\u092B\u0932|",connectionSuccessful:"\u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u0938\u092B\u0932|",connected:"\u0935\u0949\u0932\u0947\u091F \u091C\u0941\u095C \u0917\u092F\u093E|",connectingTo:"\u0935\u0949\u0932\u0947\u091F \u091C\u0941\u095C \u0930\u0939\u093E \u0939\u0947|",connectingMessage:{injected:"\u090F\u0915\u094D\u0938\u091F\u0947\u0902\u0936\u0928 \u0935\u093F\u0902\u0921\u094B \u092E\u0947\u0902 \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902|",browser:"\u0930\u0940\u0921\u093E\u092F\u0930\u0947\u0915\u094D\u091F \u0939\u094B\u0928\u0947 \u0915\u0947 \u092C\u093E\u0926 \u0935\u0949\u0932\u0947\u091F \u092E\u0947\u0902 \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902|",hardware:"\u0915\u094B\u0932\u094D\u0921 \u0935\u0949\u0932\u0947\u091F \u0915\u0947 \u0938\u093E\u0925 \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902|"}},ledger:{connectWithLedger:"\u0932\u0947\u091C\u0930(Ledger)\u0935\u0949\u0932\u0947\u091F \u0915\u0928\u0947\u0915\u094D\u091F \u0915\u0930\u0947\u0902|",makeSureYourLedger:"\u0938\u0941\u0928\u093F\u0936\u094D\u091A\u093F\u0924 \u0915\u0930\u0947\u0902 \u0915\u093F \u0906\u092A\u0915\u093E \u0932\u0947\u091C\u0930 \u0938\u0941\u0930\u0915\u094D\u0937\u093F\u0924 \u0930\u0942\u092A \u0938\u0947 \u091C\u0941\u0921\u093C\u093E \u0939\u0941\u0906 \u0939\u0948 \u0914\u0930 NEAR \u0910\u092A \u0906\u092A\u0915\u0947 \u0921\u093F\u0935\u093E\u0907\u0938 (Device)\u092A\u0930 \u092A\u0939\u0932\u0947 \u0938\u0947 \u0939\u0940 \u0916\u0941\u0932\u093E \u0939\u0948|",continue:"\u091C\u093E\u0930\u0940 \u0930\u0916\u0947|",specifyHDPath:"\u0939\u093E\u0930\u094D\u0921 \u0921\u093F\u0938\u094D\u0915(Hard Disk)\u092A\u0925(Path)\u0928\u093F\u0930\u094D\u0927\u093E\u0930\u093F\u0924 \u0915\u0930\u0947|",enterYourPreferredHDPath:"\u0905\u092A\u0928\u093E \u090F\u091A\u0921\u0940 \u092A\u0925 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902, \u092B\u093F\u0930 \u0938\u0915\u094D\u0930\u093F\u092F \u0916\u093E\u0924\u094B\u0902 \u0915\u0947 \u0932\u093F\u090F \u0938\u094D\u0915\u0948\u0928 \u0915\u0930\u0947\u0902|",scan:"\u0938\u094D\u0915\u0948\u0928 \u0915\u0930\u0947|",retry:"\u0926\u094B\u092C\u093E\u0930\u093E \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947|",ledgerIsNotAvailable:"\u0932\u0947\u091C\u0930 \u0909\u092A\u0932\u092C\u094D\u0927 \u0928\u0939\u0940\u0902 \u0939\u0948|",accessDeniedToUseLedgerDevice:"\u0932\u0947\u091C\u0930 \u0921\u093F\u0935\u093E\u0907\u0938 \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u092A\u094D\u0930\u0935\u0947\u0936 \u0928\u093F\u0937\u0947\u0927|",noAccountsFound:"\u0916\u093E\u0924\u093E \u0928\u0939\u0940\u0902 \u092E\u093F\u0932\u093E|",selectYourAccounts:"\u0905\u092A\u0928\u0947 \u0916\u093E\u0924\u0947 \u091A\u0941\u0928\u0947\u0902|",connecting1Account:"\u090F\u0915 \u0916\u093E\u0924\u093E \u0915\u0928\u0947\u0915\u094D\u091F \u0939\u094B \u0930\u0939\u093E \u0939\u0948|",cantFindAnyAccount:"\u0907\u0938 \u0932\u0947\u091C\u0930 \u0938\u0947 \u091C\u0941\u0921\u093C\u093E \u0915\u094B\u0908 \u0916\u093E\u0924\u093E \u0928\u0939\u0940\u0902 \u092E\u093F\u0932\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u090F\u0915 \u0928\u092F\u093E NEAR \u0916\u093E\u0924\u093E \u092C\u0928\u093E\u090F\u0901|",orConnectAnAnotherLedger:"\u0905\u0925\u0935\u093E \u0926\u0942\u0938\u0930\u0947 \u0932\u0947\u091C\u0930 \u0935\u0949\u0932\u0947\u091F \u0938\u0947 \u0915\u0928\u0947\u0915\u094D\u091F \u0915\u0930\u0947\u0902\u0964",connecting:"\u091C\u0941\u095C \u0930\u0939\u093E \u0939\u0947|",ofAccounts:"\u0916\u093E\u0924\u093E \u0905\u092C \u091C\u0941\u095C\u093E \u0928\u0939\u0940\u0902 \u0939\u0947|",failedToAutomatically:"\u0916\u093E\u0924\u093E \u0906\u0908\u0921\u0940 \u0938\u094D\u0935\u091A\u093E\u0932\u093F\u0924 \u0930\u0942\u092A \u0938\u0947 \u0916\u094B\u091C\u0928\u0947 \u092E\u0947\u0902 \u0905\u0938\u092E\u0930\u094D\u0925\u0964 \u092E\u0948\u0928\u094D\u092F\u0941\u0905\u0932 (Manuall) \u0930\u0942\u092A \u0938\u0947 \u0915\u094B\u0936\u093F\u0936 \u0915\u0930\u0947\u0902|",overviewTheListOfAuthorized:"\u0905\u0935\u0932\u094B\u0915\u0928 \u0905\u0927\u093F\u0915\u0943\u0924 \u0915\u0940 \u0938\u0942\u091A\u0940, \u0928\u0940\u091A\u0947 \u0926\u093F\u090F \u0917\u090F \u092C\u091F\u0928 \u092A\u0930 \u0915\u094D\u0932\u093F\u0915 \u0915\u0930\u0915\u0947 \u0932\u0949\u0917\u093F\u0928 \u092A\u0942\u0930\u093E \u0915\u0930\u0947\u0902\u0964",finish:"\u0938\u092E\u093E\u092A\u094D\u0924|"},install:{youllNeedToInstall:"\u0906\u092A\u0915\u094B \u0907\u0902\u0938\u094D\u091F\u0949\u0932 \u0915\u0930\u0928\u093E \u0939\u094B\u0917\u093E|",toContinueAfterInstalling:"\u0907\u0902\u0938\u094D\u091F\u0949\u0932 \u0915\u0930\u0928\u0947 \u0915\u0947 \u092C\u093E\u0926 \u091C\u093E\u0930\u0940 \u0930\u0916\u0947|",refreshThePage:"\u092A\u0941\u0928: \u0932\u094B\u0921 \u0915\u0930\u0947\u0902\u0964",open:"\u0916\u094B\u0932\u0947|"},qr:{copiedToClipboard:"\u0915\u094D\u0932\u093F\u092A\u092C\u094B\u0930\u094D\u0921(Clipboard)\u092A\u0930 \u0915\u0949\u092A\u0940 \u0915\u093F\u092F\u093E \u0917\u092F\u093E|",failedToCopy:"\u0915\u094D\u0932\u093F\u092A\u092C\u094B\u0930\u094D\u0921 \u092A\u0930 \u0915\u0949\u092A\u0940 \u0915\u0930\u0928\u093E \u0935\u093F\u092B\u0932 \u0930\u0939\u093E|",scanWithYourMobile:"\u0905\u092A\u0928\u0947 \u092B\u094B\u0928 (Mobile)\u0938\u0947 \u0938\u094D\u0915\u0948\u0928 \u0915\u0930\u0947\u0902|",copyToClipboard:" \u0915\u094D\u0932\u093F\u092A\u092C\u094B\u0930\u094D\u0921 \u092A\u0930 \u0915\u0949\u092A\u0940 \u0915\u0930\u0947\u0902|",preferTheOfficial:"\u0906\u0927\u093F\u0915\u093E\u0930\u093F\u0915 \u0938\u0902\u0935\u093E\u0926 \u0915\u094B \u092A\u094D\u0930\u093E\u0925\u092E\u093F\u0915\u0924\u093E \u0926\u0947\u0902|",open:"\u0916\u094B\u0932\u0947|"},walletTypes:{hardware:"Hardware Wallet",browser:"Browser Wallet",injected:"Wallet Extension",bridge:"Bridge Wallet",mobile:"Mobile Wallet","instant-link":"Instant Wallet"}},hi={modal:modal$5},modal$4={wallet:{connectYourWallet:"\u0635\u0644 \u0645\u062D\u0641\u0638\u062A\u0643",whatIsAWallet:"\u0645\u0627 \u0647\u064A \u0627\u0644\u0645\u062D\u0641\u0638\u0629\u061F",secureAndManage:"\u062A\u0623\u0645\u064A\u0646 \u0648\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0645\u062A\u0644\u0643\u0627\u062A \u0627\u0644\u0631\u0642\u0645\u064A\u0629 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0643",safelyStore:"\u0642\u0645 \u0628\u062A\u062E\u0632\u064A\u0646 \u0648 \u0627\u0631\u0633\u0627\u0644 \u0639\u0645\u0644\u0627\u062A\u0643 \u0648 \u0623\u0635\u0648\u0644\u0643 \u0627\u0644\u0631\u0642\u0645\u064A\u0629 \u0628\u0623\u0645\u0627\u0646",logInToAny:"\u0633\u062C\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0625\u0644\u0649 \u0623\u064A \u062A\u0637\u0628\u064A\u0642 \u064A\u0633\u062A\u062E\u062F\u0645 \u0646\u064A\u0631",noNeedToCreate:".\u0644\u0627 \u062F\u0627\u0639\u064A \u0644\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u062C\u062F\u064A\u062F. \u0641\u0642\u0637 \u0642\u0645 \u0628\u062A\u0648\u0635\u064A\u0644 \u0645\u062D\u0641\u0638\u062A\u0643 \u0648\u0627\u0646\u0637\u0644\u0642",getAWallet:"\u0627\u062D\u0635\u0644 \u0639\u0644\u0649 \u0645\u062D\u0641\u0638\u0629",useAWallet:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0645\u062D\u0641\u0638\u0629 \u0644\u062A\u0623\u0645\u064A\u0646 \u0648\u0625\u062F\u0627\u0631\u0629 \u0623\u0635\u0648\u0644 \u0646\u064A\u0631 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0643\u060C \u0648\u0627\u062F\u062E\u0644 \u0644\u0623\u064A \u062A\u0637\u0628\u064A\u0642 \u064A\u0633\u062A\u062E\u062F\u0645 \u0646\u064A\u0631 \u062F\u0648\u0646 \u0627\u0644\u062D\u0627\u062C\u0629 \u0625\u0644\u0649 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0648\u0643\u0644\u0645\u0629\u0627\u0644\u0645\u0631\u0648\u0631",connectionFailed:"\u0627\u062A\u0635\u0627\u0644 \u0641\u0627\u0634\u0644",connectionSuccessful:"\u0627\u062A\u0635\u0627\u0644 \u0646\u0627\u062C\u062D",connected:"\u0645\u062A\u0635\u0644",connectingTo:"\u062C\u0627\u0631\u064A \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628",connectingMessage:{injected:"\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",browser:"\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0641\u064A \u0627\u0644\u0645\u062D\u0641\u0638\u0629 \u0628\u0639\u062F \u0625\u0639\u0627\u062F\u0629 \u062A\u0648\u062C\u064A\u0647",hardware:"\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0641\u064A \u062C\u0647\u0627\u0632 \u0644\u064A\u062F\u062C\u0631",bridge:"\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0641\u064A \u0627\u0644\u0645\u062D\u0641\u0638\u0629"}},ledger:{connectWithLedger:"\u0627\u062A\u0635\u0644 \u0645\u0639 \u0644\u064A\u062F\u062C\u0631",makeSureYourLedger:"\u062A\u0623\u0643\u062F \u0623\u0646 \u0644\u064A\u062F\u062C\u0631 \u0645\u062A\u0635\u0644 \u0628\u0623\u0645\u0627\u0646, \u0648 \u0623\u0646 \u062A\u0637\u0628\u064A\u0642 \u0646\u064A\u0631 \u0645\u0641\u062A\u0648\u062D \u0641\u064A \u062C\u0647\u0627\u0632\u0643",continue:"\u062A\u0627\u0628\u0639",specifyHDPath:"\u062D\u062F\u062F \u0645\u0633\u0627\u0631 \u0627\u0644\u062D\u0633\u0627\u0628",enterYourPreferredHDPath:"\u0623\u062F\u062E\u0644 \u0645\u0633\u0627\u0631 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0641\u0636\u0644\u060C \u062B\u0645 \u0627\u0628\u062D\u062B \u0639\u0646 \u0643\u0644 \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0646\u0634\u0637\u0629",scan:"\u0645\u0633\u062D",retry:"\u0623\u0639\u062F \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629",ledgerIsNotAvailable:"\u0644\u064A\u062F\u062C\u0631 \u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631",accessDeniedToUseLedgerDevice:"\u062A\u0645 \u0631\u0641\u0636 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0644\u064A\u062F\u062C\u0631",noAccountsFound:"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0623\u064A \u062D\u0633\u0627\u0628\u0627\u062A",selectYourAccounts:"\u062D\u062F\u062F \u062D\u0633\u0627\u0628\u0627\u062A\u0643",connecting1Account:"\u062C\u0627\u0631\u064A \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u062D\u0633\u0627\u0628 \u0648\u0627\u062D\u062F",cantFindAnyAccount:"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0623\u064A \u062D\u0633\u0627\u0628 \u0645\u0631\u062A\u0628\u0637 \u0628\u0647\u0630\u0627 \u0644\u064A\u062F\u062C\u0631 \u0627\u0644\u0631\u062C\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u0646\u064A\u0631 \u062C\u062F\u064A\u062F \u0639\u0644\u0649",orConnectAnAnotherLedger:"\u0627\u0648 \u0627\u0631\u0628\u0637 \u062C\u0647\u0627\u0632 \u0644\u064A\u062F\u062C\u0631 \u0622\u062E\u0631",connecting:"\u062C\u0627\u0631\u064A \u0627\u0644\u0627\u062A\u0635\u0627\u0644",ofAccounts:"\u0645\u0646 \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A",failedToAutomatically:"\u0641\u0634\u0644 \u0641\u064A \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062D\u0633\u0627\u0628 \u062A\u0644\u0642\u0627\u0626\u064A\u0627. \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062D\u0633\u0627\u0628 \u064A\u062F\u0648\u064A\u0627",overviewTheListOfAuthorized:"\u0644\u0627\u0626\u062D\u0629 \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0645\u0635\u0631\u062D \u0628\u0647\u0627, \u0623\u0643\u0645\u0644 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u0632\u0631 \u0623\u062F\u0646\u0627\u0647",finish:"\u0625\u0646\u0647\u0627\u0621"},install:{youllNeedToInstall:"\u0633\u062A\u062D\u062A\u0627\u062C \u0644\u062A\u062B\u0628\u064A\u062A",toContinueAfterInstalling:"\u0644\u0644\u0627\u0633\u062A\u0643\u0645\u0627\u0644. \u0628\u0639\u062F \u0627\u0644\u062A\u062B\u0628\u064A\u062A",refreshThePage:"\u0642\u0645 \u0628\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0635\u0641\u062D\u0629",open:"\u0627\u0641\u062A\u062D"},qr:{copiedToClipboard:"\u062A\u0645 \u0627\u0644\u0646\u0633\u062E",failedToCopy:"\u0641\u0634\u0644 \u0627\u0644\u0646\u0633\u062E",scanWithYourMobile:"\u0627\u0645\u0633\u062D \u0628\u062C\u0647\u0627\u0632\u0643 \u0627\u0644\u0645\u062D\u0645\u0648\u0644",copyToClipboard:"\u0646\u0633\u062E",preferTheOfficial:"\u062A\u0641\u0636\u0644 \u0627\u0644\u062D\u0648\u0627\u0631 \u0627\u0644\u0631\u0633\u0645\u064A \u0644",open:"\u0641\u062A\u062D"},walletTypes:{hardware:"Hardware Wallet",browser:"Browser Wallet",injected:"Wallet Extension",bridge:"Bridge Wallet",mobile:"Mobile Wallet","instant-link":"Instant Wallet"}},ar={modal:modal$4},modal$3={wallet:{connectYourWallet:"Spojite crypto nov\u010Danik!",whatIsAWallet:"\u0160to je to crypto nov\u010Danik?",secureAndManage:"Osigurajte i upravljajte svojom digitalnom imovinom.",safelyStore:"Sigurno pohranite i prebacite svoj crypto i NFT-eve.",logInToAny:" Prijavite se u bilo koju NEAR aplikaciju",noNeedToCreate:"Nema potrebe za stvaranjem novih naloga ili korisni\u010Dkih podataka. Spojite svoj crypto nov\u010Danik i spremni ste!",getAWallet:"Otvorite crypto nov\u010Danik",useAWallet:"Koristite crypto nov\u010Danik da biste osigurali i upravljali svojom NEAR imovinom, te se prijavite u bilo koju NEAR aplikaciju bez korisni\u010Dkog imena i lozinke.",connectionFailed:"Neuspje\u0161no povezivanje.",connectionSuccessful:"Uspje\u0161no povezivanje.",connected:"Povezano.",connectingTo:"Povezivanje u tijeku",connectingMessage:{injected:"Potvrdite vezu u eksternom prozoru",browser:"Nakon redirekcije, potvrdite vezu u nov\u010Daniku",hardware:"Potvrdite vezu sa nov\u010Danikom",bridge:"Potvrdite vezu u nov\u010Daniku"}},ledger:{connectWithLedger:"Pove\u017Eite se hardverskim nov\u010Danikom",makeSureYourLedger:"Osigurajte sigurnu vezu s hardverskim nov\u010Danikom, te da je NEAR aplikacija otvorena na va\u0161em ure\u0111aju",continue:"Nastavite",specifyHDPath:"Specificirajte HD putanju",enterYourPreferredHDPath:"Upi\u0161ite preferiranu HD putanju, zatim skenirajte aktivne naloge",scan:"Skenirajte",retry:"Poku\u0161ajte ponovno",ledgerIsNotAvailable:"Hardverski nov\u010Danik nije dostupan.",accessDeniedToUseLedgerDevice:"Odbijen pristup za kori\u0161tenjem hardverskog nov\u010Danika",noAccountsFound:"Nalozi nisu prona\u0111eni",selectYourAccounts:"Odaberite svoje naloge",connecting1Account:"Povezivanje 1 naloga",cantFindAnyAccount:"Nije mogu\u0107e prona\u0107i niti jedan nalog povezan s ovim hardverskim nov\u010Danikom. Molimo vas, kreirajte novi NEAR nalog",orConnectAnAnotherLedger:"Ili pove\u017Eite drugi hardverski nov\u010Danik.",connecting:"Povezivanje",ofAccounts:"naloga",failedToAutomatically:"Neuspje\u0161no automatsko pronala\u017Eenje ID naloga. Unesite ru\u010Dno:",overviewTheListOfAuthorized:"Pregledajte popis odobrenih naloga, zavr\u0161ite prijavu pritiskom na ni\u017Ee prikazani gumb.",finish:"Zavr\u0161ite"},install:{youllNeedToInstall:" Potrebno je instalirati modal",toContinueAfterInstalling:"za nastavak. Nakon instalacije",refreshThePage:"osvje\u017Eite stranicu.",open:"Otvorite QR modal"},qr:{copiedToClipboard:"Kopirano u me\u0111uspremnik",failedToCopy:"Neupsje\u0161no kopiranje u me\u0111uspremnik",scanWithYourMobile:"Skenirajte svojim mobilnim ure\u0111ajem",copyToClipboard:" Kopirajte u me\u0111uspremnik",preferTheOfficial:"Odaberite slu\u017Ebeni dijalog",open:"Otvorite"},walletTypes:{hardware:"Hardware Wallet",browser:"Browser Wallet",injected:"Wallet Extension",bridge:"Bridge Wallet",mobile:"Mobile Wallet","instant-link":"Instant Wallet"},exportAccounts:{chooseAWallet:"Odaberi Wallet",transferYourAccounts:"Prenesi svoje naloge",selectAWallet:"Odaberite wallet koji odgovara va\u0161im potrebama i podr\u017Eava va\u0161e povezane naloge.",selectYourAccounts:"Odaberi svoje naloge",afterDecide:"Nakon \u0161to odlu\u010Dite koji wallet koristite, mo\u017Eete odabrati koje ra\u010Dune \u017Eelite prebaciti.",disclaimer:"Ne\u0107ete mo\u0107i prebaciti naloge koji nisu nikada bili kori\u0161teni na NEAR-u.",warning:"ne podr\u017Eava izvoz naloga u ovom trenutku. Molimo odaberite drugi wallet.",walletTypes:{hardware:"Hardware Wallet",browser:"Browser Wallet",injected:"Wallet Extension",bridge:"Bridge Wallet",mobile:"Mobile Wallet"},selectAccounts:{title:"Odaberi naloge za prijenos",button:"Generiraj lozinku",deselectAll:"Makni odabir sa svih",selectAll:"Odaberi sve",unavailable:"Prijenos nije dostupan",error:"Nalog ne postoji",warningLedger:"Potrebna ledger podr\u0161ka",noBalance:"Nalog nema sredstava"},getPassphrase:{title:"Kopiraj privremenu lozinku",desc:"Bit \u0107e potrebno unijeti ovu lozinku na po\u010Detku izvoza naloga na drugi wallet.",button:"Nastavi",label:"Klikni za kopiju",checkLabel:"Kopirao sam ili zapisao lozinku"},complete:{title:"Zavr\u0161i prijenos",descOne:"You will now be redirected to the wallet you selected to complete the transfer.",descTwo:"Kada je unos s odabranog walleta zavr\u0161en, pritisnite gumb da biste zavr\u0161ili prijenos.",button:"Zavr\u0161i"}}},hr={modal:modal$3},modal$2={wallet:{connectYourWallet:"\u041F\u043E\u0432\u0440\u0437\u0435\u0442\u0435 \u0433\u043E \u0432\u0430\u0448\u0438\u043E\u0442 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A!",whatIsAWallet:"\u0428\u0442\u043E \u0435 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A?",secureAndManage:"\u0417\u0430\u0448\u0442\u0438\u0442\u0435\u0442\u0435 \u0433\u0438 \u0438 \u0443\u043F\u0440\u0430\u0432\u0443\u0432\u0430\u0458\u0442\u0435 \u0441\u043E \u0432\u0430\u0448\u0438\u0442\u0435 \u0434\u0438\u0433\u0438\u0442\u0430\u043B\u043D\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430.",safelyStore:"\u0411\u0435\u0437\u0431\u0435\u0434\u043D\u043E \u0441\u043A\u043B\u0430\u0434\u0438\u0440\u0430\u0458\u0442\u0435 \u0438 \u0438\u0437\u0432\u0440\u0448\u0443\u0432\u0430\u0458\u0442\u0435 \u0442\u0440\u0430\u043D\u0441\u0430\u043A\u0446\u0438\u0438 \u0441\u043E \u0432\u0430\u0448\u0438\u0442\u0435 \u043A\u0440\u0438\u043F\u0442\u043E \u0438 NFT.",logInToAny:"\u041D\u0430\u0458\u0430\u0432\u0435\u0442\u0435 \u0441\u0435 \u043D\u0430 \u043A\u043E\u0458\u0430 \u0431\u0438\u043B\u043E NEAR \u0430\u043F\u043B\u0438\u043A\u0430\u0446\u0438\u0458\u0430",noNeedToCreate:"\u041D\u0435\u043C\u0430 \u043F\u043E\u0442\u0440\u0435\u0431\u0430 \u0434\u0430 \u043A\u0440\u0435\u0438\u0440\u0430\u0442\u0435 \u043D\u043E\u0432\u0438 \u0441\u043C\u0435\u0442\u043A\u0438 \u0438\u043B\u0438 \u0438\u043D\u0433\u0435\u0440\u0435\u043D\u0446\u0438\u0438. \u041F\u043E\u0432\u0440\u0437\u0435\u0442\u0435 \u0433\u043E \u0432\u0430\u0448\u0438\u043E\u0442 \u043F\u0430\u0440\u0438\u0447\u043D\u0438\u043A \u0438 \u0441\u0442\u0435 \u043F\u043E\u0434\u0433\u043E\u0442\u0432\u0435\u043D\u0438!",getAWallet:"\u041D\u0430\u043F\u0440\u0430\u0432\u0435\u0442\u0435 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",useAWallet:"\u041A\u043E\u0440\u0438\u0441\u0442\u0435\u0442\u0435 \u043F\u0430\u0440\u0438\u0447\u043D\u0438\u043A \u0437\u0430 \u0434\u0430 \u0433\u0438 \u0437\u0430\u0448\u0442\u0438\u0442\u0438\u0442\u0435 \u0438 \u0443\u043F\u0440\u0430\u0432\u0443\u0432\u0430\u0442\u0435 \u0432\u0430\u0448\u0438\u0442\u0435 NEAR \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0438 \u0434\u0430 \u0441\u0435 \u043D\u0430\u0458\u0430\u0432\u0438\u0442\u0435 \u043D\u0430 \u043A\u043E\u0458\u0430 \u0431\u0438\u043B\u043E NEAR \u0430\u043F\u043B\u0438\u043A\u0430\u0446\u0438\u0458\u0430 \u0431\u0435\u0437 \u043F\u043E\u0442\u0440\u0435\u0431\u0430 \u043E\u0434 \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0438 \u0438\u043C\u0438\u045A\u0430 \u0438 \u043B\u043E\u0437\u0438\u043D\u043A\u0438.",connectionFailed:"\u041F\u043E\u0432\u0440\u0437\u0443\u0432\u0430\u045A\u0435\u0442\u043E \u043D\u0435 \u0431\u0435\u0448\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E.",connectionSuccessful:"\u0423\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u043E\u0432\u0440\u0437\u0443\u0432\u0430\u045A\u0435.",connected:"\u041F\u043E\u0432\u0440\u0437\u0430\u043D\u043E.",connectingTo:"\u041F\u043E\u0432\u0440\u0437\u0443\u0432\u0430\u045A\u0435 \u0441\u043E",connectingMessage:{injected:"\u041F\u043E\u0442\u0432\u0440\u0434\u0435\u0442\u0435 \u0433\u043E \u043F\u043E\u0432\u0440\u0437\u0443\u0432\u0430\u045A\u0435\u0442\u043E \u0432\u043E \u0435\u043A\u0441\u0442\u0435\u0440\u043D\u0438\u043E\u0442 \u043F\u0440\u043E\u0437\u043E\u0440\u0435\u0446",browser:"\u041F\u043E \u043F\u0440\u0435\u0443\u0441\u043C\u0435\u0440\u0443\u0432\u0430\u045A\u0435\u0442\u043E, \u043F\u043E\u0442\u0432\u0440\u0434\u0435\u0442\u0435 \u0433\u043E \u043F\u043E\u0432\u0440\u0437\u0443\u0432\u0430\u045A\u0435\u0442\u043E \u043E\u0434 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043E\u043A\u0442",hardware:"\u041F\u043E\u0442\u0432\u0440\u0434\u0435\u0442\u0435 \u0433\u043E \u043F\u043E\u0432\u0440\u0437\u0443\u0432\u0430\u045A\u0435\u0442\u043E \u0441\u043E \u043B\u0430\u0434\u0435\u043D \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",bridge:"\u041F\u043E\u0442\u0432\u0440\u0434\u0435\u0442\u0435 \u0458\u0430 \u0432\u0440\u0441\u043A\u0430\u0442\u0430 \u0432\u043E \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A\u043E\u0442"}},ledger:{connectWithLedger:"\u041F\u043E\u0432\u0440\u0437\u0435\u0442\u0435 \u0441\u0435 \u0441\u043E \u041B\u0435\u045F\u0435\u0440",makeSureYourLedger:"\u041E\u0441\u0438\u0433\u0443\u0440\u0430\u0458\u0442\u0435 \u0441\u0435 \u0434\u0435\u043A\u0430 \u0432\u0430\u0448\u0438\u043E\u0442 \u041B\u0435\u045F\u0435\u0440 \u0435 \u043F\u043E\u0432\u0440\u0437\u0430\u043D \u0431\u0435\u0437\u0431\u0435\u0434\u043D\u043E, \u0438 \u0434\u0435\u043A\u0430 NEAR \u0430\u043F\u043B\u0438\u043A\u0430\u0446\u0438\u0458\u0430\u0442\u0430 \u0435 \u043E\u0442\u0432\u043E\u0440\u0435\u043D\u0430 \u043D\u0430 \u0432\u0430\u0448\u0438\u043E\u0442 \u0443\u0440\u0435\u0434",continue:"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0435\u0442\u0435",specifyHDPath:"\u041D\u0430\u0432\u0435\u0434\u0435\u0442\u0435 \u0425\u0414 \u043B\u043E\u043A\u0430\u0446\u0438\u0458\u0430",enterYourPreferredHDPath:"\u0412\u043D\u0435\u0441\u0435\u0442\u0435 \u0458\u0430 \u0432\u0430\u0448\u0430\u0442\u0430 \u043F\u0440\u0435\u0444\u0435\u0440\u0438\u0440\u0430\u043D\u0430 \u0425\u0414 \u043B\u043E\u043A\u0430\u0446\u0438\u0458\u0430, \u0430 \u043F\u043E\u0442\u043E\u0430 \u0441\u043A\u0435\u043D\u0438\u0440\u0430\u0458\u0442\u0435 \u0434\u0430 \u0433\u0438 \u043D\u0430\u0458\u0434\u0435\u0442\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u0438\u0442\u0435 \u0441\u043C\u0435\u0442\u043A\u0438.",scan:"\u0421\u043A\u0435\u043D\u0438\u0440\u0430\u0458\u0442\u0435",retry:"\u041E\u0431\u0438\u0434\u0435\u0442\u0435 \u0441\u0435 \u043F\u043E\u0432\u0442\u043E\u0440\u043D\u043E",ledgerIsNotAvailable:"\u041B\u0435\u045F\u0435\u0440\u043E\u0442 \u043D\u0435 \u0435 \u0434\u043E\u0441\u0442\u0430\u043F\u0435\u043D.",accessDeniedToUseLedgerDevice:"\u041F\u0440\u0438\u0441\u0442\u0430\u043F\u043E\u0442 \u0437\u0430 \u043A\u043E\u0440\u0438\u0441\u0442\u0435\u045A\u0435 \u043D\u0430 \u041B\u0435\u045F\u0435\u0440 \u0443\u0440\u0435\u0434 \u0435 \u043E\u0434\u0431\u0438\u0435\u043D",noAccountsFound:"\u041D\u0435\u043C\u0430 \u043D\u0430\u0458\u0434\u0435\u043D\u0438 \u0441\u043C\u0435\u0442\u043A\u0438",selectYourAccounts:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u0438 \u0432\u0430\u0448\u0438\u0442\u0435 \u0441\u043C\u0435\u0442\u043A\u0438",connecting1Account:"\u041F\u043E\u0432\u0440\u0437\u0443\u0432\u0430\u045A\u0435 \u043D\u0430 \u0435\u0434\u043D\u0430 \u0441\u043C\u0435\u0442\u043A\u0430",cantFindAnyAccount:"\u041D\u0435 \u0441\u0435 \u043D\u0430\u0458\u0434\u0435\u043D\u0438 \u0441\u043C\u0435\u0442\u043A\u0438 \u043F\u043E\u0432\u0440\u0437\u0430\u043D\u0438 \u0441\u043E \u043E\u0432\u043E\u0458 \u041B\u0435\u045F\u0435\u0440. \u0412\u0435 \u043C\u043E\u043B\u0438\u043C\u0435 \u043A\u0440\u0435\u0438\u0440\u0430\u0458\u0442\u0435 \u043D\u043E\u0432\u0430 NEAR \u0441\u043C\u0435\u0442\u043A\u0430 ",orConnectAnAnotherLedger:"\u0438\u043B\u0438 \u043F\u043E\u0432\u0440\u0437\u0435\u0442\u0435 \u0434\u0440\u0443\u0433 \u041B\u0435\u045F\u0435\u0440.",connecting:"\u041F\u043E\u0432\u0440\u0437\u0443\u0432\u0430\u045A\u0435",ofAccounts:"\u043D\u0430 \u0441\u043C\u0435\u0442\u043A\u0438",failedToAutomatically:"\u041D\u0435\u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0441\u043A\u043E \u0431\u0430\u0440\u0430\u045A\u0435 \u043D\u0430 \u0418\u0414 \u043D\u0430 \u0441\u043C\u0435\u0442\u043A\u0430\u0442\u0430. \u0412\u043D\u0435\u0441\u0435\u0442\u0435 \u0433\u043E \u0440\u0430\u0447\u043D\u043E:",overviewTheListOfAuthorized:"\u041F\u0440\u0435\u0433\u043B\u0435\u0434 \u043D\u0430 \u043B\u0438\u0441\u0442\u0430\u0442\u0430 \u043D\u0430 \u043E\u0432\u043B\u0430\u0441\u0442\u0435\u043D\u0438 \u0441\u043C\u0435\u0442\u043A\u0438, \u0437\u0430\u0432\u0440\u0448\u0435\u0442\u0435 \u0441\u0435 \u043D\u0430\u0458\u0430\u0432\u0430\u0442\u0430 \u0441\u043E \u043A\u043B\u0438\u043A\u043D\u0443\u0432\u0430\u045A\u0435 \u043D\u0430 \u043A\u043E\u043F\u0447\u0435\u0442\u043E \u043F\u043E\u0434\u043E\u043B\u0443.",finish:"\u0417\u0430\u0432\u0440\u0448\u0435\u0442\u0435"},install:{youllNeedToInstall:"\u0422\u0440\u0435\u0431\u0430 \u0434\u0430 \u0438\u043D\u0441\u0442\u0430\u043B\u0438\u0440\u0430\u0442\u0435",toContinueAfterInstalling:"\u0437\u0430 \u0434\u0430 \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435. \u041F\u043E \u0438\u043D\u0441\u0442\u0430\u043B\u0438\u0440\u0430\u045A\u0435\u0442\u043E",refreshThePage:"\u041E\u0441\u0432\u0435\u0436\u0435\u0442\u0435 \u0458\u0430 \u0441\u0442\u0440\u0430\u043D\u0430\u0442\u0430.",open:"\u041E\u0442\u0432\u043E\u0440\u0435\u0442\u0435"},qr:{copiedToClipboard:"\u041A\u043E\u043F\u0438\u0440\u0430\u043D\u043E \u043D\u0430 \u043A\u043B\u0438\u043F\u0431\u043E\u0440\u0434\u043E\u0442",failedToCopy:"\u041D\u0435\u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u0430\u045A\u0435 \u043D\u0430 \u043A\u043B\u0438\u043F\u0431\u043E\u0440\u0434",scanWithYourMobile:"\u0421\u043A\u0435\u043D\u0438\u0440\u0430\u0458\u0442\u0435 \u0441\u043E \u0432\u0430\u0448\u0438\u043E\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0441\u043A\u0438 \u0443\u0440\u0435\u0434",copyToClipboard:"\u041A\u043E\u043F\u0438\u0440\u0430\u0458\u0442\u0435 \u043D\u0430 \u043A\u043B\u0438\u043F\u0431\u043E\u0440\u0434",preferTheOfficial:"\u041F\u0440\u0435\u0444\u0435\u0440\u0438\u0440\u0430\u0458\u0442\u0435 \u043E\u0444\u0438\u0446\u0438\u0458\u0430\u043B\u0435\u043D \u0434\u0438\u0430\u043B\u043E\u0433 \u043D\u0430",open:"\u041E\u0442\u0432\u043E\u0440\u0435\u0442\u0435"},walletTypes:{hardware:"\u0425\u0430\u0440\u0434\u0432\u0435\u0440\u0441\u043A\u0438 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",browser:"\u041D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u043D\u0430 \u0438\u043D\u0442\u0435\u0440\u043D\u0435\u0442 \u043F\u0440\u0435\u043B\u0438\u0441\u0442\u0443\u0432\u0430\u0447",injected:"\u0415\u043A\u0441\u0442\u0435\u043D\u0437\u0438\u0458\u0430 \u0437\u0430 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",bridge:"Bridge \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",mobile:"\u041C\u043E\u0431\u0438\u043B\u0435\u043D \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A","instant-link":"\u0418\u043D\u0441\u0442\u0430\u043D\u0442 \u043F\u0430\u0440\u0438\u0447\u043D\u0438\u043A"},exportAccounts:{chooseAWallet:"\u041E\u0434\u0431\u0435\u0440\u0435\u0442\u0435 \u043F\u0430\u0440\u0438\u0447\u043D\u0438\u043A",transferYourAccounts:"\u041F\u0440\u0435\u0444\u0440\u043B\u0435\u0442\u0435 \u0433\u0438 \u0432\u0430\u0448\u0438\u0442\u0435 \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0438 \u0441\u043C\u0435\u0442\u043A\u0438",selectAWallet:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435\u043D \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u043A\u043E\u0458 \u0433\u0438 \u0437\u0430\u0434\u043E\u0432\u043E\u043B\u0443\u0432\u0430 \u0432\u0430\u0448\u0438\u0442\u0435 \u0431\u0430\u0440\u0430\u043D\u045A\u0430 \u0438 \u0433\u0438 \u043F\u043E\u0434\u0434\u0440\u0436\u0443\u0432\u0430 \u0432\u0430\u0448\u0438\u0442\u0435 \u043F\u043E\u0432\u0440\u0437\u0430\u043D\u0438 \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0438 \u0441\u043C\u0435\u0442\u043A\u0438.",selectYourAccounts:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u0438 \u0432\u0430\u0448\u0438\u0442\u0435 \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0438 \u0441\u043C\u0435\u0442\u043A\u0438",afterDecide:"\u041E\u0434\u043A\u0430\u043A\u043E \u045C\u0435 \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A, \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u0430 \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043A\u043E\u0438 \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0438 \u0441\u043C\u0435\u0442\u043A\u0438 \u0441\u0430\u043A\u0430\u0442\u0435 \u0434\u0430 \u0433\u0438 \u043F\u0440\u0435\u0444\u0440\u043B\u0438\u0442\u0435.",disclaimer:"\u041D\u0435 \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u0430 \u043F\u0440\u0444\u0440\u043B\u0430\u0442\u0435 \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0438 \u0441\u043C\u0435\u0442\u043A\u0438 \u043A\u043E\u0438 \u043D\u0438\u043A\u043E\u0433\u0430\u0448 \u043D\u0435 \u0431\u0438\u043B\u0435 \u043D\u0430\u0434\u043E\u043F\u043E\u043B\u043D\u0430\u0442\u0438 \u0438\u043B\u0438 \u043A\u043E\u0440\u0438\u0441\u0442\u0435\u043D\u0438 \u043D\u0430 NEAR.",warning:"\u043D\u0435 \u043F\u043E\u0434\u0434\u0440\u0436\u0443\u0432\u0430 \u0438\u0437\u0432\u0435\u0437\u0443\u0432\u0430\u045A\u0435 \u043D\u0430 \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0438 \u0441\u043C\u0435\u0442\u043A\u0438 \u0432\u043E \u043E\u0432\u043E\u0458 \u043C\u043E\u043C\u0435\u043D\u0442. \u0412\u0435 \u043C\u043E\u043B\u0438\u043C\u0435 \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0434\u0440\u0443\u0433 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A.",walletTypes:{hardware:"\u0425\u0430\u0440\u0434\u0432\u0435\u0440\u0441\u043A\u0438 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",browser:"\u041D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u043D\u0430 \u0438\u043D\u0442\u0435\u0440\u043D\u0435\u0442 \u043F\u0440\u0435\u043B\u0438\u0441\u0442\u0443\u0432\u0430\u0447",injected:"\u0415\u043A\u0441\u0442\u0435\u043D\u0437\u0438\u0458\u0430 \u0437\u0430 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",bridge:"Bridge \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",mobile:"\u041C\u043E\u0431\u0438\u043B\u0435\u043D \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A"},selectAccounts:{title:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u0438 \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0438\u0442\u0435 \u0441\u043C\u0435\u0442\u043A\u0438 \u0437\u0430 \u0434\u0430 \u0433\u0438 \u043F\u0440\u0435\u0444\u0440\u043B\u0438\u0442\u0435.",button:"\u0414\u043E\u0431\u0438\u0458\u0442\u0435 \u043B\u043E\u0437\u0438\u043D\u043A\u0430",deselectAll:"\u041E\u0442\u0441\u0435\u043B\u0435\u043A\u0442\u0438\u0440\u0430\u0458\u0442\u0435 \u0441\u0435",selectAll:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435",unavailable:"\u0422\u0440\u0430\u043D\u0441\u0444\u0435\u0440\u043E\u0442 \u0435 \u043D\u0435\u0434\u043E\u0441\u0442\u0430\u043F\u0435\u043D",error:"\u041A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0430\u0442\u0430 \u0441\u043C\u0435\u0442\u043A\u0430 \u043D\u0435 \u043F\u043E\u0441\u0442\u043E\u0438",warningLedger:"\u041F\u043E\u0442\u0440\u0435\u0431\u043D\u0430 \u0435 \u043F\u043E\u0434\u0434\u0440\u0448\u043A\u0430 \u043E\u0434 \u041B\u0435\u045F\u0435\u0440",noBalance:"\u0421\u043C\u0435\u0442\u043A\u0430\u0442\u0430 \u043D\u0435 \u0435 \u0444\u0438\u043D\u0430\u043D\u0441\u0438\u0440\u0430\u043D\u0430"},getPassphrase:{title:"\u041A\u043E\u043F\u0438\u0440\u0430\u0458\u0442\u0435 \u0458\u0430 \u043F\u0440\u0438\u0432\u0440\u0435\u043C\u0435\u043D\u0430\u0442\u0430 \u043B\u043E\u0437\u0438\u043D\u043A\u0430",desc:"\u040C\u0435 \u0442\u0440\u0435\u0431\u0430 \u0434\u0430 \u0458\u0430 \u0432\u043D\u0435\u0441\u0435\u0442\u0435 \u043E\u0432\u0430\u0430 \u043B\u043E\u0437\u0438\u043D\u043A\u0430 \u043A\u043E\u0433\u0430 \u045C\u0435 \u0437\u0430\u043F\u043E\u0447\u043D\u0435\u0442\u0435 \u0434\u0430 \u0433\u0438 \u0438\u0437\u0432\u0435\u0437\u0443\u0432\u0430\u0442\u0435 \u0432\u0430\u0448\u0438\u0442\u0435 \u0441\u043C\u0435\u0442\u043A\u0438 \u043D\u0430 \u0434\u0440\u0443\u0433 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A.",button:"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0435\u0442\u0435",label:"\u041A\u043B\u0438\u043A\u043D\u0435\u0442\u0435 \u0437\u0430 \u0434\u0430 \u043A\u043E\u043F\u0438\u0440\u0430\u0442\u0435",checkLabel:"\u0408\u0430 \u043A\u043E\u043F\u0438\u0440\u0430\u0432 \u0438\u043B\u0438 \u0437\u0430\u043F\u0438\u0448\u0430\u0432 \u043B\u043E\u0437\u0438\u043D\u043A\u0430\u0442\u0430"},complete:{title:"\u0417\u0430\u0432\u0440\u0448\u0435\u0442\u0435 \u0433\u043E \u043F\u0440\u0435\u043D\u043E\u0441\u043E\u0442",descOne:"\u0421\u0435\u0433\u0430 \u045C\u0435 \u0431\u0438\u0434\u0435\u0442\u0435 \u043F\u0440\u0435\u043D\u0430\u0441\u043E\u0447\u0435\u043D\u0438 \u043D\u0430 \u0438\u0437\u0431\u0440\u0430\u043D\u0438\u043E\u0442 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u0437\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430\u045A\u0435 \u043D\u0430 \u043F\u0440\u0435\u043D\u043E\u0441\u043E\u0442.",descTwo:"\u041E\u0442\u043A\u0430\u043A\u043E \u045C\u0435 \u0437\u0430\u0432\u0440\u0448\u0438 \u0443\u0432\u043E\u0437\u043E\u0442 \u043E\u0434 \u0438\u0437\u0431\u0440\u0430\u043D\u0438\u043E\u0442 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A, \u043F\u0440\u0438\u0442\u0438\u0441\u043D\u0435\u0442\u0435 \u0433\u043E \u043A\u043E\u043F\u0447\u0435\u0442\u043E \u0437\u0430 \u0434\u0430 \u0433\u043E \u0437\u0430\u0432\u0440\u0448\u0438\u0442\u0435 \u043F\u0440\u0435\u043D\u043E\u0441\u043E\u0442.",button:"\u0417\u0430\u0432\u0440\u0448\u0435\u0442\u0435"}}},mk={modal:modal$2},modal$1={wallet:{connectYourWallet:"Pove\u017Eite svojo denarnico!",whatIsAWallet:"Kaj je denarnica?",secureAndManage:"Zavarujte in upravljajte svoja digitalna sredstva.",safelyStore:"Varno shranjujte in prena\u0161ajte svoje kriptovalute in NFTje.",logInToAny:"Prijavite se v katero koli aplikacijo na NEAR",noNeedToCreate:"Ni vam treba ustvarjati novih ra\u010Dunov. Pove\u017Eite svojo denarnico in za\u010Dnite!",getAWallet:"Ustvarite denarnico",useAWallet:"Uporabite denarnico, da bi zavarovali in upravljali s svoja NEAR digitalna sredstva, in se prijavite v katero koli aplikacijo ekosistema NEAR",connectionFailed:"Povezava ni bila uspe\u0161na.",connectionSuccessful:"Povezava je bila uspe\u0161na.",connected:"Va\u0161a denarnica je povezana.",connectingTo:"Povezovanje z",connectingMessage:{injected:"Potrdite povezavo v oknu raz\u0161iritve",browser:"Po preusmeritvi potrdite povezavo v denarnici",hardware:"Potrdite povezavo s hladno denarnico",bridge:"Potrdite povezavo v denarnici"}},ledger:{connectWithLedger:"Pove\u017Eite se z Ledger",makeSureYourLedger:"Prepri\u010Dajte se, da je va\u0161 Ledger varno povezan in da je aplikacija NEAR odprta v va\u0161i napravi",continue:"Nadaljuj",specifyHDPath:"Dolo\u010Dite HD pot",enterYourPreferredHDPath:"Vnesite \u017Eeleno HD pot, nato poi\u0161\u010Dite vse aktivne ra\u010Dune.",scan:"Skenirajte",retry:"Poskusite znova",ledgerIsNotAvailable:"Ledger ni na voljo",accessDeniedToUseLedgerDevice:"Dostop za uporabo naprave Ledger zavrnjen",noAccountsFound:"Ni najdenih ra\u010Dunov",selectYourAccounts:"Izberite Va\u0161i ra\u010Duni",connecting1Account:"Povezovanje enega ra\u010Duna",cantFindAnyAccount:"Ni mogo\u010De najti nobenega ra\u010Duna, povezanega s tem Ledgerjem. Ustvarite nov NEAR ra\u010Dun ",orConnectAnAnotherLedger:"ali pove\u017Eite drug Ledger..",connecting:"Povezovanje",ofAccounts:"ra\u010Dunov",failedToAutomatically:"ID-ja ra\u010Duna ni bilo mogo\u010De samodejno najti. Zagotovite ga ro\u010Dno:",overviewTheListOfAuthorized:"Oglejte si seznam poobla\u0161\u010Denih ra\u010Dunov, dokon\u010Dajte prijavo s klikom na spodnji gumb.",finish:"Kon\u010Dajte"},install:{youllNeedToInstall:"Morali ga boste namestiti",toContinueAfterInstalling:"nadaljevati. Po namestitvi",refreshThePage:"Osve\u017Eite stran.",open:"Odprite"},qr:{copiedToClipboard:"Kopirano v podlo\u017Eni mapi",failedToCopy:"Kopiranje v podlo\u017Eni mapi ni uspelo",scanWithYourMobile:"Skenirajte s svojo mobilno napravo",copyToClipboard:" Kopirajte v podlo\u017Eni mapi",preferTheOfficial:"Preferirajte uradno pogovorno okno",open:"Odprite"},walletTypes:{hardware:"Hladna denarnica",browser:"Denarnica brskalnika",injected:"Raz\u0161iritev za denarnico",bridge:"Bridge denarnica",mobile:"Mobilna denarnica","instant-link":"Takoj\u0161nja denarnica"},exportAccounts:{chooseAWallet:"Izberite denarnico",transferYourAccounts:"Prenesite svoje ra\u010Dune",selectAWallet:"Izberite denarnico, ki ustreza va\u0161im potrebam in podpira va\u0161e povezane ra\u010Dune.",selectYourAccounts:"Izberite va\u0161i ra\u010Duni",afterDecide:"Ko se odlo\u010Dite za denarnico, lahko izberete, katere ra\u010Dune \u017Eelite prenesti.",disclaimer:"Ne boste mogli prenesti Ra\u010Dunov, ki nikoli niso bili financirani ali uporabljeni na NEAR.",warning:"trenutno ne podpira izvoza ra\u010Duna. Izberite drugo denarnico",walletTypes:{hardware:"Hladna denarnica",browser:"Denarnica brskalnika",injected:"Raz\u0161iritev za denarnico",bridge:"Bridge denarnica",mobile:"Mobilna denarnica"},selectAccounts:{title:"Izberite ra\u010Duni za prenos.",button:"Pridobite geslo",deselectAll:"Prekli\u010Di izbiro vseh",selectAll:"Izberi vse",unavailable:"Prenos ni na voljo",error:"Ra\u010Dun ne obstaja",warningLedger:"Potrebna je podpora za Ledger",noBalance:"Ra\u010Dun ni financiran"},getPassphrase:{title:"Kopiraj za\u010Dasno geslo",desc:"To geslo boste morali vnesti, ko boste za\u010Deli izva\u017Eati svoje ra\u010Dune v drugo denarnico.",button:"Nadaljujte",label:"Kliknite za kopiranje",checkLabel:"Geslo sem kopiral ali zapisal"},complete:{title:"Dokon\u010Dajte prenos",descOne:"Zdaj boste preusmerjeni v denarnico, ki ste jo izbrali za dokon\u010Danje prenosa.",descTwo:"Ko je uvozni del postopka kon\u010Dan iz izbrane denarnice, pritisnite gumb za dokon\u010Danje postopka prenosa.",button:"Kon\u010Dajte"}}},sl={modal:modal$1},modal={wallet:{connectYourWallet:"\u041F\u043E\u0432\u0435\u0436\u0438\u0442\u0435 \u0441\u0432\u043E\u0458 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A!",whatIsAWallet:"\u0428\u0442\u0430 \u0458\u0435 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A?",secureAndManage:"\u041E\u0431\u0435\u0437\u0431\u0435\u0434\u0438\u0442\u0435 \u0438 \u0443\u043F\u0440\u0430\u0432\u0459\u0430\u0458\u0442\u0435 \u0441\u0432\u043E\u0458\u043E\u043C \u0434\u0438\u0433\u0438\u0442\u0430\u043B\u043D\u043E\u043C \u0438\u043C\u043E\u0432\u0438\u043D\u043E\u043C.",safelyStore:"\u0411\u0435\u0437\u0431\u0435\u0434\u043D\u043E \u0447\u0443\u0432\u0430\u0458\u0442\u0435 \u0438 \u043F\u0440\u0435\u043D\u043E\u0441\u0438\u0442\u0435 \u0441\u0432\u043E\u0458\u0435 \u043A\u0440\u0438\u043F\u0442\u043E\u0432\u0430\u043B\u0443\u0442\u0435 \u0438 NFT.",logInToAny:"\u041F\u0440\u0438\u0458\u0430\u0432\u0438\u0442\u0435 \u0441\u0435 \u043D\u0430 \u0431\u0438\u043B\u043E \u043A\u043E\u0458\u0443 \u0430\u043F\u043B\u0438\u043A\u0430\u0446\u0438\u0458\u0443 NEAR",noNeedToCreate:"\u041D\u0435\u043C\u0430 \u043F\u043E\u0442\u0440\u0435\u0431\u0435 \u0434\u0430 \u043A\u0440\u0435\u0438\u0440\u0430\u0442\u0435 \u043D\u043E\u0432\u0435 \u043D\u0430\u043B\u043E\u0433\u0435 \u0438\u043B\u0438 \u0430\u043A\u0440\u0435\u0434\u0438\u0442\u0438\u0432\u0435. \u041F\u043E\u0432\u0435\u0436\u0438\u0442\u0435 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u0438 \u0441\u043F\u0440\u0435\u043C\u043D\u0438 \u0441\u0442e!",getAWallet:"\u041D\u0430\u0431\u0430\u0432\u0438\u0442\u0435 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",useAWallet:"\u041A\u043E\u0440\u0438\u0441\u0442\u0438\u0442\u0435 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u0434\u0430 \u043E\u0431\u0435\u0437\u0431\u0435\u0434\u0438\u0442\u0435 \u0438 \u0443\u043F\u0440\u0430\u0432\u0459\u0430\u0442\u0435 \u0441\u0432\u043E\u0458\u0438\u043C NEAR \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0438\u043C\u0430 \u0438 \u0434\u0430 \u0441\u0435 \u043F\u0440\u0438\u0458\u0430\u0432\u0438\u0442\u0435 \u0443 \u0431\u0438\u043B\u043E \u043A\u043E\u0458\u0443 \u0430\u043F\u043B\u0438\u043A\u0430\u0446\u0438\u0458\u0443 NEAR \u0431\u0435\u0437 \u043F\u043E\u0442\u0440\u0435\u0431\u0435 \u0437\u0430 \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u0447\u043A\u0438\u043C \u0438\u043C\u0435\u043D\u0438\u043C\u0430 \u0438 \u043B\u043E\u0437\u0438\u043D\u043A\u0430\u043C\u0430.",connectionFailed:"\u0412\u0435\u0437\u0430 \u043D\u0438\u0458\u0435 \u0443\u0441\u043F\u043E\u0441\u0442\u0430\u0432\u0459\u0435\u043D\u0430.",connectionSuccessful:"\u0412\u0435\u0437\u0430 \u0458\u0435 \u0443\u0441\u043F\u0435\u043B\u0430.",connected:"\u041F\u043E\u0432\u0435\u0437\u0430\u043D.",connectingTo:"\u041F\u043E\u0432\u0435\u0437\u0438\u0432\u0430\u045A\u0435 \u043D\u0430",connectingMessage:{injected:"\u041F\u043E\u0442\u0432\u0440\u0434\u0438\u0442\u0435 \u0432\u0435\u0437\u0443 \u0443 \u0441\u043F\u043E\u0459\u043D\u043E\u043C \u043F\u0440\u043E\u0437\u043E\u0440\u0443",browser:"\u041D\u0430\u043A\u043E\u043D \u043F\u0440\u0435\u0443\u0441\u043C\u0435\u0440\u0430\u0432\u0430\u045A\u0430, \u043F\u043E\u0442\u0432\u0440\u0434\u0438\u0442\u0435 \u0432\u0435\u0437\u0443 \u0443 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A\u0443",hardware:"\u041F\u043E\u0442\u0432\u0440\u0434\u0438\u0442\u0435 \u0432\u0435\u0437\u0443 \u0441\u0430 \u0445\u043B\u0430\u0434\u043D\u0438\u043C \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A\u043E\u043C",bridge:"\u041F\u043E\u0442\u0432\u0440\u0434\u0438\u0442\u0435 \u0432\u0435\u0437\u0443 \u0441\u0430 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A\u043E\u043C"}},ledger:{connectWithLedger:"\u041F\u043E\u0432\u0435\u0436\u0438\u0442\u0435 \u0441\u0435 \u0441\u0430 Ledger",makeSureYourLedger:"\u0423\u0432\u0435\u0440\u0438\u0442\u0435 \u0441\u0435 \u0434\u0430 \u0458\u0435 \u0432\u0430\u0448 Ledger \u0431\u0435\u0437\u0431\u0435\u0434\u043D\u043E \u043F\u043E\u0432\u0435\u0437\u0430\u043D \u0438 \u0434\u0430 \u0458\u0435 \u0430\u043F\u043B\u0438\u043A\u0430\u0446\u0438\u0458\u0430 NEAR \u043E\u0442\u0432\u043E\u0440\u0435\u043D\u0430 \u043D\u0430 \u0432\u0430\u0448\u0435\u043C \u0443\u0440\u0435\u0452\u0430\u0458\u0443",continue:"\u041D\u0430\u0441\u0442\u0430\u0432\u0438",specifyHDPath:"\u041D\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u0425\u0414 \u043F\u0443\u0442\u0430\u045A\u0443",enterYourPreferredHDPath:"\u0423\u043D\u0435\u0441\u0438\u0442\u0435 \u0436\u0435\u0459\u0435\u043D\u0443 \u0436\u0435\u0459\u0435\u043D\u0443 \u0425\u0414 \u043F\u0443\u0442\u0430\u045A\u0443, \u0430 \u0437\u0430\u0442\u0438\u043C \u0441\u043A\u0435\u043D\u0438\u0440\u0430\u0458\u0442\u0435 \u0441\u0432\u0435 \u0430\u043A\u0442\u0438\u0432\u043D\u0435 \u043D\u0430\u043B\u043E\u0433\u0435.",scan:"\u0421\u043A\u0435\u043D\u0438\u0440\u0430\u0458\u0442\u0435",retry:"\u041F\u043E\u043A\u0443\u0448\u0430\u0458 \u043F\u043E\u043D\u043E\u0432\u043E",ledgerIsNotAvailable:"Ledger \u043D\u0438\u0458\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u0430\u043D.",accessDeniedToUseLedgerDevice:"\u041F\u0440\u0438\u0441\u0442\u0443\u043F \u0458\u0435 \u043E\u0434\u0431\u0438\u0458\u0435\u043D \u0437\u0430 \u043A\u043E\u0440\u0438\u0448\u045B\u0435\u045A\u0435 Ledger \u0443\u0440\u0435\u0452\u0430\u0458\u0430",noAccountsFound:"\u041D\u0430l\u043E\u0437\u0438 \u043D\u0438\u0441\u0443 \u043F\u0440\u043E\u043D\u0430\u0452\u0435\u043D\u0438",selectYourAccounts:"\u0418\u0437\u0430\u0431\u0435\u0440\u0438\u0442\u0435 \u0412\u0430\u0448 \u043D\u0430l\u043E\u0433",connecting1Account:"\u041F\u043E\u0432\u0435\u0437\u0430\u0442\u0438 1 \u043D\u0430l\u043E\u0433",cantFindAnyAccount:"\u041D\u0438\u0458\u0435 \u043C\u043E\u0433\u0443\u045B\u0435 \u043F\u0440\u043E\u043D\u0430\u045B\u0438 \u043D\u0438\u0458\u0435\u0434\u0430\u043D \u043D\u0430l\u043E\u0433 \u043F\u043E\u0432\u0435\u0437\u0430\u043D \u0441\u0430 \u043E\u0432\u0438\u043C Ledger-\u043E\u043C. \u041D\u0430\u043F\u0440\u0430\u0432\u0438\u0442\u0435 \u043D\u043E\u0432\u0438 NEAR \u043D\u0430l\u043E\u0433",orConnectAnAnotherLedger:"\u0438\u043B\u0438 \u043F\u043E\u0432\u0435\u0436\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0438 Ledger.",connecting:"\u041F\u043E\u0432\u0435\u0437\u0438\u0432\u0430\u045A\u0435",ofAccounts:"\u043D\u0430l\u043E\u0433\u0430",failedToAutomatically:"\u0410\u0443\u0442\u043E\u043C\u0430\u0442\u0441\u043A\u043E \u043F\u0440\u043E\u043D\u0430\u043B\u0430\u0436\u0435\u045A\u0435 ID-a \u043D\u0430l\u043E\u0433\u0430 \u043D\u0438\u0458\u0435 \u0443\u0441\u043F\u0435\u043B\u043E. \u041D\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u0430 \u0440\u0443\u0447\u043D\u043E:",overviewTheListOfAuthorized:"\u041F\u0440\u0435\u0433\u043B\u0435\u0434\u0430\u0458\u0442\u0435 \u043B\u0438\u0441\u0442\u0443 \u043E\u0432\u043B\u0430\u0448\u045B\u0435\u043D\u0438\u0445 \u0440\u0430\u0447\u0443\u043D\u0430, \u0437\u0430\u0432\u0440\u0448\u0438\u0442\u0435 \u043F\u0440\u0438\u0458\u0430\u0432\u0443 \u043A\u043B\u0438\u043A\u043E\u043C \u043D\u0430 \u0434\u0443\u0433\u043C\u0435 \u0438\u0441\u043F\u043E\u0434.",finish:"\u0417\u0430\u0432\u0440\u0448\u0438"},install:{youllNeedToInstall:"\u041C\u043E\u0440\u0430\u045B\u0435\u0442\u0435 \u0434\u0430 \u0438\u043D\u0441\u0442\u0430\u043B\u0438\u0440\u0430\u0442\u0435",toContinueAfterInstalling:"\u0437\u0430 \u043D\u0430\u0441\u0442\u0430\u0432\u0430\u043A. \u041D\u0430\u043A\u043E\u043D \u0438\u043D\u0441\u0442\u0430\u043B\u0438\u0440\u0430\u045A\u0430",refreshThePage:"\u043F\u043E\u043D\u043E\u0432\u043E \u0443\u0447\u0438\u0442\u0430\u0442\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443.",open:"\u041E\u0442\u0432\u043E\u0440\u0438"},qr:{copiedToClipboard:"\u041A\u043E\u043F\u0438\u0440\u0430\u043D\u043E \u0443 \u043C\u0435\u0452\u0443\u0441\u043F\u0440\u0435\u043C\u043D\u0438\u043A",failedToCopy:"\u041A\u043E\u043F\u0438\u0440\u0430\u045A\u0435 \u0443 \u043C\u0435\u0452\u0443\u0441\u043F\u0440\u0435\u043C\u043D\u0438\u043A \u043D\u0438\u0458\u0435 \u0443\u0441\u043F\u0435\u043B\u043E",scanWithYourMobile:"\u0421\u043A\u0435\u043D\u0438\u0440\u0430\u0458\u0442\u0435 \u043F\u043E\u043C\u043E\u045B\u0443 \u043C\u043E\u0431\u0438\u043B\u043D\u043E\u0433 \u0443\u0440\u0435\u0452\u0430\u0458\u0430",copyToClipboard:" \u041A\u043E\u043F\u0438\u0440\u0430\u0458 \u0443 \u043C\u0435\u0452\u0443\u0441\u043F\u0440\u0435\u043C\u043D\u0438\u043A",preferTheOfficial:"\u041F\u0440\u0435\u0444\u0435\u0440\u0438\u0440\u0430\u0442\u0435 \u0437\u0432\u0430\u043D\u0438\u0447\u043D\u0438 \u0434\u0438\u0458\u0430\u043B\u043E\u0433 \u043E\u0434",open:"\u041E\u0442\u0432\u043E\u0440\u0438"},walletTypes:{hardware:"\u0425\u0430\u0440\u0434\u0432\u0435\u0440\u0441\u043A\u0438 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",browser:"\u041D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u043F\u0440\u0435\u0442\u0440\u0430\u0436\u0438\u0432\u0430\u0447\u0430,",injected:"\u0414\u043E\u0434\u0430\u0442\u0430\u043A \u0437\u0430 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A,",bridge:"Bridge \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",mobile:"\u041C\u043E\u0431\u0438\u043B\u043D\u0438 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A","instant-link":"\u0418\u043D\u0441\u0442\u0430\u043D\u0442 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A"},exportAccounts:{chooseAWallet:"\u0418\u0437\u0430\u0431\u0435\u0440\u0438\u0442\u0435 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",transferYourAccounts:"\u041F\u0440\u0435\u043D\u0435\u0441\u0438\u0442\u0435 \u0441\u0432\u043E\u0458\u0435 \u043D\u0430\u043B\u043E\u0433\u0435",selectAWallet:"\u0418\u0437\u0430\u0431\u0435\u0440\u0438\u0442\u0435 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u043A\u043E\u0458\u0438 \u043E\u0434\u0433\u043E\u0432\u0430\u0440\u0430 \u0432\u0430\u0448\u0438\u043C \u043F\u043E\u0442\u0440\u0435\u0431\u0430\u043C\u0430 \u0438 \u043A\u043E\u0458\u0438 \u043F\u043E\u0434\u0440\u0436\u0430\u0432\u0430 \u0432\u0430\u0448\u0435 \u043F\u043E\u0432\u0435\u0437\u0430\u043D\u0435 \u043D\u0430\u043B\u043E\u0433\u0435.",selectYourAccounts:"\u0418\u0437\u0430\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u043D\u0430\u043B\u043E\u0433\u0435",afterDecide:"\u041D\u0430\u043A\u043E\u043D \u0448\u0442\u043E \u0441\u0435 \u043E\u0434\u043B\u0443\u0447\u0438\u0442\u0435 \u0437\u0430 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A, \u043C\u043E\u0436\u0435\u0442\u0435 \u0438\u0437\u0430\u0431\u0440\u0430\u0442\u0438 \u043A\u043E\u0458\u0435 \u043D\u0430\u043B\u043E\u0433\u0435 \u0436\u0435\u043B\u0438\u0442\u0435 \u0434\u0430 \u043F\u0440\u0435\u043D\u0435\u0441\u0435\u0442\u0435.",disclaimer:"\u041D\u0435\u045B\u0435\u0442\u0435 \u043C\u043E\u045B\u0438 \u0434\u0430 \u043F\u0440\u0435\u043D\u0435\u0441\u0435\u0442\u0435 \u043D\u0430\u043B\u043E\u0433\u0435 \u043A\u043E\u0458\u0438 \u043D\u0438\u043A\u0430\u0434\u0430 \u043D\u0438\u0441\u0443 \u0431\u0438\u043B\u0438 \u0444\u0438\u043D\u0430\u043D\u0441\u0438\u0440\u0430\u043D\u0438 \u0438\u043B\u0438 \u043A\u043E\u0440\u0438\u0448\u045B\u0435\u043D\u0438 \u043D\u0430  NEAR.",warning:"\u0442\u0440\u0435\u043D\u0443\u0442\u043D\u043E \u043D\u0435 \u043F\u043E\u0434\u0440\u0436\u0430\u0432\u0430 \u0438\u0437\u0432\u043E\u0437 \u043D\u0430\u043B\u043E\u0433\u0430. \u0418\u0437\u0430\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0438 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A.",walletTypes:{hardware:"\u0425\u0430\u0440\u0434\u0432\u0435\u0440\u0441\u043A\u0438 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",browser:"\u041D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u043F\u0440\u0435\u0442\u0440\u0430\u0436\u0438\u0432\u0430\u0447\u0430,",injected:"\u0414\u043E\u0434\u0430\u0442\u0430\u043A \u0437\u0430 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A,",bridge:"Bridge \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A",mobile:"\u041C\u043E\u0431\u0438\u043B\u043D\u0438 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A"},selectAccounts:{title:"\u0418\u0437\u0430\u0431\u0435\u0440\u0438\u0442\u0435 \u043D\u0430\u043B\u043E\u0433\u0435 \u0437\u0430 \u043F\u0440\u0435\u043D\u043E\u0441.",button:"\u0414\u043E\u0431\u0438\u0458\u0442\u0435 \u043F\u0440\u0438\u0441\u0442\u0443\u043F\u043D\u0443 \u0444\u0440\u0430\u0437\u0443",deselectAll:"\u041F\u043E\u043D\u0438\u0448\u0442\u0438\u0442\u0435 \u0438\u0437\u0431\u043E\u0440",selectAll:"\u0418\u0437\u0430\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u0435",unavailable:"\u0422\u0440\u0430\u043D\u0441\u0444\u0435\u0440 \u043D\u0438\u0458\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u0430\u043D",error:"\u041D\u0430\u043B\u043E\u0433 \u043D\u0435 \u043F\u043E\u0441\u0442\u043E\u0458\u0438",warningLedger:"\u041F\u043E\u0442\u0440\u0435\u0431\u043D\u0430 \u043F\u043E\u0434\u0440\u0448\u043A\u0430 \u0437\u0430 Ledger",noBalance:"\u041D\u0430\u043B\u043E\u0433 \u043D\u0438\u0458\u0435 \u0444\u0438\u043D\u0430\u043D\u0441\u0438\u0440\u0430\u043D"},getPassphrase:{title:"\u041A\u043E\u043F\u0438\u0440\u0430\u0458 \u043F\u0440\u0438\u0432\u0440\u0435\u043C\u0435\u043D\u0443 \u043B\u043E\u0437\u0438\u043D\u043A\u0443",desc:"\u041C\u043E\u0440\u0430\u045B\u0435\u0442\u0435 \u0434\u0430 \u0443\u043D\u0435\u0441\u0435\u0442\u0435 \u043E\u0432\u0443 \u043B\u043E\u0437\u0438\u043D\u043A\u0443 \u043A\u0430\u0434\u0430 \u043F\u043E\u0447\u043D\u0435\u0442\u0435 \u0434\u0430 \u0438\u0437\u0432\u043E\u0437\u0438\u0442\u0435 \u0441\u0432\u043E\u0458\u0435 \u043D\u0430\u043B\u043E\u0433\u0435 \u0443 \u0434\u0440\u0443\u0433\u0438 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A.",button:"\u041D\u0430\u0441\u0442\u0430\u0432\u0438\u0442\u0435",label:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0434\u0430 \u0431\u0438\u0441\u0442\u0435 \u043A\u043E\u043F\u0438\u0440\u0430\u043B\u0438",checkLabel:"\u041A\u043E\u043F\u0438\u0440\u0430\u043E \u0441\u0430\u043C \u0438\u043B\u0438 \u0437\u0430\u043F\u0438\u0441\u0430\u043E \u043B\u043E\u0437\u0438\u043D\u043A\u0443"},complete:{title:"\u0414\u043E\u0432\u0440\u0448\u0438\u0442\u0435 \u0442\u0440\u0430\u043D\u0441\u0444\u0435\u0440",descOne:"\u0421\u0430\u0434\u0430 \u045B\u0435\u0442\u0435 \u0431\u0438\u0442\u0438 \u043F\u0440\u0435\u0443\u0441\u043C\u0435\u0440\u0435\u043D\u0438 \u043D\u0430 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A \u043A\u043E\u0458\u0438 \u0441\u0442\u0435 \u0438\u0437\u0430\u0431\u0440\u0430\u043B\u0438 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0438\u0442\u0435 \u0442\u0440\u0430\u043D\u0441\u0444\u0435\u0440.",descTwo:"\u041A\u0430\u0434\u0430 \u0441\u0435 \u0434\u0435\u043E \u043F\u0440\u043E\u0446\u0435\u0441\u0430 \u0443\u0432\u043E\u0437\u0430 \u0437\u0430\u0432\u0440\u0448\u0438 \u0438\u0437 \u0438\u0437\u0430\u0431\u0440\u0430\u043D\u043E\u0433 \u043D\u043E\u0432\u0447\u0430\u043D\u0438\u043A\u0430, \u043F\u0440\u0438\u0442\u0438\u0441\u043D\u0438\u0442\u0435 \u0434\u0443\u0433\u043C\u0435 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0438\u0442\u0435 \u043F\u0440\u043E\u0446\u0435\u0441 \u043F\u0440\u0435\u043D\u043E\u0441\u0430.",button:"\u0417\u0430\u0432\u0440\u0448\u0438\u0442\u0435"}}},sr={modal};const getLanguage=e=>{switch(e){case"en":return en;case"es":return es;case"zh":return zh;case"bg":return bg;case"ko":return ko;case"vi":return vi;case"hi":return hi;case"ar":return ar;case"hr":return hr;case"mk":return mk;case"sl":return sl;case"sr":return sr;default:return en}};let chosenLang;const allowOnlyLanguage=e=>{chosenLang=e},shortenLanguageCode=e=>e.indexOf("-")!==-1?e.split("-")[0]:e.split("_")[0],findObjectPropByStringPath=(e,t)=>{if(!e)return"";const n=t.indexOf(".");if(n>-1){const o=t.substring(0,n),c=t.substring(n+1);return findObjectPropByStringPath(e[o],c)}return e[t]},translate=e=>{let t=window.navigator.languages?window.navigator.languages[0]:null;t=t||window.navigator.language;const n=shortenLanguageCode(chosenLang||t),o=getLanguage(n),c=findObjectPropByStringPath(o,e);return c&&typeof c=="string"?c:e},{transactions:transactions$1,utils:utils$B}=nearAPI$2,getAccessKey$1=e=>{if(e==="FullAccess")return transactions$1.fullAccessKey();const{receiverId:t,methodNames:n=[]}=e,o=e.allowance?new bnExports$6.BN(e.allowance):void 0;return transactions$1.functionCallAccessKey(t,n,o)},createAction$2=e=>{switch(e.type){case"CreateAccount":return transactions$1.createAccount();case"DeployContract":{const{code:t}=e.params;return transactions$1.deployContract(t)}case"FunctionCall":{const{methodName:t,args:n,gas:o,deposit:c}=e.params;return transactions$1.functionCall(t,n,new bnExports$6.BN(o),new bnExports$6.BN(c))}case"Transfer":{const{deposit:t}=e.params;return transactions$1.transfer(new bnExports$6.BN(t))}case"Stake":{const{stake:t,publicKey:n}=e.params;return transactions$1.stake(new bnExports$6.BN(t),utils$B.PublicKey.from(n))}case"AddKey":{const{publicKey:t,accessKey:n}=e.params;return transactions$1.addKey(utils$B.PublicKey.from(t),getAccessKey$1(n.permission))}case"DeleteKey":{const{publicKey:t}=e.params;return transactions$1.deleteKey(utils$B.PublicKey.from(t))}case"DeleteAccount":{const{beneficiaryId:t}=e.params;return transactions$1.deleteAccount(t)}default:throw new Error("Invalid action type")}};var commonjsGlobal$5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$u<"u"?global$u:typeof self<"u"?self:{},fails$d$2=function(e){try{return!!e()}catch{return!0}},fails$c$2=fails$d$2,functionBindNative$4=!fails$c$2(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$3$2=functionBindNative$4,FunctionPrototype$2$2=Function.prototype,bind$5$2=FunctionPrototype$2$2.bind,call$e$2=FunctionPrototype$2$2.call,uncurryThis$d$2=NATIVE_BIND$3$2&&bind$5$2.bind(call$e$2,call$e$2),functionUncurryThis$4=NATIVE_BIND$3$2?function(e){return e&&uncurryThis$d$2(e)}:function(e){return e&&function(){return call$e$2.apply(e,arguments)}},uncurryThis$c$2=functionUncurryThis$4,toString$2$4=uncurryThis$c$2({}.toString),stringSlice$8=uncurryThis$c$2("".slice),classofRaw$1$5=function(e){return stringSlice$8(toString$2$4(e),8,-1)},uncurryThis$b$2=functionUncurryThis$4,fails$b$2=fails$d$2,classof$5$3=classofRaw$1$5,$Object$4$2=Object,split$6=uncurryThis$b$2("".split),indexedObject$5=fails$b$2(function(){return!$Object$4$2("z").propertyIsEnumerable(0)})?function(e){return classof$5$3(e)=="String"?split$6(e,""):$Object$4$2(e)}:$Object$4$2,$TypeError$b$2=TypeError,requireObjectCoercible$2$5=function(e){if(e==null)throw $TypeError$b$2("Can't call method on "+e);return e},IndexedObject$6=indexedObject$5,requireObjectCoercible$1$5=requireObjectCoercible$2$5,toIndexedObject$5$2=function(e){return IndexedObject$6(requireObjectCoercible$1$5(e))},check$5=function(e){return e&&e.Math==Math&&e},global$j$2=check$5(typeof globalThis=="object"&&globalThis)||check$5(typeof window=="object"&&window)||check$5(typeof self=="object"&&self)||check$5(typeof commonjsGlobal$5=="object"&&commonjsGlobal$5)||function(){return this}()||Function("return this")(),shared$3$4={exports:{}},global$i$3=global$j$2,defineProperty$4$2=Object.defineProperty,defineGlobalProperty$3$4=function(e,t){try{defineProperty$4$2(global$i$3,e,{value:t,configurable:!0,writable:!0})}catch{global$i$3[e]=t}return t},global$h$3=global$j$2,defineGlobalProperty$2$4=defineGlobalProperty$3$4,SHARED$5="__core-js_shared__",store$3$5=global$h$3[SHARED$5]||defineGlobalProperty$2$4(SHARED$5,{}),sharedStore$5=store$3$5,store$2$5=sharedStore$5;(shared$3$4.exports=function(e,t){return store$2$5[e]||(store$2$5[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var requireObjectCoercible$9=requireObjectCoercible$2$5,$Object$3$4=Object,toObject$2$4=function(e){return $Object$3$4(requireObjectCoercible$9(e))},uncurryThis$a$4=functionUncurryThis$4,toObject$1$5=toObject$2$4,hasOwnProperty$5=uncurryThis$a$4({}.hasOwnProperty),hasOwnProperty_1$4=Object.hasOwn||function e(t,n){return hasOwnProperty$5(toObject$1$5(t),n)},uncurryThis$9$4=functionUncurryThis$4,id$7=0,postfix$5=Math.random(),toString$1$4=uncurryThis$9$4(1 .toString),uid$2$5=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$1$4(++id$7+postfix$5,36)},isCallable$k$2=function(e){return typeof e=="function"},global$g$3=global$j$2,isCallable$j$2=isCallable$k$2,aFunction$9=function(e){return isCallable$j$2(e)?e:void 0},getBuiltIn$8$2=function(e,t){return arguments.length<2?aFunction$9(global$g$3[e]):global$g$3[e]&&global$g$3[e][t]},getBuiltIn$7$2=getBuiltIn$8$2,engineUserAgent$5=getBuiltIn$7$2("navigator","userAgent")||"",global$f$3=global$j$2,userAgent$3$2=engineUserAgent$5,process$3$3=global$f$3.process,Deno$1$2=global$f$3.Deno,versions$5=process$3$3&&process$3$3.versions||Deno$1$2&&Deno$1$2.version,v8$5=versions$5&&versions$5.v8,match$5,version$6;v8$5&&(match$5=v8$5.split("."),version$6=match$5[0]>0&&match$5[0]<4?1:+(match$5[0]+match$5[1])),!version$6&&userAgent$3$2&&(match$5=userAgent$3$2.match(/Edge\/(\d+)/),(!match$5||match$5[1]>=74)&&(match$5=userAgent$3$2.match(/Chrome\/(\d+)/),match$5&&(version$6=+match$5[1])));var engineV8Version$5=version$6,V8_VERSION$1$2=engineV8Version$5,fails$a$4=fails$d$2,nativeSymbol$5=!!Object.getOwnPropertySymbols&&!fails$a$4(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1$2&&V8_VERSION$1$2<41}),NATIVE_SYMBOL$1$5=nativeSymbol$5,useSymbolAsUid$5=NATIVE_SYMBOL$1$5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",global$e$3=global$j$2,shared$2$5=shared$3$4.exports,hasOwn$a$2=hasOwnProperty_1$4,uid$1$5=uid$2$5,NATIVE_SYMBOL$7=nativeSymbol$5,USE_SYMBOL_AS_UID$1$4=useSymbolAsUid$5,WellKnownSymbolsStore$5=shared$2$5("wks"),Symbol$1$5=global$e$3.Symbol,symbolFor$4=Symbol$1$5&&Symbol$1$5.for,createWellKnownSymbol$5=USE_SYMBOL_AS_UID$1$4?Symbol$1$5:Symbol$1$5&&Symbol$1$5.withoutSetter||uid$1$5,wellKnownSymbol$e$2=function(e){if(!hasOwn$a$2(WellKnownSymbolsStore$5,e)||!(NATIVE_SYMBOL$7||typeof WellKnownSymbolsStore$5[e]=="string")){var t="Symbol."+e;NATIVE_SYMBOL$7&&hasOwn$a$2(Symbol$1$5,e)?WellKnownSymbolsStore$5[e]=Symbol$1$5[e]:USE_SYMBOL_AS_UID$1$4&&symbolFor$4?WellKnownSymbolsStore$5[e]=symbolFor$4(t):WellKnownSymbolsStore$5[e]=createWellKnownSymbol$5(t)}return WellKnownSymbolsStore$5[e]},isCallable$i$2=isCallable$k$2,isObject$7$3=function(e){return typeof e=="object"?e!==null:isCallable$i$2(e)},isObject$6$3=isObject$7$3,$String$3$2=String,$TypeError$a$2=TypeError,anObject$c$2=function(e){if(isObject$6$3(e))return e;throw $TypeError$a$2($String$3$2(e)+" is not an object")},objectDefineProperties$3={},fails$9$4=fails$d$2,descriptors$5=!fails$9$4(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),DESCRIPTORS$9$2=descriptors$5,fails$8$5=fails$d$2,v8PrototypeDefineBug$4=DESCRIPTORS$9$2&&fails$8$5(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),objectDefineProperty$5={},global$d$3=global$j$2,isObject$5$5=isObject$7$3,document$3$2=global$d$3.document,EXISTS$1$4=isObject$5$5(document$3$2)&&isObject$5$5(document$3$2.createElement),documentCreateElement$2$2=function(e){return EXISTS$1$4?document$3$2.createElement(e):{}},DESCRIPTORS$8$2=descriptors$5,fails$7$5=fails$d$2,createElement$1$3=documentCreateElement$2$2,ie8DomDefine$5=!DESCRIPTORS$8$2&&!fails$7$5(function(){return Object.defineProperty(createElement$1$3("div"),"a",{get:function(){return 7}}).a!=7}),NATIVE_BIND$2$2=functionBindNative$4,call$d$2=Function.prototype.call,functionCall$j=NATIVE_BIND$2$2?call$d$2.bind(call$d$2):function(){return call$d$2.apply(call$d$2,arguments)},uncurryThis$8$4=functionUncurryThis$4,objectIsPrototypeOf$4=uncurryThis$8$4({}.isPrototypeOf),getBuiltIn$6$2=getBuiltIn$8$2,isCallable$h$2=isCallable$k$2,isPrototypeOf$3$2=objectIsPrototypeOf$4,USE_SYMBOL_AS_UID$6=useSymbolAsUid$5,$Object$2$4=Object,isSymbol$2$4=USE_SYMBOL_AS_UID$6?function(e){return typeof e=="symbol"}:function(e){var t=getBuiltIn$6$2("Symbol");return isCallable$h$2(t)&&isPrototypeOf$3$2(t.prototype,$Object$2$4(e))},$String$2$4=String,tryToString$4$2=function(e){try{return $String$2$4(e)}catch{return"Object"}},isCallable$g$2=isCallable$k$2,tryToString$3$2=tryToString$4$2,$TypeError$9$2=TypeError,aCallable$7$2=function(e){if(isCallable$g$2(e))return e;throw $TypeError$9$2(tryToString$3$2(e)+" is not a function")},aCallable$6$2=aCallable$7$2,getMethod$3$2=function(e,t){var n=e[t];return n==null?void 0:aCallable$6$2(n)},call$c$2=functionCall$j,isCallable$f$2=isCallable$k$2,isObject$4$5=isObject$7$3,$TypeError$8$2=TypeError,ordinaryToPrimitive$1$4=function(e,t){var n,o;if(t==="string"&&isCallable$f$2(n=e.toString)&&!isObject$4$5(o=call$c$2(n,e))||isCallable$f$2(n=e.valueOf)&&!isObject$4$5(o=call$c$2(n,e))||t!=="string"&&isCallable$f$2(n=e.toString)&&!isObject$4$5(o=call$c$2(n,e)))return o;throw $TypeError$8$2("Can't convert object to primitive value")},call$b$2=functionCall$j,isObject$3$5=isObject$7$3,isSymbol$1$4=isSymbol$2$4,getMethod$2$2=getMethod$3$2,ordinaryToPrimitive$5=ordinaryToPrimitive$1$4,wellKnownSymbol$d$3=wellKnownSymbol$e$2,$TypeError$7$2=TypeError,TO_PRIMITIVE$4=wellKnownSymbol$d$3("toPrimitive"),toPrimitive$1$5=function(e,t){if(!isObject$3$5(e)||isSymbol$1$4(e))return e;var n=getMethod$2$2(e,TO_PRIMITIVE$4),o;if(n){if(t===void 0&&(t="default"),o=call$b$2(n,e,t),!isObject$3$5(o)||isSymbol$1$4(o))return o;throw $TypeError$7$2("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive$5(e,t)},toPrimitive$6=toPrimitive$1$5,isSymbol$6=isSymbol$2$4,toPropertyKey$2$4=function(e){var t=toPrimitive$6(e,"string");return isSymbol$6(t)?t:t+""},DESCRIPTORS$7$4=descriptors$5,IE8_DOM_DEFINE$1$5=ie8DomDefine$5,V8_PROTOTYPE_DEFINE_BUG$1$2=v8PrototypeDefineBug$4,anObject$b$3=anObject$c$2,toPropertyKey$1$4=toPropertyKey$2$4,$TypeError$6$2=TypeError,$defineProperty$4=Object.defineProperty,$getOwnPropertyDescriptor$1$4=Object.getOwnPropertyDescriptor,ENUMERABLE$4="enumerable",CONFIGURABLE$1$4="configurable",WRITABLE$4="writable";objectDefineProperty$5.f=DESCRIPTORS$7$4?V8_PROTOTYPE_DEFINE_BUG$1$2?function e(t,n,o){if(anObject$b$3(t),n=toPropertyKey$1$4(n),anObject$b$3(o),typeof t=="function"&&n==="prototype"&&"value"in o&&WRITABLE$4 in o&&!o[WRITABLE$4]){var c=$getOwnPropertyDescriptor$1$4(t,n);c&&c[WRITABLE$4]&&(t[n]=o.value,o={configurable:CONFIGURABLE$1$4 in o?o[CONFIGURABLE$1$4]:c[CONFIGURABLE$1$4],enumerable:ENUMERABLE$4 in o?o[ENUMERABLE$4]:c[ENUMERABLE$4],writable:!1})}return $defineProperty$4(t,n,o)}:$defineProperty$4:function e(t,n,o){if(anObject$b$3(t),n=toPropertyKey$1$4(n),anObject$b$3(o),IE8_DOM_DEFINE$1$5)try{return $defineProperty$4(t,n,o)}catch{}if("get"in o||"set"in o)throw $TypeError$6$2("Accessors not supported");return"value"in o&&(t[n]=o.value),t};var ceil$5=Math.ceil,floor$6=Math.floor,mathTrunc$4=Math.trunc||function e(t){var n=+t;return(n>0?floor$6:ceil$5)(n)},trunc$4=mathTrunc$4,toIntegerOrInfinity$2$4=function(e){var t=+e;return t!==t||t===0?0:trunc$4(t)},toIntegerOrInfinity$1$4=toIntegerOrInfinity$2$4,max$6=Math.max,min$1$5=Math.min,toAbsoluteIndex$1$5=function(e,t){var n=toIntegerOrInfinity$1$4(e);return n<0?max$6(n+t,0):min$1$5(n,t)},toIntegerOrInfinity$6=toIntegerOrInfinity$2$4,min$6=Math.min,toLength$1$5=function(e){return e>0?min$6(toIntegerOrInfinity$6(e),9007199254740991):0},toLength$6=toLength$1$5,lengthOfArrayLike$2$2=function(e){return toLength$6(e.length)},toIndexedObject$4$3=toIndexedObject$5$2,toAbsoluteIndex$7=toAbsoluteIndex$1$5,lengthOfArrayLike$1$4=lengthOfArrayLike$2$2,createMethod$6=function(e){return function(t,n,o){var c=toIndexedObject$4$3(t),a=lengthOfArrayLike$1$4(c),u=toAbsoluteIndex$7(o,a),h;if(e&&n!=n){for(;a>u;)if(h=c[u++],h!=h)return!0}else for(;a>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}},arrayIncludes$5={includes:createMethod$6(!0),indexOf:createMethod$6(!1)},hiddenKeys$4$3={},uncurryThis$7$4=functionUncurryThis$4,hasOwn$9$2=hasOwnProperty_1$4,toIndexedObject$3$5=toIndexedObject$5$2,indexOf$5=arrayIncludes$5.indexOf,hiddenKeys$3$5=hiddenKeys$4$3,push$6=uncurryThis$7$4([].push),objectKeysInternal$5=function(e,t){var n=toIndexedObject$3$5(e),o=0,c=[],a;for(a in n)!hasOwn$9$2(hiddenKeys$3$5,a)&&hasOwn$9$2(n,a)&&push$6(c,a);for(;t.length>o;)hasOwn$9$2(n,a=t[o++])&&(~indexOf$5(c,a)||push$6(c,a));return c},enumBugKeys$3$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$5=objectKeysInternal$5,enumBugKeys$2$5=enumBugKeys$3$3,objectKeys$1$5=Object.keys||function e(t){return internalObjectKeys$1$5(t,enumBugKeys$2$5)},DESCRIPTORS$6$4=descriptors$5,V8_PROTOTYPE_DEFINE_BUG$5=v8PrototypeDefineBug$4,definePropertyModule$4$3=objectDefineProperty$5,anObject$a$3=anObject$c$2,toIndexedObject$2$5=toIndexedObject$5$2,objectKeys$6=objectKeys$1$5;objectDefineProperties$3.f=DESCRIPTORS$6$4&&!V8_PROTOTYPE_DEFINE_BUG$5?Object.defineProperties:function e(t,n){anObject$a$3(t);for(var o=toIndexedObject$2$5(n),c=objectKeys$6(n),a=c.length,u=0,h;a>u;)definePropertyModule$4$3.f(t,h=c[u++],o[h]);return t};var getBuiltIn$5$3=getBuiltIn$8$2,html$2$3=getBuiltIn$5$3("document","documentElement"),shared$1$5=shared$3$4.exports,uid$7=uid$2$5,keys$5=shared$1$5("keys"),sharedKey$3$3=function(e){return keys$5[e]||(keys$5[e]=uid$7(e))},anObject$9$3=anObject$c$2,definePropertiesModule$2=objectDefineProperties$3,enumBugKeys$1$5=enumBugKeys$3$3,hiddenKeys$2$5=hiddenKeys$4$3,html$1$3=html$2$3,documentCreateElement$1$3=documentCreateElement$2$2,sharedKey$2$3=sharedKey$3$3,GT$3=">",LT$3="<",PROTOTYPE$3="prototype",SCRIPT$3="script",IE_PROTO$1$2=sharedKey$2$3("IE_PROTO"),EmptyConstructor$3=function(){},scriptTag$3=function(e){return LT$3+SCRIPT$3+GT$3+e+LT$3+"/"+SCRIPT$3+GT$3},NullProtoObjectViaActiveX$3=function(e){e.write(scriptTag$3("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame$3=function(){var e=documentCreateElement$1$3("iframe"),t="java"+SCRIPT$3+":",n;return e.style.display="none",html$1$3.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(scriptTag$3("document.F=Object")),n.close(),n.F},activeXDocument$3,NullProtoObject$3=function(){try{activeXDocument$3=new ActiveXObject("htmlfile")}catch{}NullProtoObject$3=typeof document<"u"?document.domain&&activeXDocument$3?NullProtoObjectViaActiveX$3(activeXDocument$3):NullProtoObjectViaIFrame$3():NullProtoObjectViaActiveX$3(activeXDocument$3);for(var e=enumBugKeys$1$5.length;e--;)delete NullProtoObject$3[PROTOTYPE$3][enumBugKeys$1$5[e]];return NullProtoObject$3()};hiddenKeys$2$5[IE_PROTO$1$2]=!0;var objectCreate$3=Object.create||function e(t,n){var o;return t!==null?(EmptyConstructor$3[PROTOTYPE$3]=anObject$9$3(t),o=new EmptyConstructor$3,EmptyConstructor$3[PROTOTYPE$3]=null,o[IE_PROTO$1$2]=t):o=NullProtoObject$3(),n===void 0?o:definePropertiesModule$2.f(o,n)},wellKnownSymbol$c$3=wellKnownSymbol$e$2,create$1$2=objectCreate$3,defineProperty$3$2=objectDefineProperty$5.f,UNSCOPABLES$3=wellKnownSymbol$c$3("unscopables"),ArrayPrototype$1$3=Array.prototype;ArrayPrototype$1$3[UNSCOPABLES$3]==null&&defineProperty$3$2(ArrayPrototype$1$3,UNSCOPABLES$3,{configurable:!0,value:create$1$2(null)});var addToUnscopables$1$3=function(e){ArrayPrototype$1$3[UNSCOPABLES$3][e]=!0},iterators$3={},uncurryThis$6$4=functionUncurryThis$4,isCallable$e$2=isCallable$k$2,store$1$5=sharedStore$5,functionToString$5=uncurryThis$6$4(Function.toString);isCallable$e$2(store$1$5.inspectSource)||(store$1$5.inspectSource=function(e){return functionToString$5(e)});var inspectSource$4$2=store$1$5.inspectSource,global$c$3=global$j$2,isCallable$d$2=isCallable$k$2,inspectSource$3$3=inspectSource$4$2,WeakMap$1$5=global$c$3.WeakMap,nativeWeakMap$5=isCallable$d$2(WeakMap$1$5)&&/native code/.test(inspectSource$3$3(WeakMap$1$5)),createPropertyDescriptor$3$3=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},DESCRIPTORS$5$5=descriptors$5,definePropertyModule$3$3=objectDefineProperty$5,createPropertyDescriptor$2$5=createPropertyDescriptor$3$3,createNonEnumerableProperty$4$2=DESCRIPTORS$5$5?function(e,t,n){return definePropertyModule$3$3.f(e,t,createPropertyDescriptor$2$5(1,n))}:function(e,t,n){return e[t]=n,e},NATIVE_WEAK_MAP$5=nativeWeakMap$5,global$b$3=global$j$2,uncurryThis$5$4=functionUncurryThis$4,isObject$2$5=isObject$7$3,createNonEnumerableProperty$3$3=createNonEnumerableProperty$4$2,hasOwn$8$2=hasOwnProperty_1$4,shared$8=sharedStore$5,sharedKey$1$5=sharedKey$3$3,hiddenKeys$1$5=hiddenKeys$4$3,OBJECT_ALREADY_INITIALIZED$4="Object already initialized",TypeError$2$2=global$b$3.TypeError,WeakMap$7=global$b$3.WeakMap,set$1$3,get$7,has$d,enforce$5=function(e){return has$d(e)?get$7(e):set$1$3(e,{})},getterFor$5=function(e){return function(t){var n;if(!isObject$2$5(t)||(n=get$7(t)).type!==e)throw TypeError$2$2("Incompatible receiver, "+e+" required");return n}};if(NATIVE_WEAK_MAP$5||shared$8.state){var store$8=shared$8.state||(shared$8.state=new WeakMap$7),wmget$5=uncurryThis$5$4(store$8.get),wmhas$5=uncurryThis$5$4(store$8.has),wmset$5=uncurryThis$5$4(store$8.set);set$1$3=function(e,t){if(wmhas$5(store$8,e))throw new TypeError$2$2(OBJECT_ALREADY_INITIALIZED$4);return t.facade=e,wmset$5(store$8,e,t),t},get$7=function(e){return wmget$5(store$8,e)||{}},has$d=function(e){return wmhas$5(store$8,e)}}else{var STATE$5=sharedKey$1$5("state");hiddenKeys$1$5[STATE$5]=!0,set$1$3=function(e,t){if(hasOwn$8$2(e,STATE$5))throw new TypeError$2$2(OBJECT_ALREADY_INITIALIZED$4);return t.facade=e,createNonEnumerableProperty$3$3(e,STATE$5,t),t},get$7=function(e){return hasOwn$8$2(e,STATE$5)?e[STATE$5]:{}},has$d=function(e){return hasOwn$8$2(e,STATE$5)}}var internalState$5={set:set$1$3,get:get$7,has:has$d,enforce:enforce$5,getterFor:getterFor$5},objectGetOwnPropertyDescriptor$5={},objectPropertyIsEnumerable$5={},$propertyIsEnumerable$4={}.propertyIsEnumerable,getOwnPropertyDescriptor$2$3=Object.getOwnPropertyDescriptor,NASHORN_BUG$5=getOwnPropertyDescriptor$2$3&&!$propertyIsEnumerable$4.call({1:2},1);objectPropertyIsEnumerable$5.f=NASHORN_BUG$5?function e(t){var n=getOwnPropertyDescriptor$2$3(this,t);return!!n&&n.enumerable}:$propertyIsEnumerable$4;var DESCRIPTORS$4$5=descriptors$5,call$a$2=functionCall$j,propertyIsEnumerableModule$6=objectPropertyIsEnumerable$5,createPropertyDescriptor$1$5=createPropertyDescriptor$3$3,toIndexedObject$1$5=toIndexedObject$5$2,toPropertyKey$7=toPropertyKey$2$4,hasOwn$7$4=hasOwnProperty_1$4,IE8_DOM_DEFINE$6=ie8DomDefine$5,$getOwnPropertyDescriptor$5=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$5.f=DESCRIPTORS$4$5?$getOwnPropertyDescriptor$5:function e(t,n){if(t=toIndexedObject$1$5(t),n=toPropertyKey$7(n),IE8_DOM_DEFINE$6)try{return $getOwnPropertyDescriptor$5(t,n)}catch{}if(hasOwn$7$4(t,n))return createPropertyDescriptor$1$5(!call$a$2(propertyIsEnumerableModule$6.f,t,n),t[n])};var makeBuiltIn$2$4={exports:{}},DESCRIPTORS$3$5=descriptors$5,hasOwn$6$4=hasOwnProperty_1$4,FunctionPrototype$1$4=Function.prototype,getDescriptor$4=DESCRIPTORS$3$5&&Object.getOwnPropertyDescriptor,EXISTS$6=hasOwn$6$4(FunctionPrototype$1$4,"name"),PROPER$4=EXISTS$6&&(function e(){}).name==="something",CONFIGURABLE$5=EXISTS$6&&(!DESCRIPTORS$3$5||DESCRIPTORS$3$5&&getDescriptor$4(FunctionPrototype$1$4,"name").configurable),functionName$4={EXISTS:EXISTS$6,PROPER:PROPER$4,CONFIGURABLE:CONFIGURABLE$5},fails$6$5=fails$d$2,isCallable$c$2=isCallable$k$2,hasOwn$5$4=hasOwnProperty_1$4,DESCRIPTORS$2$5=descriptors$5,CONFIGURABLE_FUNCTION_NAME$1$2=functionName$4.CONFIGURABLE,inspectSource$2$5=inspectSource$4$2,InternalStateModule$2$3=internalState$5,enforceInternalState$5=InternalStateModule$2$3.enforce,getInternalState$1$3=InternalStateModule$2$3.get,defineProperty$2$4=Object.defineProperty,CONFIGURABLE_LENGTH$4=DESCRIPTORS$2$5&&!fails$6$5(function(){return defineProperty$2$4(function(){},"length",{value:8}).length!==8}),TEMPLATE$5=String(String).split("String"),makeBuiltIn$1$4=makeBuiltIn$2$4.exports=function(e,t,n){String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!hasOwn$5$4(e,"name")||CONFIGURABLE_FUNCTION_NAME$1$2&&e.name!==t)&&(DESCRIPTORS$2$5?defineProperty$2$4(e,"name",{value:t,configurable:!0}):e.name=t),CONFIGURABLE_LENGTH$4&&n&&hasOwn$5$4(n,"arity")&&e.length!==n.arity&&defineProperty$2$4(e,"length",{value:n.arity});try{n&&hasOwn$5$4(n,"constructor")&&n.constructor?DESCRIPTORS$2$5&&defineProperty$2$4(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var o=enforceInternalState$5(e);return hasOwn$5$4(o,"source")||(o.source=TEMPLATE$5.join(typeof t=="string"?t:"")),e};Function.prototype.toString=makeBuiltIn$1$4(function e(){return isCallable$c$2(this)&&getInternalState$1$3(this).source||inspectSource$2$5(this)},"toString");var isCallable$b$4=isCallable$k$2,definePropertyModule$2$5=objectDefineProperty$5,makeBuiltIn$6=makeBuiltIn$2$4.exports,defineGlobalProperty$1$4=defineGlobalProperty$3$4,defineBuiltIn$6$2=function(e,t,n,o){o||(o={});var c=o.enumerable,a=o.name!==void 0?o.name:t;if(isCallable$b$4(n)&&makeBuiltIn$6(n,a,o),o.global)c?e[t]=n:defineGlobalProperty$1$4(t,n);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch{}c?e[t]=n:definePropertyModule$2$5.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e},objectGetOwnPropertyNames$5={},internalObjectKeys$6=objectKeysInternal$5,enumBugKeys$8=enumBugKeys$3$3,hiddenKeys$9=enumBugKeys$8.concat("length","prototype");objectGetOwnPropertyNames$5.f=Object.getOwnPropertyNames||function e(t){return internalObjectKeys$6(t,hiddenKeys$9)};var objectGetOwnPropertySymbols$5={};objectGetOwnPropertySymbols$5.f=Object.getOwnPropertySymbols;var getBuiltIn$4$3=getBuiltIn$8$2,uncurryThis$4$4=functionUncurryThis$4,getOwnPropertyNamesModule$5=objectGetOwnPropertyNames$5,getOwnPropertySymbolsModule$6=objectGetOwnPropertySymbols$5,anObject$8$3=anObject$c$2,concat$5=uncurryThis$4$4([].concat),ownKeys$1$5=getBuiltIn$4$3("Reflect","ownKeys")||function e(t){var n=getOwnPropertyNamesModule$5.f(anObject$8$3(t)),o=getOwnPropertySymbolsModule$6.f;return o?concat$5(n,o(t)):n},hasOwn$4$4=hasOwnProperty_1$4,ownKeys$6=ownKeys$1$5,getOwnPropertyDescriptorModule$5=objectGetOwnPropertyDescriptor$5,definePropertyModule$1$5=objectDefineProperty$5,copyConstructorProperties$1$5=function(e,t,n){for(var o=ownKeys$6(t),c=definePropertyModule$1$5.f,a=getOwnPropertyDescriptorModule$5.f,u=0;u<o.length;u++){var h=o[u];!hasOwn$4$4(e,h)&&!(n&&hasOwn$4$4(n,h))&&c(e,h,a(t,h))}},fails$5$5=fails$d$2,isCallable$a$4=isCallable$k$2,replacement$5=/#|\.prototype\./,isForced$2$3=function(e,t){var n=data$5[normalize$5(e)];return n==POLYFILL$5?!0:n==NATIVE$5?!1:isCallable$a$4(t)?fails$5$5(t):!!t},normalize$5=isForced$2$3.normalize=function(e){return String(e).replace(replacement$5,".").toLowerCase()},data$5=isForced$2$3.data={},NATIVE$5=isForced$2$3.NATIVE="N",POLYFILL$5=isForced$2$3.POLYFILL="P",isForced_1$5=isForced$2$3,global$a$5=global$j$2,getOwnPropertyDescriptor$1$5=objectGetOwnPropertyDescriptor$5.f,createNonEnumerableProperty$2$5=createNonEnumerableProperty$4$2,defineBuiltIn$5$2=defineBuiltIn$6$2,defineGlobalProperty$7=defineGlobalProperty$3$4,copyConstructorProperties$7=copyConstructorProperties$1$5,isForced$1$5=isForced_1$5,_export$5=function(e,t){var n=e.target,o=e.global,c=e.stat,a,u,h,v,b,y;if(o?u=global$a$5:c?u=global$a$5[n]||defineGlobalProperty$7(n,{}):u=(global$a$5[n]||{}).prototype,u)for(h in t){if(b=t[h],e.dontCallGetSet?(y=getOwnPropertyDescriptor$1$5(u,h),v=y&&y.value):v=u[h],a=isForced$1$5(o?h:n+(c?".":"#")+h,e.forced),!a&&v!==void 0){if(typeof b==typeof v)continue;copyConstructorProperties$7(b,v)}(e.sham||v&&v.sham)&&createNonEnumerableProperty$2$5(b,"sham",!0),defineBuiltIn$5$2(u,h,b,e)}},fails$4$5=fails$d$2,correctPrototypeGetter$2=!fails$4$5(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),hasOwn$3$4=hasOwnProperty_1$4,isCallable$9$4=isCallable$k$2,toObject$7=toObject$2$4,sharedKey$7=sharedKey$3$3,CORRECT_PROTOTYPE_GETTER$2=correctPrototypeGetter$2,IE_PROTO$4=sharedKey$7("IE_PROTO"),$Object$1$4=Object,ObjectPrototype$2=$Object$1$4.prototype,objectGetPrototypeOf$2=CORRECT_PROTOTYPE_GETTER$2?$Object$1$4.getPrototypeOf:function(e){var t=toObject$7(e);if(hasOwn$3$4(t,IE_PROTO$4))return t[IE_PROTO$4];var n=t.constructor;return isCallable$9$4(n)&&t instanceof n?n.prototype:t instanceof $Object$1$4?ObjectPrototype$2:null},fails$3$5=fails$d$2,isCallable$8$4=isCallable$k$2,getPrototypeOf$1$2=objectGetPrototypeOf$2,defineBuiltIn$4$2=defineBuiltIn$6$2,wellKnownSymbol$b$3=wellKnownSymbol$e$2,ITERATOR$5$2=wellKnownSymbol$b$3("iterator"),BUGGY_SAFARI_ITERATORS$1$2=!1,IteratorPrototype$2$2,PrototypeOfArrayIteratorPrototype$2,arrayIterator$2;[].keys&&(arrayIterator$2=[].keys(),"next"in arrayIterator$2?(PrototypeOfArrayIteratorPrototype$2=getPrototypeOf$1$2(getPrototypeOf$1$2(arrayIterator$2)),PrototypeOfArrayIteratorPrototype$2!==Object.prototype&&(IteratorPrototype$2$2=PrototypeOfArrayIteratorPrototype$2)):BUGGY_SAFARI_ITERATORS$1$2=!0);var NEW_ITERATOR_PROTOTYPE$1=IteratorPrototype$2$2==null||fails$3$5(function(){var e={};return IteratorPrototype$2$2[ITERATOR$5$2].call(e)!==e});NEW_ITERATOR_PROTOTYPE$1&&(IteratorPrototype$2$2={}),isCallable$8$4(IteratorPrototype$2$2[ITERATOR$5$2])||defineBuiltIn$4$2(IteratorPrototype$2$2,ITERATOR$5$2,function(){return this});var iteratorsCore$2={IteratorPrototype:IteratorPrototype$2$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$2},defineProperty$1$4=objectDefineProperty$5.f,hasOwn$2$4=hasOwnProperty_1$4,wellKnownSymbol$a$3=wellKnownSymbol$e$2,TO_STRING_TAG$3$3=wellKnownSymbol$a$3("toStringTag"),setToStringTag$3$2=function(e,t,n){e&&!n&&(e=e.prototype),e&&!hasOwn$2$4(e,TO_STRING_TAG$3$3)&&defineProperty$1$4(e,TO_STRING_TAG$3$3,{configurable:!0,value:t})},IteratorPrototype$1$2=iteratorsCore$2.IteratorPrototype,create$5=objectCreate$3,createPropertyDescriptor$8=createPropertyDescriptor$3$3,setToStringTag$2$2=setToStringTag$3$2,Iterators$4$2=iterators$3,returnThis$1$2=function(){return this},createIteratorConstructor$1$2=function(e,t,n,o){var c=t+" Iterator";return e.prototype=create$5(IteratorPrototype$1$2,{next:createPropertyDescriptor$8(+!o,n)}),setToStringTag$2$2(e,c,!1),Iterators$4$2[c]=returnThis$1$2,e},isCallable$7$4=isCallable$k$2,$String$1$4=String,$TypeError$5$4=TypeError,aPossiblePrototype$1$3=function(e){if(typeof e=="object"||isCallable$7$4(e))return e;throw $TypeError$5$4("Can't set "+$String$1$4(e)+" as a prototype")},uncurryThis$3$4=functionUncurryThis$4,anObject$7$3=anObject$c$2,aPossiblePrototype$4=aPossiblePrototype$1$3,objectSetPrototypeOf$3=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=uncurryThis$3$4(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),n(t,[]),e=t instanceof Array}catch{}return function(o,c){return anObject$7$3(o),aPossiblePrototype$4(c),e?n(o,c):o.__proto__=c,o}}():void 0),$$6$2=_export$5,call$9$2=functionCall$j,FunctionName$1=functionName$4,isCallable$6$4=isCallable$k$2,createIteratorConstructor$4=createIteratorConstructor$1$2,getPrototypeOf$3=objectGetPrototypeOf$2,setPrototypeOf$1$2=objectSetPrototypeOf$3,setToStringTag$1$3=setToStringTag$3$2,createNonEnumerableProperty$1$5=createNonEnumerableProperty$4$2,defineBuiltIn$3$2=defineBuiltIn$6$2,wellKnownSymbol$9$3=wellKnownSymbol$e$2,Iterators$3$2=iterators$3,IteratorsCore$2=iteratorsCore$2,PROPER_FUNCTION_NAME$1$2=FunctionName$1.PROPER,CONFIGURABLE_FUNCTION_NAME$4=FunctionName$1.CONFIGURABLE,IteratorPrototype$4=IteratorsCore$2.IteratorPrototype,BUGGY_SAFARI_ITERATORS$3=IteratorsCore$2.BUGGY_SAFARI_ITERATORS,ITERATOR$4$2=wellKnownSymbol$9$3("iterator"),KEYS$2="keys",VALUES$2="values",ENTRIES$2="entries",returnThis$4=function(){return this},defineIterator$1$2=function(e,t,n,o,c,a,u){createIteratorConstructor$4(n,t,o);var h=function(k){if(k===c&&O)return O;if(!BUGGY_SAFARI_ITERATORS$3&&k in y)return y[k];switch(k){case KEYS$2:return function(){return new n(this,k)};case VALUES$2:return function(){return new n(this,k)};case ENTRIES$2:return function(){return new n(this,k)}}return function(){return new n(this)}},v=t+" Iterator",b=!1,y=e.prototype,w=y[ITERATOR$4$2]||y["@@iterator"]||c&&y[c],O=!BUGGY_SAFARI_ITERATORS$3&&w||h(c),P=t=="Array"&&y.entries||w,C,x,D;if(P&&(C=getPrototypeOf$3(P.call(new e)),C!==Object.prototype&&C.next&&(getPrototypeOf$3(C)!==IteratorPrototype$4&&(setPrototypeOf$1$2?setPrototypeOf$1$2(C,IteratorPrototype$4):isCallable$6$4(C[ITERATOR$4$2])||defineBuiltIn$3$2(C,ITERATOR$4$2,returnThis$4)),setToStringTag$1$3(C,v,!0))),PROPER_FUNCTION_NAME$1$2&&c==VALUES$2&&w&&w.name!==VALUES$2&&(CONFIGURABLE_FUNCTION_NAME$4?createNonEnumerableProperty$1$5(y,"name",VALUES$2):(b=!0,O=function(){return call$9$2(w,this)})),c)if(x={values:h(VALUES$2),keys:a?O:h(KEYS$2),entries:h(ENTRIES$2)},u)for(D in x)(BUGGY_SAFARI_ITERATORS$3||b||!(D in y))&&defineBuiltIn$3$2(y,D,x[D]);else $$6$2({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS$3||b},x);return y[ITERATOR$4$2]!==O&&defineBuiltIn$3$2(y,ITERATOR$4$2,O,{name:c}),Iterators$3$2[t]=O,x},toIndexedObject$9=toIndexedObject$5$2,addToUnscopables$4=addToUnscopables$1$3,Iterators$2$2=iterators$3,InternalStateModule$1$3=internalState$5,defineProperty$9=objectDefineProperty$5.f,defineIterator$4=defineIterator$1$2,DESCRIPTORS$1$5=descriptors$5,ARRAY_ITERATOR$2="Array Iterator",setInternalState$1$2=InternalStateModule$1$3.set,getInternalState$6=InternalStateModule$1$3.getterFor(ARRAY_ITERATOR$2),es_array_iterator$2=defineIterator$4(Array,"Array",function(e,t){setInternalState$1$2(this,{type:ARRAY_ITERATOR$2,target:toIndexedObject$9(e),index:0,kind:t})},function(){var e=getInternalState$6(this),t=e.target,n=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:o,done:!1}:n=="values"?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}},"values"),values$1=Iterators$2$2.Arguments=Iterators$2$2.Array;if(addToUnscopables$4("keys"),addToUnscopables$4("values"),addToUnscopables$4("entries"),DESCRIPTORS$1$5&&values$1.name!=="values")try{defineProperty$9(values$1,"name",{value:"values"})}catch(e){}var domIterables$2={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement$6=documentCreateElement$2$2,classList$1=documentCreateElement$6("span").classList,DOMTokenListPrototype$1$1=classList$1&&classList$1.constructor&&classList$1.constructor.prototype,domTokenListPrototype$1=DOMTokenListPrototype$1$1===Object.prototype?void 0:DOMTokenListPrototype$1$1,global$9$5=global$j$2,DOMIterables$2=domIterables$2,DOMTokenListPrototype$2=domTokenListPrototype$1,ArrayIteratorMethods$2=es_array_iterator$2,createNonEnumerableProperty$b=createNonEnumerableProperty$4$2,wellKnownSymbol$8$3=wellKnownSymbol$e$2,ITERATOR$3$3=wellKnownSymbol$8$3("iterator"),TO_STRING_TAG$2$3=wellKnownSymbol$8$3("toStringTag"),ArrayValues$2=ArrayIteratorMethods$2.values,handlePrototype$1=function(e,t){if(e){if(e[ITERATOR$3$3]!==ArrayValues$2)try{createNonEnumerableProperty$b(e,ITERATOR$3$3,ArrayValues$2)}catch{e[ITERATOR$3$3]=ArrayValues$2}if(e[TO_STRING_TAG$2$3]||createNonEnumerableProperty$b(e,TO_STRING_TAG$2$3,t),DOMIterables$2[t]){for(var n in ArrayIteratorMethods$2)if(e[n]!==ArrayIteratorMethods$2[n])try{createNonEnumerableProperty$b(e,n,ArrayIteratorMethods$2[n])}catch{e[n]=ArrayIteratorMethods$2[n]}}}};for(var COLLECTION_NAME$2 in DOMIterables$2)handlePrototype$1(global$9$5[COLLECTION_NAME$2]&&global$9$5[COLLECTION_NAME$2].prototype,COLLECTION_NAME$2);handlePrototype$1(DOMTokenListPrototype$2,"DOMTokenList");var classof$4$3=classofRaw$1$5,global$8$5=global$j$2,engineIsNode$2=classof$4$3(global$8$5.process)=="process",getBuiltIn$3$5=getBuiltIn$8$2,definePropertyModule$a=objectDefineProperty$5,wellKnownSymbol$7$3=wellKnownSymbol$e$2,DESCRIPTORS$e=descriptors$5,SPECIES$2$3=wellKnownSymbol$7$3("species"),setSpecies$1$3=function(e){var t=getBuiltIn$3$5(e),n=definePropertyModule$a.f;DESCRIPTORS$e&&t&&!t[SPECIES$2$3]&&n(t,SPECIES$2$3,{configurable:!0,get:function(){return this}})},isPrototypeOf$2$2=objectIsPrototypeOf$4,$TypeError$4$4=TypeError,anInstance$1$3=function(e,t){if(isPrototypeOf$2$2(t,e))return e;throw $TypeError$4$4("Incorrect invocation")},wellKnownSymbol$6$3=wellKnownSymbol$e$2,TO_STRING_TAG$1$5=wellKnownSymbol$6$3("toStringTag"),test$6={};test$6[TO_STRING_TAG$1$5]="z";var toStringTagSupport$5=String(test$6)==="[object z]",TO_STRING_TAG_SUPPORT$5=toStringTagSupport$5,isCallable$5$4=isCallable$k$2,classofRaw$6=classofRaw$1$5,wellKnownSymbol$5$3=wellKnownSymbol$e$2,TO_STRING_TAG$7=wellKnownSymbol$5$3("toStringTag"),$Object$7=Object,CORRECT_ARGUMENTS$5=classofRaw$6(function(){return arguments}())=="Arguments",tryGet$5=function(e,t){try{return e[t]}catch{}},classof$3$3=TO_STRING_TAG_SUPPORT$5?classofRaw$6:function(e){var t,n,o;return e===void 0?"Undefined":e===null?"Null":typeof(n=tryGet$5(t=$Object$7(e),TO_STRING_TAG$7))=="string"?n:CORRECT_ARGUMENTS$5?classofRaw$6(t):(o=classofRaw$6(t))=="Object"&&isCallable$5$4(t.callee)?"Arguments":o},uncurryThis$2$4=functionUncurryThis$4,fails$2$5=fails$d$2,isCallable$4$4=isCallable$k$2,classof$2$5=classof$3$3,getBuiltIn$2$5=getBuiltIn$8$2,inspectSource$1$5=inspectSource$4$2,noop$2=function(){},empty$2=[],construct$2=getBuiltIn$2$5("Reflect","construct"),constructorRegExp$2=/^\s*(?:class|function)\b/,exec$5=uncurryThis$2$4(constructorRegExp$2.exec),INCORRECT_TO_STRING$2=!constructorRegExp$2.exec(noop$2),isConstructorModern$2=function e(t){if(!isCallable$4$4(t))return!1;try{return construct$2(noop$2,empty$2,t),!0}catch{return!1}},isConstructorLegacy$2=function e(t){if(!isCallable$4$4(t))return!1;switch(classof$2$5(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$2||!!exec$5(constructorRegExp$2,inspectSource$1$5(t))}catch{return!0}};isConstructorLegacy$2.sham=!0;var isConstructor$1$2=!construct$2||fails$2$5(function(){var e;return isConstructorModern$2(isConstructorModern$2.call)||!isConstructorModern$2(Object)||!isConstructorModern$2(function(){e=!0})||e})?isConstructorLegacy$2:isConstructorModern$2,isConstructor$4=isConstructor$1$2,tryToString$2$2=tryToString$4$2,$TypeError$3$4=TypeError,aConstructor$1$2=function(e){if(isConstructor$4(e))return e;throw $TypeError$3$4(tryToString$2$2(e)+" is not a constructor")},anObject$6$3=anObject$c$2,aConstructor$3=aConstructor$1$2,wellKnownSymbol$4$3=wellKnownSymbol$e$2,SPECIES$1$3=wellKnownSymbol$4$3("species"),speciesConstructor$1$3=function(e,t){var n=anObject$6$3(e).constructor,o;return n===void 0||(o=anObject$6$3(n)[SPECIES$1$3])==null?t:aConstructor$3(o)},NATIVE_BIND$1$4=functionBindNative$4,FunctionPrototype$6=Function.prototype,apply$1$2=FunctionPrototype$6.apply,call$8$2=FunctionPrototype$6.call,functionApply$2=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1$4?call$8$2.bind(apply$1$2):function(){return call$8$2.apply(apply$1$2,arguments)}),uncurryThis$1$4=functionUncurryThis$4,aCallable$5$2=aCallable$7$2,NATIVE_BIND$7=functionBindNative$4,bind$4$2=uncurryThis$1$4(uncurryThis$1$4.bind),functionBindContext$3=function(e,t){return aCallable$5$2(e),t===void 0?e:NATIVE_BIND$7?bind$4$2(e,t):function(){return e.apply(t,arguments)}},uncurryThis$o=functionUncurryThis$4,arraySlice$1$2=uncurryThis$o([].slice),$TypeError$2$4=TypeError,validateArgumentsLength$1$2=function(e,t){if(e<t)throw $TypeError$2$4("Not enough arguments");return e},userAgent$2$2=engineUserAgent$5,engineIsIos$3=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$2$2),global$7$5=global$j$2,apply$4=functionApply$2,bind$3$2=functionBindContext$3,isCallable$3$4=isCallable$k$2,hasOwn$1$4=hasOwnProperty_1$4,fails$1$5=fails$d$2,html$5=html$2$3,arraySlice$5=arraySlice$1$2,createElement$6=documentCreateElement$2$2,validateArgumentsLength$5=validateArgumentsLength$1$2,IS_IOS$1$3=engineIsIos$3,IS_NODE$2$2=engineIsNode$2,set$8=global$7$5.setImmediate,clear$5=global$7$5.clearImmediate,process$2$3=global$7$5.process,Dispatch$3=global$7$5.Dispatch,Function$1$2=global$7$5.Function,MessageChannel$3=global$7$5.MessageChannel,String$1$2=global$7$5.String,counter$3=0,queue$1$2={},ONREADYSTATECHANGE$3="onreadystatechange",location$3,defer$3,channel$3,port$3;try{location$3=global$7$5.location}catch(e){}var run$3=function(e){if(hasOwn$1$4(queue$1$2,e)){var t=queue$1$2[e];delete queue$1$2[e],t()}},runner$3=function(e){return function(){run$3(e)}},listener$3=function(e){run$3(e.data)},post$3=function(e){global$7$5.postMessage(String$1$2(e),location$3.protocol+"//"+location$3.host)};(!set$8||!clear$5)&&(set$8=function(e){validateArgumentsLength$5(arguments.length,1);var t=isCallable$3$4(e)?e:Function$1$2(e),n=arraySlice$5(arguments,1);return queue$1$2[++counter$3]=function(){apply$4(t,void 0,n)},defer$3(counter$3),counter$3},clear$5=function(e){delete queue$1$2[e]},IS_NODE$2$2?defer$3=function(e){process$2$3.nextTick(runner$3(e))}:Dispatch$3&&Dispatch$3.now?defer$3=function(e){Dispatch$3.now(runner$3(e))}:MessageChannel$3&&!IS_IOS$1$3?(channel$3=new MessageChannel$3,port$3=channel$3.port2,channel$3.port1.onmessage=listener$3,defer$3=bind$3$2(port$3.postMessage,port$3)):global$7$5.addEventListener&&isCallable$3$4(global$7$5.postMessage)&&!global$7$5.importScripts&&location$3&&location$3.protocol!=="file:"&&!fails$1$5(post$3)?(defer$3=post$3,global$7$5.addEventListener("message",listener$3,!1)):ONREADYSTATECHANGE$3 in createElement$6("script")?defer$3=function(e){html$5.appendChild(createElement$6("script"))[ONREADYSTATECHANGE$3]=function(){html$5.removeChild(this),run$3(e)}}:defer$3=function(e){setTimeout(runner$3(e),0)});var task$1$3={set:set$8,clear:clear$5},userAgent$1$3=engineUserAgent$5,global$6$5=global$j$2,engineIsIosPebble$2=/ipad|iphone|ipod/i.test(userAgent$1$3)&&global$6$5.Pebble!==void 0,userAgent$a=engineUserAgent$5,engineIsWebosWebkit$2=/web0s(?!.*chrome)/i.test(userAgent$a),global$5$5=global$j$2,bind$2$3=functionBindContext$3,getOwnPropertyDescriptor$7=objectGetOwnPropertyDescriptor$5.f,macrotask$3=task$1$3.set,IS_IOS$4=engineIsIos$3,IS_IOS_PEBBLE$2=engineIsIosPebble$2,IS_WEBOS_WEBKIT$2=engineIsWebosWebkit$2,IS_NODE$1$3=engineIsNode$2,MutationObserver$4=global$5$5.MutationObserver||global$5$5.WebKitMutationObserver,document$2$3=global$5$5.document,process$1$3=global$5$5.process,Promise$1$3=global$5$5.Promise,queueMicrotaskDescriptor$3=getOwnPropertyDescriptor$7(global$5$5,"queueMicrotask"),queueMicrotask$3=queueMicrotaskDescriptor$3&&queueMicrotaskDescriptor$3.value,flush$3,head$3,last$3,notify$1$3,toggle$3,node$3,promise$3,then$3;queueMicrotask$3||(flush$3=function(){var e,t;for(IS_NODE$1$3&&(e=process$1$3.domain)&&e.exit();head$3;){t=head$3.fn,head$3=head$3.next;try{t()}catch(n){throw head$3?notify$1$3():last$3=void 0,n}}last$3=void 0,e&&e.enter()},!IS_IOS$4&&!IS_NODE$1$3&&!IS_WEBOS_WEBKIT$2&&MutationObserver$4&&document$2$3?(toggle$3=!0,node$3=document$2$3.createTextNode(""),new MutationObserver$4(flush$3).observe(node$3,{characterData:!0}),notify$1$3=function(){node$3.data=toggle$3=!toggle$3}):!IS_IOS_PEBBLE$2&&Promise$1$3&&Promise$1$3.resolve?(promise$3=Promise$1$3.resolve(void 0),promise$3.constructor=Promise$1$3,then$3=bind$2$3(promise$3.then,promise$3),notify$1$3=function(){then$3(flush$3)}):IS_NODE$1$3?notify$1$3=function(){process$1$3.nextTick(flush$3)}:(macrotask$3=bind$2$3(macrotask$3,global$5$5),notify$1$3=function(){macrotask$3(flush$3)}));var microtask$1$3=queueMicrotask$3||function(e){var t={fn:e,next:void 0};last$3&&(last$3.next=t),head$3||(head$3=t,notify$1$3()),last$3=t},global$4$5=global$j$2,hostReportErrors$1$3=function(e,t){var n=global$4$5.console;n&&n.error&&(arguments.length==1?n.error(e):n.error(e,t))},perform$3$2=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},Queue$1$2=function(){this.head=null,this.tail=null};Queue$1$2.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var queue$4=Queue$1$2,global$3$5=global$j$2,promiseNativeConstructor$2=global$3$5.Promise,engineIsBrowser$2=typeof window=="object"&&typeof Deno!="object",global$2$5=global$j$2,NativePromiseConstructor$3$2=promiseNativeConstructor$2,isCallable$2$4=isCallable$k$2,isForced$7=isForced_1$5,inspectSource$9=inspectSource$4$2,wellKnownSymbol$3$5=wellKnownSymbol$e$2,IS_BROWSER$2=engineIsBrowser$2,V8_VERSION$6=engineV8Version$5;NativePromiseConstructor$3$2&&NativePromiseConstructor$3$2.prototype;var SPECIES$5=wellKnownSymbol$3$5("species"),SUBCLASSING$2=!1,NATIVE_PROMISE_REJECTION_EVENT$1$2=isCallable$2$4(global$2$5.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5$2=isForced$7("Promise",function(){var e=inspectSource$9(NativePromiseConstructor$3$2),t=e!==String(NativePromiseConstructor$3$2);if(!t&&V8_VERSION$6===66)return!0;if(V8_VERSION$6>=51&&/native code/.test(e))return!1;var n=new NativePromiseConstructor$3$2(function(a){a(1)}),o=function(a){a(function(){},function(){})},c=n.constructor={};return c[SPECIES$5]=o,SUBCLASSING$2=n.then(function(){})instanceof o,SUBCLASSING$2?!t&&IS_BROWSER$2&&!NATIVE_PROMISE_REJECTION_EVENT$1$2:!0}),promiseConstructorDetection$2={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5$2,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1$2,SUBCLASSING:SUBCLASSING$2},newPromiseCapability$2$3={},aCallable$4$2=aCallable$7$2,PromiseCapability$3=function(e){var t,n;this.promise=new e(function(o,c){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=o,n=c}),this.resolve=aCallable$4$2(t),this.reject=aCallable$4$2(n)};newPromiseCapability$2$3.f=function(e){return new PromiseCapability$3(e)};var $$5$2=_export$5,IS_NODE$5=engineIsNode$2,global$1$5=global$j$2,call$7$2=functionCall$j,defineBuiltIn$2$4=defineBuiltIn$6$2,setPrototypeOf$3=objectSetPrototypeOf$3,setToStringTag$7=setToStringTag$3$2,setSpecies$4=setSpecies$1$3,aCallable$3$2=aCallable$7$2,isCallable$1$4=isCallable$k$2,isObject$1$5=isObject$7$3,anInstance$5=anInstance$1$3,speciesConstructor$4=speciesConstructor$1$3,task$4=task$1$3.set,microtask$4=microtask$1$3,hostReportErrors$4=hostReportErrors$1$3,perform$2$2=perform$3$2,Queue$3=queue$4,InternalStateModule$7=internalState$5,NativePromiseConstructor$2$2=promiseNativeConstructor$2,PromiseConstructorDetection$2=promiseConstructorDetection$2,newPromiseCapabilityModule$3$2=newPromiseCapability$2$3,PROMISE$3="Promise",FORCED_PROMISE_CONSTRUCTOR$4$2=PromiseConstructorDetection$2.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT$3=PromiseConstructorDetection$2.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING$2=PromiseConstructorDetection$2.SUBCLASSING,getInternalPromiseState$3=InternalStateModule$7.getterFor(PROMISE$3),setInternalState$6=InternalStateModule$7.set,NativePromisePrototype$1$2=NativePromiseConstructor$2$2&&NativePromiseConstructor$2$2.prototype,PromiseConstructor$3=NativePromiseConstructor$2$2,PromisePrototype$2=NativePromisePrototype$1$2,TypeError$1$5=global$1$5.TypeError,document$1$3=global$1$5.document,process$8=global$1$5.process,newPromiseCapability$1$3=newPromiseCapabilityModule$3$2.f,newGenericPromiseCapability$3=newPromiseCapability$1$3,DISPATCH_EVENT$3=!!(document$1$3&&document$1$3.createEvent&&global$1$5.dispatchEvent),UNHANDLED_REJECTION$3="unhandledrejection",REJECTION_HANDLED$3="rejectionhandled",PENDING$3=0,FULFILLED$3=1,REJECTED$3=2,HANDLED$3=1,UNHANDLED$3=2,Internal$3,OwnPromiseCapability$3,PromiseWrapper$3,nativeThen$3,isThenable$3=function(e){var t;return isObject$1$5(e)&&isCallable$1$4(t=e.then)?t:!1},callReaction$2=function(e,t){var n=t.value,o=t.state==FULFILLED$3,c=o?e.ok:e.fail,a=e.resolve,u=e.reject,h=e.domain,v,b,y;try{c?(o||(t.rejection===UNHANDLED$3&&onHandleUnhandled$3(t),t.rejection=HANDLED$3),c===!0?v=n:(h&&h.enter(),v=c(n),h&&(h.exit(),y=!0)),v===e.promise?u(TypeError$1$5("Promise-chain cycle")):(b=isThenable$3(v))?call$7$2(b,v,a,u):a(v)):u(n)}catch(w){h&&!y&&h.exit(),u(w)}},notify$4=function(e,t){e.notified||(e.notified=!0,microtask$4(function(){for(var n=e.reactions,o;o=n.get();)callReaction$2(o,e);e.notified=!1,t&&!e.rejection&&onUnhandled$3(e)}))},dispatchEvent$3=function(e,t,n){var o,c;DISPATCH_EVENT$3?(o=document$1$3.createEvent("Event"),o.promise=t,o.reason=n,o.initEvent(e,!1,!0),global$1$5.dispatchEvent(o)):o={promise:t,reason:n},!NATIVE_PROMISE_REJECTION_EVENT$3&&(c=global$1$5["on"+e])?c(o):e===UNHANDLED_REJECTION$3&&hostReportErrors$4("Unhandled promise rejection",n)},onUnhandled$3=function(e){call$7$2(task$4,global$1$5,function(){var t=e.facade,n=e.value,o=isUnhandled$3(e),c;if(o&&(c=perform$2$2(function(){IS_NODE$5?process$8.emit("unhandledRejection",n,t):dispatchEvent$3(UNHANDLED_REJECTION$3,t,n)}),e.rejection=IS_NODE$5||isUnhandled$3(e)?UNHANDLED$3:HANDLED$3,c.error))throw c.value})},isUnhandled$3=function(e){return e.rejection!==HANDLED$3&&!e.parent},onHandleUnhandled$3=function(e){call$7$2(task$4,global$1$5,function(){var t=e.facade;IS_NODE$5?process$8.emit("rejectionHandled",t):dispatchEvent$3(REJECTION_HANDLED$3,t,e.value)})},bind$1$3=function(e,t,n){return function(o){e(t,o,n)}},internalReject$3=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=REJECTED$3,notify$4(e,!0))},internalResolve$3=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw TypeError$1$5("Promise can't be resolved itself");var o=isThenable$3(t);o?microtask$4(function(){var c={done:!1};try{call$7$2(o,t,bind$1$3(internalResolve$3,c,e),bind$1$3(internalReject$3,c,e))}catch(a){internalReject$3(c,a,e)}}):(e.value=t,e.state=FULFILLED$3,notify$4(e,!1))}catch(c){internalReject$3({done:!1},c,e)}}};if(FORCED_PROMISE_CONSTRUCTOR$4$2&&(PromiseConstructor$3=function(e){anInstance$5(this,PromisePrototype$2),aCallable$3$2(e),call$7$2(Internal$3,this);var t=getInternalPromiseState$3(this);try{e(bind$1$3(internalResolve$3,t),bind$1$3(internalReject$3,t))}catch(n){internalReject$3(t,n)}},PromisePrototype$2=PromiseConstructor$3.prototype,Internal$3=function(e){setInternalState$6(this,{type:PROMISE$3,done:!1,notified:!1,parent:!1,reactions:new Queue$3,rejection:!1,state:PENDING$3,value:void 0})},Internal$3.prototype=defineBuiltIn$2$4(PromisePrototype$2,"then",function(e,t){var n=getInternalPromiseState$3(this),o=newPromiseCapability$1$3(speciesConstructor$4(this,PromiseConstructor$3));return n.parent=!0,o.ok=isCallable$1$4(e)?e:!0,o.fail=isCallable$1$4(t)&&t,o.domain=IS_NODE$5?process$8.domain:void 0,n.state==PENDING$3?n.reactions.add(o):microtask$4(function(){callReaction$2(o,n)}),o.promise}),OwnPromiseCapability$3=function(){var e=new Internal$3,t=getInternalPromiseState$3(e);this.promise=e,this.resolve=bind$1$3(internalResolve$3,t),this.reject=bind$1$3(internalReject$3,t)},newPromiseCapabilityModule$3$2.f=newPromiseCapability$1$3=function(e){return e===PromiseConstructor$3||e===PromiseWrapper$3?new OwnPromiseCapability$3(e):newGenericPromiseCapability$3(e)},isCallable$1$4(NativePromiseConstructor$2$2)&&NativePromisePrototype$1$2!==Object.prototype)){nativeThen$3=NativePromisePrototype$1$2.then,NATIVE_PROMISE_SUBCLASSING$2||defineBuiltIn$2$4(NativePromisePrototype$1$2,"then",function(e,t){var n=this;return new PromiseConstructor$3(function(o,c){call$7$2(nativeThen$3,n,o,c)}).then(e,t)},{unsafe:!0});try{delete NativePromisePrototype$1$2.constructor}catch{}setPrototypeOf$3&&setPrototypeOf$3(NativePromisePrototype$1$2,PromisePrototype$2)}$$5$2({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4$2},{Promise:PromiseConstructor$3}),setToStringTag$7(PromiseConstructor$3,PROMISE$3,!1),setSpecies$4(PROMISE$3);var wellKnownSymbol$2$5=wellKnownSymbol$e$2,Iterators$1$3=iterators$3,ITERATOR$2$3=wellKnownSymbol$2$5("iterator"),ArrayPrototype$4=Array.prototype,isArrayIteratorMethod$1$3=function(e){return e!==void 0&&(Iterators$1$3.Array===e||ArrayPrototype$4[ITERATOR$2$3]===e)},classof$1$5=classof$3$3,getMethod$1$4=getMethod$3$2,Iterators$7=iterators$3,wellKnownSymbol$1$5=wellKnownSymbol$e$2,ITERATOR$1$3=wellKnownSymbol$1$5("iterator"),getIteratorMethod$2$2=function(e){if(e!=null)return getMethod$1$4(e,ITERATOR$1$3)||getMethod$1$4(e,"@@iterator")||Iterators$7[classof$1$5(e)]},call$6$4=functionCall$j,aCallable$2$2=aCallable$7$2,anObject$5$3=anObject$c$2,tryToString$1$4=tryToString$4$2,getIteratorMethod$1$3=getIteratorMethod$2$2,$TypeError$1$4=TypeError,getIterator$1$2=function(e,t){var n=arguments.length<2?getIteratorMethod$1$3(e):t;if(aCallable$2$2(n))return anObject$5$3(call$6$4(n,e));throw $TypeError$1$4(tryToString$1$4(e)+" is not iterable")},call$5$4=functionCall$j,anObject$4$5=anObject$c$2,getMethod$7=getMethod$3$2,iteratorClose$1$2=function(e,t,n){var o,c;anObject$4$5(e);try{if(o=getMethod$7(e,"return"),!o){if(t==="throw")throw n;return n}o=call$5$4(o,e)}catch(a){c=!0,o=a}if(t==="throw")throw n;if(c)throw o;return anObject$4$5(o),n},bind$a=functionBindContext$3,call$4$4=functionCall$j,anObject$3$5=anObject$c$2,tryToString$9=tryToString$4$2,isArrayIteratorMethod$4=isArrayIteratorMethod$1$3,lengthOfArrayLike$8=lengthOfArrayLike$2$2,isPrototypeOf$1$4=objectIsPrototypeOf$4,getIterator$5=getIterator$1$2,getIteratorMethod$6=getIteratorMethod$2$2,iteratorClose$4=iteratorClose$1$2,$TypeError$h=TypeError,Result$3=function(e,t){this.stopped=e,this.result=t},ResultPrototype$2=Result$3.prototype,iterate$2$3=function(e,t,n){var o=n&&n.that,c=!!(n&&n.AS_ENTRIES),a=!!(n&&n.IS_ITERATOR),u=!!(n&&n.INTERRUPTED),h=bind$a(t,o),v,b,y,w,O,P,C,x=function(k){return v&&iteratorClose$4(v,"normal",k),new Result$3(!0,k)},D=function(k){return c?(anObject$3$5(k),u?h(k[0],k[1],x):h(k[0],k[1])):u?h(k,x):h(k)};if(a)v=e;else{if(b=getIteratorMethod$6(e),!b)throw $TypeError$h(tryToString$9(e)+" is not iterable");if(isArrayIteratorMethod$4(b)){for(y=0,w=lengthOfArrayLike$8(e);w>y;y++)if(O=D(e[y]),O&&isPrototypeOf$1$4(ResultPrototype$2,O))return O;return new Result$3(!1)}v=getIterator$5(e,b)}for(P=v.next;!(C=call$4$4(P,v)).done;){try{O=D(C.value)}catch(k){iteratorClose$4(v,"throw",k)}if(typeof O=="object"&&O&&isPrototypeOf$1$4(ResultPrototype$2,O))return O}return new Result$3(!1)},wellKnownSymbol$k=wellKnownSymbol$e$2,ITERATOR$9=wellKnownSymbol$k("iterator"),SAFE_CLOSING$3=!1;try{var called$3=0,iteratorWithReturn$3={next:function(){return{done:!!called$3++}},return:function(){SAFE_CLOSING$3=!0}};iteratorWithReturn$3[ITERATOR$9]=function(){return this},Array.from(iteratorWithReturn$3,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$1$3=function(e,t){if(!t&&!SAFE_CLOSING$3)return!1;var n=!1;try{var o={};o[ITERATOR$9]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch{}return n},NativePromiseConstructor$1$2=promiseNativeConstructor$2,checkCorrectnessOfIteration$4=checkCorrectnessOfIteration$1$3,FORCED_PROMISE_CONSTRUCTOR$3$2=promiseConstructorDetection$2.CONSTRUCTOR,promiseStaticsIncorrectIteration$2=FORCED_PROMISE_CONSTRUCTOR$3$2||!checkCorrectnessOfIteration$4(function(e){NativePromiseConstructor$1$2.all(e).then(void 0,function(){})}),$$4$2=_export$5,call$3$4=functionCall$j,aCallable$1$4=aCallable$7$2,newPromiseCapabilityModule$2$2=newPromiseCapability$2$3,perform$1$3=perform$3$2,iterate$1$3=iterate$2$3,PROMISE_STATICS_INCORRECT_ITERATION$1$2=promiseStaticsIncorrectIteration$2;$$4$2({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1$2},{all:function e(t){var n=this,o=newPromiseCapabilityModule$2$2.f(n),c=o.resolve,a=o.reject,u=perform$1$3(function(){var h=aCallable$1$4(n.resolve),v=[],b=0,y=1;iterate$1$3(t,function(w){var O=b++,P=!1;y++,call$3$4(h,n,w).then(function(C){P||(P=!0,v[O]=C,--y||c(v))},a)}),--y||c(v)});return u.error&&a(u.value),o.promise}});var $$3$2=_export$5,FORCED_PROMISE_CONSTRUCTOR$2$2=promiseConstructorDetection$2.CONSTRUCTOR,NativePromiseConstructor$5=promiseNativeConstructor$2,getBuiltIn$1$5=getBuiltIn$8$2,isCallable$p=isCallable$k$2,defineBuiltIn$1$4=defineBuiltIn$6$2,NativePromisePrototype$3=NativePromiseConstructor$5&&NativePromiseConstructor$5.prototype;if($$3$2({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2$2,real:!0},{catch:function(e){return this.then(void 0,e)}}),isCallable$p(NativePromiseConstructor$5)){var method$2=getBuiltIn$1$5("Promise").prototype.catch;NativePromisePrototype$3.catch!==method$2&&defineBuiltIn$1$4(NativePromisePrototype$3,"catch",method$2,{unsafe:!0})}var $$2$2=_export$5,call$2$4=functionCall$j,aCallable$c=aCallable$7$2,newPromiseCapabilityModule$1$2=newPromiseCapability$2$3,perform$6=perform$3$2,iterate$5=iterate$2$3,PROMISE_STATICS_INCORRECT_ITERATION$3=promiseStaticsIncorrectIteration$2;$$2$2({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$3},{race:function e(t){var n=this,o=newPromiseCapabilityModule$1$2.f(n),c=o.reject,a=perform$6(function(){var u=aCallable$c(n.resolve);iterate$5(t,function(h){call$2$4(u,n,h).then(o.resolve,c)})});return a.error&&c(a.value),o.promise}});var $$1$3=_export$5,call$1$4=functionCall$j,newPromiseCapabilityModule$6=newPromiseCapability$2$3,FORCED_PROMISE_CONSTRUCTOR$1$2=promiseConstructorDetection$2.CONSTRUCTOR;$$1$3({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1$2},{reject:function e(t){var n=newPromiseCapabilityModule$6.f(this);return call$1$4(n.reject,void 0,t),n.promise}});var anObject$2$5=anObject$c$2,isObject$j=isObject$7$3,newPromiseCapability$5=newPromiseCapability$2$3,promiseResolve$1$3=function(e,t){if(anObject$2$5(e),isObject$j(t)&&t.constructor===e)return t;var n=newPromiseCapability$5.f(e),o=n.resolve;return o(t),n.promise},$$f=_export$5,getBuiltIn$d=getBuiltIn$8$2,FORCED_PROMISE_CONSTRUCTOR$7=promiseConstructorDetection$2.CONSTRUCTOR,promiseResolve$4=promiseResolve$1$3;getBuiltIn$d("Promise"),$$f({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$7},{resolve:function e(t){return promiseResolve$4(this,t)}});var classof$b=classof$3$3,$String$7=String,toString$d=function(e){if(classof$b(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $String$7(e)},anObject$1$5=anObject$c$2,regexpFlags$5=function(){var e=anObject$1$5(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},call$m=functionCall$j,hasOwn$e=hasOwnProperty_1$4,isPrototypeOf$8=objectIsPrototypeOf$4,regExpFlags$4=regexpFlags$5,RegExpPrototype$1$4=RegExp.prototype,regexpGetFlags$4=function(e){var t=e.flags;return t===void 0&&!("flags"in RegExpPrototype$1$4)&&!hasOwn$e(e,"flags")&&isPrototypeOf$8(RegExpPrototype$1$4,e)?call$m(regExpFlags$4,e):t},PROPER_FUNCTION_NAME$4=functionName$4.PROPER,defineBuiltIn$c=defineBuiltIn$6$2,anObject$i=anObject$c$2,$toString$4=toString$d,fails$m=fails$d$2,getRegExpFlags$4=regexpGetFlags$4,TO_STRING$5="toString",RegExpPrototype$6=RegExp.prototype,n$ToString$4=RegExpPrototype$6[TO_STRING$5],NOT_GENERIC$5=fails$m(function(){return n$ToString$4.call({source:"a",flags:"b"})!="/a/b"}),INCORRECT_NAME$5=PROPER_FUNCTION_NAME$4&&n$ToString$4.name!=TO_STRING$5;(NOT_GENERIC$5||INCORRECT_NAME$5)&&defineBuiltIn$c(RegExp.prototype,TO_STRING$5,function(){var e=anObject$i(this),t=$toString$4(e.source),n=$toString$4(getRegExpFlags$4(e));return"/"+t+"/"+n},{unsafe:!0}),typeof SuppressedError=="function"&&SuppressedError;var commonjsGlobal$4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$u<"u"?global$u:typeof self<"u"?self:{},check$4=function(e){return e&&e.Math==Math&&e},global$o=check$4(typeof globalThis=="object"&&globalThis)||check$4(typeof window=="object"&&window)||check$4(typeof self=="object"&&self)||check$4(typeof commonjsGlobal$4=="object"&&commonjsGlobal$4)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor$4={},fails$k=function(e){try{return!!e()}catch{return!0}},fails$j=fails$k,descriptors$4=!fails$j(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),fails$i$1=fails$k,functionBindNative$3=!fails$i$1(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$3$1=functionBindNative$3,call$k=Function.prototype.call,functionCall$i=NATIVE_BIND$3$1?call$k.bind(call$k):function(){return call$k.apply(call$k,arguments)},objectPropertyIsEnumerable$4={},$propertyIsEnumerable$3={}.propertyIsEnumerable,getOwnPropertyDescriptor$3$1=Object.getOwnPropertyDescriptor,NASHORN_BUG$4=getOwnPropertyDescriptor$3$1&&!$propertyIsEnumerable$3.call({1:2},1);objectPropertyIsEnumerable$4.f=NASHORN_BUG$4?function e(t){var n=getOwnPropertyDescriptor$3$1(this,t);return!!n&&n.enumerable}:$propertyIsEnumerable$3;var createPropertyDescriptor$5$1=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},NATIVE_BIND$2$1=functionBindNative$3,FunctionPrototype$2$1=Function.prototype,bind$8$1=FunctionPrototype$2$1.bind,call$j=FunctionPrototype$2$1.call,uncurryThis$m=NATIVE_BIND$2$1&&bind$8$1.bind(call$j,call$j),functionUncurryThis$3=NATIVE_BIND$2$1?function(e){return e&&uncurryThis$m(e)}:function(e){return e&&function(){return call$j.apply(e,arguments)}},uncurryThis$l=functionUncurryThis$3,toString$6$1=uncurryThis$l({}.toString),stringSlice$6=uncurryThis$l("".slice),classofRaw$1$4=function(e){return stringSlice$6(toString$6$1(e),8,-1)},uncurryThis$k$1=functionUncurryThis$3,fails$h$1=fails$k,classof$7$1=classofRaw$1$4,$Object$4$1=Object,split$3$1=uncurryThis$k$1("".split),indexedObject$4=fails$h$1(function(){return!$Object$4$1("z").propertyIsEnumerable(0)})?function(e){return classof$7$1(e)=="String"?split$3$1(e,""):$Object$4$1(e)}:$Object$4$1,$TypeError$c$1=TypeError,requireObjectCoercible$4$1=function(e){if(e==null)throw $TypeError$c$1("Can't call method on "+e);return e},IndexedObject$1$2=indexedObject$4,requireObjectCoercible$3$1=requireObjectCoercible$4$1,toIndexedObject$5$1=function(e){return IndexedObject$1$2(requireObjectCoercible$3$1(e))},isCallable$n=function(e){return typeof e=="function"},isCallable$m=isCallable$n,isObject$8$1=function(e){return typeof e=="object"?e!==null:isCallable$m(e)},global$n=global$o,isCallable$l=isCallable$n,aFunction$8=function(e){return isCallable$l(e)?e:void 0},getBuiltIn$8$1=function(e,t){return arguments.length<2?aFunction$8(global$n[e]):global$n[e]&&global$n[e][t]},uncurryThis$j$1=functionUncurryThis$3,objectIsPrototypeOf$3=uncurryThis$j$1({}.isPrototypeOf),getBuiltIn$7$1=getBuiltIn$8$1,engineUserAgent$4=getBuiltIn$7$1("navigator","userAgent")||"",global$m=global$o,userAgent$3$1=engineUserAgent$4,process$3$2=global$m.process,Deno$1$1=global$m.Deno,versions$4=process$3$2&&process$3$2.versions||Deno$1$1&&Deno$1$1.version,v8$4=versions$4&&versions$4.v8,match$4,version$5;v8$4&&(match$4=v8$4.split("."),version$5=match$4[0]>0&&match$4[0]<4?1:+(match$4[0]+match$4[1])),!version$5&&userAgent$3$1&&(match$4=userAgent$3$1.match(/Edge\/(\d+)/),(!match$4||match$4[1]>=74)&&(match$4=userAgent$3$1.match(/Chrome\/(\d+)/),match$4&&(version$5=+match$4[1])));var engineV8Version$4=version$5,V8_VERSION$1$1=engineV8Version$4,fails$g$1=fails$k,nativeSymbol$4=!!Object.getOwnPropertySymbols&&!fails$g$1(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1$1&&V8_VERSION$1$1<41}),NATIVE_SYMBOL$1$4=nativeSymbol$4,useSymbolAsUid$4=NATIVE_SYMBOL$1$4&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$6$1=getBuiltIn$8$1,isCallable$k$1=isCallable$n,isPrototypeOf$3$1=objectIsPrototypeOf$3,USE_SYMBOL_AS_UID$1$3=useSymbolAsUid$4,$Object$3$3=Object,isSymbol$2$3=USE_SYMBOL_AS_UID$1$3?function(e){return typeof e=="symbol"}:function(e){var t=getBuiltIn$6$1("Symbol");return isCallable$k$1(t)&&isPrototypeOf$3$1(t.prototype,$Object$3$3(e))},$String$3$1=String,tryToString$4$1=function(e){try{return $String$3$1(e)}catch{return"Object"}},isCallable$j$1=isCallable$n,tryToString$3$1=tryToString$4$1,$TypeError$b$1=TypeError,aCallable$7$1=function(e){if(isCallable$j$1(e))return e;throw $TypeError$b$1(tryToString$3$1(e)+" is not a function")},aCallable$6$1=aCallable$7$1,getMethod$4$1=function(e,t){var n=e[t];return n==null?void 0:aCallable$6$1(n)},call$i=functionCall$i,isCallable$i$1=isCallable$n,isObject$7$2=isObject$8$1,$TypeError$a$1=TypeError,ordinaryToPrimitive$1$3=function(e,t){var n,o;if(t==="string"&&isCallable$i$1(n=e.toString)&&!isObject$7$2(o=call$i(n,e))||isCallable$i$1(n=e.valueOf)&&!isObject$7$2(o=call$i(n,e))||t!=="string"&&isCallable$i$1(n=e.toString)&&!isObject$7$2(o=call$i(n,e)))return o;throw $TypeError$a$1("Can't convert object to primitive value")},shared$4$1={exports:{}},isPure=!1,global$l=global$o,defineProperty$6$1=Object.defineProperty,defineGlobalProperty$3$3=function(e,t){try{defineProperty$6$1(global$l,e,{value:t,configurable:!0,writable:!0})}catch{global$l[e]=t}return t},global$k$1=global$o,defineGlobalProperty$2$3=defineGlobalProperty$3$3,SHARED$4="__core-js_shared__",store$3$4=global$k$1[SHARED$4]||defineGlobalProperty$2$3(SHARED$4,{}),sharedStore$4=store$3$4,store$2$4=sharedStore$4;(shared$4$1.exports=function(e,t){return store$2$4[e]||(store$2$4[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var requireObjectCoercible$2$4=requireObjectCoercible$4$1,$Object$2$3=Object,toObject$5$1=function(e){return $Object$2$3(requireObjectCoercible$2$4(e))},uncurryThis$i$1=functionUncurryThis$3,toObject$4$1=toObject$5$1,hasOwnProperty$4=uncurryThis$i$1({}.hasOwnProperty),hasOwnProperty_1$3=Object.hasOwn||function e(t,n){return hasOwnProperty$4(toObject$4$1(t),n)},uncurryThis$h$1=functionUncurryThis$3,id$6=0,postfix$4=Math.random(),toString$5$1=uncurryThis$h$1(1 .toString),uid$2$4=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$5$1(++id$6+postfix$4,36)},global$j$1=global$o,shared$3$3=shared$4$1.exports,hasOwn$c$1=hasOwnProperty_1$3,uid$1$4=uid$2$4,NATIVE_SYMBOL$6=nativeSymbol$4,USE_SYMBOL_AS_UID$5=useSymbolAsUid$4,WellKnownSymbolsStore$4=shared$3$3("wks"),Symbol$1$4=global$j$1.Symbol,symbolFor$3=Symbol$1$4&&Symbol$1$4.for,createWellKnownSymbol$4=USE_SYMBOL_AS_UID$5?Symbol$1$4:Symbol$1$4&&Symbol$1$4.withoutSetter||uid$1$4,wellKnownSymbol$i=function(e){if(!hasOwn$c$1(WellKnownSymbolsStore$4,e)||!(NATIVE_SYMBOL$6||typeof WellKnownSymbolsStore$4[e]=="string")){var t="Symbol."+e;NATIVE_SYMBOL$6&&hasOwn$c$1(Symbol$1$4,e)?WellKnownSymbolsStore$4[e]=Symbol$1$4[e]:USE_SYMBOL_AS_UID$5&&symbolFor$3?WellKnownSymbolsStore$4[e]=symbolFor$3(t):WellKnownSymbolsStore$4[e]=createWellKnownSymbol$4(t)}return WellKnownSymbolsStore$4[e]},call$h=functionCall$i,isObject$6$2=isObject$8$1,isSymbol$1$3=isSymbol$2$3,getMethod$3$1=getMethod$4$1,ordinaryToPrimitive$4=ordinaryToPrimitive$1$3,wellKnownSymbol$h=wellKnownSymbol$i,$TypeError$9$1=TypeError,TO_PRIMITIVE$3=wellKnownSymbol$h("toPrimitive"),toPrimitive$1$4=function(e,t){if(!isObject$6$2(e)||isSymbol$1$3(e))return e;var n=getMethod$3$1(e,TO_PRIMITIVE$3),o;if(n){if(t===void 0&&(t="default"),o=call$h(n,e,t),!isObject$6$2(o)||isSymbol$1$3(o))return o;throw $TypeError$9$1("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive$4(e,t)},toPrimitive$5=toPrimitive$1$4,isSymbol$5=isSymbol$2$3,toPropertyKey$3$1=function(e){var t=toPrimitive$5(e,"string");return isSymbol$5(t)?t:t+""},global$i$2=global$o,isObject$5$4=isObject$8$1,document$3$1=global$i$2.document,EXISTS$1$3=isObject$5$4(document$3$1)&&isObject$5$4(document$3$1.createElement),documentCreateElement$2$1=function(e){return EXISTS$1$3?document$3$1.createElement(e):{}},DESCRIPTORS$c$1=descriptors$4,fails$f$1=fails$k,createElement$1$2=documentCreateElement$2$1,ie8DomDefine$4=!DESCRIPTORS$c$1&&!fails$f$1(function(){return Object.defineProperty(createElement$1$2("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$b$1=descriptors$4,call$g=functionCall$i,propertyIsEnumerableModule$1$2=objectPropertyIsEnumerable$4,createPropertyDescriptor$4$1=createPropertyDescriptor$5$1,toIndexedObject$4$2=toIndexedObject$5$1,toPropertyKey$2$3=toPropertyKey$3$1,hasOwn$b$1=hasOwnProperty_1$3,IE8_DOM_DEFINE$1$4=ie8DomDefine$4,$getOwnPropertyDescriptor$1$3=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$4.f=DESCRIPTORS$b$1?$getOwnPropertyDescriptor$1$3:function e(t,n){if(t=toIndexedObject$4$2(t),n=toPropertyKey$2$3(n),IE8_DOM_DEFINE$1$4)try{return $getOwnPropertyDescriptor$1$3(t,n)}catch{}if(hasOwn$b$1(t,n))return createPropertyDescriptor$4$1(!call$g(propertyIsEnumerableModule$1$2.f,t,n),t[n])};var objectDefineProperty$4={},DESCRIPTORS$a$1=descriptors$4,fails$e$1=fails$k,v8PrototypeDefineBug$3=DESCRIPTORS$a$1&&fails$e$1(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),isObject$4$4=isObject$8$1,$String$2$3=String,$TypeError$8$1=TypeError,anObject$g=function(e){if(isObject$4$4(e))return e;throw $TypeError$8$1($String$2$3(e)+" is not an object")},DESCRIPTORS$9$1=descriptors$4,IE8_DOM_DEFINE$5=ie8DomDefine$4,V8_PROTOTYPE_DEFINE_BUG$1$1=v8PrototypeDefineBug$3,anObject$f$1=anObject$g,toPropertyKey$1$3=toPropertyKey$3$1,$TypeError$7$1=TypeError,$defineProperty$3=Object.defineProperty,$getOwnPropertyDescriptor$4=Object.getOwnPropertyDescriptor,ENUMERABLE$3="enumerable",CONFIGURABLE$1$3="configurable",WRITABLE$3="writable";objectDefineProperty$4.f=DESCRIPTORS$9$1?V8_PROTOTYPE_DEFINE_BUG$1$1?function e(t,n,o){if(anObject$f$1(t),n=toPropertyKey$1$3(n),anObject$f$1(o),typeof t=="function"&&n==="prototype"&&"value"in o&&WRITABLE$3 in o&&!o[WRITABLE$3]){var c=$getOwnPropertyDescriptor$4(t,n);c&&c[WRITABLE$3]&&(t[n]=o.value,o={configurable:CONFIGURABLE$1$3 in o?o[CONFIGURABLE$1$3]:c[CONFIGURABLE$1$3],enumerable:ENUMERABLE$3 in o?o[ENUMERABLE$3]:c[ENUMERABLE$3],writable:!1})}return $defineProperty$3(t,n,o)}:$defineProperty$3:function e(t,n,o){if(anObject$f$1(t),n=toPropertyKey$1$3(n),anObject$f$1(o),IE8_DOM_DEFINE$5)try{return $defineProperty$3(t,n,o)}catch{}if("get"in o||"set"in o)throw $TypeError$7$1("Accessors not supported");return"value"in o&&(t[n]=o.value),t};var DESCRIPTORS$8$1=descriptors$4,definePropertyModule$5$1=objectDefineProperty$4,createPropertyDescriptor$3$2=createPropertyDescriptor$5$1,createNonEnumerableProperty$5$1=DESCRIPTORS$8$1?function(e,t,n){return definePropertyModule$5$1.f(e,t,createPropertyDescriptor$3$2(1,n))}:function(e,t,n){return e[t]=n,e},makeBuiltIn$3$1={exports:{}},DESCRIPTORS$7$3=descriptors$4,hasOwn$a$1=hasOwnProperty_1$3,FunctionPrototype$1$3=Function.prototype,getDescriptor$3=DESCRIPTORS$7$3&&Object.getOwnPropertyDescriptor,EXISTS$5=hasOwn$a$1(FunctionPrototype$1$3,"name"),PROPER$3=EXISTS$5&&(function e(){}).name==="something",CONFIGURABLE$4=EXISTS$5&&(!DESCRIPTORS$7$3||DESCRIPTORS$7$3&&getDescriptor$3(FunctionPrototype$1$3,"name").configurable),functionName$3={EXISTS:EXISTS$5,PROPER:PROPER$3,CONFIGURABLE:CONFIGURABLE$4},uncurryThis$g$1=functionUncurryThis$3,isCallable$h$1=isCallable$n,store$1$4=sharedStore$4,functionToString$4=uncurryThis$g$1(Function.toString);isCallable$h$1(store$1$4.inspectSource)||(store$1$4.inspectSource=function(e){return functionToString$4(e)});var inspectSource$4$1=store$1$4.inspectSource,global$h$2=global$o,isCallable$g$1=isCallable$n,inspectSource$3$2=inspectSource$4$1,WeakMap$1$4=global$h$2.WeakMap,nativeWeakMap$4=isCallable$g$1(WeakMap$1$4)&&/native code/.test(inspectSource$3$2(WeakMap$1$4)),shared$2$4=shared$4$1.exports,uid$6=uid$2$4,keys$4=shared$2$4("keys"),sharedKey$3$2=function(e){return keys$4[e]||(keys$4[e]=uid$6(e))},hiddenKeys$4$2={},NATIVE_WEAK_MAP$4=nativeWeakMap$4,global$g$2=global$o,uncurryThis$f$1=functionUncurryThis$3,isObject$3$4=isObject$8$1,createNonEnumerableProperty$4$1=createNonEnumerableProperty$5$1,hasOwn$9$1=hasOwnProperty_1$3,shared$1$4=sharedStore$4,sharedKey$2$2=sharedKey$3$2,hiddenKeys$3$4=hiddenKeys$4$2,OBJECT_ALREADY_INITIALIZED$3="Object already initialized",TypeError$4=global$g$2.TypeError,WeakMap$6=global$g$2.WeakMap,set$1$2,get$6,has$c,enforce$4=function(e){return has$c(e)?get$6(e):set$1$2(e,{})},getterFor$4=function(e){return function(t){var n;if(!isObject$3$4(t)||(n=get$6(t)).type!==e)throw TypeError$4("Incompatible receiver, "+e+" required");return n}};if(NATIVE_WEAK_MAP$4||shared$1$4.state){var store$7=shared$1$4.state||(shared$1$4.state=new WeakMap$6),wmget$4=uncurryThis$f$1(store$7.get),wmhas$4=uncurryThis$f$1(store$7.has),wmset$4=uncurryThis$f$1(store$7.set);set$1$2=function(e,t){if(wmhas$4(store$7,e))throw new TypeError$4(OBJECT_ALREADY_INITIALIZED$3);return t.facade=e,wmset$4(store$7,e,t),t},get$6=function(e){return wmget$4(store$7,e)||{}},has$c=function(e){return wmhas$4(store$7,e)}}else{var STATE$4=sharedKey$2$2("state");hiddenKeys$3$4[STATE$4]=!0,set$1$2=function(e,t){if(hasOwn$9$1(e,STATE$4))throw new TypeError$4(OBJECT_ALREADY_INITIALIZED$3);return t.facade=e,createNonEnumerableProperty$4$1(e,STATE$4,t),t},get$6=function(e){return hasOwn$9$1(e,STATE$4)?e[STATE$4]:{}},has$c=function(e){return hasOwn$9$1(e,STATE$4)}}var internalState$4={set:set$1$2,get:get$6,has:has$c,enforce:enforce$4,getterFor:getterFor$4},fails$d$1=fails$k,isCallable$f$1=isCallable$n,hasOwn$8$1=hasOwnProperty_1$3,DESCRIPTORS$6$3=descriptors$4,CONFIGURABLE_FUNCTION_NAME$1$1=functionName$3.CONFIGURABLE,inspectSource$2$4=inspectSource$4$1,InternalStateModule$5=internalState$4,enforceInternalState$4=InternalStateModule$5.enforce,getInternalState$3$1=InternalStateModule$5.get,defineProperty$5$1=Object.defineProperty,CONFIGURABLE_LENGTH$3=DESCRIPTORS$6$3&&!fails$d$1(function(){return defineProperty$5$1(function(){},"length",{value:8}).length!==8}),TEMPLATE$4=String(String).split("String"),makeBuiltIn$2$3=makeBuiltIn$3$1.exports=function(e,t,n){String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!hasOwn$8$1(e,"name")||CONFIGURABLE_FUNCTION_NAME$1$1&&e.name!==t)&&(DESCRIPTORS$6$3?defineProperty$5$1(e,"name",{value:t,configurable:!0}):e.name=t),CONFIGURABLE_LENGTH$3&&n&&hasOwn$8$1(n,"arity")&&e.length!==n.arity&&defineProperty$5$1(e,"length",{value:n.arity});try{n&&hasOwn$8$1(n,"constructor")&&n.constructor?DESCRIPTORS$6$3&&defineProperty$5$1(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var o=enforceInternalState$4(e);return hasOwn$8$1(o,"source")||(o.source=TEMPLATE$4.join(typeof t=="string"?t:"")),e};Function.prototype.toString=makeBuiltIn$2$3(function e(){return isCallable$f$1(this)&&getInternalState$3$1(this).source||inspectSource$2$4(this)},"toString");var isCallable$e$1=isCallable$n,definePropertyModule$4$2=objectDefineProperty$4,makeBuiltIn$1$3=makeBuiltIn$3$1.exports,defineGlobalProperty$1$3=defineGlobalProperty$3$3,defineBuiltIn$a=function(e,t,n,o){o||(o={});var c=o.enumerable,a=o.name!==void 0?o.name:t;if(isCallable$e$1(n)&&makeBuiltIn$1$3(n,a,o),o.global)c?e[t]=n:defineGlobalProperty$1$3(t,n);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch{}c?e[t]=n:definePropertyModule$4$2.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e},objectGetOwnPropertyNames$4={},ceil$4=Math.ceil,floor$4$1=Math.floor,mathTrunc$3=Math.trunc||function e(t){var n=+t;return(n>0?floor$4$1:ceil$4)(n)},trunc$3=mathTrunc$3,toIntegerOrInfinity$4$1=function(e){var t=+e;return t!==t||t===0?0:trunc$3(t)},toIntegerOrInfinity$3$1=toIntegerOrInfinity$4$1,max$2$1=Math.max,min$2$1=Math.min,toAbsoluteIndex$2$1=function(e,t){var n=toIntegerOrInfinity$3$1(e);return n<0?max$2$1(n+t,0):min$2$1(n,t)},toIntegerOrInfinity$2$3=toIntegerOrInfinity$4$1,min$1$4=Math.min,toLength$2$2=function(e){return e>0?min$1$4(toIntegerOrInfinity$2$3(e),9007199254740991):0},toLength$1$4=toLength$2$2,lengthOfArrayLike$4$1=function(e){return toLength$1$4(e.length)},toIndexedObject$3$4=toIndexedObject$5$1,toAbsoluteIndex$1$4=toAbsoluteIndex$2$1,lengthOfArrayLike$3$1=lengthOfArrayLike$4$1,createMethod$1$1=function(e){return function(t,n,o){var c=toIndexedObject$3$4(t),a=lengthOfArrayLike$3$1(c),u=toAbsoluteIndex$1$4(o,a),h;if(e&&n!=n){for(;a>u;)if(h=c[u++],h!=h)return!0}else for(;a>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}},arrayIncludes$4={includes:createMethod$1$1(!0),indexOf:createMethod$1$1(!1)},uncurryThis$e$1=functionUncurryThis$3,hasOwn$7$3=hasOwnProperty_1$3,toIndexedObject$2$4=toIndexedObject$5$1,indexOf$1$1=arrayIncludes$4.indexOf,hiddenKeys$2$4=hiddenKeys$4$2,push$4=uncurryThis$e$1([].push),objectKeysInternal$4=function(e,t){var n=toIndexedObject$2$4(e),o=0,c=[],a;for(a in n)!hasOwn$7$3(hiddenKeys$2$4,a)&&hasOwn$7$3(n,a)&&push$4(c,a);for(;t.length>o;)hasOwn$7$3(n,a=t[o++])&&(~indexOf$1$1(c,a)||push$4(c,a));return c},enumBugKeys$3$2=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$4=objectKeysInternal$4,enumBugKeys$2$4=enumBugKeys$3$2,hiddenKeys$1$4=enumBugKeys$2$4.concat("length","prototype");objectGetOwnPropertyNames$4.f=Object.getOwnPropertyNames||function e(t){return internalObjectKeys$1$4(t,hiddenKeys$1$4)};var objectGetOwnPropertySymbols$4={};objectGetOwnPropertySymbols$4.f=Object.getOwnPropertySymbols;var getBuiltIn$5$2=getBuiltIn$8$1,uncurryThis$d$1=functionUncurryThis$3,getOwnPropertyNamesModule$4=objectGetOwnPropertyNames$4,getOwnPropertySymbolsModule$1$2=objectGetOwnPropertySymbols$4,anObject$e$1=anObject$g,concat$2$1=uncurryThis$d$1([].concat),ownKeys$1$4=getBuiltIn$5$2("Reflect","ownKeys")||function e(t){var n=getOwnPropertyNamesModule$4.f(anObject$e$1(t)),o=getOwnPropertySymbolsModule$1$2.f;return o?concat$2$1(n,o(t)):n},hasOwn$6$3=hasOwnProperty_1$3,ownKeys$5=ownKeys$1$4,getOwnPropertyDescriptorModule$4=objectGetOwnPropertyDescriptor$4,definePropertyModule$3$2=objectDefineProperty$4,copyConstructorProperties$1$4=function(e,t,n){for(var o=ownKeys$5(t),c=definePropertyModule$3$2.f,a=getOwnPropertyDescriptorModule$4.f,u=0;u<o.length;u++){var h=o[u];!hasOwn$6$3(e,h)&&!(n&&hasOwn$6$3(n,h))&&c(e,h,a(t,h))}},fails$c$1=fails$k,isCallable$d$1=isCallable$n,replacement$4=/#|\.prototype\./,isForced$2$2=function(e,t){var n=data$4[normalize$4(e)];return n==POLYFILL$4?!0:n==NATIVE$4?!1:isCallable$d$1(t)?fails$c$1(t):!!t},normalize$4=isForced$2$2.normalize=function(e){return String(e).replace(replacement$4,".").toLowerCase()},data$4=isForced$2$2.data={},NATIVE$4=isForced$2$2.NATIVE="N",POLYFILL$4=isForced$2$2.POLYFILL="P",isForced_1$4=isForced$2$2,global$f$2=global$o,getOwnPropertyDescriptor$2$2=objectGetOwnPropertyDescriptor$4.f,createNonEnumerableProperty$3$2=createNonEnumerableProperty$5$1,defineBuiltIn$9=defineBuiltIn$a,defineGlobalProperty$6=defineGlobalProperty$3$3,copyConstructorProperties$6=copyConstructorProperties$1$4,isForced$1$4=isForced_1$4,_export$4=function(e,t){var n=e.target,o=e.global,c=e.stat,a,u,h,v,b,y;if(o?u=global$f$2:c?u=global$f$2[n]||defineGlobalProperty$6(n,{}):u=(global$f$2[n]||{}).prototype,u)for(h in t){if(b=t[h],e.dontCallGetSet?(y=getOwnPropertyDescriptor$2$2(u,h),v=y&&y.value):v=u[h],a=isForced$1$4(o?h:n+(c?".":"#")+h,e.forced),!a&&v!==void 0){if(typeof b==typeof v)continue;copyConstructorProperties$6(b,v)}(e.sham||v&&v.sham)&&createNonEnumerableProperty$3$2(b,"sham",!0),defineBuiltIn$9(u,h,b,e)}},internalObjectKeys$5=objectKeysInternal$4,enumBugKeys$1$4=enumBugKeys$3$2,objectKeys$2$1=Object.keys||function e(t){return internalObjectKeys$5(t,enumBugKeys$1$4)},DESCRIPTORS$5$4=descriptors$4,uncurryThis$c$1=functionUncurryThis$3,call$f$1=functionCall$i,fails$b$1=fails$k,objectKeys$1$4=objectKeys$2$1,getOwnPropertySymbolsModule$5=objectGetOwnPropertySymbols$4,propertyIsEnumerableModule$5=objectPropertyIsEnumerable$4,toObject$3$1=toObject$5$1,IndexedObject$5=indexedObject$4,$assign$2=Object.assign,defineProperty$4$1=Object.defineProperty,concat$1$2=uncurryThis$c$1([].concat),objectAssign$2=!$assign$2||fails$b$1(function(){if(DESCRIPTORS$5$4&&$assign$2({b:1},$assign$2(defineProperty$4$1({},"a",{enumerable:!0,get:function(){defineProperty$4$1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(c){t[c]=c}),$assign$2({},e)[n]!=7||objectKeys$1$4($assign$2({},t)).join("")!=o})?function e(t,n){for(var o=toObject$3$1(t),c=arguments.length,a=1,u=getOwnPropertySymbolsModule$5.f,h=propertyIsEnumerableModule$5.f;c>a;)for(var v=IndexedObject$5(arguments[a++]),b=u?concat$1$2(objectKeys$1$4(v),u(v)):objectKeys$1$4(v),y=b.length,w=0,O;y>w;)O=b[w++],(!DESCRIPTORS$5$4||call$f$1(h,v,O))&&(o[O]=v[O]);return o}:$assign$2,$$a$1=_export$4,assign$1$1=objectAssign$2;$$a$1({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign$1$1},{assign:assign$1$1});var wellKnownSymbol$g$1=wellKnownSymbol$i,TO_STRING_TAG$3$2=wellKnownSymbol$g$1("toStringTag"),test$5={};test$5[TO_STRING_TAG$3$2]="z";var toStringTagSupport$4=String(test$5)==="[object z]",TO_STRING_TAG_SUPPORT$4=toStringTagSupport$4,isCallable$c$1=isCallable$n,classofRaw$5=classofRaw$1$4,wellKnownSymbol$f$1=wellKnownSymbol$i,TO_STRING_TAG$2$2=wellKnownSymbol$f$1("toStringTag"),$Object$1$3=Object,CORRECT_ARGUMENTS$4=classofRaw$5(function(){return arguments}())=="Arguments",tryGet$4=function(e,t){try{return e[t]}catch{}},classof$6$1=TO_STRING_TAG_SUPPORT$4?classofRaw$5:function(e){var t,n,o;return e===void 0?"Undefined":e===null?"Null":typeof(n=tryGet$4(t=$Object$1$3(e),TO_STRING_TAG$2$2))=="string"?n:CORRECT_ARGUMENTS$4?classofRaw$5(t):(o=classofRaw$5(t))=="Object"&&isCallable$c$1(t.callee)?"Arguments":o},classof$5$2=classof$6$1,$String$1$3=String,toString$4$1=function(e){if(classof$5$2(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $String$1$3(e)},anObject$d$1=anObject$g,regexpFlags$1$1=function(){var e=anObject$d$1(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},call$e$1=functionCall$i,hasOwn$5$3=hasOwnProperty_1$3,isPrototypeOf$2$1=objectIsPrototypeOf$3,regExpFlags$3=regexpFlags$1$1,RegExpPrototype$2$1=RegExp.prototype,regexpGetFlags$3=function(e){var t=e.flags;return t===void 0&&!("flags"in RegExpPrototype$2$1)&&!hasOwn$5$3(e,"flags")&&isPrototypeOf$2$1(RegExpPrototype$2$1,e)?call$e$1(regExpFlags$3,e):t},PROPER_FUNCTION_NAME$1$1=functionName$3.PROPER,defineBuiltIn$8=defineBuiltIn$a,anObject$c$1=anObject$g,$toString$2$1=toString$4$1,fails$a$3=fails$k,getRegExpFlags$3=regexpGetFlags$3,TO_STRING$4="toString",RegExpPrototype$1$3=RegExp.prototype,n$ToString$3=RegExpPrototype$1$3[TO_STRING$4],NOT_GENERIC$4=fails$a$3(function(){return n$ToString$3.call({source:"a",flags:"b"})!="/a/b"}),INCORRECT_NAME$4=PROPER_FUNCTION_NAME$1$1&&n$ToString$3.name!=TO_STRING$4;(NOT_GENERIC$4||INCORRECT_NAME$4)&&defineBuiltIn$8(RegExp.prototype,TO_STRING$4,function(){var e=anObject$c$1(this),t=$toString$2$1(e.source),n=$toString$2$1(getRegExpFlags$3(e));return"/"+t+"/"+n},{unsafe:!0});var objectDefineProperties$2={},DESCRIPTORS$4$4=descriptors$4,V8_PROTOTYPE_DEFINE_BUG$4=v8PrototypeDefineBug$3,definePropertyModule$2$4=objectDefineProperty$4,anObject$b$2=anObject$g,toIndexedObject$1$4=toIndexedObject$5$1,objectKeys$5=objectKeys$2$1;objectDefineProperties$2.f=DESCRIPTORS$4$4&&!V8_PROTOTYPE_DEFINE_BUG$4?Object.defineProperties:function e(t,n){anObject$b$2(t);for(var o=toIndexedObject$1$4(n),c=objectKeys$5(n),a=c.length,u=0,h;a>u;)definePropertyModule$2$4.f(t,h=c[u++],o[h]);return t};var getBuiltIn$4$2=getBuiltIn$8$1,html$2$2=getBuiltIn$4$2("document","documentElement"),anObject$a$2=anObject$g,definePropertiesModule$1=objectDefineProperties$2,enumBugKeys$7=enumBugKeys$3$2,hiddenKeys$8=hiddenKeys$4$2,html$1$2=html$2$2,documentCreateElement$1$2=documentCreateElement$2$1,sharedKey$1$4=sharedKey$3$2,GT$2=">",LT$2="<",PROTOTYPE$2="prototype",SCRIPT$2="script",IE_PROTO$1$1=sharedKey$1$4("IE_PROTO"),EmptyConstructor$2=function(){},scriptTag$2=function(e){return LT$2+SCRIPT$2+GT$2+e+LT$2+"/"+SCRIPT$2+GT$2},NullProtoObjectViaActiveX$2=function(e){e.write(scriptTag$2("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame$2=function(){var e=documentCreateElement$1$2("iframe"),t="java"+SCRIPT$2+":",n;return e.style.display="none",html$1$2.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(scriptTag$2("document.F=Object")),n.close(),n.F},activeXDocument$2,NullProtoObject$2=function(){try{activeXDocument$2=new ActiveXObject("htmlfile")}catch{}NullProtoObject$2=typeof document<"u"?document.domain&&activeXDocument$2?NullProtoObjectViaActiveX$2(activeXDocument$2):NullProtoObjectViaIFrame$2():NullProtoObjectViaActiveX$2(activeXDocument$2);for(var e=enumBugKeys$7.length;e--;)delete NullProtoObject$2[PROTOTYPE$2][enumBugKeys$7[e]];return NullProtoObject$2()};hiddenKeys$8[IE_PROTO$1$1]=!0;var objectCreate$2=Object.create||function e(t,n){var o;return t!==null?(EmptyConstructor$2[PROTOTYPE$2]=anObject$a$2(t),o=new EmptyConstructor$2,EmptyConstructor$2[PROTOTYPE$2]=null,o[IE_PROTO$1$1]=t):o=NullProtoObject$2(),n===void 0?o:definePropertiesModule$1.f(o,n)},wellKnownSymbol$e$1=wellKnownSymbol$i,create$3=objectCreate$2,defineProperty$3$1=objectDefineProperty$4.f,UNSCOPABLES$2=wellKnownSymbol$e$1("unscopables"),ArrayPrototype$1$2=Array.prototype;ArrayPrototype$1$2[UNSCOPABLES$2]==null&&defineProperty$3$1(ArrayPrototype$1$2,UNSCOPABLES$2,{configurable:!0,value:create$3(null)});var addToUnscopables$1$2=function(e){ArrayPrototype$1$2[UNSCOPABLES$2][e]=!0},iterators$2={},fails$9$3=fails$k,correctPrototypeGetter$1=!fails$9$3(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),hasOwn$4$3=hasOwnProperty_1$3,isCallable$b$3=isCallable$n,toObject$2$3=toObject$5$1,sharedKey$6=sharedKey$3$2,CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter$1,IE_PROTO$3=sharedKey$6("IE_PROTO"),$Object$6=Object,ObjectPrototype$1=$Object$6.prototype,objectGetPrototypeOf$1=CORRECT_PROTOTYPE_GETTER$1?$Object$6.getPrototypeOf:function(e){var t=toObject$2$3(e);if(hasOwn$4$3(t,IE_PROTO$3))return t[IE_PROTO$3];var n=t.constructor;return isCallable$b$3(n)&&t instanceof n?n.prototype:t instanceof $Object$6?ObjectPrototype$1:null},fails$8$4=fails$k,isCallable$a$3=isCallable$n,getPrototypeOf$1$1=objectGetPrototypeOf$1,defineBuiltIn$7=defineBuiltIn$a,wellKnownSymbol$d$2=wellKnownSymbol$i,ITERATOR$7=wellKnownSymbol$d$2("iterator"),BUGGY_SAFARI_ITERATORS$1$1=!1,IteratorPrototype$2$1,PrototypeOfArrayIteratorPrototype$1,arrayIterator$1;[].keys&&(arrayIterator$1=[].keys(),"next"in arrayIterator$1?(PrototypeOfArrayIteratorPrototype$1=getPrototypeOf$1$1(getPrototypeOf$1$1(arrayIterator$1)),PrototypeOfArrayIteratorPrototype$1!==Object.prototype&&(IteratorPrototype$2$1=PrototypeOfArrayIteratorPrototype$1)):BUGGY_SAFARI_ITERATORS$1$1=!0);var NEW_ITERATOR_PROTOTYPE=IteratorPrototype$2$1==null||fails$8$4(function(){var e={};return IteratorPrototype$2$1[ITERATOR$7].call(e)!==e});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2$1={}),isCallable$a$3(IteratorPrototype$2$1[ITERATOR$7])||defineBuiltIn$7(IteratorPrototype$2$1,ITERATOR$7,function(){return this});var iteratorsCore$1={IteratorPrototype:IteratorPrototype$2$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$1},defineProperty$2$3=objectDefineProperty$4.f,hasOwn$3$3=hasOwnProperty_1$3,wellKnownSymbol$c$2=wellKnownSymbol$i,TO_STRING_TAG$1$4=wellKnownSymbol$c$2("toStringTag"),setToStringTag$5=function(e,t,n){e&&!n&&(e=e.prototype),e&&!hasOwn$3$3(e,TO_STRING_TAG$1$4)&&defineProperty$2$3(e,TO_STRING_TAG$1$4,{configurable:!0,value:t})},IteratorPrototype$1$1=iteratorsCore$1.IteratorPrototype,create$2$1=objectCreate$2,createPropertyDescriptor$2$4=createPropertyDescriptor$5$1,setToStringTag$4$1=setToStringTag$5,Iterators$4$1=iterators$2,returnThis$1$1=function(){return this},createIteratorConstructor$2=function(e,t,n,o){var c=t+" Iterator";return e.prototype=create$2$1(IteratorPrototype$1$1,{next:createPropertyDescriptor$2$4(+!o,n)}),setToStringTag$4$1(e,c,!1),Iterators$4$1[c]=returnThis$1$1,e},isCallable$9$3=isCallable$n,$String$6=String,$TypeError$6$1=TypeError,aPossiblePrototype$1$2=function(e){if(typeof e=="object"||isCallable$9$3(e))return e;throw $TypeError$6$1("Can't set "+$String$6(e)+" as a prototype")},uncurryThis$b$1=functionUncurryThis$3,anObject$9$2=anObject$g,aPossiblePrototype$3=aPossiblePrototype$1$2,objectSetPrototypeOf$2=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=uncurryThis$b$1(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),n(t,[]),e=t instanceof Array}catch{}return function(o,c){return anObject$9$2(o),aPossiblePrototype$3(c),e?n(o,c):o.__proto__=c,o}}():void 0),$$9$1=_export$4,call$d$1=functionCall$i,FunctionName=functionName$3,isCallable$8$3=isCallable$n,createIteratorConstructor$1$1=createIteratorConstructor$2,getPrototypeOf$2=objectGetPrototypeOf$1,setPrototypeOf$1$1=objectSetPrototypeOf$2,setToStringTag$3$1=setToStringTag$5,createNonEnumerableProperty$2$4=createNonEnumerableProperty$5$1,defineBuiltIn$6$1=defineBuiltIn$a,wellKnownSymbol$b$2=wellKnownSymbol$i,Iterators$3$1=iterators$2,IteratorsCore$1=iteratorsCore$1,PROPER_FUNCTION_NAME$3=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME$3=FunctionName.CONFIGURABLE,IteratorPrototype$3=IteratorsCore$1.IteratorPrototype,BUGGY_SAFARI_ITERATORS$2=IteratorsCore$1.BUGGY_SAFARI_ITERATORS,ITERATOR$6$1=wellKnownSymbol$b$2("iterator"),KEYS$1="keys",VALUES$1="values",ENTRIES$1="entries",returnThis$3=function(){return this},defineIterator$2=function(e,t,n,o,c,a,u){createIteratorConstructor$1$1(n,t,o);var h=function(k){if(k===c&&O)return O;if(!BUGGY_SAFARI_ITERATORS$2&&k in y)return y[k];switch(k){case KEYS$1:return function(){return new n(this,k)};case VALUES$1:return function(){return new n(this,k)};case ENTRIES$1:return function(){return new n(this,k)}}return function(){return new n(this)}},v=t+" Iterator",b=!1,y=e.prototype,w=y[ITERATOR$6$1]||y["@@iterator"]||c&&y[c],O=!BUGGY_SAFARI_ITERATORS$2&&w||h(c),P=t=="Array"&&y.entries||w,C,x,D;if(P&&(C=getPrototypeOf$2(P.call(new e)),C!==Object.prototype&&C.next&&(getPrototypeOf$2(C)!==IteratorPrototype$3&&(setPrototypeOf$1$1?setPrototypeOf$1$1(C,IteratorPrototype$3):isCallable$8$3(C[ITERATOR$6$1])||defineBuiltIn$6$1(C,ITERATOR$6$1,returnThis$3)),setToStringTag$3$1(C,v,!0))),PROPER_FUNCTION_NAME$3&&c==VALUES$1&&w&&w.name!==VALUES$1&&(CONFIGURABLE_FUNCTION_NAME$3?createNonEnumerableProperty$2$4(y,"name",VALUES$1):(b=!0,O=function(){return call$d$1(w,this)})),c)if(x={values:h(VALUES$1),keys:a?O:h(KEYS$1),entries:h(ENTRIES$1)},u)for(D in x)(BUGGY_SAFARI_ITERATORS$2||b||!(D in y))&&defineBuiltIn$6$1(y,D,x[D]);else $$9$1({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS$2||b},x);return y[ITERATOR$6$1]!==O&&defineBuiltIn$6$1(y,ITERATOR$6$1,O,{name:c}),Iterators$3$1[t]=O,x},toIndexedObject$8=toIndexedObject$5$1,addToUnscopables$3=addToUnscopables$1$2,Iterators$2$1=iterators$2,InternalStateModule$4$1=internalState$4,defineProperty$1$3=objectDefineProperty$4.f,defineIterator$1$1=defineIterator$2,DESCRIPTORS$3$4=descriptors$4,ARRAY_ITERATOR$1="Array Iterator",setInternalState$4=InternalStateModule$4$1.set,getInternalState$2$1=InternalStateModule$4$1.getterFor(ARRAY_ITERATOR$1),es_array_iterator$1=defineIterator$1$1(Array,"Array",function(e,t){setInternalState$4(this,{type:ARRAY_ITERATOR$1,target:toIndexedObject$8(e),index:0,kind:t})},function(){var e=getInternalState$2$1(this),t=e.target,n=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:o,done:!1}:n=="values"?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}},"values"),values=Iterators$2$1.Arguments=Iterators$2$1.Array;if(addToUnscopables$3("keys"),addToUnscopables$3("values"),addToUnscopables$3("entries"),DESCRIPTORS$3$4&&values.name!=="values")try{defineProperty$1$3(values,"name",{value:"values"})}catch(e){}var classof$4$2=classofRaw$1$4,global$e$2=global$o,engineIsNode$1=classof$4$2(global$e$2.process)=="process",getBuiltIn$3$4=getBuiltIn$8$1,definePropertyModule$1$4=objectDefineProperty$4,wellKnownSymbol$a$2=wellKnownSymbol$i,DESCRIPTORS$2$4=descriptors$4,SPECIES$3$1=wellKnownSymbol$a$2("species"),setSpecies$1$2=function(e){var t=getBuiltIn$3$4(e),n=definePropertyModule$1$4.f;DESCRIPTORS$2$4&&t&&!t[SPECIES$3$1]&&n(t,SPECIES$3$1,{configurable:!0,get:function(){return this}})},isPrototypeOf$1$3=objectIsPrototypeOf$3,$TypeError$5$3=TypeError,anInstance$3=function(e,t){if(isPrototypeOf$1$3(t,e))return e;throw $TypeError$5$3("Incorrect invocation")},uncurryThis$a$3=functionUncurryThis$3,fails$7$4=fails$k,isCallable$7$3=isCallable$n,classof$3$2=classof$6$1,getBuiltIn$2$4=getBuiltIn$8$1,inspectSource$1$4=inspectSource$4$1,noop$1=function(){},empty$1=[],construct$1=getBuiltIn$2$4("Reflect","construct"),constructorRegExp$1=/^\s*(?:class|function)\b/,exec$3=uncurryThis$a$3(constructorRegExp$1.exec),INCORRECT_TO_STRING$1=!constructorRegExp$1.exec(noop$1),isConstructorModern$1=function e(t){if(!isCallable$7$3(t))return!1;try{return construct$1(noop$1,empty$1,t),!0}catch{return!1}},isConstructorLegacy$1=function e(t){if(!isCallable$7$3(t))return!1;switch(classof$3$2(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$1||!!exec$3(constructorRegExp$1,inspectSource$1$4(t))}catch{return!0}};isConstructorLegacy$1.sham=!0;var isConstructor$2=!construct$1||fails$7$4(function(){var e;return isConstructorModern$1(isConstructorModern$1.call)||!isConstructorModern$1(Object)||!isConstructorModern$1(function(){e=!0})||e})?isConstructorLegacy$1:isConstructorModern$1,isConstructor$1$1=isConstructor$2,tryToString$2$1=tryToString$4$1,$TypeError$4$3=TypeError,aConstructor$1$1=function(e){if(isConstructor$1$1(e))return e;throw $TypeError$4$3(tryToString$2$1(e)+" is not a constructor")},anObject$8$2=anObject$g,aConstructor$2=aConstructor$1$1,wellKnownSymbol$9$2=wellKnownSymbol$i,SPECIES$2$2=wellKnownSymbol$9$2("species"),speciesConstructor$1$2=function(e,t){var n=anObject$8$2(e).constructor,o;return n===void 0||(o=anObject$8$2(n)[SPECIES$2$2])==null?t:aConstructor$2(o)},NATIVE_BIND$1$3=functionBindNative$3,FunctionPrototype$5=Function.prototype,apply$2=FunctionPrototype$5.apply,call$c$1=FunctionPrototype$5.call,functionApply$1=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1$3?call$c$1.bind(apply$2):function(){return call$c$1.apply(apply$2,arguments)}),uncurryThis$9$3=functionUncurryThis$3,aCallable$5$1=aCallable$7$1,NATIVE_BIND$6=functionBindNative$3,bind$7$1=uncurryThis$9$3(uncurryThis$9$3.bind),functionBindContext$2=function(e,t){return aCallable$5$1(e),t===void 0?e:NATIVE_BIND$6?bind$7$1(e,t):function(){return e.apply(t,arguments)}},uncurryThis$8$3=functionUncurryThis$3,arraySlice$3=uncurryThis$8$3([].slice),$TypeError$3$3=TypeError,validateArgumentsLength$3=function(e,t){if(e<t)throw $TypeError$3$3("Not enough arguments");return e},userAgent$2$1=engineUserAgent$4,engineIsIos$2=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$2$1),global$d$2=global$o,apply$1$1=functionApply$1,bind$6$1=functionBindContext$2,isCallable$6$3=isCallable$n,hasOwn$2$3=hasOwnProperty_1$3,fails$6$4=fails$k,html$4=html$2$2,arraySlice$2$1=arraySlice$3,createElement$5=documentCreateElement$2$1,validateArgumentsLength$2=validateArgumentsLength$3,IS_IOS$1$2=engineIsIos$2,IS_NODE$2$1=engineIsNode$1,set$7=global$d$2.setImmediate,clear$4=global$d$2.clearImmediate,process$2$2=global$d$2.process,Dispatch$2=global$d$2.Dispatch,Function$1$1=global$d$2.Function,MessageChannel$2=global$d$2.MessageChannel,String$1$1=global$d$2.String,counter$2=0,queue$1$1={},ONREADYSTATECHANGE$2="onreadystatechange",location$2,defer$2,channel$2,port$2;try{location$2=global$d$2.location}catch(e){}var run$2=function(e){if(hasOwn$2$3(queue$1$1,e)){var t=queue$1$1[e];delete queue$1$1[e],t()}},runner$2=function(e){return function(){run$2(e)}},listener$2=function(e){run$2(e.data)},post$2=function(e){global$d$2.postMessage(String$1$1(e),location$2.protocol+"//"+location$2.host)};(!set$7||!clear$4)&&(set$7=function(e){validateArgumentsLength$2(arguments.length,1);var t=isCallable$6$3(e)?e:Function$1$1(e),n=arraySlice$2$1(arguments,1);return queue$1$1[++counter$2]=function(){apply$1$1(t,void 0,n)},defer$2(counter$2),counter$2},clear$4=function(e){delete queue$1$1[e]},IS_NODE$2$1?defer$2=function(e){process$2$2.nextTick(runner$2(e))}:Dispatch$2&&Dispatch$2.now?defer$2=function(e){Dispatch$2.now(runner$2(e))}:MessageChannel$2&&!IS_IOS$1$2?(channel$2=new MessageChannel$2,port$2=channel$2.port2,channel$2.port1.onmessage=listener$2,defer$2=bind$6$1(port$2.postMessage,port$2)):global$d$2.addEventListener&&isCallable$6$3(global$d$2.postMessage)&&!global$d$2.importScripts&&location$2&&location$2.protocol!=="file:"&&!fails$6$4(post$2)?(defer$2=post$2,global$d$2.addEventListener("message",listener$2,!1)):ONREADYSTATECHANGE$2 in createElement$5("script")?defer$2=function(e){html$4.appendChild(createElement$5("script"))[ONREADYSTATECHANGE$2]=function(){html$4.removeChild(this),run$2(e)}}:defer$2=function(e){setTimeout(runner$2(e),0)});var task$1$2={set:set$7,clear:clear$4},userAgent$1$2=engineUserAgent$4,global$c$2=global$o,engineIsIosPebble$1=/ipad|iphone|ipod/i.test(userAgent$1$2)&&global$c$2.Pebble!==void 0,userAgent$9=engineUserAgent$4,engineIsWebosWebkit$1=/web0s(?!.*chrome)/i.test(userAgent$9),global$b$2=global$o,bind$5$1=functionBindContext$2,getOwnPropertyDescriptor$1$4=objectGetOwnPropertyDescriptor$4.f,macrotask$2=task$1$2.set,IS_IOS$3=engineIsIos$2,IS_IOS_PEBBLE$1=engineIsIosPebble$1,IS_WEBOS_WEBKIT$1=engineIsWebosWebkit$1,IS_NODE$1$2=engineIsNode$1,MutationObserver$3=global$b$2.MutationObserver||global$b$2.WebKitMutationObserver,document$2$2=global$b$2.document,process$1$2=global$b$2.process,Promise$1$2=global$b$2.Promise,queueMicrotaskDescriptor$2=getOwnPropertyDescriptor$1$4(global$b$2,"queueMicrotask"),queueMicrotask$2=queueMicrotaskDescriptor$2&&queueMicrotaskDescriptor$2.value,flush$2,head$2,last$2,notify$1$2,toggle$2,node$2,promise$2,then$2;queueMicrotask$2||(flush$2=function(){var e,t;for(IS_NODE$1$2&&(e=process$1$2.domain)&&e.exit();head$2;){t=head$2.fn,head$2=head$2.next;try{t()}catch(n){throw head$2?notify$1$2():last$2=void 0,n}}last$2=void 0,e&&e.enter()},!IS_IOS$3&&!IS_NODE$1$2&&!IS_WEBOS_WEBKIT$1&&MutationObserver$3&&document$2$2?(toggle$2=!0,node$2=document$2$2.createTextNode(""),new MutationObserver$3(flush$2).observe(node$2,{characterData:!0}),notify$1$2=function(){node$2.data=toggle$2=!toggle$2}):!IS_IOS_PEBBLE$1&&Promise$1$2&&Promise$1$2.resolve?(promise$2=Promise$1$2.resolve(void 0),promise$2.constructor=Promise$1$2,then$2=bind$5$1(promise$2.then,promise$2),notify$1$2=function(){then$2(flush$2)}):IS_NODE$1$2?notify$1$2=function(){process$1$2.nextTick(flush$2)}:(macrotask$2=bind$5$1(macrotask$2,global$b$2),notify$1$2=function(){macrotask$2(flush$2)}));var microtask$1$2=queueMicrotask$2||function(e){var t={fn:e,next:void 0};last$2&&(last$2.next=t),head$2||(head$2=t,notify$1$2()),last$2=t},global$a$4=global$o,hostReportErrors$1$2=function(e,t){var n=global$a$4.console;n&&n.error&&(arguments.length==1?n.error(e):n.error(e,t))},perform$3$1=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},Queue$1$1=function(){this.head=null,this.tail=null};Queue$1$1.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var queue$3=Queue$1$1,global$9$4=global$o,promiseNativeConstructor$1=global$9$4.Promise,engineIsBrowser$1=typeof window=="object"&&typeof Deno!="object",global$8$4=global$o,NativePromiseConstructor$3$1=promiseNativeConstructor$1,isCallable$5$3=isCallable$n,isForced$6=isForced_1$4,inspectSource$8=inspectSource$4$1,wellKnownSymbol$8$2=wellKnownSymbol$i,IS_BROWSER$1=engineIsBrowser$1,V8_VERSION$5=engineV8Version$4;NativePromiseConstructor$3$1&&NativePromiseConstructor$3$1.prototype;var SPECIES$1$2=wellKnownSymbol$8$2("species"),SUBCLASSING$1=!1,NATIVE_PROMISE_REJECTION_EVENT$1$1=isCallable$5$3(global$8$4.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5$1=isForced$6("Promise",function(){var e=inspectSource$8(NativePromiseConstructor$3$1),t=e!==String(NativePromiseConstructor$3$1);if(!t&&V8_VERSION$5===66)return!0;if(V8_VERSION$5>=51&&/native code/.test(e))return!1;var n=new NativePromiseConstructor$3$1(function(a){a(1)}),o=function(a){a(function(){},function(){})},c=n.constructor={};return c[SPECIES$1$2]=o,SUBCLASSING$1=n.then(function(){})instanceof o,SUBCLASSING$1?!t&&IS_BROWSER$1&&!NATIVE_PROMISE_REJECTION_EVENT$1$1:!0}),promiseConstructorDetection$1={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5$1,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1$1,SUBCLASSING:SUBCLASSING$1},newPromiseCapability$2$2={},aCallable$4$1=aCallable$7$1,PromiseCapability$2=function(e){var t,n;this.promise=new e(function(o,c){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=o,n=c}),this.resolve=aCallable$4$1(t),this.reject=aCallable$4$1(n)};newPromiseCapability$2$2.f=function(e){return new PromiseCapability$2(e)};var $$8$1=_export$4,IS_NODE$4=engineIsNode$1,global$7$4=global$o,call$b$1=functionCall$i,defineBuiltIn$5$1=defineBuiltIn$a,setPrototypeOf$2=objectSetPrototypeOf$2,setToStringTag$2$1=setToStringTag$5,setSpecies$3=setSpecies$1$2,aCallable$3$1=aCallable$7$1,isCallable$4$3=isCallable$n,isObject$2$4=isObject$8$1,anInstance$2$1=anInstance$3,speciesConstructor$3=speciesConstructor$1$2,task$3=task$1$2.set,microtask$3=microtask$1$2,hostReportErrors$3=hostReportErrors$1$2,perform$2$1=perform$3$1,Queue$2=queue$3,InternalStateModule$3$1=internalState$4,NativePromiseConstructor$2$1=promiseNativeConstructor$1,PromiseConstructorDetection$1=promiseConstructorDetection$1,newPromiseCapabilityModule$3$1=newPromiseCapability$2$2,PROMISE$2="Promise",FORCED_PROMISE_CONSTRUCTOR$4$1=PromiseConstructorDetection$1.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT$2=PromiseConstructorDetection$1.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING$1=PromiseConstructorDetection$1.SUBCLASSING,getInternalPromiseState$2=InternalStateModule$3$1.getterFor(PROMISE$2),setInternalState$3=InternalStateModule$3$1.set,NativePromisePrototype$1$1=NativePromiseConstructor$2$1&&NativePromiseConstructor$2$1.prototype,PromiseConstructor$2=NativePromiseConstructor$2$1,PromisePrototype$1=NativePromisePrototype$1$1,TypeError$3=global$7$4.TypeError,document$1$2=global$7$4.document,process$7=global$7$4.process,newPromiseCapability$1$2=newPromiseCapabilityModule$3$1.f,newGenericPromiseCapability$2=newPromiseCapability$1$2,DISPATCH_EVENT$2=!!(document$1$2&&document$1$2.createEvent&&global$7$4.dispatchEvent),UNHANDLED_REJECTION$2="unhandledrejection",REJECTION_HANDLED$2="rejectionhandled",PENDING$2=0,FULFILLED$2=1,REJECTED$2=2,HANDLED$2=1,UNHANDLED$2=2,Internal$2,OwnPromiseCapability$2,PromiseWrapper$2,nativeThen$2,isThenable$2=function(e){var t;return isObject$2$4(e)&&isCallable$4$3(t=e.then)?t:!1},callReaction$1=function(e,t){var n=t.value,o=t.state==FULFILLED$2,c=o?e.ok:e.fail,a=e.resolve,u=e.reject,h=e.domain,v,b,y;try{c?(o||(t.rejection===UNHANDLED$2&&onHandleUnhandled$2(t),t.rejection=HANDLED$2),c===!0?v=n:(h&&h.enter(),v=c(n),h&&(h.exit(),y=!0)),v===e.promise?u(TypeError$3("Promise-chain cycle")):(b=isThenable$2(v))?call$b$1(b,v,a,u):a(v)):u(n)}catch(w){h&&!y&&h.exit(),u(w)}},notify$3=function(e,t){e.notified||(e.notified=!0,microtask$3(function(){for(var n=e.reactions,o;o=n.get();)callReaction$1(o,e);e.notified=!1,t&&!e.rejection&&onUnhandled$2(e)}))},dispatchEvent$2=function(e,t,n){var o,c;DISPATCH_EVENT$2?(o=document$1$2.createEvent("Event"),o.promise=t,o.reason=n,o.initEvent(e,!1,!0),global$7$4.dispatchEvent(o)):o={promise:t,reason:n},!NATIVE_PROMISE_REJECTION_EVENT$2&&(c=global$7$4["on"+e])?c(o):e===UNHANDLED_REJECTION$2&&hostReportErrors$3("Unhandled promise rejection",n)},onUnhandled$2=function(e){call$b$1(task$3,global$7$4,function(){var t=e.facade,n=e.value,o=isUnhandled$2(e),c;if(o&&(c=perform$2$1(function(){IS_NODE$4?process$7.emit("unhandledRejection",n,t):dispatchEvent$2(UNHANDLED_REJECTION$2,t,n)}),e.rejection=IS_NODE$4||isUnhandled$2(e)?UNHANDLED$2:HANDLED$2,c.error))throw c.value})},isUnhandled$2=function(e){return e.rejection!==HANDLED$2&&!e.parent},onHandleUnhandled$2=function(e){call$b$1(task$3,global$7$4,function(){var t=e.facade;IS_NODE$4?process$7.emit("rejectionHandled",t):dispatchEvent$2(REJECTION_HANDLED$2,t,e.value)})},bind$4$1=function(e,t,n){return function(o){e(t,o,n)}},internalReject$2=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=REJECTED$2,notify$3(e,!0))},internalResolve$2=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw TypeError$3("Promise can't be resolved itself");var o=isThenable$2(t);o?microtask$3(function(){var c={done:!1};try{call$b$1(o,t,bind$4$1(internalResolve$2,c,e),bind$4$1(internalReject$2,c,e))}catch(a){internalReject$2(c,a,e)}}):(e.value=t,e.state=FULFILLED$2,notify$3(e,!1))}catch(c){internalReject$2({done:!1},c,e)}}};if(FORCED_PROMISE_CONSTRUCTOR$4$1&&(PromiseConstructor$2=function(e){anInstance$2$1(this,PromisePrototype$1),aCallable$3$1(e),call$b$1(Internal$2,this);var t=getInternalPromiseState$2(this);try{e(bind$4$1(internalResolve$2,t),bind$4$1(internalReject$2,t))}catch(n){internalReject$2(t,n)}},PromisePrototype$1=PromiseConstructor$2.prototype,Internal$2=function(e){setInternalState$3(this,{type:PROMISE$2,done:!1,notified:!1,parent:!1,reactions:new Queue$2,rejection:!1,state:PENDING$2,value:void 0})},Internal$2.prototype=defineBuiltIn$5$1(PromisePrototype$1,"then",function(e,t){var n=getInternalPromiseState$2(this),o=newPromiseCapability$1$2(speciesConstructor$3(this,PromiseConstructor$2));return n.parent=!0,o.ok=isCallable$4$3(e)?e:!0,o.fail=isCallable$4$3(t)&&t,o.domain=IS_NODE$4?process$7.domain:void 0,n.state==PENDING$2?n.reactions.add(o):microtask$3(function(){callReaction$1(o,n)}),o.promise}),OwnPromiseCapability$2=function(){var e=new Internal$2,t=getInternalPromiseState$2(e);this.promise=e,this.resolve=bind$4$1(internalResolve$2,t),this.reject=bind$4$1(internalReject$2,t)},newPromiseCapabilityModule$3$1.f=newPromiseCapability$1$2=function(e){return e===PromiseConstructor$2||e===PromiseWrapper$2?new OwnPromiseCapability$2(e):newGenericPromiseCapability$2(e)},isCallable$4$3(NativePromiseConstructor$2$1)&&NativePromisePrototype$1$1!==Object.prototype)){nativeThen$2=NativePromisePrototype$1$1.then,NATIVE_PROMISE_SUBCLASSING$1||defineBuiltIn$5$1(NativePromisePrototype$1$1,"then",function(e,t){var n=this;return new PromiseConstructor$2(function(o,c){call$b$1(nativeThen$2,n,o,c)}).then(e,t)},{unsafe:!0});try{delete NativePromisePrototype$1$1.constructor}catch{}setPrototypeOf$2&&setPrototypeOf$2(NativePromisePrototype$1$1,PromisePrototype$1)}$$8$1({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4$1},{Promise:PromiseConstructor$2}),setToStringTag$2$1(PromiseConstructor$2,PROMISE$2,!1),setSpecies$3(PROMISE$2);var wellKnownSymbol$7$2=wellKnownSymbol$i,Iterators$1$2=iterators$2,ITERATOR$5$1=wellKnownSymbol$7$2("iterator"),ArrayPrototype$3=Array.prototype,isArrayIteratorMethod$2$1=function(e){return e!==void 0&&(Iterators$1$2.Array===e||ArrayPrototype$3[ITERATOR$5$1]===e)},classof$2$4=classof$6$1,getMethod$2$1=getMethod$4$1,Iterators$6=iterators$2,wellKnownSymbol$6$2=wellKnownSymbol$i,ITERATOR$4$1=wellKnownSymbol$6$2("iterator"),getIteratorMethod$4=function(e){if(e!=null)return getMethod$2$1(e,ITERATOR$4$1)||getMethod$2$1(e,"@@iterator")||Iterators$6[classof$2$4(e)]},call$a$1=functionCall$i,aCallable$2$1=aCallable$7$1,anObject$7$2=anObject$g,tryToString$1$3=tryToString$4$1,getIteratorMethod$3$1=getIteratorMethod$4,$TypeError$2$3=TypeError,getIterator$3=function(e,t){var n=arguments.length<2?getIteratorMethod$3$1(e):t;if(aCallable$2$1(n))return anObject$7$2(call$a$1(n,e));throw $TypeError$2$3(tryToString$1$3(e)+" is not iterable")},call$9$1=functionCall$i,anObject$6$2=anObject$g,getMethod$1$3=getMethod$4$1,iteratorClose$2=function(e,t,n){var o,c;anObject$6$2(e);try{if(o=getMethod$1$3(e,"return"),!o){if(t==="throw")throw n;return n}o=call$9$1(o,e)}catch(a){c=!0,o=a}if(t==="throw")throw n;if(c)throw o;return anObject$6$2(o),n},bind$3$1=functionBindContext$2,call$8$1=functionCall$i,anObject$5$2=anObject$g,tryToString$8=tryToString$4$1,isArrayIteratorMethod$1$2=isArrayIteratorMethod$2$1,lengthOfArrayLike$2$1=lengthOfArrayLike$4$1,isPrototypeOf$7=objectIsPrototypeOf$3,getIterator$2=getIterator$3,getIteratorMethod$2$1=getIteratorMethod$4,iteratorClose$1$1=iteratorClose$2,$TypeError$1$3=TypeError,Result$2=function(e,t){this.stopped=e,this.result=t},ResultPrototype$1=Result$2.prototype,iterate$2$2=function(e,t,n){var o=n&&n.that,c=!!(n&&n.AS_ENTRIES),a=!!(n&&n.IS_ITERATOR),u=!!(n&&n.INTERRUPTED),h=bind$3$1(t,o),v,b,y,w,O,P,C,x=function(k){return v&&iteratorClose$1$1(v,"normal",k),new Result$2(!0,k)},D=function(k){return c?(anObject$5$2(k),u?h(k[0],k[1],x):h(k[0],k[1])):u?h(k,x):h(k)};if(a)v=e;else{if(b=getIteratorMethod$2$1(e),!b)throw $TypeError$1$3(tryToString$8(e)+" is not iterable");if(isArrayIteratorMethod$1$2(b)){for(y=0,w=lengthOfArrayLike$2$1(e);w>y;y++)if(O=D(e[y]),O&&isPrototypeOf$7(ResultPrototype$1,O))return O;return new Result$2(!1)}v=getIterator$2(e,b)}for(P=v.next;!(C=call$8$1(P,v)).done;){try{O=D(C.value)}catch(k){iteratorClose$1$1(v,"throw",k)}if(typeof O=="object"&&O&&isPrototypeOf$7(ResultPrototype$1,O))return O}return new Result$2(!1)},wellKnownSymbol$5$2=wellKnownSymbol$i,ITERATOR$3$2=wellKnownSymbol$5$2("iterator"),SAFE_CLOSING$2=!1;try{var called$2=0,iteratorWithReturn$2={next:function(){return{done:!!called$2++}},return:function(){SAFE_CLOSING$2=!0}};iteratorWithReturn$2[ITERATOR$3$2]=function(){return this},Array.from(iteratorWithReturn$2,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$1$2=function(e,t){if(!t&&!SAFE_CLOSING$2)return!1;var n=!1;try{var o={};o[ITERATOR$3$2]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch{}return n},NativePromiseConstructor$1$1=promiseNativeConstructor$1,checkCorrectnessOfIteration$3=checkCorrectnessOfIteration$1$2,FORCED_PROMISE_CONSTRUCTOR$3$1=promiseConstructorDetection$1.CONSTRUCTOR,promiseStaticsIncorrectIteration$1=FORCED_PROMISE_CONSTRUCTOR$3$1||!checkCorrectnessOfIteration$3(function(e){NativePromiseConstructor$1$1.all(e).then(void 0,function(){})}),$$7$1=_export$4,call$7$1=functionCall$i,aCallable$1$3=aCallable$7$1,newPromiseCapabilityModule$2$1=newPromiseCapability$2$2,perform$1$2=perform$3$1,iterate$1$2=iterate$2$2,PROMISE_STATICS_INCORRECT_ITERATION$1$1=promiseStaticsIncorrectIteration$1;$$7$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1$1},{all:function e(t){var n=this,o=newPromiseCapabilityModule$2$1.f(n),c=o.resolve,a=o.reject,u=perform$1$2(function(){var h=aCallable$1$3(n.resolve),v=[],b=0,y=1;iterate$1$2(t,function(w){var O=b++,P=!1;y++,call$7$1(h,n,w).then(function(C){P||(P=!0,v[O]=C,--y||c(v))},a)}),--y||c(v)});return u.error&&a(u.value),o.promise}});var $$6$1=_export$4,FORCED_PROMISE_CONSTRUCTOR$2$1=promiseConstructorDetection$1.CONSTRUCTOR,NativePromiseConstructor$4=promiseNativeConstructor$1,getBuiltIn$1$4=getBuiltIn$8$1,isCallable$3$3=isCallable$n,defineBuiltIn$4$1=defineBuiltIn$a,NativePromisePrototype$2=NativePromiseConstructor$4&&NativePromiseConstructor$4.prototype;if($$6$1({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2$1,real:!0},{catch:function(e){return this.then(void 0,e)}}),isCallable$3$3(NativePromiseConstructor$4)){var method$1=getBuiltIn$1$4("Promise").prototype.catch;NativePromisePrototype$2.catch!==method$1&&defineBuiltIn$4$1(NativePromisePrototype$2,"catch",method$1,{unsafe:!0})}var $$5$1=_export$4,call$6$3=functionCall$i,aCallable$b=aCallable$7$1,newPromiseCapabilityModule$1$1=newPromiseCapability$2$2,perform$5=perform$3$1,iterate$4=iterate$2$2,PROMISE_STATICS_INCORRECT_ITERATION$2=promiseStaticsIncorrectIteration$1;$$5$1({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$2},{race:function e(t){var n=this,o=newPromiseCapabilityModule$1$1.f(n),c=o.reject,a=perform$5(function(){var u=aCallable$b(n.resolve);iterate$4(t,function(h){call$6$3(u,n,h).then(o.resolve,c)})});return a.error&&c(a.value),o.promise}});var $$4$1=_export$4,call$5$3=functionCall$i,newPromiseCapabilityModule$5=newPromiseCapability$2$2,FORCED_PROMISE_CONSTRUCTOR$1$1=promiseConstructorDetection$1.CONSTRUCTOR;$$4$1({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1$1},{reject:function e(t){var n=newPromiseCapabilityModule$5.f(this);return call$5$3(n.reject,void 0,t),n.promise}});var anObject$4$4=anObject$g,isObject$1$4=isObject$8$1,newPromiseCapability$4=newPromiseCapability$2$2,promiseResolve$1$2=function(e,t){if(anObject$4$4(e),isObject$1$4(t)&&t.constructor===e)return t;var n=newPromiseCapability$4.f(e),o=n.resolve;return o(t),n.promise},$$3$1=_export$4,getBuiltIn$c=getBuiltIn$8$1,FORCED_PROMISE_CONSTRUCTOR$6=promiseConstructorDetection$1.CONSTRUCTOR,promiseResolve$3=promiseResolve$1$2;getBuiltIn$c("Promise"),$$3$1({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$6},{resolve:function e(t){return promiseResolve$3(this,t)}});var domIterables$1={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement$5=documentCreateElement$2$1,classList=documentCreateElement$5("span").classList,DOMTokenListPrototype$1=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$1===Object.prototype?void 0:DOMTokenListPrototype$1,global$6$4=global$o,DOMIterables$1=domIterables$1,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods$1=es_array_iterator$1,createNonEnumerableProperty$1$4=createNonEnumerableProperty$5$1,wellKnownSymbol$4$2=wellKnownSymbol$i,ITERATOR$2$2=wellKnownSymbol$4$2("iterator"),TO_STRING_TAG$6=wellKnownSymbol$4$2("toStringTag"),ArrayValues$1=ArrayIteratorMethods$1.values,handlePrototype=function(e,t){if(e){if(e[ITERATOR$2$2]!==ArrayValues$1)try{createNonEnumerableProperty$1$4(e,ITERATOR$2$2,ArrayValues$1)}catch{e[ITERATOR$2$2]=ArrayValues$1}if(e[TO_STRING_TAG$6]||createNonEnumerableProperty$1$4(e,TO_STRING_TAG$6,t),DOMIterables$1[t]){for(var n in ArrayIteratorMethods$1)if(e[n]!==ArrayIteratorMethods$1[n])try{createNonEnumerableProperty$1$4(e,n,ArrayIteratorMethods$1[n])}catch{e[n]=ArrayIteratorMethods$1[n]}}}};for(var COLLECTION_NAME$1 in DOMIterables$1)handlePrototype(global$6$4[COLLECTION_NAME$1]&&global$6$4[COLLECTION_NAME$1].prototype,COLLECTION_NAME$1);handlePrototype(DOMTokenListPrototype,"DOMTokenList");var uncurryThis$7$3=functionUncurryThis$3,toIntegerOrInfinity$1$3=toIntegerOrInfinity$4$1,toString$3$1=toString$4$1,requireObjectCoercible$1$4=requireObjectCoercible$4$1,charAt$6=uncurryThis$7$3("".charAt),charCodeAt$1=uncurryThis$7$3("".charCodeAt),stringSlice$5=uncurryThis$7$3("".slice),createMethod$5=function(e){return function(t,n){var o=toString$3$1(requireObjectCoercible$1$4(t)),c=toIntegerOrInfinity$1$3(n),a=o.length,u,h;return c<0||c>=a?e?"":void 0:(u=charCodeAt$1(o,c),u<55296||u>56319||c+1===a||(h=charCodeAt$1(o,c+1))<56320||h>57343?e?charAt$6(o,c):u:e?stringSlice$5(o,c,c+2):(u-55296<<10)+(h-56320)+65536)}},stringMultibyte={codeAt:createMethod$5(!1),charAt:createMethod$5(!0)},charAt$5=stringMultibyte.charAt,toString$2$3=toString$4$1,InternalStateModule$2$2=internalState$4,defineIterator$3=defineIterator$2,STRING_ITERATOR="String Iterator",setInternalState$2$1=InternalStateModule$2$2.set,getInternalState$1$2=InternalStateModule$2$2.getterFor(STRING_ITERATOR);defineIterator$3(String,"String",function(e){setInternalState$2$1(this,{type:STRING_ITERATOR,string:toString$2$3(e),index:0})},function e(){var t=getInternalState$1$2(this),n=t.string,o=t.index,c;return o>=n.length?{value:void 0,done:!0}:(c=charAt$5(n,o),t.index+=c.length,{value:c,done:!1})});var fails$5$4=fails$k,wellKnownSymbol$3$4=wellKnownSymbol$i,IS_PURE=isPure,ITERATOR$1$2=wellKnownSymbol$3$4("iterator"),nativeUrl=!fails$5$4(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(o,c){t.delete("b"),n+=c+o}),IS_PURE&&!e.toJSON||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[ITERATOR$1$2]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"}),makeBuiltIn$5=makeBuiltIn$3$1.exports,defineProperty$8=objectDefineProperty$4,defineBuiltInAccessor$1=function(e,t,n){return n.get&&makeBuiltIn$5(n.get,t,{getter:!0}),n.set&&makeBuiltIn$5(n.set,t,{setter:!0}),defineProperty$8.f(e,t,n)},anObject$3$4=anObject$g,iteratorClose$3=iteratorClose$2,callWithSafeIterationClosing$1$1=function(e,t,n,o){try{return o?t(anObject$3$4(n)[0],n[1]):t(n)}catch(c){iteratorClose$3(e,"throw",c)}},toPropertyKey$6=toPropertyKey$3$1,definePropertyModule$9=objectDefineProperty$4,createPropertyDescriptor$1$4=createPropertyDescriptor$5$1,createProperty$2=function(e,t,n){var o=toPropertyKey$6(t);o in e?definePropertyModule$9.f(e,o,createPropertyDescriptor$1$4(0,n)):e[o]=n},bind$2$2=functionBindContext$2,call$4$3=functionCall$i,toObject$1$4=toObject$5$1,callWithSafeIterationClosing$2=callWithSafeIterationClosing$1$1,isArrayIteratorMethod$3=isArrayIteratorMethod$2$1,isConstructor$3=isConstructor$2,lengthOfArrayLike$1$3=lengthOfArrayLike$4$1,createProperty$1$1=createProperty$2,getIterator$1$1=getIterator$3,getIteratorMethod$1$2=getIteratorMethod$4,$Array$1=Array,arrayFrom$1=function e(t){var n=toObject$1$4(t),o=isConstructor$3(this),c=arguments.length,a=c>1?arguments[1]:void 0,u=a!==void 0;u&&(a=bind$2$2(a,c>2?arguments[2]:void 0));var h=getIteratorMethod$1$2(n),v=0,b,y,w,O,P,C;if(h&&!(this===$Array$1&&isArrayIteratorMethod$3(h)))for(O=getIterator$1$1(n,h),P=O.next,y=o?new this:[];!(w=call$4$3(P,O)).done;v++)C=u?callWithSafeIterationClosing$2(O,a,[w.value,v],!0):w.value,createProperty$1$1(y,v,C);else for(b=lengthOfArrayLike$1$3(n),y=o?new this(b):$Array$1(b);b>v;v++)C=u?a(n[v],v):n[v],createProperty$1$1(y,v,C);return y.length=v,y},toAbsoluteIndex$6=toAbsoluteIndex$2$1,lengthOfArrayLike$7=lengthOfArrayLike$4$1,createProperty$3=createProperty$2,$Array$2=Array,max$1$1=Math.max,arraySliceSimple$1=function(e,t,n){for(var o=lengthOfArrayLike$7(e),c=toAbsoluteIndex$6(t,o),a=toAbsoluteIndex$6(n===void 0?o:n,o),u=$Array$2(max$1$1(a-c,0)),h=0;c<a;c++,h++)createProperty$3(u,h,e[c]);return u.length=h,u},uncurryThis$6$3=functionUncurryThis$3,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",baseMinusTMin=base-tMin,$RangeError=RangeError,exec$2=uncurryThis$6$3(regexSeparators.exec),floor$3$1=Math.floor,fromCharCode=String.fromCharCode,charCodeAt=uncurryThis$6$3("".charCodeAt),join$2=uncurryThis$6$3([].join),push$3$1=uncurryThis$6$3([].push),replace$4=uncurryThis$6$3("".replace),split$2$1=uncurryThis$6$3("".split),toLowerCase$1=uncurryThis$6$3("".toLowerCase),ucs2decode=function(e){for(var t=[],n=0,o=e.length;n<o;){var c=charCodeAt(e,n++);if(c>=55296&&c<=56319&&n<o){var a=charCodeAt(e,n++);(a&64512)==56320?push$3$1(t,((c&1023)<<10)+(a&1023)+65536):(push$3$1(t,c),n--)}else push$3$1(t,c)}return t},digitToBasic=function(e){return e+22+75*(e<26)},adapt=function(e,t,n){var o=0;for(e=n?floor$3$1(e/damp):e>>1,e+=floor$3$1(e/t);e>baseMinusTMin*tMax>>1;)e=floor$3$1(e/baseMinusTMin),o+=base;return floor$3$1(o+(baseMinusTMin+1)*e/(e+skew))},encode=function(e){var t=[];e=ucs2decode(e);var n=e.length,o=initialN,c=0,a=initialBias,u,h;for(u=0;u<e.length;u++)h=e[u],h<128&&push$3$1(t,fromCharCode(h));var v=t.length,b=v;for(v&&push$3$1(t,delimiter);b<n;){var y=maxInt;for(u=0;u<e.length;u++)h=e[u],h>=o&&h<y&&(y=h);var w=b+1;if(y-o>floor$3$1((maxInt-c)/w))throw $RangeError(OVERFLOW_ERROR);for(c+=(y-o)*w,o=y,u=0;u<e.length;u++){if(h=e[u],h<o&&++c>maxInt)throw $RangeError(OVERFLOW_ERROR);if(h==o){for(var O=c,P=base;;){var C=P<=a?tMin:P>=a+tMax?tMax:P-a;if(O<C)break;var x=O-C,D=base-C;push$3$1(t,fromCharCode(digitToBasic(C+x%D))),O=floor$3$1(x/D),P+=base}push$3$1(t,fromCharCode(digitToBasic(O))),a=adapt(c,w,b==v),c=0,b++}}c++,o++}return join$2(t,"")},stringPunycodeToAscii=function(e){var t=[],n=split$2$1(replace$4(toLowerCase$1(e),regexSeparators,"."),"."),o,c;for(o=0;o<n.length;o++)c=n[o],push$3$1(t,exec$2(regexNonASCII,c)?"xn--"+encode(c):c);return join$2(t,".")},defineBuiltIn$3$1=defineBuiltIn$a,defineBuiltIns$1=function(e,t,n){for(var o in t)defineBuiltIn$3$1(e,o,t[o],n);return e},arraySlice$1$1=arraySliceSimple$1,floor$2$1=Math.floor,mergeSort$1=function(e,t){var n=e.length,o=floor$2$1(n/2);return n<8?insertionSort$1(e,t):merge$1(e,mergeSort$1(arraySlice$1$1(e,0,o),t),mergeSort$1(arraySlice$1$1(e,o),t),t)},insertionSort$1=function(e,t){for(var n=e.length,o=1,c,a;o<n;){for(a=o,c=e[o];a&&t(e[a-1],c)>0;)e[a]=e[--a];a!==o++&&(e[a]=c)}return e},merge$1=function(e,t,n,o){for(var c=t.length,a=n.length,u=0,h=0;u<c||h<a;)e[u+h]=u<c&&h<a?o(t[u],n[h])<=0?t[u++]:n[h++]:u<c?t[u++]:n[h++];return e},arraySort$1=mergeSort$1,$$2$1=_export$4,global$5$4=global$o,call$3$3=functionCall$i,uncurryThis$5$3=functionUncurryThis$3,DESCRIPTORS$1$4=descriptors$4,USE_NATIVE_URL$1=nativeUrl,defineBuiltIn$2$3=defineBuiltIn$a,defineBuiltIns=defineBuiltIns$1,setToStringTag$1$2=setToStringTag$5,createIteratorConstructor$3=createIteratorConstructor$2,InternalStateModule$1$2=internalState$4,anInstance$1$2=anInstance$3,isCallable$2$3=isCallable$n,hasOwn$1$3=hasOwnProperty_1$3,bind$1$2=functionBindContext$2,classof$1$4=classof$6$1,anObject$2$4=anObject$g,isObject$i=isObject$8$1,$toString$1$1=toString$4$1,create$1$1=objectCreate$2,createPropertyDescriptor$7=createPropertyDescriptor$5$1,getIterator$4=getIterator$3,getIteratorMethod$5=getIteratorMethod$4,validateArgumentsLength$1$1=validateArgumentsLength$3,wellKnownSymbol$2$4=wellKnownSymbol$i,arraySort$2=arraySort$1,ITERATOR$8=wellKnownSymbol$2$4("iterator"),URL_SEARCH_PARAMS="URLSearchParams",URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator",setInternalState$1$1=InternalStateModule$1$2.set,getInternalParamsState=InternalStateModule$1$2.getterFor(URL_SEARCH_PARAMS),getInternalIteratorState=InternalStateModule$1$2.getterFor(URL_SEARCH_PARAMS_ITERATOR),getOwnPropertyDescriptor$6=Object.getOwnPropertyDescriptor,safeGetBuiltIn=function(e){if(!DESCRIPTORS$1$4)return global$5$4[e];var t=getOwnPropertyDescriptor$6(global$5$4,e);return t&&t.value},nativeFetch=safeGetBuiltIn("fetch"),NativeRequest=safeGetBuiltIn("Request"),Headers=safeGetBuiltIn("Headers"),RequestPrototype=NativeRequest&&NativeRequest.prototype,HeadersPrototype=Headers&&Headers.prototype,RegExp$1=global$5$4.RegExp,TypeError$2$1=global$5$4.TypeError,decodeURIComponent$1=global$5$4.decodeURIComponent,encodeURIComponent$1=global$5$4.encodeURIComponent,charAt$4=uncurryThis$5$3("".charAt),join$1=uncurryThis$5$3([].join),push$2$1=uncurryThis$5$3([].push),replace$3=uncurryThis$5$3("".replace),shift$1=uncurryThis$5$3([].shift),splice=uncurryThis$5$3([].splice),split$1$1=uncurryThis$5$3("".split),stringSlice$4=uncurryThis$5$3("".slice),plus=/\+/g,sequences=Array(4),percentSequence=function(e){return sequences[e-1]||(sequences[e-1]=RegExp$1("((?:%[\\da-f]{2}){"+e+"})","gi"))},percentDecode=function(e){try{return decodeURIComponent$1(e)}catch{return e}},deserialize$e=function(e){var t=replace$3(e,plus," "),n=4;try{return decodeURIComponent$1(t)}catch{for(;n;)t=replace$3(t,percentSequence(n--),percentDecode);return t}},find=/[!'()~]|%20/g,replacements={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(e){return replacements[e]},serialize$h=function(e){return replace$3(encodeURIComponent$1(e),find,replacer)},URLSearchParamsIterator=createIteratorConstructor$3(function e(t,n){setInternalState$1$1(this,{type:URL_SEARCH_PARAMS_ITERATOR,iterator:getIterator$4(getInternalParamsState(t).entries),kind:n})},"Iterator",function e(){var t=getInternalIteratorState(this),n=t.kind,o=t.iterator.next(),c=o.value;return o.done||(o.value=n==="keys"?c.key:n==="values"?c.value:[c.key,c.value]),o},!0),URLSearchParamsState=function(e){this.entries=[],this.url=null,e!==void 0&&(isObject$i(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?charAt$4(e,0)==="?"?stringSlice$4(e,1):e:$toString$1$1(e)))};URLSearchParamsState.prototype={type:URL_SEARCH_PARAMS,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=getIteratorMethod$5(e),n,o,c,a,u,h,v;if(t)for(n=getIterator$4(e,t),o=n.next;!(c=call$3$3(o,n)).done;){if(a=getIterator$4(anObject$2$4(c.value)),u=a.next,(h=call$3$3(u,a)).done||(v=call$3$3(u,a)).done||!call$3$3(u,a).done)throw TypeError$2$1("Expected sequence with length 2");push$2$1(this.entries,{key:$toString$1$1(h.value),value:$toString$1$1(v.value)})}else for(var b in e)hasOwn$1$3(e,b)&&push$2$1(this.entries,{key:b,value:$toString$1$1(e[b])})},parseQuery:function(e){if(e)for(var t=split$1$1(e,"&"),n=0,o,c;n<t.length;)o=t[n++],o.length&&(c=split$1$1(o,"="),push$2$1(this.entries,{key:deserialize$e(shift$1(c)),value:deserialize$e(join$1(c,"="))}))},serialize:function(){for(var e=this.entries,t=[],n=0,o;n<e.length;)o=e[n++],push$2$1(t,serialize$h(o.key)+"="+serialize$h(o.value));return join$1(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function e(){anInstance$1$2(this,URLSearchParamsPrototype);var t=arguments.length>0?arguments[0]:void 0;setInternalState$1$1(this,new URLSearchParamsState(t))},URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;if(defineBuiltIns(URLSearchParamsPrototype,{append:function e(t,n){validateArgumentsLength$1$1(arguments.length,2);var o=getInternalParamsState(this);push$2$1(o.entries,{key:$toString$1$1(t),value:$toString$1$1(n)}),o.updateURL()},delete:function(e){validateArgumentsLength$1$1(arguments.length,1);for(var t=getInternalParamsState(this),n=t.entries,o=$toString$1$1(e),c=0;c<n.length;)n[c].key===o?splice(n,c,1):c++;t.updateURL()},get:function e(t){validateArgumentsLength$1$1(arguments.length,1);for(var n=getInternalParamsState(this).entries,o=$toString$1$1(t),c=0;c<n.length;c++)if(n[c].key===o)return n[c].value;return null},getAll:function e(t){validateArgumentsLength$1$1(arguments.length,1);for(var n=getInternalParamsState(this).entries,o=$toString$1$1(t),c=[],a=0;a<n.length;a++)n[a].key===o&&push$2$1(c,n[a].value);return c},has:function e(t){validateArgumentsLength$1$1(arguments.length,1);for(var n=getInternalParamsState(this).entries,o=$toString$1$1(t),c=0;c<n.length;)if(n[c++].key===o)return!0;return!1},set:function e(t,n){validateArgumentsLength$1$1(arguments.length,1);for(var o=getInternalParamsState(this),c=o.entries,a=!1,u=$toString$1$1(t),h=$toString$1$1(n),v=0,b;v<c.length;v++)b=c[v],b.key===u&&(a?splice(c,v--,1):(a=!0,b.value=h));a||push$2$1(c,{key:u,value:h}),o.updateURL()},sort:function e(){var t=getInternalParamsState(this);arraySort$2(t.entries,function(n,o){return n.key>o.key?1:-1}),t.updateURL()},forEach:function e(t){for(var n=getInternalParamsState(this).entries,o=bind$1$2(t,arguments.length>1?arguments[1]:void 0),c=0,a;c<n.length;)a=n[c++],o(a.value,a.key,this)},keys:function e(){return new URLSearchParamsIterator(this,"keys")},values:function e(){return new URLSearchParamsIterator(this,"values")},entries:function e(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),defineBuiltIn$2$3(URLSearchParamsPrototype,ITERATOR$8,URLSearchParamsPrototype.entries,{name:"entries"}),defineBuiltIn$2$3(URLSearchParamsPrototype,"toString",function e(){return getInternalParamsState(this).serialize()},{enumerable:!0}),setToStringTag$1$2(URLSearchParamsConstructor,URL_SEARCH_PARAMS),$$2$1({global:!0,constructor:!0,forced:!USE_NATIVE_URL$1},{URLSearchParams:URLSearchParamsConstructor}),!USE_NATIVE_URL$1&&isCallable$2$3(Headers)){var headersHas=uncurryThis$5$3(HeadersPrototype.has),headersSet=uncurryThis$5$3(HeadersPrototype.set),wrapRequestOptions=function(e){if(isObject$i(e)){var t=e.body,n;if(classof$1$4(t)===URL_SEARCH_PARAMS)return n=e.headers?new Headers(e.headers):new Headers,headersHas(n,"content-type")||headersSet(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),create$1$1(e,{body:createPropertyDescriptor$7(0,$toString$1$1(t)),headers:createPropertyDescriptor$7(0,n)})}return e};if(isCallable$2$3(nativeFetch)&&$$2$1({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return nativeFetch(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable$2$3(NativeRequest)){var RequestConstructor=function(e){return anInstance$1$2(this,RequestPrototype),new NativeRequest(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,$$2$1({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:RequestConstructor})}}var web_urlSearchParams_constructor={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState},$$1$2=_export$4,DESCRIPTORS$d=descriptors$4,USE_NATIVE_URL=nativeUrl,global$4$4=global$o,bind$9=functionBindContext$2,uncurryThis$4$3=functionUncurryThis$3,defineBuiltIn$1$3=defineBuiltIn$a,defineBuiltInAccessor=defineBuiltInAccessor$1,anInstance$4=anInstance$3,hasOwn$d=hasOwnProperty_1$3,assign$2=objectAssign$2,arrayFrom=arrayFrom$1,arraySlice$4=arraySliceSimple$1,codeAt=stringMultibyte.codeAt,toASCII=stringPunycodeToAscii,$toString$3=toString$4$1,setToStringTag$6=setToStringTag$5,validateArgumentsLength$4=validateArgumentsLength$3,URLSearchParamsModule=web_urlSearchParams_constructor,InternalStateModule$6=internalState$4,setInternalState$5=InternalStateModule$6.set,getInternalURLState=InternalStateModule$6.getterFor("URL"),URLSearchParams$1=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,NativeURL=global$4$4.URL,TypeError$1$4=global$4$4.TypeError,parseInt$1=global$4$4.parseInt,floor$1$1=Math.floor,pow$1=Math.pow,charAt$3=uncurryThis$4$3("".charAt),exec$1$1=uncurryThis$4$3(/./.exec),join=uncurryThis$4$3([].join),numberToString=uncurryThis$4$3(1 .toString),pop=uncurryThis$4$3([].pop),push$1$1=uncurryThis$4$3([].push),replace$2=uncurryThis$4$3("".replace),shift=uncurryThis$4$3([].shift),split$5=uncurryThis$4$3("".split),stringSlice$3$1=uncurryThis$4$3("".slice),toLowerCase=uncurryThis$4$3("".toLowerCase),unshift=uncurryThis$4$3([].unshift),INVALID_AUTHORITY="Invalid authority",INVALID_SCHEME="Invalid scheme",INVALID_HOST="Invalid host",INVALID_PORT="Invalid port",ALPHA=/[a-z]/i,ALPHANUMERIC=/[\d+-.a-z]/i,DIGIT=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\da-f]+$/i,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,TAB_AND_NEW_LINE=/[\t\n\r]/g,EOF,parseIPv4=function(e){var t=split$5(e,"."),n,o,c,a,u,h,v;if(t.length&&t[t.length-1]==""&&t.length--,n=t.length,n>4)return e;for(o=[],c=0;c<n;c++){if(a=t[c],a=="")return e;if(u=10,a.length>1&&charAt$3(a,0)=="0"&&(u=exec$1$1(HEX_START,a)?16:8,a=stringSlice$3$1(a,u==8?1:2)),a==="")h=0;else{if(!exec$1$1(u==10?DEC:u==8?OCT:HEX,a))return e;h=parseInt$1(a,u)}push$1$1(o,h)}for(c=0;c<n;c++)if(h=o[c],c==n-1){if(h>=pow$1(256,5-n))return null}else if(h>255)return null;for(v=pop(o),c=0;c<o.length;c++)v+=o[c]*pow$1(256,3-c);return v},parseIPv6=function(e){var t=[0,0,0,0,0,0,0,0],n=0,o=null,c=0,a,u,h,v,b,y,w,O=function(){return charAt$3(e,c)};if(O()==":"){if(charAt$3(e,1)!=":")return;c+=2,n++,o=n}for(;O();){if(n==8)return;if(O()==":"){if(o!==null)return;c++,n++,o=n;continue}for(a=u=0;u<4&&exec$1$1(HEX,O());)a=a*16+parseInt$1(O(),16),c++,u++;if(O()=="."){if(u==0||(c-=u,n>6))return;for(h=0;O();){if(v=null,h>0)if(O()=="."&&h<4)c++;else return;if(!exec$1$1(DIGIT,O()))return;for(;exec$1$1(DIGIT,O());){if(b=parseInt$1(O(),10),v===null)v=b;else{if(v==0)return;v=v*10+b}if(v>255)return;c++}t[n]=t[n]*256+v,h++,(h==2||h==4)&&n++}if(h!=4)return;break}else if(O()==":"){if(c++,!O())return}else if(O())return;t[n++]=a}if(o!==null)for(y=n-o,n=7;n!=0&&y>0;)w=t[n],t[n--]=t[o+y-1],t[o+--y]=w;else if(n!=8)return;return t},findLongestZeroSequence=function(e){for(var t=null,n=1,o=null,c=0,a=0;a<8;a++)e[a]!==0?(c>n&&(t=o,n=c),o=null,c=0):(o===null&&(o=a),++c);return c>n&&(t=o,n=c),t},serializeHost=function(e){var t,n,o,c;if(typeof e=="number"){for(t=[],n=0;n<4;n++)unshift(t,e%256),e=floor$1$1(e/256);return join(t,".")}else if(typeof e=="object"){for(t="",o=findLongestZeroSequence(e),n=0;n<8;n++)c&&e[n]===0||(c&&(c=!1),o===n?(t+=n?":":"::",c=!0):(t+=numberToString(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign$2({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign$2({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign$2({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(e,t){var n=codeAt(e,0);return n>32&&n<127&&!hasOwn$d(t,e)?e:encodeURIComponent(e)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(e,t){var n;return e.length==2&&exec$1$1(ALPHA,charAt$3(e,0))&&((n=charAt$3(e,1))==":"||!t&&n=="|")},startsWithWindowsDriveLetter=function(e){var t;return e.length>1&&isWindowsDriveLetter(stringSlice$3$1(e,0,2))&&(e.length==2||(t=charAt$3(e,2))==="/"||t==="\\"||t==="?"||t==="#")},isSingleDot=function(e){return e==="."||toLowerCase(e)==="%2e"},isDoubleDot=function(e){return e=toLowerCase(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},URLState=function(e,t,n){var o=$toString$3(e),c,a,u;if(t){if(a=this.parse(o),a)throw TypeError$1$4(a);this.searchParams=null}else{if(n!==void 0&&(c=new URLState(n,!0)),a=this.parse(o,null,c),a)throw TypeError$1$4(a);u=getInternalSearchParamsState(new URLSearchParams$1),u.bindURL(this),this.searchParams=u}};URLState.prototype={type:"URL",parse:function(e,t,n){var o=this,c=t||SCHEME_START,a=0,u="",h=!1,v=!1,b=!1,y,w,O,P;for(e=$toString$3(e),t||(o.scheme="",o.username="",o.password="",o.host=null,o.port=null,o.path=[],o.query=null,o.fragment=null,o.cannotBeABaseURL=!1,e=replace$2(e,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE,"")),e=replace$2(e,TAB_AND_NEW_LINE,""),y=arrayFrom(e);a<=y.length;){switch(w=y[a],c){case SCHEME_START:if(w&&exec$1$1(ALPHA,w))u+=toLowerCase(w),c=SCHEME;else{if(t)return INVALID_SCHEME;c=NO_SCHEME;continue}break;case SCHEME:if(w&&(exec$1$1(ALPHANUMERIC,w)||w=="+"||w=="-"||w=="."))u+=toLowerCase(w);else if(w==":"){if(t&&(o.isSpecial()!=hasOwn$d(specialSchemes,u)||u=="file"&&(o.includesCredentials()||o.port!==null)||o.scheme=="file"&&!o.host))return;if(o.scheme=u,t){o.isSpecial()&&specialSchemes[o.scheme]==o.port&&(o.port=null);return}u="",o.scheme=="file"?c=FILE:o.isSpecial()&&n&&n.scheme==o.scheme?c=SPECIAL_RELATIVE_OR_AUTHORITY:o.isSpecial()?c=SPECIAL_AUTHORITY_SLASHES:y[a+1]=="/"?(c=PATH_OR_AUTHORITY,a++):(o.cannotBeABaseURL=!0,push$1$1(o.path,""),c=CANNOT_BE_A_BASE_URL_PATH)}else{if(t)return INVALID_SCHEME;u="",c=NO_SCHEME,a=0;continue}break;case NO_SCHEME:if(!n||n.cannotBeABaseURL&&w!="#")return INVALID_SCHEME;if(n.cannotBeABaseURL&&w=="#"){o.scheme=n.scheme,o.path=arraySlice$4(n.path),o.query=n.query,o.fragment="",o.cannotBeABaseURL=!0,c=FRAGMENT;break}c=n.scheme=="file"?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if(w=="/"&&y[a+1]=="/")c=SPECIAL_AUTHORITY_IGNORE_SLASHES,a++;else{c=RELATIVE;continue}break;case PATH_OR_AUTHORITY:if(w=="/"){c=AUTHORITY;break}else{c=PATH;continue}case RELATIVE:if(o.scheme=n.scheme,w==EOF)o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,o.path=arraySlice$4(n.path),o.query=n.query;else if(w=="/"||w=="\\"&&o.isSpecial())c=RELATIVE_SLASH;else if(w=="?")o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,o.path=arraySlice$4(n.path),o.query="",c=QUERY;else if(w=="#")o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,o.path=arraySlice$4(n.path),o.query=n.query,o.fragment="",c=FRAGMENT;else{o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,o.path=arraySlice$4(n.path),o.path.length--,c=PATH;continue}break;case RELATIVE_SLASH:if(o.isSpecial()&&(w=="/"||w=="\\"))c=SPECIAL_AUTHORITY_IGNORE_SLASHES;else if(w=="/")c=AUTHORITY;else{o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,c=PATH;continue}break;case SPECIAL_AUTHORITY_SLASHES:if(c=SPECIAL_AUTHORITY_IGNORE_SLASHES,w!="/"||charAt$3(u,a+1)!="/")continue;a++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if(w!="/"&&w!="\\"){c=AUTHORITY;continue}break;case AUTHORITY:if(w=="@"){h&&(u="%40"+u),h=!0,O=arrayFrom(u);for(var C=0;C<O.length;C++){var x=O[C];if(x==":"&&!b){b=!0;continue}var D=percentEncode(x,userinfoPercentEncodeSet);b?o.password+=D:o.username+=D}u=""}else if(w==EOF||w=="/"||w=="?"||w=="#"||w=="\\"&&o.isSpecial()){if(h&&u=="")return INVALID_AUTHORITY;a-=arrayFrom(u).length+1,u="",c=HOST}else u+=w;break;case HOST:case HOSTNAME:if(t&&o.scheme=="file"){c=FILE_HOST;continue}else if(w==":"&&!v){if(u=="")return INVALID_HOST;if(P=o.parseHost(u),P)return P;if(u="",c=PORT,t==HOSTNAME)return}else if(w==EOF||w=="/"||w=="?"||w=="#"||w=="\\"&&o.isSpecial()){if(o.isSpecial()&&u=="")return INVALID_HOST;if(t&&u==""&&(o.includesCredentials()||o.port!==null))return;if(P=o.parseHost(u),P)return P;if(u="",c=PATH_START,t)return;continue}else w=="["?v=!0:w=="]"&&(v=!1),u+=w;break;case PORT:if(exec$1$1(DIGIT,w))u+=w;else if(w==EOF||w=="/"||w=="?"||w=="#"||w=="\\"&&o.isSpecial()||t){if(u!=""){var k=parseInt$1(u,10);if(k>65535)return INVALID_PORT;o.port=o.isSpecial()&&k===specialSchemes[o.scheme]?null:k,u=""}if(t)return;c=PATH_START;continue}else return INVALID_PORT;break;case FILE:if(o.scheme="file",w=="/"||w=="\\")c=FILE_SLASH;else if(n&&n.scheme=="file")if(w==EOF)o.host=n.host,o.path=arraySlice$4(n.path),o.query=n.query;else if(w=="?")o.host=n.host,o.path=arraySlice$4(n.path),o.query="",c=QUERY;else if(w=="#")o.host=n.host,o.path=arraySlice$4(n.path),o.query=n.query,o.fragment="",c=FRAGMENT;else{startsWithWindowsDriveLetter(join(arraySlice$4(y,a),""))||(o.host=n.host,o.path=arraySlice$4(n.path),o.shortenPath()),c=PATH;continue}else{c=PATH;continue}break;case FILE_SLASH:if(w=="/"||w=="\\"){c=FILE_HOST;break}n&&n.scheme=="file"&&!startsWithWindowsDriveLetter(join(arraySlice$4(y,a),""))&&(isWindowsDriveLetter(n.path[0],!0)?push$1$1(o.path,n.path[0]):o.host=n.host),c=PATH;continue;case FILE_HOST:if(w==EOF||w=="/"||w=="\\"||w=="?"||w=="#"){if(!t&&isWindowsDriveLetter(u))c=PATH;else if(u==""){if(o.host="",t)return;c=PATH_START}else{if(P=o.parseHost(u),P)return P;if(o.host=="localhost"&&(o.host=""),t)return;u="",c=PATH_START}continue}else u+=w;break;case PATH_START:if(o.isSpecial()){if(c=PATH,w!="/"&&w!="\\")continue}else if(!t&&w=="?")o.query="",c=QUERY;else if(!t&&w=="#")o.fragment="",c=FRAGMENT;else if(w!=EOF&&(c=PATH,w!="/"))continue;break;case PATH:if(w==EOF||w=="/"||w=="\\"&&o.isSpecial()||!t&&(w=="?"||w=="#")){if(isDoubleDot(u)?(o.shortenPath(),w!="/"&&!(w=="\\"&&o.isSpecial())&&push$1$1(o.path,"")):isSingleDot(u)?w!="/"&&!(w=="\\"&&o.isSpecial())&&push$1$1(o.path,""):(o.scheme=="file"&&!o.path.length&&isWindowsDriveLetter(u)&&(o.host&&(o.host=""),u=charAt$3(u,0)+":"),push$1$1(o.path,u)),u="",o.scheme=="file"&&(w==EOF||w=="?"||w=="#"))for(;o.path.length>1&&o.path[0]==="";)shift(o.path);w=="?"?(o.query="",c=QUERY):w=="#"&&(o.fragment="",c=FRAGMENT)}else u+=percentEncode(w,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:w=="?"?(o.query="",c=QUERY):w=="#"?(o.fragment="",c=FRAGMENT):w!=EOF&&(o.path[0]+=percentEncode(w,C0ControlPercentEncodeSet));break;case QUERY:!t&&w=="#"?(o.fragment="",c=FRAGMENT):w!=EOF&&(w=="'"&&o.isSpecial()?o.query+="%27":w=="#"?o.query+="%23":o.query+=percentEncode(w,C0ControlPercentEncodeSet));break;case FRAGMENT:w!=EOF&&(o.fragment+=percentEncode(w,fragmentPercentEncodeSet));break}a++}},parseHost:function(e){var t,n,o;if(charAt$3(e,0)=="["){if(charAt$3(e,e.length-1)!="]"||(t=parseIPv6(stringSlice$3$1(e,1,-1)),!t))return INVALID_HOST;this.host=t}else if(this.isSpecial()){if(e=toASCII(e),exec$1$1(FORBIDDEN_HOST_CODE_POINT,e)||(t=parseIPv4(e),t===null))return INVALID_HOST;this.host=t}else{if(exec$1$1(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT,e))return INVALID_HOST;for(t="",n=arrayFrom(e),o=0;o<n.length;o++)t+=percentEncode(n[o],C0ControlPercentEncodeSet);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return hasOwn$d(specialSchemes,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!="file"||t!=1||!isWindowsDriveLetter(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,o=e.password,c=e.host,a=e.port,u=e.path,h=e.query,v=e.fragment,b=t+":";return c!==null?(b+="//",e.includesCredentials()&&(b+=n+(o?":"+o:"")+"@"),b+=serializeHost(c),a!==null&&(b+=":"+a)):t=="file"&&(b+="//"),b+=e.cannotBeABaseURL?u[0]:u.length?"/"+join(u,"/"):"",h!==null&&(b+="?"+h),v!==null&&(b+="#"+v),b},setHref:function(e){var t=this.parse(e);if(t)throw TypeError$1$4(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e=="blob")try{return new URLConstructor(e.path[0]).origin}catch{return"null"}return e=="file"||!this.isSpecial()?"null":e+"://"+serializeHost(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse($toString$3(e)+":",SCHEME_START)},getUsername:function(){return this.username},setUsername:function(e){var t=arrayFrom($toString$3(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=percentEncode(t[n],userinfoPercentEncodeSet)}},getPassword:function(){return this.password},setPassword:function(e){var t=arrayFrom($toString$3(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=percentEncode(t[n],userinfoPercentEncodeSet)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?serializeHost(e):serializeHost(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,HOST)},getHostname:function(){var e=this.host;return e===null?"":serializeHost(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,HOSTNAME)},getPort:function(){var e=this.port;return e===null?"":$toString$3(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=$toString$3(e),e==""?this.port=null:this.parse(e,PORT))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+join(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,PATH_START))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=$toString$3(e),e==""?this.query=null:(charAt$3(e,0)=="?"&&(e=stringSlice$3$1(e,1)),this.query="",this.parse(e,QUERY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=$toString$3(e),e==""){this.fragment=null;return}charAt$3(e,0)=="#"&&(e=stringSlice$3$1(e,1)),this.fragment="",this.parse(e,FRAGMENT)},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function e(t){var n=anInstance$4(this,URLPrototype),o=validateArgumentsLength$4(arguments.length,1)>1?arguments[1]:void 0,c=setInternalState$5(n,new URLState(t,!1,o));DESCRIPTORS$d||(n.href=c.serialize(),n.origin=c.getOrigin(),n.protocol=c.getProtocol(),n.username=c.getUsername(),n.password=c.getPassword(),n.host=c.getHost(),n.hostname=c.getHostname(),n.port=c.getPort(),n.pathname=c.getPathname(),n.search=c.getSearch(),n.searchParams=c.getSearchParams(),n.hash=c.getHash())},URLPrototype=URLConstructor.prototype,accessorDescriptor=function(e,t){return{get:function(){return getInternalURLState(this)[e]()},set:t&&function(n){return getInternalURLState(this)[t](n)},configurable:!0,enumerable:!0}};if(DESCRIPTORS$d&&(defineBuiltInAccessor(URLPrototype,"href",accessorDescriptor("serialize","setHref")),defineBuiltInAccessor(URLPrototype,"origin",accessorDescriptor("getOrigin")),defineBuiltInAccessor(URLPrototype,"protocol",accessorDescriptor("getProtocol","setProtocol")),defineBuiltInAccessor(URLPrototype,"username",accessorDescriptor("getUsername","setUsername")),defineBuiltInAccessor(URLPrototype,"password",accessorDescriptor("getPassword","setPassword")),defineBuiltInAccessor(URLPrototype,"host",accessorDescriptor("getHost","setHost")),defineBuiltInAccessor(URLPrototype,"hostname",accessorDescriptor("getHostname","setHostname")),defineBuiltInAccessor(URLPrototype,"port",accessorDescriptor("getPort","setPort")),defineBuiltInAccessor(URLPrototype,"pathname",accessorDescriptor("getPathname","setPathname")),defineBuiltInAccessor(URLPrototype,"search",accessorDescriptor("getSearch","setSearch")),defineBuiltInAccessor(URLPrototype,"searchParams",accessorDescriptor("getSearchParams")),defineBuiltInAccessor(URLPrototype,"hash",accessorDescriptor("getHash","setHash"))),defineBuiltIn$1$3(URLPrototype,"toJSON",function e(){return getInternalURLState(this).serialize()},{enumerable:!0}),defineBuiltIn$1$3(URLPrototype,"toString",function e(){return getInternalURLState(this).serialize()},{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&defineBuiltIn$1$3(URLConstructor,"createObjectURL",bind$9(nativeCreateObjectURL,NativeURL)),nativeRevokeObjectURL&&defineBuiltIn$1$3(URLConstructor,"revokeObjectURL",bind$9(nativeRevokeObjectURL,NativeURL))}setToStringTag$6(URLConstructor,"URL"),$$1$2({global:!0,constructor:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS$d},{URL:URLConstructor});var fails$4$4=fails$k,global$3$4=global$o,$RegExp$2=global$3$4.RegExp,UNSUPPORTED_Y$1=fails$4$4(function(){var e=$RegExp$2("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),MISSED_STICKY=UNSUPPORTED_Y$1||fails$4$4(function(){return!$RegExp$2("a","y").sticky}),BROKEN_CARET=UNSUPPORTED_Y$1||fails$4$4(function(){var e=$RegExp$2("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),regexpStickyHelpers={BROKEN_CARET,MISSED_STICKY,UNSUPPORTED_Y:UNSUPPORTED_Y$1},fails$3$4=fails$k,global$2$4=global$o,$RegExp$1=global$2$4.RegExp,regexpUnsupportedDotAll=fails$3$4(function(){var e=$RegExp$1(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),fails$2$4=fails$k,global$1$4=global$o,$RegExp=global$1$4.RegExp,regexpUnsupportedNcg=fails$2$4(function(){var e=$RegExp("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),call$2$3=functionCall$i,uncurryThis$3$3=functionUncurryThis$3,toString$1$3=toString$4$1,regexpFlags$4=regexpFlags$1$1,stickyHelpers=regexpStickyHelpers,shared$7=shared$4$1.exports,create$4=objectCreate$2,getInternalState$5=internalState$4.get,UNSUPPORTED_DOT_ALL=regexpUnsupportedDotAll,UNSUPPORTED_NCG=regexpUnsupportedNcg,nativeReplace=shared$7("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt$2=uncurryThis$3$3("".charAt),indexOf$4=uncurryThis$3$3("".indexOf),replace$1$1=uncurryThis$3$3("".replace),stringSlice$2$1=uncurryThis$3$3("".slice),UPDATES_LAST_INDEX_WRONG=function(){var e=/a/,t=/b*/g;return call$2$3(nativeExec,e,"a"),call$2$3(nativeExec,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),UNSUPPORTED_Y=stickyHelpers.BROKEN_CARET,NPCG_INCLUDED=/()??/.exec("")[1]!==void 0,PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG;PATCH&&(patchedExec=function(e){var t=this,n=getInternalState$5(t),o=toString$1$3(e),c=n.raw,a,u,h,v,b,y,w;if(c)return c.lastIndex=t.lastIndex,a=call$2$3(patchedExec,c,o),t.lastIndex=c.lastIndex,a;var O=n.groups,P=UNSUPPORTED_Y&&t.sticky,C=call$2$3(regexpFlags$4,t),x=t.source,D=0,k=o;if(P&&(C=replace$1$1(C,"y",""),indexOf$4(C,"g")===-1&&(C+="g"),k=stringSlice$2$1(o,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&charAt$2(o,t.lastIndex-1)!==`
`)&&(x="(?: "+x+")",k=" "+k,D++),u=new RegExp("^(?:"+x+")",C)),NPCG_INCLUDED&&(u=new RegExp("^"+x+"$(?!\\s)",C)),UPDATES_LAST_INDEX_WRONG&&(h=t.lastIndex),v=call$2$3(nativeExec,P?u:t,k),P?v?(v.input=stringSlice$2$1(v.input,D),v[0]=stringSlice$2$1(v[0],D),v.index=t.lastIndex,t.lastIndex+=v[0].length):t.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&v&&(t.lastIndex=t.global?v.index+v[0].length:h),NPCG_INCLUDED&&v&&v.length>1&&call$2$3(nativeReplace,v[0],u,function(){for(b=1;b<arguments.length-2;b++)arguments[b]===void 0&&(v[b]=void 0)}),v&&O)for(v.groups=y=create$4(null),b=0;b<O.length;b++)w=O[b],y[w[0]]=v[w[1]];return v});var regexpExec$2=patchedExec,$$e=_export$4,exec$4=regexpExec$2;$$e({target:"RegExp",proto:!0,forced:/./.exec!==exec$4},{exec:exec$4});var uncurryThis$2$3=functionUncurryThis$3,defineBuiltIn$b=defineBuiltIn$a,regexpExec$1=regexpExec$2,fails$1$4=fails$k,wellKnownSymbol$1$4=wellKnownSymbol$i,createNonEnumerableProperty$a=createNonEnumerableProperty$5$1,SPECIES$4=wellKnownSymbol$1$4("species"),RegExpPrototype$5=RegExp.prototype,fixRegexpWellKnownSymbolLogic=function(e,t,n,o){var c=wellKnownSymbol$1$4(e),a=!fails$1$4(function(){var b={};return b[c]=function(){return 7},""[e](b)!=7}),u=a&&!fails$1$4(function(){var b=!1,y=/a/;return e==="split"&&(y={},y.constructor={},y.constructor[SPECIES$4]=function(){return y},y.flags="",y[c]=/./[c]),y.exec=function(){return b=!0,null},y[c](""),!b});if(!a||!u||n){var h=uncurryThis$2$3(/./[c]),v=t(c,""[e],function(b,y,w,O,P){var C=uncurryThis$2$3(b),x=y.exec;return x===regexpExec$1||x===RegExpPrototype$5.exec?a&&!P?{done:!0,value:h(y,w,O)}:{done:!0,value:C(w,y,O)}:{done:!1}});defineBuiltIn$b(String.prototype,e,v[0]),defineBuiltIn$b(RegExpPrototype$5,c,v[1])}o&&createNonEnumerableProperty$a(RegExpPrototype$5[c],"sham",!0)},charAt$1=stringMultibyte.charAt,advanceStringIndex$1=function(e,t,n){return t+(n?charAt$1(e,t).length:1)},uncurryThis$1$3=functionUncurryThis$3,toObject$6=toObject$5$1,floor$5=Math.floor,charAt=uncurryThis$1$3("".charAt),replace$5=uncurryThis$1$3("".replace),stringSlice$1$1=uncurryThis$1$3("".slice),SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d{1,2})/g,getSubstitution$1=function(e,t,n,o,c,a){var u=n+e.length,h=o.length,v=SUBSTITUTION_SYMBOLS_NO_NAMED;return c!==void 0&&(c=toObject$6(c),v=SUBSTITUTION_SYMBOLS),replace$5(a,v,function(b,y){var w;switch(charAt(y,0)){case"$":return"$";case"&":return e;case"`":return stringSlice$1$1(t,0,n);case"'":return stringSlice$1$1(t,u);case"<":w=c[stringSlice$1$1(y,1,-1)];break;default:var O=+y;if(O===0)return b;if(O>h){var P=floor$5(O/10);return P===0?b:P<=h?o[P-1]===void 0?charAt(y,1):o[P-1]+charAt(y,1):b}w=o[O-1]}return w===void 0?"":w})},call$1$3=functionCall$i,anObject$1$4=anObject$g,isCallable$1$3=isCallable$n,classof$a=classofRaw$1$4,regexpExec=regexpExec$2,$TypeError$g=TypeError,regexpExecAbstract=function(e,t){var n=e.exec;if(isCallable$1$3(n)){var o=call$1$3(n,e,t);return o!==null&&anObject$1$4(o),o}if(classof$a(e)==="RegExp")return call$1$3(regexpExec,e,t);throw $TypeError$g("RegExp#exec called on incompatible receiver")},apply$3=functionApply$1,call$l=functionCall$i,uncurryThis$n=functionUncurryThis$3,fixRegExpWellKnownSymbolLogic=fixRegexpWellKnownSymbolLogic,fails$l=fails$k,anObject$h=anObject$g,isCallable$o=isCallable$n,toIntegerOrInfinity$5=toIntegerOrInfinity$4$1,toLength$5=toLength$2$2,toString$c=toString$4$1,requireObjectCoercible$8=requireObjectCoercible$4$1,advanceStringIndex=advanceStringIndex$1,getMethod$6=getMethod$4$1,getSubstitution=getSubstitution$1,regExpExec=regexpExecAbstract,wellKnownSymbol$j=wellKnownSymbol$i,REPLACE=wellKnownSymbol$j("replace"),max$5=Math.max,min$5=Math.min,concat$4=uncurryThis$n([].concat),push$5=uncurryThis$n([].push),stringIndexOf$1=uncurryThis$n("".indexOf),stringSlice$7=uncurryThis$n("".slice),maybeToString=function(e){return e===void 0?e:String(e)},REPLACE_KEEPS_$0=function(){return"a".replace(/./,"$0")==="$0"}(),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=function(){return/./[REPLACE]?/./[REPLACE]("a","$0")==="":!1}(),REPLACE_SUPPORTS_NAMED_GROUPS=!fails$l(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});fixRegExpWellKnownSymbolLogic("replace",function(e,t,n){var o=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function(c,a){var u=requireObjectCoercible$8(this),h=c==null?void 0:getMethod$6(c,REPLACE);return h?call$l(h,c,u,a):call$l(t,toString$c(u),c,a)},function(c,a){var u=anObject$h(this),h=toString$c(c);if(typeof a=="string"&&stringIndexOf$1(a,o)===-1&&stringIndexOf$1(a,"$<")===-1){var v=n(t,u,h,a);if(v.done)return v.value}var b=isCallable$o(a);b||(a=toString$c(a));var y=u.global;if(y){var w=u.unicode;u.lastIndex=0}for(var O=[];;){var P=regExpExec(u,h);if(P===null||(push$5(O,P),!y))break;var C=toString$c(P[0]);C===""&&(u.lastIndex=advanceStringIndex(h,toLength$5(u.lastIndex),w))}for(var x="",D=0,k=0;k<O.length;k++){P=O[k];for(var B=toString$c(P[0]),q=max$5(min$5(toIntegerOrInfinity$5(P.index),h.length),0),V=[],ee=1;ee<P.length;ee++)push$5(V,maybeToString(P[ee]));var te=P.groups;if(b){var ce=concat$4([B],V,q,h);te!==void 0&&push$5(ce,te);var Q=toString$c(apply$3(a,void 0,ce))}else Q=getSubstitution(B,h,q,V,te,a);q>=D&&(x+=stringSlice$7(h,D,q)+Q,D=q+B.length)}return x+stringSlice$7(h,D)}]},!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);function __awaiter$14(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var icon$5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAD8UExURUdwTGx5rpLO8YOYx1Og0ly29X5ezR4mT0tiji4eWJ953KGn1Jxs7qB9xvfD/Us0gduu8yeh4HOq74dD647R91256eSz+j82cbvg/dSj/LuL79Wp6zCf24KN9xANGRANF59d/0W+/taa/8iN/3HL9uOn/z638Bil7l3G84TP+FHB8o5A/0i9/ZjU+47S+vq8/4Qy/S6w8O+x/5Rp/wyg7G2T/s+T/vO2/+qt/1qp/qDV/HyD/ki4+4R7/qnY/tyh/1Gx/ptU/76E/2bJ9Ld8/4t0/pxe+XvN9iOq7rB0/0i88aRk/6ps/z++/naL/mab/mGh/pVM/wub5mGd+fAEOhEAAAAgdFJOUwBEyWKA47EKJhnFluGA6l3H67Du6crdNOXs5q/I65rcQbfB9AAAIABJREFUeNrsnE9r4zoXxidOG9tNQqBvSrLKeKGF7WIz4J0WgSCuDc1s7vf/Mq/+S0d2p7Zkd7i0SsZJh3th+PGcR4+OpP748T3+4yNODofDKY2/SYxgdbhcfl4ul9M3rY9ZpZefbFwu6TeMD8dJwPp5Sb6l9eFIL5zW5TDoWrEc35wEjtOFDWPxjE2aJMkqWa3W6/WevuigPyVJ+tWngTg+HQ58PmSDQlqvt5Eax+jIBv2UY7umyL6u0JiMBK6DpETp4KqmL/ngX9hnwcEJYl8TGIV1EpzOEaNUCUBqFPwPfRX0W8GfFSPGgX255JCcTpwUByVY1WAU/FHwLxRWV3RdIYGtvhIvKqoVI0WriwoGK1CDvLi8JDouse5L8YqT08M2Op+vVFOYl54wJ+5PkppkJUkJZYlipN9RV1Ne69UXmCOT0zY6Xq+4Kip7GEYGmKZVyNF1ghj9whx//ZfltXQYTE/b8xnTUeFr1R82Lm7vwuPh6Cgz9jr+TVx8Mt+zcTgt0w6Ik310xIJVJXxdUaqgsIzH1w6tjlekxrVdpX/FSlb7zW63a+lrt3vazG8JFiqHVa2ewOQLlR70W1oX58XlhSiv7aerKz4xUvd7Rse9pWO32xxm/VfE6To64yt1KyEsgUt8ckT99GDsHUpL6oq9EaKT4+cWY5weNrvfbZtlNwqLfkpcM0o8XtFMhZlRUT7YYDLKEtmhsurQJNO6R0sEL0brk3FRWe3+ydpMDvblzpDtnvYz/SPihIYFzHRFYYE6xMazBnJWYTyrhsri4uqEfSESPX+WdcWnza7NbjemKyYpVob/Ml5Zu9vP0cmME1aBxZXDuSpdKWSGlK0qxUqteSxUphA7hLoOsednWVe8YiV4y34zTYkX9a4bhXejtbgJp8VQcVmJuDA4Gyp7d2K8TFn1oGnJWbEjqO5ywnLE5+iK8mGyEnbFlMV0dWO1GEyLmhWdA1kKrdiTG7y2duPvss3QWx1qVLVLSxZiJwRWdOQTxJXsd9qrGKvMHsznn4JocbNic6B5KWW5wlLMBmbDesjcOzN4KZLj0uKKD7tWcslcVIJgiLbi1fasSYk3p2WUJTsOdsqqHGVBw9I5q7BQcVp0XlxYXKdNa4Tlqkp8/uNNi0UrzupqawsLd8cYqqoXSkHOqu0ED5SF1AshQo1+tRyteM+F1RhGjXy0oiwZLU9txWwdKEhpTKIIjWv1pDUQHGpXW66uUGfTWi8WIk5Pd6Ao5VqNNDCGq7170WIx9IqFqq4iuXNUVyWr95RVDeYsSKqwPEvSkrgQLcXFhHW/STz8T2uqz9DKfHwrPVisMP/GSV0tZdkxvq6qgf6fzu+1hQsoC+mwRQd/Pi5kXOnmt+Jh53fH4mkG220m/gOSh0gpyuBSVVhhuNxRsbRfh+5sCH1LCqpjvNg39kHYrLiIcfEqZHwah5DzM8tbk2glbBbEVgHKqVANMxViJzvApWFd9wOWcng9FSrHQtLpaUJdgFa8euqHheExzeWptRuzMgqzgpaO8bClVVXuhoXSVT0kLCEtwUo+mG2hxwVoxetdNhYW09YkXUFQ3LIMJ1OJGPJyFoiqVVrD6K6VpSdCpS0xlqjEdD8a1hRa8fYs8DiuBUrRpSWF1e/+DbSzrCq0YpaaDjv2mJ9Wutll9w8xNWKGpLT242gl0fnDEsRDylKkqoF2Vu24FoxYcsGjypDQEa3npRVvRllWw8MXXWGPpJVE0bXvWCad2sLCfc9yZkSoqkI3suyljnQrrimOi+Q5mplWuhnp7zKqUm2lo6wQlqGqQygsteDBoAFfuWsdp1Oquu+82dBZyoKuRdhr3kqksMbSov8dja8jtZVsoyFlye6DrSwtLVxbydQA05hqW1qOZ1mrQ1GENGyxx7y0KKzbOFgNz6ajXT5xogO+2j0H4Fm2tNxeqZXgB5SF3JQFBnWtefPW2DJsVLRvR9KKk4GgpV1LSQv0HjDcwh8CpTfCQHPGWJampF1+zrw12rPElDghQXBa2PV3LFc9lrIwbCtbs2ExBMzOo9ZEqCtQUpLFmOfH59lW1emYAN+2rb1snEDrHWm56QE7uAZmQ1iInb3QkaTEgwhgiIgPNCetdNxqpzUmn4kexFhauOdbYDVtdwAr9zzb8JahyqSwCjtkS4vwwX/K82g7T38rnqgs9Rf30S5/xX9QlhO1avNyldVzeKejbKpQSosI46Jhi+Rzxa109DoajFs2ntYfpNWbEHstmrofsmQZFrD5Dk2LCJNnpkWBoXlMPh4Jq4ENG563vLTVC1qgDut+F75/5AiUIfR36er6Wy4URrp5bCsZBavpb2fcRva3+tqCMb7CTg+w6p8qfb8MkeblmpaweOZblFl5nKPRHHuW4fj+FshbeIgXPPBQgSNa8iwpnAjtIjTuToBpyaW0GvPYFlXWPYTWhDnRNJcx1rs8yrC0ZfWOO4CGA5gLkW1ZrJ2skAlBWQPl5CXctpiyfGG12ciVz0lWIjZLa6Osyj3XVtfvG5YmVViGZa11pGUREUpFepDSIjPYlqeyGtXfmpK3sNUAtGj1TmnB3p+7aWiON1jW3klJ6ToEwqKoaNp6iP8KrEa5/di8dbLnRNxrl1Z21JLLRJgd3MMzrrur7E6QeQBYpCRRMkPO8itDtbc4tmNzBgZvw3Kb8AM7PEJbmhXYMESgj0V0yDI1mHNplcdgafkbPKfF9hPHnA0cWPmArGV1acCJtt5+YQH9ynYsgvS6EDllSGnRKB/s8QEGb3Yxxs6Jg5YFtyyArApnbSjPdPcSKQLKUgbveFYe7vFB0WFKf6u3kYhB9wH2ljUrFUrroe1CI6qOGGERhFCfE/8IlVaYsqZ0bNTKB2OVIrBTifJy4cAR3HcWOhKYG0d7M+Fc0vJTlld/C86JIGrpJQ/olaqLTXVtoSqsRGpWOTC5m3DFKTFQ3LVCc7yXstp+f2vUno/JW043XsbSuhq4kDJ07hZurMJAOmBXiloZJi3fBN/CoyNsPzGdsPKxYZmzy8KvsK5F9WUok0LXIqCfbCJDrljlYpRh0krDytBaJ07RluNa8Jj3UV0if5b3pu2DpI6yYMAyjQYrMhD9CpVWHBwdVH/r9xRaIMTbTRoBar9aJWKs+H1XSqxn8JpVJ2dDiQrBKEqAsgKlFbaQhnlrdCVewTa+Vha/X89+iUMM/49EACsKc/IdwfMNBLRIkWtYufb5IGkxZbE7AtMXh9nAefnt6P1ErNfV8iYPxmd2QeKdS3txslpTXPJeU1cg5PRnUK/+BB9LVDNIi+0btu2f3Gg0vZFnbHQPomK3U0Qgra7nj26Is9s/xyOlUxRDZ9d0KLXjlealPCsnQdJK+CZrm80w2imVKLqB/HoKV9W7ooK4okJ1sxCMWUQld2QbFvArupbmrZpVgLL+xy6DZfdwUqzLNS1viWXO9Rptk1E7e1xdtAaVbSHU26oAwT03ZiWZlbQO/ZsPFNbrLbsNH7qd0gzU57fS8VmeX9SkFTj+kH+SbKNanGCTJ7E63vgjCEYsouZBRYm7OzP4kL4WhfXr9XYb3H+ePjfesmYCLd6Jv068bMPEpY/O2Cdm1E40sqrQrUTOy9/iGSxFqwlgpc9vNU9jK5HdAJ4kK3W++vkIt+w7qzmK+v0GC1Qelh44rF//3uTN6CbMuW6j89aPlHdsztH0y7rsArGqxM5q+BF3BW3lK0WLLRD9LV7Aotq6ZzJvNb7RwfS3Rs2JlBaNml7XRpLt8UiorApwykjHhtwOC4ZUKT/KR986lLAorYErdF7r63a0ttbedwOpcRHSdXCXAsYG1fIjDi/28K1DBYvTalvv4OD0t0ZpK/b/JRuMlrMJTdw8CrO7paz8JRSW0FZIx9Ta8hmprZBuCaWVy/1CGLGsuK54lcLdpbJy7zo0sLhvZd77Yg04NHJfntY2Mg1lgnrtPuDrSloS1+NzGgpLJoh7gLIm97dCGuLbI4E79o6/W7hIqVmVtAx969CG1U+nPnOizBC/F6e1itR2DhlY5pjuqO1ZUlovq3BYglbr5fONX38rpCW+juz9HOT0sGzLKqVxleLta1oQFvetW3Zv5+lBbBf+HQvUtuSBoj/VoPH4UqAqc+JnWg4sOSe2QctEfdBmwv1EP9uKOnUeC2gqH/YrSYo9/JKWC4vTus0grAnpNLAQYcJyls9lbmJDKQ2ePl7mgRWUt5yY2ixNK3k+8gPJTsCydSVQKUxSWW+PXhv5fVgib4V2A6f1t/yldRwMDU5TRvAy0aEs0cNMsGbpb8lfntE0y9JKoiM76O4IK7eDOzAshuqNKeshnQmWS6v1tq3x9xP9XYvYsKyOe8nempYsQEXMz+FF82+YVtuG2tZtcd+iyZRYW6nvKctQkuMlmUtZpr/VhvsWpbVdjla6PZZcWQ4qKCrbsdh4K70yvFbW68Cc6N+yUbm0bTit5bQVr6J8uN0ODMtW1hufDn0yPNvd+TWsLf9EqhY+7LNZ2OWTl37/2O7J6LhgAXsLgcVxvc6Yt8zvSWKLxmZJWunzsXRxldzaS9utchsVez94K+v11+uwbwVKq2kFrHY5WjRqlWYjh6jFoFw8A1BvFqvH5yBlDWnLt2Uj9qcbRqvhymr+T9vZtTaOZGG4m51O3M3AsDOEgaEDXhjsxr6JcXxh3AKLHQnFDk68/v//ZavOV51TVfKHpJRkxUl6LubhOW+dKtlO9VG0fGhFrajsxiihfqi8grPLUpphtbhV9lhH4wdN4fjA3Pr88PcPvcahXQZdgRoVserUaHEZiluGGd5P7BD0TqeyFq18xn8YrdHvf4fmXWJd1oNRg7Wj8z8P3WA9zcmsltwqO9JybQMdOD6oEu//lXRY0X6MTIEECi4dYc0F1DzfQdy8v+UJ4bnU4/FDaEGnlZglpH7sog6LaHWGRbjmuZiH/a36JqfGJbGKYDm3PuJDMSHhCdR/bRf6Q9XezuT7rpdZ8/ZK7HDHgutPToL17QNoueUhvxg5tA2zdDm4I2a7fmXIauV53XY/sQ51aMWq3OHduv8QWDOJLIXqh4703Uyfuy6LQzILec3T+TB7P7E+qxaQqmOriNcH0Bo9yEvVeB6cmbTaxcB2HVfSbBYAw2JM7bpyfwuLcImJtRwniQWX6tvQtD4/SNdOG6N6caP7djnc+PJ5gMxq706vuZ+4ZLeYVSSWgzW4W86szK6MXTdrWjt4dHk7nZg1n8/VtBhXI+xvjc/uby3JqmWmaSCxMLaGdotghbUg35UIMs0w1yned2jWfefM0p3pvGUP4qJZwoucGusCJFp+fBv0k/hGDz/0YtDs8dneKqCaDGKWZNdT4tbljrTWdbhMpkJmVT3+OiQtB2um7jnbxY0qQJ1YPcyai1y6i8j2W/t2qZYRqXEovzpYVQ3uFpo1i7YZQv3586cpQW9Wl92/XGaZ6DK5db4/LTmyIrGqcHwELc4sm+ncJESUhoL1FBqurFpP6t0F7QvCjFdwFlqsQWn5MkxWzrtMtyCgJu4yhFmm45onbpXnb1EsWxosa1WBtIaaEwFWvBZUC5uIFdLqDusYVaEqQusXvV7+TOfOk+BYNe2+XYi88mOolIeAT2/ghElwNrOoepnlWR3n84xhmQ6i9fVb3F2N064dkSmzCj8eB3Jr9CDNle7Wd7swD052P9GncBmoDMPM+DTP3/NJtmw8onKZmwi5Fw2kioqOohiGlocFbu1UtxDSPVSeOXqU4TFHLJv14FYN7xVe2i0stcixabXUNViwWJV3a4hKFLNmihdTwifCKDzpUYZHC0zahywtiK19VIDpRMiNu80rJZaj9fsAtBjWTjUMO92ua7Xw7BnwSOqYmpVu2+A6Mbzblxv3fIdly7CAMgxjiA4CYamJb5ZMfgGVXL/80sMsVqtlZmztIJZxgxUCq9LrQc0KcG38uRmgEo1ZyqbJ2aM7LMaVZpfs3cyztPCtFRmvKu5IbbqHCgRag1QiwFJTn2GlmanI6m+W+HWMaCVuHZlW3da5i1TWrFCDHtVmsxmAloMlQTWTXQWKp0kUVSHgf+kd8MfsnJj2XEfcCoTw2ktoRfvtUeMeEqsiq1wZAq1+f6uKzOJdPV2CkxSS59cPVnokXVfccdWv+HmS/iVY+2XYw4q2RTWqQoe7w7QZhhaYtTPrZQ3JcuJHH1hH/7DhdcxFl4w7/5dJa9pp2OdWg8s42yuNisXyoyctb1ayUtZJBXAmhItpdYSFlEItJlH/xIvroNcfd3/+dkevvvKvWEv3RdMaND0DmMW0Nr1oebNyLdXErnCi0RkWD7aLWJ1x64/fvn79fId/7HZZi1e1whRt91FYVRmzerpFZXi2X5jIV8bWDVZ9LAWUkMo1EtJ1Aaz7T/fOrVevVT3WVsUb7rJyjkixWQd39HILzTJNekBjrhOFqxesSK44up4ULoL16etvd/tXvPds072qkiosKqa1kcZBxPK4utNCWJNs/ck1HovesCDobXTlNm3mHhb8x86t2t7ICbcmosCy6b7hA8069KFFZsVa7VSq6yeTvmVYGrtEMNui6m1nMMv915/vKKdqulTSt5ttGdlpUGFlxDocDo933WiNHtKEujAWPc0qLau5jq9owRhgebd0uHupinQbWa8HqXUnXAcgBaxWh45uxbAmqldQeOiER68yLMsScSlk8zpdWwsyhgWViFpVyzTZk/WglKASC6rw4HF1oxVgtXQJA5tVloKq1Dmvp8fjXG1yCSxPqwpuKbVUMxol1maz4XTHqRBjyz2+dKE1ejgPCYyyhzs7wgJSZUlfkuyisrSGBVi+g6jiFWGVqEW0glgqsCCywK1OKe9gRY1CWnxcfwuB1xkWc4IncTWa3YgjNRAKFtGqlrl90ciqWCzMduAEo1NueViZOmOFBJvF1QXWCM2CzEJmx1SxOOafDCxPCzjV0GApXoXZdGepCh1X9GBYqw65hWYlrGwJmktvsxAXSEWtRGnnRtN6GVjgVpXZkpEVYdUa7oeN9srBWt2cWzmzJtqsuBi7Z9Y3gCU1SJXIlqXtRA4Wp3yyHoxQ8RZWCCsK9kDLfXcrLQ9rkYZ5kCgN+K5mMSxGFqqR7Kqj+IJLBAtzq1qmPYPdwrK9aJgHoQLJrMOtuQVmJYjgXOgiNN9MBoClHHOUyriz5+g6xrDAragOw3KwkPWNFCEtcgQVksLr6TZaZFb7KZR6Z5aDNfbv/ir5UqoqlGqsfYuq6jGBhbRyN1PNPFgYs6QAV+HwxG7LLQernU/4brHAi79O+phV+3Os1QpVidkPvKivd5cUVkRLbnpVIlZh58GDqkGsQjpXb7f18lSGhtWCSjBAmqjrortZY4+pRrESwUqFS6mVgWVpFYlaG7V8Pti8Ikj0ZXXjnAhmLfQ5YVDqqYDql1ke1jjQMry4Eo/Y53PY58yiDsJsM5gGy/buB91fHYhVGDek/Oi7AWN1khqkn6FYPc1CYgxprHDRUsi2qVlYwa1CZ9aGOyyn1SFaO4cGS+N6W51ucGv0fTGxXlnBFgttFz/vCsvfLGVa4NhYcCGyY62v3rA8rOBW6LA20jUUei3Im1hhKgyk4Pp29arawbJjop43Ot0n8rNFD1j0MVBAyrHSuPx3ZoKEamyBxbQKfTdHljgFpxUvni0qKcM3h8qN1ZX3qhWsiSq/JsKmYPpf/bsrrJI+6hftGktdcoJFRXlsNYtpFXaJYzZGD3bxvDJinUgsr9bpykqMzGqUPnSNqPkfTjrC2qcfkFyOpSxrnfiyOfFrGyykpefBTaEXz9E8uJJ+VInlI4vduoJWBGvSLK4ZA8ESZPi1DGVZcpNRtpoFtEzPYBpRnALtrowpQc4sxHX6ckUlOlgN+nQBk9arh1l7OrLAalWTXJXtZqFbUS9qbk4c1EYyLQkF1xtVIMXW++mKSiSzCFdDlwy5ZjCz8NPYWqjpyMce9gwscMvcdi4MqDiwbIPlig9JrQDW6XLKs1lGL/u0SdB1N2vvxhgeltWeQOFnO2F/AW7V58zCfqsw97z0grAt3FEsZPUORXg6gVsXaOnMaoSOMo1/1ah/1nSHxQcz4xPJ7eUznsSzs2ZRJRZF1LdT9W3OouLGwU2GDta7w3aJFpnVhPJrDJ7G/gwf/cxiu1gxOeGo4aAPfPefnHwelneL2lHdim7OspIqpHHy4/39Ii0d8E2sUfhBNAv0gIVA9qKXyMWo8M8QwMce+uMSLMotuxq02wwZrzwqYYW0PKwLtDwsB6KhSxNUEoKNqVP4TVdY2RFwuVHTQ8ZFWOBWYe7Qm3VzbpHDnTtOhG/vPNbvp3O0Rt+bhlGFcmzEpsY84cegsOzwRYiVCI8rYHm3HjniDxu7MarMsmqFxDoJqbW7nnOLYZFYGlljZsfmw8w6P66ABbSCVXb/KrCKpsFQgGTWybFar8/RElgtgkXNF3zpDOvV/c+/wtk2kl+91lfA8q+xeTQNVnTXK+MV8joRrTcQy7t1WrfT8rCm7rDEwhFCKyRZD1ivROsVTz7CU48Hjj3942vMgtx6DHtYuRoM+wzgFdegEwraBjDrtPZne245WFODa5EyW1hinc16JRpBL4WIkfkTBn7zch2sT/d/3lVKLLMzGtL9zezMYLxLuK9JrnWrW6Pv0ymgmvqvLQOLk89FH1ivTIUhAROtGP8S/+XrlbA+3VMl4vbVJocq6q5wInS03kLCr5lW9p1cDhZyimuxaTLJz5r1MUtXnsYkHMUtP16uhoW0HKeVeQVI3GCtQsC/265BxPIpn/3kCjZrinKdI7YI0HqZJVwUMEtIf3ctLKjEx41e56R3clCslXglWgGkdzrWbZUIsIDV9KJbIfS7wopNujxerof16SvQStbPqh19W0WstFlrMWvrjhwthBWAYX41TWt+NU0/WFcRen2h8+UWWOiWbbHS2xOrRKt3UYpTfutwZWgFWOQWxDxNkPkkW0y7wnrZnyUEpx9Myz/55wZYQCu8SkZe0hDFO+z5ua7hzXglgYVjkqHlYT1PY2DypSX3hzbrhVGFg8S6ySyitUn7dtW4UzNKvZUmpVk5uVJaDtYzY9K0zrLqCusl8QiBvITn8iMef90Ei93KRLtZ5mSLkONq61vTHK3R92ej1tRY1UiG6THtAYvNoZMtwrrjIlTjn9vMIlq5lbPak1G5rkgJLjdmp+02peVhAa7nJkn6WLJesO4BFvIJGW4jKgL18o87bjTLDaAVrQdDWtEsqHCZuNqiXOstDttvEayp8at5bkI3kavHHma9hHKTQE8oMSl33A4rdSvpGUJgSXvlzi2H1RaKMXWLyjCuxQSUUqyzWVJsJphSTMypo1mf7kdIK4DSeaXbqzWtCY1ZAsqPn5qWg/X8jLQI2rT5nyR+nldXs15UQOkyNJg0KT86wLK01B7y6i1e5di2fcsZvyW9ttv/83Z+PY3kWBSHpdkkZBtlHjYtQr9UlaCkliXUKGuIZClRKQ8QbQlU+f7fZe17/edel9MTXMlWMmmGHqTh1+ceHx9XB0FpASxnW7XV19uyb161TxTZBv9OEkHq2vLHFv7JejsnQ4t2ok5Ze8fKVDOfetEzjd+Ki8rL6pcR1urxMdCa/DSoGC+trC6o641RsmIbAovO3n8PiMqj0srKei8GT4tW7vuervYrlkYBlMe12uEgBm15ZcFLZ4B1b5yTw1UP8iyAlRBWwBNe6LXIfOMKoPXxYW9Y2//nY7+PhtDPn98PkhFU9lXpy7v85CfoarnUcqqJvKzfL98It8BsAKweKfvqTCpoatuYR45nMW3t9dOdOn+QLJrK7ZvVhrq7sayNMNrCBDH52SEqa/PE6Ol+0UsMX08Ea+ul5fhwVTX6uch+S5TxP6/hFhm8FQssa0+ncPUZzyCbQ60tYXBpYKq4/of53xgjLFRWR5TFokScU/NgbWOHsoMXJpCBgscAWCNDC6Koze57X7f7JOpZbbyugrLEBqdQCVGYe2xGZm+4tLyctpZ8FD2wN6+vXFhbMn3bSFRJVEOUhdr6cJEU7pQBTh9hCtnFSCnrWRqVVlZr1sTxj5+1QQW4nLaiWXzju+xBytoGUfE49Z4gBdcQWIbWB4mjENo/yAjS/TOCoroCezdjKIq2ba///e3bz87pCrVFvQscfslBwcdDYPUiQkpSICoANgjWhZtER2tF94Mstq+YtysrK41KGGKFxnV9ff2XhtWhtGqnrbAq8j2QP9sYMIY9Ub0fGsATKIvR6jUNn/EySMYQdWXsSr8abcH1WHeIy0qrphvr5VsoI2qyCcqHFRC9p43KU8KrWgx9g7Bvek2047fHzSAxrE/r7DwyWF2Z0CBUIdQv7VpFWxQaWW0Gsevq9CxaeXGvz4S15VuZ9yglbPkAGlTDYRlaRlQmv/ePU10rs+EJSxhXN7TEpoA5dNJq2zeqrc5vrP0vxMLsJObCOjx7yCpSVnUCZekEoWkZZe0/UVurz55fRbJyjmWEZUSlgRlVaZEhrSWZRKetlKgGKiusfO9pT2cj2FTVcFigLXunzH7fWwXjAssqC0htQFqgKGGYASzU1rKjq2LtaHmNLUM1mA8r7VV9XBWwak4Cy2gLItZ+7/srnq74MiiU3RQKq6y2LdzVIi3CqrZPjwsF9rY8jbKSsgJM20hWp/Asq61Pcwix/4zWwY2vGryyhN0/Y2wwBl+wy2srTlxdWBxJjljWA2AxaTV+DWxIDnWiAlwngWW0Ze/s49vBOLe7rgG2hPphrp0A14IRLITo06ptogdp9TY/g5WVSFXc1wOuxWney91M4iqxErLcDnvnYFdGWIBMGVYQTAtM823NJtE3gh1fGHE9PAmsHiSNaFv5+TulsqxvOVR7XvWtIllZUgBIuCn0w4jawry1rLl18YrLfmIgrKb/oFbVBFQng4W+FUh5Wa2ItVtZbUBROikQQu6DHX46sSZ6YFxay2GwGp4XmjgveGWdFhbSYstgcPcI6FJiAAASE0lEQVRQNIBZaWIGijP3yOJ3zuUJrM6VzXXweEttAKwmmr8tD1aoqSYM4uKEPwmG0Nq4jMWmUOAiuAFdCcQUxhA/2rXpNbGrvXeBdXVuHLNhNdtD80eiFVGWlCeEZXyLnTvTgAUrILRX2I3iI9JUAVtEKy3UVnShprrwSz0EVjKruxXQ6coP4UmVBdpiLXLQlYIO2ccrE0VVawaxcN6lGDNVJGjV4eiH9Db5sJreZpmJinECaZ0UltfWph+wbCVj94PWs4qIkGiDifV2PmRx7IysrMByYTmv2vZUZXn5LHoeWJggrFWtwrmzcr0oqqpVrfAzVxR9ajuBnU1bp/eJ/mCxyx9Db+69FFr5dEVRyZPDsrT4aWrQFZbIkBsEiiteCp2yIKQWpN86FCKWy2xYyW6hYcHKfSBPbvDBt1jZ/mjrmLAOqp6tk2URgykw1Z/6XdM1saN53hlYPqwmHkNnV02wdmlFBR/cXZ78x9AirfhAFVVlHZ0aFqyJ7Y6jcwkfsrzRFdv+kI4rX1l/RuUEFSZRympx+p9w7GgBscfQyeB2MK0sl0a9siyuVAfhZQXtc6ayFgcmkGwGvbSke9ydHtbI0lIrUrmbGVT+ZCINrGWDCKPo+61+5HLOlQVruqj6siKJoUFhyWBYAGt6clhWWyt+kANHXgJ9XbXUrLyiRG8Qd3rpJNpKKmwArMQEelQkZUmUl4F1hh9ib7QFth4OCKEYRc+yWaFVTFHCK4poS7TK561umR7GHFij74skqortcGSQlQEm5d3NGWBdXFxqWuSGBhhCJURR9MOooFGLwCpsM6hh/a5TsAYoa3T1r2jLTLbNTUDlE5a9ZuNzwLrw2jLhARq+X86wqDfxrNUzMnCuonD9Fjh6F81jFqzLBeHkHcuLSpIBNJqytMrZ5ehstADW4wZEFQ4Hv3IplyDImuiP+FFdWbB+zMLWpgp7G/2AkSNRFJFZXPOr88BC34JbioATFsi0wHJBVJiQJeKkhToT9ouifmuosi4AVt/VUVmNdJx8aLDXmUzL0wKbh+8bTijcrKVVJrCDUNGqyPstrqw8WOOblLHTnkHa5EAcS8r1mUwLaYGqrLebUewzOpRQhbctVFbc2HjHz4KFEb6i5UKvkeETKM86h4GWu5lB4bGXlY7oc1IJXm59DLT43qfOh1Vxw/Lbm/QMlrIszxNLKS17WI8nN2n9GMcSETIVBhG+OJxVW2SWWBas0XRBW74qLvuca+EQVo7WGefQ+ZaAATTDJBIxQdjaPSEx5feJqqDniR3ND3nKurzbVtGpoI+fvpIJU1jio6zm30dnpaVshSASXV+UT6nAqMUXzuxs3iJxq8tT1uWC1XxEYBVtsIhflRLm8P580gJaQrV2Z6iK/jYwlA5t6t9cA4Fx9rfb+Xh95SlLZwfaWjWVbLysnLhoHnXKktX5LN7Ran2PwDCFIot8NqjLHZbZSWT9lh/DPGXp7CCdR5HkwHVFUFla8szSsi4P37Ld8YiCHUf/IT8UeMBvx9in086ZVpc9hpPpXRXvnoOkYAL9QljapRCe5VmlBbR+qVan0h1fDnloJ5m+JTUgftIBM0YftYF5yhpdLXp6on0Mze0WF8Bay7vZOaUF+0TjW5jgRTJOaY8SCXIicHL7xIL3W5ljqB2+Cmc4TcTLSUwGwypRWmtZnnNBdLTghiIRO1PUv8M2sWDBwX+NzhgC/4bBG0mlmbAuftykMrskyyBPWGBZa7kuy7tzdQ+EljL3qhX+kEuIY7Y+9r4kP5IGF79/KxcWmJYvZWQ4wmH5ypKynoUKO7PHO1pws7vpinHLp0Xy94cXCXi+gxgwhmBatDqWdPtMAlYp0aykxEEsy/V6Pj0/LfNtKvVoJol2ovE+cRcXhIwV3lH5O/hWLqzLWWxU9JCQ0iq9sNC5jG1Nzktrgr7lTriCHSlCSdBKXvGzV8G0Ze8NzIZlkhbt2yUVVkwKJ3FtnuXaDOLsanTxf/EtkEbRMvOmdbP4w3F13G91+bDMCY+MhSXjUqaM10KYQzkfQGs0Gn3F5TFdujrB16RhZVQpz1dMWf4em1xYbA5lhAuAlfxhRLWG14chtEaX08sjaYW8hSIr4v1PwuEVKylYvzVAWaPxTcRKVgd0FeI7sCo1rTKX1uTqdn6c5QEtPIaAb3f3x9OK5G+LqA3MhgVzSJo+CwpRVSEyBFpISssLXvNojae3t0+3t8fS+qUK51voUja779KpQSSaU8heeJ44AJYO8bKJ+/aoRi5tYCDCkmvgZWh9H39Zzfe3T/o6ntaj/jYdrSMbeUFKVbelBnVpbWXD0uvhXcOPJ6SkrEpuWWYpRHWtgdZ6Ppt+7Qc4ji41q5enp5eX2+Mm0SQIE0ahaFbpLgvVJZzszG/6/yDut+p8WKMrHeJlQxJDf/ccRGWVVeIUmqt8mN9ffSFwjb/Pb180K8PreG35xKQOnYmlT1zdEPrLZPl8WBc/ZjJq26XXVhmCu9/nrO2KuMYLbP5ocenVd377+voE18vr8bR22G/tFHekHasf1CF7xzICnprWAFi4P/TZiuqqlL0toZtBMCyA9fCg4+n99yNwjUbjqZWV1hX88vQFl29dhEjeDn+wDPSoXK3fXufD0n/YMj4frDgrNolrqiszhlpb2rlmf4drNBlPjaxeYALx+fTyhUmENlCIg86+a/HgJ/xFDOHvfRC+5jJvzfJtwNt43Nw5s5L9ZZBpStplkPPS6jJGr4dxMjosqqv7+e0zyOn1+cldL1/xrfZw5dD7GwShq+f7b+N6Q2CZ6kGy4C57wd0qax1CVgRLPzUuPY3j3j5G72zGl05Uz0/P1t2f3CAeTcv0UiSR28r5byZyJ4IcbYgYAuticnMXWneuLRm1DTSUMlRw3Rle0++X4/FkMjLXZDIZj6+m9zON6vn55fnFXd6zvkgLd9M75TpRyKnh6HB3jIu1g2Bpacn+zTJS0sAQMkOIWLgYPoTnw8Prej6fGWT6mpqX2b3mdKvn75nCeqIm/3Kky0/ifmsnxIGB3P0psKpBsLRrrdlJDstYss/K03pAXERcmtfD66vOBHO87m7/197V9CaOBNGwBGEmCkJIOEKcMHK0QpbQ+GD3wVLfkfj/f2e7+rOqus0ANtFqEq82yaz2sPvy6vWrV9VG1OrPtcGqtlA9xq3efCti1SVRnn6LcFgZgjENnDrw8qNoBcUqUswCpEoQfKF/BpD0F8CKVKEVLf1DfTu3rudbUXtYRXcxBjNLqVZxOHCl8k0hyxu0d0d1iLCy3DLwCA0T/KFtMVwn83cg1l3cYvlWVbGCO/uUSx+HPqzp/N2xgcxS1MpTviF4d9cT0irUSAWsZCkMVsJ8hQJ030WoQouVF632PpVn+Rbuf7reKH5MZukDMZVgFThywNTCCi8tVE6yNECGX74EqcC3vgI9v+7QLZRv7aveCuzzYoOZpai1OjR8WcYNc5zJgkBZUktqqWXx0lhZ5QI2aVJ5yBy1Tr4K2xOqxdvRwvlWmE2fk1JvDD3ZxRnMrJc5dIimv4FqLIjAG+cOKZYsUljJcBKWZW2p5bEKAo+5RY7DO9H6VOrel2+lr9hhyl0Gg/Xy8Us2h4KOCaPD0Hc7xGVJxCwNmAh41eFAbJFsBY+FEbvHb/F8i3Gq613jGl6GEItvi0NTsAm0mxK63F2yXocB5cAKSAl7KCaYdWqxwt/rt+yQiwcQfA0Crwg6CIeDBc60cYYh2IUQY7kmOnCrRJJFkcJw+aclttSTCjGrvT2x+cT5VnrNpkfqx2AWRDUWLdoRNrglbJLdDvZYlFmWXbVxDgnNailcj+VbzKKfA6vQ6k3g2AhgvSzeVSFagMyiLUlmcPRexL5B4m4nwIUf5LSQuj+k8nG+db4i9mc8uR6FWVCIBW6g4fvBTVYbHzdwzZJMtIwjLSmzrH8P5gEz61G0XL7V4bvT1R9s1kjMgkIsDiwZtUVImRVpFrWk2DtY6yA8Wix3iAzE4/lWxUuyS1rVkZg1VydiOAllg6Y5wV/hxMEplkMMkaoMx6EXeSZaqKNmaL3d3Ccav/Vp7iCevfPq2FUxvBFRdaOABaPiLZpQSLcEQjxDiP1KKVO+oceUuk46xDRO3eNSvGNCdtH78tH+FtEwshzRVSOBNQfZKhBeZPZFAuUS5zOo16FFaMtQJJl1aoPTah9Ay+VbnX/9n4GrSvsHN3sci1latkjgwEK/okfc0VmITsOa+Cx2HBIbT587slOUL8f51vnCOFaNySzjH2B32zHLjSh46OfR4k10KYi8Y8B0qhXxqk0YiMfzra7q3ZZ3ujUeWDBzDWZUaxaqQ4nSGdwUBoUX1Gfh3tAUYU3L8JQowkH5Fr2+Eu1MjlmGGq28CdkM7gm5yXIpKZH4kjY7tBRRtOzrMMksjVZ2o251aLvvfGWSuB+dWeq3tcsLnMzwsU7BipD7d1KIdbI3JMRK2Yfb0YLOpwqJzYV2h1qviN8aOGRN7E9tnV41XNujrpCGMyU/CyOhJ3FpGwxEohJXt+9v0XyrZ4/SBPKqDKejvlsO0DJWq0li5aYU/iiUUatjoaprFjxQT4rz0rgS83s2knC+1XGnFe75jA2WQctcaYK/Ghl5Uq9WVxTLwcVki4wtyFgs5tZtl8+yK/lWdDRWY4Ol0dKGlJ6EEtt3pFgso4m8Q8JnOWaRyXQbNz43/W/xfOvaNjP4rMnLqM98sttawUo5UjoCI71OD7FSHv7PzFrduCQX51vn3rcDKrDGvkezALSkkXncQIc+Giv8NWax7rDFVovMpaMucXn7zTOSb/kbKuHlBej9LF21Gf3S0fzj11YSVkWtDmdW1BcGWmHNQvlf29sdAla7O27pxftbFdetyjFrfLBAt3JrSMNeJNOsMNyh1KJ4mWF+GzstNmltqV7t7tqCDvkW9aM8n7+MaeAjlZcS2Xgi8bKkXbRHill4wRKtOHlIlODy3ht62dTfT6zsx/LAzxcSCyr2/R5b3x1ab7kxWqV1EQVLsiQ17wnvQJvD1IEYpha2IFuzanp3rSi0rN+CzzGi40R/GVZht37SPcmP9xxEvpTR8gxay5LJmWHiLAzMYkENppVZE1lNH7jLaKav5h75J+SmlVuUtDmXNvlPqUI7el2Z7rDEK1ncOkhmSvt8ViJZpi7LbZk+eAHbvPUHADt3x+6otBzsRNiG1xH05mkXcOeLiTkUrbYXkkwqJG116lRvGKjV+jKkIk/j5Rbk6tFrW6DynXt3ML2/ad4fcpw99WUnH2+5kEVBAmW278fNQ8lNVp/Ae3lvUUiavz/+u9d+qzOvsKEpvN3jmq2ferN7nk1XW1WGDq2SRMpsN6ukDt5zq7cMww6g+bbMd4PegaDzLfPpMu4dbdU+vPPoMnvyGxbAzecNGYKVvdNV6uB9CYq0wLPFNh00ZIM/EfCoDddlb1/C5d6VpP7B+XnqjgeKK1AuvVnLh2DSrd5a8xAx69rw8GRFy9JquRuuKIvp5viphz1ddzzqt/8YAVN2dPaavTz/WUzeVtuyARfhFmeSAU3Zw6xoxBNymlNtLqm0Il8NpZX9b93M9r/trOe815+GCHVZzdbTr8DKwJWL0otWgdRd9galxGiJVAJ4EgYpEPa3yVjzvNfZWctWePa/j/+8ZvOXL3oWIPSluTTXo1oRs5KTQ8otDVXdKmEf8deeTdf6rrCWLv31c7b5KlqZX9j84321DPfAPKd6NatGTqsvATydhFDWapwKxEf4Zvbv0b5JdzbbrL+QVki6cjq5v+azBK5AMrIIkiXq8aEycE1e1xv9rF+nky+Hypw1Ci4U/PHWsExrVjzDd3CJZf4EqEwlLLJskmWJW31fVoyGXTJK30WsWXUqKiXMWj4Nqv/LA9oVtF57L5s3hHEYmRtquPQlHrvwoKklalV/Stb/ZqjMyaivptalbKRbCHGpgyDxn2hxCRrkNFLCkGrxt0NlqvFjqvGSOpZx8QxCy2+V+mtiUI3KqgOCLSA1yb4DUgSvrbYSNbpsWCYyeCCU8lOaW8Cpt+k3QsrhpW9AA2CWXLWguXJtL7IKW4MA1E5xavHdoPKGRhFspRADWkkMV+0WQ+D8g5vA6l97n35XoJCjmb7rS/Y5YMYaRGCTvpY/zb45UKQmgWQ7hRl5dj8wXaPZQr/PQeGTLfQLHn5A+Xl+np/n53nC8x/tAMljWkeBnAAAAABJRU5ErkJggg==";const resolveWalletUrl$3=(e,t)=>{if(t)return t;switch(e.networkId){case"mainnet":return"https://app.mynearwallet.com";case"testnet":return"https://testnet.mynearwallet.com";default:throw new Error("Invalid wallet url")}},setupWalletState$1=(e,t)=>__awaiter$14(void 0,void 0,void 0,function*(){const n=new browserIndex$9.keyStores.BrowserLocalStorageKeyStore,o=yield browserIndex$9.connect(Object.assign(Object.assign({keyStore:n,walletUrl:e.walletUrl},t),{headers:{}}));return{wallet:new browserIndex$9.WalletConnection(o,"near_app"),keyStore:n}}),MyNearWallet=({metadata:e,options:t,store:n,params:o,logger:c,id:a})=>__awaiter$14(void 0,void 0,void 0,function*(){const u=yield setupWalletState$1(o,t.network),h=()=>__awaiter$14(void 0,void 0,void 0,function*(){const b=u.wallet.getAccountId(),y=u.wallet.account();if(!b||!y)return[];const w=yield y.connection.signer.getPublicKey(y.accountId,t.network.networkId);return[{accountId:b,publicKey:w?w.toString():""}]}),v=b=>__awaiter$14(void 0,void 0,void 0,function*(){const y=u.wallet.account(),{networkId:w,signer:O,provider:P}=y.connection,C=yield O.getPublicKey(y.accountId,w);return Promise.all(b.map((x,D)=>__awaiter$14(void 0,void 0,void 0,function*(){const k=x.actions.map(V=>createAction$2(V)),B=yield y.accessKeyForTransaction(x.receiverId,k,C);if(!B)throw new Error(`Failed to find matching key for transaction sent to ${x.receiverId}`);const q=yield P.block({finality:"final"});return browserIndex$9.transactions.createTransaction(y.accountId,browserIndex$9.utils.PublicKey.from(B.public_key),x.receiverId,B.access_key.nonce+D+1,k,browserIndex$9.utils.serialize.base_decode(q.header.hash))})))});return{signIn({contractId:b,methodNames:y,successUrl:w,failureUrl:O}){return __awaiter$14(this,void 0,void 0,function*(){const P=yield h();return P.length?P:(yield u.wallet.requestSignIn({contractId:b,methodNames:y,successUrl:w,failureUrl:O}),h())})},signOut(){return __awaiter$14(this,void 0,void 0,function*(){u.wallet.isSignedIn()&&u.wallet.signOut()})},getAccounts(){return __awaiter$14(this,void 0,void 0,function*(){return h()})},verifyOwner(){return __awaiter$14(this,void 0,void 0,function*(){throw new Error(`Method not supported by ${e.name}`)})},signMessage({message:b,nonce:y,recipient:w,callbackUrl:O,state:P}){return __awaiter$14(this,void 0,void 0,function*(){if(c.log("sign message",{message:b}),a!=="my-near-wallet")throw Error(`The signMessage method is not supported by ${e.name}`);const C=typeof window<"u"?window.location.href:"",x=O||C;if(!x)throw new Error(`The callbackUrl is missing for ${e.name}`);const D=new URL(o.walletUrl);D.pathname="sign-message",D.searchParams.append("message",b),D.searchParams.append("nonce",y.toString("base64")),D.searchParams.append("recipient",w),D.searchParams.append("callbackUrl",x),P&&D.searchParams.append("state",P),window.location.replace(D.toString())})},signAndSendTransaction({signerId:b,receiverId:y,actions:w,callbackUrl:O}){return __awaiter$14(this,void 0,void 0,function*(){c.log("signAndSendTransaction",{signerId:b,receiverId:y,actions:w,callbackUrl:O});const{contract:P}=n.getState();if(!u.wallet.isSignedIn()||!P)throw new Error("Wallet not signed in");return u.wallet.account().signAndSendTransaction({receiverId:y||P.contractId,actions:w.map(C=>createAction$2(C)),walletCallbackUrl:O})})},signAndSendTransactions({transactions:b,callbackUrl:y}){return __awaiter$14(this,void 0,void 0,function*(){if(c.log("signAndSendTransactions",{transactions:b,callbackUrl:y}),!u.wallet.isSignedIn())throw new Error("Wallet not signed in");return u.wallet.requestSignTransactions({transactions:yield v(b),callbackUrl:y})})},buildImportAccountsUrl(){return`${o.walletUrl}/batch-import`}}});function setupMyNearWallet({walletUrl:e,iconUrl:t=icon$5,deprecated:n=!1,successUrl:o="",failureUrl:c=""}={}){return a=>__awaiter$14(this,void 0,void 0,function*(){return{id:"my-near-wallet",type:"browser",metadata:{name:"MyNearWallet",description:"NEAR wallet to store, buy, send and stake assets for DeFi.",iconUrl:t,deprecated:n,available:!0,successUrl:o,failureUrl:c,walletUrl:resolveWalletUrl$3(a.options.network,e)},init:u=>MyNearWallet(Object.assign(Object.assign({},u),{params:{walletUrl:resolveWalletUrl$3(u.options.network,e)}}))}})}var build={},wallet={},browserIndex$6={},browserIndex$5={},keystore$5={},lib$t={},in_memory_key_store$5={},lib$s={},constants$8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeySize=e.KeyType=void 0,function(t){t[t.ED25519=0]="ED25519"}(e.KeyType||(e.KeyType={})),function(t){t[t.SECRET_KEY=32]="SECRET_KEY"}(e.KeySize||(e.KeySize={}))})(constants$8);var key_pair$5={},key_pair_base$2={};Object.defineProperty(key_pair_base$2,"__esModule",{value:!0}),key_pair_base$2.KeyPairBase=void 0;let KeyPairBase$2=class{};key_pair_base$2.KeyPairBase=KeyPairBase$2;var key_pair_ed25519$2={},lib$r={},constants$7={},__importDefault$w=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(constants$7,"__esModule",{value:!0}),constants$7.DEFAULT_FUNCTION_CALL_GAS=void 0;const bn_js_1$l=__importDefault$w(bnExports$6);constants$7.DEFAULT_FUNCTION_CALL_GAS=new bn_js_1$l.default("30000000000000");var errors$e={},errors$d={},logger$8={},logger$7={},console_logger$2={};Object.defineProperty(console_logger$2,"__esModule",{value:!0}),console_logger$2.ConsoleLogger=void 0;let ConsoleLogger$2=class{constructor(e){this.logLevels=e,this.isLevelEnabled=t=>this.logLevels.includes(t)}print(e,t,...n){switch(e){case"error":case"fatal":return console.error(t,...n);case"warn":return console.warn(t,...n);case"log":return console.log(t,...n);case"debug":case"verbose":return console.debug(t,...n)}}verbose(e,...t){this.isLevelEnabled("verbose")&&this.print("verbose",e,...t)}debug(e,...t){this.isLevelEnabled("debug")&&this.print("debug",e,...t)}log(e,...t){this.isLevelEnabled("log")&&this.print("log",e,...t)}warn(e,...t){this.isLevelEnabled("warn")&&this.print("warn",e,...t)}error(e,...t){this.isLevelEnabled("error")&&this.print("error",e,...t)}fatal(e,...t){this.isLevelEnabled("fatal")&&this.print("fatal",e,...t)}};console_logger$2.ConsoleLogger=ConsoleLogger$2;var define_process_env_default$2={},_a$2;Object.defineProperty(logger$7,"__esModule",{value:!0}),logger$7.Logger=void 0;const console_logger_1$2=console_logger$2,DEFAULT_LOG_LEVELS$2=["verbose","debug","log","warn","error","fatal"],DEFAULT_LOGGER$2=typeof process$1$5=="object"&&define_process_env_default$2.NEAR_NO_LOGS?void 0:new console_logger_1$2.ConsoleLogger(DEFAULT_LOG_LEVELS$2);let Logger$2=class{static error(e,...t){var n;(n=this.instanceRef)===null||n===void 0||n.error(e,...t)}static log(e,...t){var n;(n=this.instanceRef)===null||n===void 0||n.log(e,...t)}static warn(e,...t){var n;(n=this.instanceRef)===null||n===void 0||n.warn(e,...t)}static debug(e,...t){var n,o;(o=(n=this.instanceRef)===null||n===void 0?void 0:n.debug)===null||o===void 0||o.call(n,e,...t)}static verbose(e,...t){var n,o;(o=(n=this.instanceRef)===null||n===void 0?void 0:n.verbose)===null||o===void 0||o.call(n,e,...t)}static fatal(e,...t){var n,o;(o=(n=this.instanceRef)===null||n===void 0?void 0:n.fatal)===null||o===void 0||o.call(n,e,...t)}};logger$7.Logger=Logger$2,_a$2=Logger$2,Logger$2.instanceRef=DEFAULT_LOGGER$2,Logger$2.overrideLogger=e=>{_a$2.instanceRef=e},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var t=logger$7;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return t.Logger}})}(logger$8),Object.defineProperty(errors$d,"__esModule",{value:!0}),errors$d.logWarning=void 0;const logger_1$5=logger$8;function logWarning$2(...e){const[t,...n]=e;logger_1$5.Logger.warn(t,...n)}errors$d.logWarning=logWarning$2;var rpc_errors$5={},mustache$2={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(commonjsGlobal$7,function(){/*!
* mustache.js - Logic-less {{mustache}} templates with JavaScript
* http://github.com/janl/mustache.js
*/var n=Object.prototype.toString,o=Array.isArray||function(p){return n.call(p)==="[object Array]"};function c(p){return typeof p=="function"}function a(p){return o(p)?"array":typeof p}function u(p){return p.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h(p,m){return p!=null&&typeof p=="object"&&m in p}function v(p,m){return p!=null&&typeof p!="object"&&p.hasOwnProperty&&p.hasOwnProperty(m)}var b=RegExp.prototype.test;function y(p,m){return b.call(p,m)}var w=/\S/;function O(p){return!y(w,p)}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function C(p){return String(p).replace(/[&<>"'`=\/]/g,function(m){return P[m]})}var x=/\s*/,D=/\s+/,k=/\s*=/,B=/\s*\}/,q=/#|\^|\/|>|\{|&|=|!/;function V(p,m){if(!p)return[];var _=!1,A=[],I=[],T=[],S=!1,d=!1,E="",M=0;function U(){if(S&&!d)for(;T.length;)delete I[T.pop()];else T=[];S=!1,d=!1}var F,N,L;function H(Te){if(typeof Te=="string"&&(Te=Te.split(D,2)),!o(Te)||Te.length!==2)throw new Error("Invalid tags: "+Te);F=new RegExp(u(Te[0])+"\\s*"),N=new RegExp("\\s*"+u(Te[1])),L=new RegExp("\\s*"+u("}"+Te[1]))}H(m||fe.tags);for(var Y=new ce(p),Z,de,he,re,ae,be;!Y.eos();){if(Z=Y.pos,he=Y.scanUntil(F),he)for(var ye=0,we=he.length;ye<we;++ye)re=he.charAt(ye),O(re)?(T.push(I.length),E+=re):(d=!0,_=!0,E+=" "),I.push(["text",re,Z,Z+1]),Z+=1,re===`
`&&(U(),E="",M=0,_=!1);if(!Y.scan(F))break;if(S=!0,de=Y.scan(q)||"name",Y.scan(x),de==="="?(he=Y.scanUntil(k),Y.scan(k),Y.scanUntil(N)):de==="{"?(he=Y.scanUntil(L),Y.scan(B),Y.scanUntil(N),de="&"):he=Y.scanUntil(N),!Y.scan(N))throw new Error("Unclosed tag at "+Y.pos);if(de==">"?ae=[de,he,Z,Y.pos,E,M,_]:ae=[de,he,Z,Y.pos],M++,I.push(ae),de==="#"||de==="^")A.push(ae);else if(de==="/"){if(be=A.pop(),!be)throw new Error('Unopened section "'+he+'" at '+Z);if(be[1]!==he)throw new Error('Unclosed section "'+be[1]+'" at '+Z)}else de==="name"||de==="{"||de==="&"?d=!0:de==="="&&H(he)}if(U(),be=A.pop(),be)throw new Error('Unclosed section "'+be[1]+'" at '+Y.pos);return te(ee(I))}function ee(p){for(var m=[],_,A,I=0,T=p.length;I<T;++I)_=p[I],_&&(_[0]==="text"&&A&&A[0]==="text"?(A[1]+=_[1],A[3]=_[3]):(m.push(_),A=_));return m}function te(p){for(var m=[],_=m,A=[],I,T,S=0,d=p.length;S<d;++S)switch(I=p[S],I[0]){case"#":case"^":_.push(I),A.push(I),_=I[4]=[];break;case"/":T=A.pop(),T[5]=I[2],_=A.length>0?A[A.length-1][4]:m;break;default:_.push(I)}return m}function ce(p){this.string=p,this.tail=p,this.pos=0}ce.prototype.eos=function(){return this.tail===""},ce.prototype.scan=function(p){var m=this.tail.match(p);if(!m||m.index!==0)return"";var _=m[0];return this.tail=this.tail.substring(_.length),this.pos+=_.length,_},ce.prototype.scanUntil=function(p){var m=this.tail.search(p),_;switch(m){case-1:_=this.tail,this.tail="";break;case 0:_="";break;default:_=this.tail.substring(0,m),this.tail=this.tail.substring(m)}return this.pos+=_.length,_};function Q(p,m){this.view=p,this.cache={".":this.view},this.parent=m}Q.prototype.push=function(p){return new Q(p,this)},Q.prototype.lookup=function(p){var m=this.cache,_;if(m.hasOwnProperty(p))_=m[p];else{for(var A=this,I,T,S,d=!1;A;){if(p.indexOf(".")>0)for(I=A.view,T=p.split("."),S=0;I!=null&&S<T.length;)S===T.length-1&&(d=h(I,T[S])||v(I,T[S])),I=I[T[S++]];else I=A.view[p],d=h(A.view,p);if(d){_=I;break}A=A.parent}m[p]=_}return c(_)&&(_=_.call(this.view)),_};function ne(){this.templateCache={_cache:{},set:function(p,m){this._cache[p]=m},get:function(p){return this._cache[p]},clear:function(){this._cache={}}}}ne.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},ne.prototype.parse=function(p,m){var _=this.templateCache,A=p+":"+(m||fe.tags).join(":"),I=typeof _<"u",T=I?_.get(A):void 0;return T==null&&(T=V(p,m),I&&_.set(A,T)),T},ne.prototype.render=function(p,m,_,A){var I=this.parse(p,A),T=m instanceof Q?m:new Q(m,void 0);return this.renderTokens(I,T,_,p,A)},ne.prototype.renderTokens=function(p,m,_,A,I){for(var T="",S,d,E,M=0,U=p.length;M<U;++M)E=void 0,S=p[M],d=S[0],d==="#"?E=this.renderSection(S,m,_,A):d==="^"?E=this.renderInverted(S,m,_,A):d===">"?E=this.renderPartial(S,m,_,I):d==="&"?E=this.unescapedValue(S,m):d==="name"?E=this.escapedValue(S,m):d==="text"&&(E=this.rawValue(S)),E!==void 0&&(T+=E);return T},ne.prototype.renderSection=function(p,m,_,A){var I=this,T="",S=m.lookup(p[1]);function d(U){return I.render(U,m,_)}if(S){if(o(S))for(var E=0,M=S.length;E<M;++E)T+=this.renderTokens(p[4],m.push(S[E]),_,A);else if(typeof S=="object"||typeof S=="string"||typeof S=="number")T+=this.renderTokens(p[4],m.push(S),_,A);else if(c(S)){if(typeof A!="string")throw new Error("Cannot use higher-order sections without the original template");S=S.call(m.view,A.slice(p[3],p[5]),d),S!=null&&(T+=S)}else T+=this.renderTokens(p[4],m,_,A);return T}},ne.prototype.renderInverted=function(p,m,_,A){var I=m.lookup(p[1]);if(!I||o(I)&&I.length===0)return this.renderTokens(p[4],m,_,A)},ne.prototype.indentPartial=function(p,m,_){for(var A=m.replace(/[^ \t]/g,""),I=p.split(`
`),T=0;T<I.length;T++)I[T].length&&(T>0||!_)&&(I[T]=A+I[T]);return I.join(`
`)},ne.prototype.renderPartial=function(p,m,_,A){if(_){var I=c(_)?_(p[1]):_[p[1]];if(I!=null){var T=p[6],S=p[5],d=p[4],E=I;return S==0&&d&&(E=this.indentPartial(I,d,T)),this.renderTokens(this.parse(E,A),m,_,E)}}},ne.prototype.unescapedValue=function(p,m){var _=m.lookup(p[1]);if(_!=null)return _},ne.prototype.escapedValue=function(p,m){var _=m.lookup(p[1]);if(_!=null)return fe.escape(_)},ne.prototype.rawValue=function(p){return p[1]};var fe={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(p){l.templateCache=p},get templateCache(){return l.templateCache}},l=new ne;return fe.clearCache=function(){return l.clearCache()},fe.parse=function(p,m){return l.parse(p,m)},fe.render=function(p,m,_,A){if(typeof p!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+a(p)+'" was given as the first argument for mustache#render(template, view, partials)');return l.render(p,m,_,A)},fe.escape=C,fe.Scanner=ce,fe.Context=Q,fe.Writer=ne,fe})})(mustache$2);var mustacheExports$2=mustache$2.exports,format$c={},Buffer$2=safeBufferExports$1.Buffer,baseX$2=function e(t){for(var n={},o=t.length,c=t.charAt(0),a=0;a<t.length;a++){var u=t.charAt(a);if(n[u]!==void 0)throw new TypeError(u+" is ambiguous");n[u]=a}function h(y){if(y.length===0)return"";for(var w=[0],O=0;O<y.length;++O){for(var P=0,C=y[O];P<w.length;++P)C+=w[P]<<8,w[P]=C%o,C=C/o|0;for(;C>0;)w.push(C%o),C=C/o|0}for(var x="",D=0;y[D]===0&&D<y.length-1;++D)x+=t[0];for(var k=w.length-1;k>=0;--k)x+=t[w[k]];return x}function v(y){if(y.length===0)return Buffer$2.allocUnsafe(0);for(var w=[0],O=0;O<y.length;O++){var P=n[y[O]];if(P===void 0)return;for(var C=0,x=P;C<w.length;++C)x+=w[C]*o,w[C]=x&255,x>>=8;for(;x>0;)w.push(x&255),x>>=8}for(var D=0;y[D]===c&&D<y.length-1;++D)w.push(0);return Buffer$2.from(w.reverse())}function b(y){var w=v(y);if(w)return w;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:v,decode:b}},basex$2=baseX$2,ALPHABET$2="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$2=basex$2(ALPHABET$2);(function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(e,"__esModule",{value:!0}),e.baseDecode=e.baseEncode=e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const n=t(bnExports$6),o=t(bs58$2);e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=new n.default("10",10).pow(new n.default(e.NEAR_NOMINATION_EXP,10));const c=[],a=new n.default(10);for(let C=0,x=new n.default(5);C<e.NEAR_NOMINATION_EXP;C++,x=x.mul(a))c[C]=x;function u(C,x=e.NEAR_NOMINATION_EXP){const D=new n.default(C,10);if(x!==e.NEAR_NOMINATION_EXP){const q=e.NEAR_NOMINATION_EXP-x-1;q>0&&D.iadd(c[q])}C=D.toString();const k=C.substring(0,C.length-e.NEAR_NOMINATION_EXP)||"0",B=C.substring(C.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,x);return b(`${w(k)}.${B}`)}e.formatNearAmount=u;function h(C){if(!C)return null;C=v(C);const x=C.split("."),D=x[0],k=x[1]||"";if(x.length>2||k.length>e.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${C}' as NEAR amount`);return y(D+k.padEnd(e.NEAR_NOMINATION_EXP,"0"))}e.parseNearAmount=h;function v(C){return C.replace(/,/g,"").trim()}function b(C){return C.replace(/\.?0*$/,"")}function y(C){return C=C.replace(/^0+/,""),C===""?"0":C}function w(C){const x=/(-?\d+)(\d{3})/;for(;x.test(C);)C=C.replace(x,"$1,$2");return C}function O(C){if(typeof C=="string"){const x=[];for(let D=0;D<C.length;D++)x.push(C.charCodeAt(D));C=new Uint8Array(x)}return o.default.encode(C)}e.baseEncode=O;function P(C){return new Uint8Array(o.default.decode(C))}e.baseDecode=P})(format$c);const GasLimitExceeded$2="Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName$2="Method name is empty",WasmerCompileError$2="Wasmer compilation error: {{msg}}",GuestPanic$2="Smart contract panicked: {{panic_msg}}",Memory$2="Error creating Wasm memory",GasExceeded$2="Exceeded the prepaid gas",MethodUTF8Error$2="Method name is not valid UTF8 string",BadUTF16$2="String encoding is bad UTF-16 sequence",WasmTrap$2="WebAssembly trap: {{msg}}",GasInstrumentation$2="Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex$2="{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex$2="Accessed invalid promise result index: {{result_idx}}",Deserialization$2="Error happened while deserializing the module",MethodNotFound$2="Contract method is not found",InvalidRegisterId$2="Accessed invalid register id: {{register_id}}",InvalidReceiptIndex$2="VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName$2="Method name is empty in contract call",CannotReturnJointPromise$2="Returning joint promise is currently prohibited",StackHeightInstrumentation$2="Stack instrumentation failed",CodeDoesNotExist$2="Cannot find contract code for account {{account_id}}",MethodInvalidSignature$2="Invalid method signature",IntegerOverflow$2="Integer overflow happened during contract execution",MemoryAccessViolation$2="MemoryAccessViolation",InvalidIteratorIndex$2="Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated$2="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId$2="VM Logic returned an invalid account id",Serialization$2="Error happened while serializing the module",CannotAppendActionToJointPromise$2="Actions can only be appended to non-joint promise.",InternalMemoryDeclared$2="Internal memory declaration has been found in the module",Instantiate$2="Error happened during instantiation",ProhibitedInView$2="{{method_name}} is not allowed in view calls",InvalidMethodName$2="VM Logic returned an invalid method name",BadUTF8$2="String encoding is bad UTF-8 sequence",BalanceExceeded$2="Exceeded the account balance",LinkError$2="Wasm contract link error: {{msg}}",InvalidPublicKey$2="VM Logic provided an invalid public key",ActorNoPermission$2="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState$2="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch$2="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow$2="Transaction gas or balance cost is too high",InvalidSignature$2="Transaction is not signed with the given public key",AccessKeyNotFound$2=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance$2="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance$2="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired$2="Transaction has expired",DeleteAccountStaking$2="Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist$2="Signer {{signer_id}} does not exist",TriesToStake$2="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists$2="The public key {{public_key}} is already used for an existing access key",InvalidSigner$2="Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed$2="The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess$2="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake$2="Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce$2="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists$2="Can't create a new account {{account_id}}, because it already exists",InvalidChain$2="Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist$2="Can't complete the action because account {{account_id}} doesn't exist",AccessKeyDoesNotExist$2="Can't complete the action because access key {{public_key}} doesn't exist",MethodNameMismatch$2="Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent$2="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance$2="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver$2="Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist$2="Account {{account_id}} tries to remove an access key that doesn't exist",Timeout$2="Timeout exceeded",Closed$2="Connection closed",require$$3$4={GasLimitExceeded:GasLimitExceeded$2,MethodEmptyName:MethodEmptyName$2,WasmerCompileError:WasmerCompileError$2,GuestPanic:GuestPanic$2,Memory:Memory$2,GasExceeded:GasExceeded$2,MethodUTF8Error:MethodUTF8Error$2,BadUTF16:BadUTF16$2,WasmTrap:WasmTrap$2,GasInstrumentation:GasInstrumentation$2,InvalidPromiseIndex:InvalidPromiseIndex$2,InvalidPromiseResultIndex:InvalidPromiseResultIndex$2,Deserialization:Deserialization$2,MethodNotFound:MethodNotFound$2,InvalidRegisterId:InvalidRegisterId$2,InvalidReceiptIndex:InvalidReceiptIndex$2,EmptyMethodName:EmptyMethodName$2,CannotReturnJointPromise:CannotReturnJointPromise$2,StackHeightInstrumentation:StackHeightInstrumentation$2,CodeDoesNotExist:CodeDoesNotExist$2,MethodInvalidSignature:MethodInvalidSignature$2,IntegerOverflow:IntegerOverflow$2,MemoryAccessViolation:MemoryAccessViolation$2,InvalidIteratorIndex:InvalidIteratorIndex$2,IteratorWasInvalidated:IteratorWasInvalidated$2,InvalidAccountId:InvalidAccountId$2,Serialization:Serialization$2,CannotAppendActionToJointPromise:CannotAppendActionToJointPromise$2,InternalMemoryDeclared:InternalMemoryDeclared$2,Instantiate:Instantiate$2,ProhibitedInView:ProhibitedInView$2,InvalidMethodName:InvalidMethodName$2,BadUTF8:BadUTF8$2,BalanceExceeded:BalanceExceeded$2,LinkError:LinkError$2,InvalidPublicKey:InvalidPublicKey$2,ActorNoPermission:ActorNoPermission$2,LackBalanceForState:LackBalanceForState$2,ReceiverMismatch:ReceiverMismatch$2,CostOverflow:CostOverflow$2,InvalidSignature:InvalidSignature$2,AccessKeyNotFound:AccessKeyNotFound$2,NotEnoughBalance:NotEnoughBalance$2,NotEnoughAllowance:NotEnoughAllowance$2,Expired:Expired$2,DeleteAccountStaking:DeleteAccountStaking$2,SignerDoesNotExist:SignerDoesNotExist$2,TriesToStake:TriesToStake$2,AddKeyAlreadyExists:AddKeyAlreadyExists$2,InvalidSigner:InvalidSigner$2,CreateAccountNotAllowed:CreateAccountNotAllowed$2,RequiresFullAccess:RequiresFullAccess$2,TriesToUnstake:TriesToUnstake$2,InvalidNonce:InvalidNonce$2,AccountAlreadyExists:AccountAlreadyExists$2,InvalidChain:InvalidChain$2,AccountDoesNotExist:AccountDoesNotExist$2,AccessKeyDoesNotExist:AccessKeyDoesNotExist$2,MethodNameMismatch:MethodNameMismatch$2,DeleteAccountHasRent:DeleteAccountHasRent$2,DeleteAccountHasEnoughBalance:DeleteAccountHasEnoughBalance$2,InvalidReceiver:InvalidReceiver$2,DeleteKeyDoesNotExist:DeleteKeyDoesNotExist$2,Timeout:Timeout$2,Closed:Closed$2},schema$5={AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},AltBn128InvalidInput:{name:"AltBn128InvalidInput",subtypes:[],props:{msg:""}},BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DelegateActionExpired:{name:"DelegateActionExpired",subtypes:[],props:{}},DelegateActionInvalidNonce:{name:"DelegateActionInvalidNonce",subtypes:[],props:{ak_nonce:"",delegate_nonce:""}},DelegateActionInvalidSignature:{name:"DelegateActionInvalidSignature",subtypes:[],props:{}},DelegateActionMustBeOnlyOne:{name:"DelegateActionMustBeOnlyOne",subtypes:[],props:{}},DelegateActionNonceTooLarge:{name:"DelegateActionNonceTooLarge",subtypes:[],props:{delegate_nonce:"",upper_bound:""}},DelegateActionSenderDoesNotMatchTxReceiver:{name:"DelegateActionSenderDoesNotMatchTxReceiver",subtypes:[],props:{receiver_id:"",sender_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteAccountWithLargeState:{name:"DeleteAccountWithLargeState",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},ECRecoverError:{name:"ECRecoverError",subtypes:[],props:{msg:""}},Ed25519VerifyInvalidInput:{name:"Ed25519VerifyInvalidInput",subtypes:[],props:{msg:""}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},IndirectCallToNull:{name:"IndirectCallToNull",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded"],props:{}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NonceTooLarge:{name:"NonceTooLarge",subtypes:[],props:{tx_nonce:"",upper_bound:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TooManyFunctions:{name:"TooManyFunctions",subtypes:[],props:{}},TooManyLocals:{name:"TooManyLocals",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TransactionSizeExceeded:{name:"TransactionSizeExceeded",subtypes:[],props:{limit:"",size:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},UnsupportedProtocolFeature:{name:"UnsupportedProtocolFeature",subtypes:[],props:{protocol_feature:"",version:""}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},Closed:{name:"Closed",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}},require$$4$2={schema:schema$5};var __importDefault$v=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rpc_errors$5,"__esModule",{value:!0}),rpc_errors$5.getErrorTypeFromErrorMessage=rpc_errors$5.formatError=rpc_errors$5.parseResultError=rpc_errors$5.parseRpcError=rpc_errors$5.ServerError=void 0;const types_1$D=lib$F,mustache_1$2=__importDefault$v(mustacheExports$2),format_1$6=format$c,error_messages_json_1$2=__importDefault$v(require$$3$4),rpc_error_schema_json_1$2=__importDefault$v(require$$4$2),mustacheHelpers$2={formatNear:()=>(e,t)=>(0,format_1$6.formatNearAmount)(t(e))};let ServerError$2=class extends types_1$D.TypedError{};rpc_errors$5.ServerError=ServerError$2;let ServerTransactionError$2=class extends ServerError$2{};function parseRpcError$2(e){const t={},n=walkSubtype$2(e,rpc_error_schema_json_1$2.default.schema,t,""),o=new ServerError$2(formatError$2(n,t),n);return Object.assign(o,t),o}rpc_errors$5.parseRpcError=parseRpcError$2;function parseResultError$2(e){const t=parseRpcError$2(e.status.Failure),n=new ServerTransactionError$2;return Object.assign(n,t),n.type=t.type,n.message=t.message,n.transaction_outcome=e.transaction_outcome,n}rpc_errors$5.parseResultError=parseResultError$2;function formatError$2(e,t){return typeof error_messages_json_1$2.default[e]=="string"?mustache_1$2.default.render(error_messages_json_1$2.default[e],Object.assign(Object.assign({},t),mustacheHelpers$2)):JSON.stringify(t)}rpc_errors$5.formatError=formatError$2;function walkSubtype$2(e,t,n,o){let c,a,u;for(const h in t){if(isString$2(e[h]))return e[h];if(isObject$h(e[h]))c=e[h],a=t[h],u=h;else if(isObject$h(e.kind)&&isObject$h(e.kind[h]))c=e.kind[h],a=t[h],u=h;else continue}if(c&&a){for(const h of Object.keys(a.props))n[h]=c[h];return walkSubtype$2(c,t,n,u)}else return n.kind=e,o}function getErrorTypeFromErrorMessage$2(e,t){switch(!0){case/^account .*? does not exist while viewing$/.test(e):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(e):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(e):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(e):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(e):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(e):return"InvalidNonce";default:return t}}rpc_errors$5.getErrorTypeFromErrorMessage=getErrorTypeFromErrorMessage$2;function isObject$h(e){return Object.prototype.toString.call(e)==="[object Object]"}function isString$2(e){return Object.prototype.toString.call(e)==="[object String]"}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseRpcError=e.parseResultError=e.getErrorTypeFromErrorMessage=e.formatError=e.ServerError=e.logWarning=void 0;var t=errors$d;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return t.logWarning}});var n=rpc_errors$5;Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return n.ServerError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return n.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return n.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return n.parseResultError}}),Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return n.parseRpcError}})})(errors$e);var logging$2={};Object.defineProperty(logging$2,"__esModule",{value:!0}),logging$2.printTxOutcomeLogs=logging$2.printTxOutcomeLogsAndFailures=void 0;const errors_1$b=errors$e,logger_1$4=logger$8;function printTxOutcomeLogsAndFailures$2({contractId:e,outcome:t}){const n=[t.transaction_outcome,...t.receipts_outcome].reduce((o,c)=>{const a=typeof c.outcome.status=="object"&&typeof c.outcome.status.Failure=="object";return c.outcome.logs.length||a?o.concat({receiptIds:c.outcome.receipt_ids,logs:c.outcome.logs,failure:typeof c.outcome.status=="object"&&c.outcome.status.Failure!==void 0?(0,errors_1$b.parseRpcError)(c.outcome.status.Failure):null}):o},[]);for(const o of n)logger_1$4.Logger.log(`Receipt${o.receiptIds.length>1?"s":""}: ${o.receiptIds.join(", ")}`),printTxOutcomeLogs$2({contractId:e,logs:o.logs,prefix:"	"}),o.failure&&logger_1$4.Logger.warn(`	Failure [${e}]: ${o.failure}`)}logging$2.printTxOutcomeLogsAndFailures=printTxOutcomeLogsAndFailures$2;function printTxOutcomeLogs$2({contractId:e,logs:t,prefix:n=""}){for(const o of t)logger_1$4.Logger.log(`${n}Log [${e}]: ${o}`)}logging$2.printTxOutcomeLogs=printTxOutcomeLogs$2;var provider$a={};Object.defineProperty(provider$a,"__esModule",{value:!0}),provider$a.getTransactionLastResult=void 0;function getTransactionLastResult$2(e){if(typeof e.status=="object"&&typeof e.status.SuccessValue=="string"){const t=Buffer$E.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(t)}catch{return t}}return null}provider$a.getTransactionLastResult=getTransactionLastResult$2;var validators$5={},__importDefault$u=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(validators$5,"__esModule",{value:!0}),validators$5.diffEpochValidators=validators$5.findSeatPrice=void 0;const bn_js_1$k=__importDefault$u(bnExports$6),depd_1$5=__importDefault$u(browser$a);function findSeatPrice$2(e,t,n,o){return o&&o<49?findSeatPriceForProtocolBefore49$2(e,t):(n||((0,depd_1$5.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),n=[1,6250]),findSeatPriceForProtocolAfter49$2(e,t,n))}validators$5.findSeatPrice=findSeatPrice$2;function findSeatPriceForProtocolBefore49$2(e,t){const n=e.map(h=>new bn_js_1$k.default(h.stake,10)).sort((h,v)=>h.cmp(v)),o=new bn_js_1$k.default(t),c=n.reduce((h,v)=>h.add(v));if(c.lt(o))throw new Error("Stakes are below seats");let a=new bn_js_1$k.default(1),u=c.add(new bn_js_1$k.default(1));for(;!a.eq(u.sub(new bn_js_1$k.default(1)));){const h=a.add(u).div(new bn_js_1$k.default(2));let v=!1,b=new bn_js_1$k.default(0);for(let y=0;y<n.length;++y)if(b=b.add(n[y].div(h)),b.gte(o)){a=h,v=!0;break}v||(u=h)}return a}function findSeatPriceForProtocolAfter49$2(e,t,n){if(n.length!=2)throw Error("minimumStakeRatio should have 2 elements");const o=e.map(a=>new bn_js_1$k.default(a.stake,10)).sort((a,u)=>a.cmp(u)),c=o.reduce((a,u)=>a.add(u));return e.length<t?c.mul(new bn_js_1$k.default(n[0])).div(new bn_js_1$k.default(n[1])):o[0].add(new bn_js_1$k.default(1))}function diffEpochValidators$2(e,t){const n=new Map;e.forEach(c=>n.set(c.account_id,c));const o=new Set(t.map(c=>c.account_id));return{newValidators:t.filter(c=>!n.has(c.account_id)),removedValidators:e.filter(c=>!o.has(c.account_id)),changedValidators:t.filter(c=>n.has(c.account_id)&&n.get(c.account_id).stake!=c.stake).map(c=>({current:n.get(c.account_id),next:c}))}}validators$5.diffEpochValidators=diffEpochValidators$2,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(constants$7,e),n(errors$e,e),n(format$c,e),n(logging$2,e),n(provider$a,e),n(validators$5,e),n(logger$8,e)}(lib$r);var ed25519={},sha512={},_sha2$3={},_assert$3={};Object.defineProperty(_assert$3,"__esModule",{value:!0}),_assert$3.output=_assert$3.exists=_assert$3.hash=_assert$3.bytes=_assert$3.bool=_assert$3.number=void 0;function number$3(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}_assert$3.number=number$3;function bool$3(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}_assert$3.bool=bool$3;function bytes$3(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}_assert$3.bytes=bytes$3;function hash$3(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$3(e.outputLen),number$3(e.blockLen)}_assert$3.hash=hash$3;function exists$3(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}_assert$3.exists=exists$3;function output$3(e,t){bytes$3(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}_assert$3.output=output$3;const assert$3={number:number$3,bool:bool$3,bytes:bytes$3,hash:hash$3,exists:exists$3,output:output$3};_assert$3.default=assert$3;var utils$A={},crypto$4={};Object.defineProperty(crypto$4,"__esModule",{value:!0}),crypto$4.crypto=void 0,crypto$4.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=crypto$4,n=te=>te instanceof Uint8Array,o=te=>new Uint8Array(te.buffer,te.byteOffset,te.byteLength);e.u8=o;const c=te=>new Uint32Array(te.buffer,te.byteOffset,Math.floor(te.byteLength/4));e.u32=c;const a=te=>new DataView(te.buffer,te.byteOffset,te.byteLength);e.createView=a;const u=(te,ce)=>te<<32-ce|te>>>ce;if(e.rotr=u,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const h=Array.from({length:256},(te,ce)=>ce.toString(16).padStart(2,"0"));function v(te){if(!n(te))throw new Error("Uint8Array expected");let ce="";for(let Q=0;Q<te.length;Q++)ce+=h[te[Q]];return ce}e.bytesToHex=v;function b(te){if(typeof te!="string")throw new Error("hex string expected, got "+typeof te);const ce=te.length;if(ce%2)throw new Error("padded hex string expected, got unpadded hex of length "+ce);const Q=new Uint8Array(ce/2);for(let ne=0;ne<Q.length;ne++){const fe=ne*2,l=te.slice(fe,fe+2),p=Number.parseInt(l,16);if(Number.isNaN(p)||p<0)throw new Error("Invalid byte sequence");Q[ne]=p}return Q}e.hexToBytes=b;const y=async()=>{};e.nextTick=y;async function w(te,ce,Q){let ne=Date.now();for(let fe=0;fe<te;fe++){Q(fe);const l=Date.now()-ne;l>=0&&l<ce||(await(0,e.nextTick)(),ne+=l)}}e.asyncLoop=w;function O(te){if(typeof te!="string")throw new Error(`utf8ToBytes expected string, got ${typeof te}`);return new Uint8Array(new TextEncoder().encode(te))}e.utf8ToBytes=O;function P(te){if(typeof te=="string"&&(te=O(te)),!n(te))throw new Error(`expected Uint8Array, got ${typeof te}`);return te}e.toBytes=P;function C(...te){const ce=new Uint8Array(te.reduce((ne,fe)=>ne+fe.length,0));let Q=0;return te.forEach(ne=>{if(!n(ne))throw new Error("Uint8Array expected");ce.set(ne,Q),Q+=ne.length}),ce}e.concatBytes=C;class x{clone(){return this._cloneInto()}}e.Hash=x;const D={}.toString;function k(te,ce){if(ce!==void 0&&D.call(ce)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(te,ce)}e.checkOpts=k;function B(te){const ce=ne=>te().update(P(ne)).digest(),Q=te();return ce.outputLen=Q.outputLen,ce.blockLen=Q.blockLen,ce.create=()=>te(),ce}e.wrapConstructor=B;function q(te){const ce=(ne,fe)=>te(fe).update(P(ne)).digest(),Q=te({});return ce.outputLen=Q.outputLen,ce.blockLen=Q.blockLen,ce.create=ne=>te(ne),ce}e.wrapConstructorWithOpts=q;function V(te){const ce=(ne,fe)=>te(fe).update(P(ne)).digest(),Q=te({});return ce.outputLen=Q.outputLen,ce.blockLen=Q.blockLen,ce.create=ne=>te(ne),ce}e.wrapXOFConstructorWithOpts=V;function ee(te=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(te));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=ee}(utils$A),Object.defineProperty(_sha2$3,"__esModule",{value:!0}),_sha2$3.SHA2=void 0;const _assert_js_1$3=_assert$3,utils_js_1$c=utils$A;function setBigUint64$3(e,t,n,o){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,o);const c=BigInt(32),a=BigInt(4294967295),u=Number(n>>c&a),h=Number(n&a),v=o?4:0,b=o?0:4;e.setUint32(t+v,u,o),e.setUint32(t+b,h,o)}let SHA2$3=class extends utils_js_1$c.Hash{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,utils_js_1$c.createView)(this.buffer)}update(e){(0,_assert_js_1$3.exists)(this);const{view:t,buffer:n,blockLen:o}=this;e=(0,utils_js_1$c.toBytes)(e);const c=e.length;for(let a=0;a<c;){const u=Math.min(o-this.pos,c-a);if(u===o){const h=(0,utils_js_1$c.createView)(e);for(;o<=c-a;a+=o)this.process(h,a);continue}n.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,_assert_js_1$3.exists)(this),(0,_assert_js_1$3.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:c}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let y=a;y<o;y++)t[y]=0;setBigUint64$3(n,o-8,BigInt(this.length*8),c),this.process(n,0);const u=(0,utils_js_1$c.createView)(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const v=h/4,b=this.get();if(v>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<v;y++)u.setUint32(4*y,b[y],c)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:o,finished:c,destroyed:a,pos:u}=this;return e.length=o,e.pos=u,e.finished=c,e.destroyed=a,o%t&&e.buffer.set(n),e}};_sha2$3.SHA2=SHA2$3;var _u64={};Object.defineProperty(_u64,"__esModule",{value:!0}),_u64.add5L=_u64.add5H=_u64.add4H=_u64.add4L=_u64.add3H=_u64.add3L=_u64.add=_u64.rotlBL=_u64.rotlBH=_u64.rotlSL=_u64.rotlSH=_u64.rotr32L=_u64.rotr32H=_u64.rotrBL=_u64.rotrBH=_u64.rotrSL=_u64.rotrSH=_u64.shrSL=_u64.shrSH=_u64.toBig=_u64.split=_u64.fromBig=void 0;const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(e,t=!1){return t?{h:Number(e&U32_MASK64),l:Number(e>>_32n&U32_MASK64)}:{h:Number(e>>_32n&U32_MASK64)|0,l:Number(e&U32_MASK64)|0}}_u64.fromBig=fromBig;function split$4(e,t=!1){let n=new Uint32Array(e.length),o=new Uint32Array(e.length);for(let c=0;c<e.length;c++){const{h:a,l:u}=fromBig(e[c],t);[n[c],o[c]]=[a,u]}return[n,o]}_u64.split=split$4;const toBig=(e,t)=>BigInt(e>>>0)<<_32n|BigInt(t>>>0);_u64.toBig=toBig;const shrSH=(e,t,n)=>e>>>n;_u64.shrSH=shrSH;const shrSL=(e,t,n)=>e<<32-n|t>>>n;_u64.shrSL=shrSL;const rotrSH=(e,t,n)=>e>>>n|t<<32-n;_u64.rotrSH=rotrSH;const rotrSL=(e,t,n)=>e<<32-n|t>>>n;_u64.rotrSL=rotrSL;const rotrBH=(e,t,n)=>e<<64-n|t>>>n-32;_u64.rotrBH=rotrBH;const rotrBL=(e,t,n)=>e>>>n-32|t<<64-n;_u64.rotrBL=rotrBL;const rotr32H=(e,t)=>t;_u64.rotr32H=rotr32H;const rotr32L=(e,t)=>e;_u64.rotr32L=rotr32L;const rotlSH=(e,t,n)=>e<<n|t>>>32-n;_u64.rotlSH=rotlSH;const rotlSL=(e,t,n)=>t<<n|e>>>32-n;_u64.rotlSL=rotlSL;const rotlBH=(e,t,n)=>t<<n-32|e>>>64-n;_u64.rotlBH=rotlBH;const rotlBL=(e,t,n)=>e<<n-32|t>>>64-n;_u64.rotlBL=rotlBL;function add(e,t,n,o){const c=(t>>>0)+(o>>>0);return{h:e+n+(c/4294967296|0)|0,l:c|0}}_u64.add=add;const add3L=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);_u64.add3L=add3L;const add3H=(e,t,n,o)=>t+n+o+(e/2**32|0)|0;_u64.add3H=add3H;const add4L=(e,t,n,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(o>>>0);_u64.add4L=add4L;const add4H=(e,t,n,o,c)=>t+n+o+c+(e/2**32|0)|0;_u64.add4H=add4H;const add5L=(e,t,n,o,c)=>(e>>>0)+(t>>>0)+(n>>>0)+(o>>>0)+(c>>>0);_u64.add5L=add5L;const add5H=(e,t,n,o,c,a)=>t+n+o+c+a+(e/2**32|0)|0;_u64.add5H=add5H;const u64={fromBig,split:split$4,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};_u64.default=u64,Object.defineProperty(sha512,"__esModule",{value:!0}),sha512.sha384=sha512.sha512_256=sha512.sha512_224=sha512.sha512=sha512.SHA512=void 0;const _sha2_js_1$3=_sha2$3,_u64_js_1=_u64,utils_js_1$b=utils$A,[SHA512_Kh,SHA512_Kl]=_u64_js_1.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends _sha2_js_1$3.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:o,Bl:c,Ch:a,Cl:u,Dh:h,Dl:v,Eh:b,El:y,Fh:w,Fl:O,Gh:P,Gl:C,Hh:x,Hl:D}=this;return[t,n,o,c,a,u,h,v,b,y,w,O,P,C,x,D]}set(t,n,o,c,a,u,h,v,b,y,w,O,P,C,x,D){this.Ah=t|0,this.Al=n|0,this.Bh=o|0,this.Bl=c|0,this.Ch=a|0,this.Cl=u|0,this.Dh=h|0,this.Dl=v|0,this.Eh=b|0,this.El=y|0,this.Fh=w|0,this.Fl=O|0,this.Gh=P|0,this.Gl=C|0,this.Hh=x|0,this.Hl=D|0}process(t,n){for(let q=0;q<16;q++,n+=4)SHA512_W_H[q]=t.getUint32(n),SHA512_W_L[q]=t.getUint32(n+=4);for(let q=16;q<80;q++){const V=SHA512_W_H[q-15]|0,ee=SHA512_W_L[q-15]|0,te=_u64_js_1.default.rotrSH(V,ee,1)^_u64_js_1.default.rotrSH(V,ee,8)^_u64_js_1.default.shrSH(V,ee,7),ce=_u64_js_1.default.rotrSL(V,ee,1)^_u64_js_1.default.rotrSL(V,ee,8)^_u64_js_1.default.shrSL(V,ee,7),Q=SHA512_W_H[q-2]|0,ne=SHA512_W_L[q-2]|0,fe=_u64_js_1.default.rotrSH(Q,ne,19)^_u64_js_1.default.rotrBH(Q,ne,61)^_u64_js_1.default.shrSH(Q,ne,6),l=_u64_js_1.default.rotrSL(Q,ne,19)^_u64_js_1.default.rotrBL(Q,ne,61)^_u64_js_1.default.shrSL(Q,ne,6),p=_u64_js_1.default.add4L(ce,l,SHA512_W_L[q-7],SHA512_W_L[q-16]),m=_u64_js_1.default.add4H(p,te,fe,SHA512_W_H[q-7],SHA512_W_H[q-16]);SHA512_W_H[q]=m|0,SHA512_W_L[q]=p|0}let{Ah:o,Al:c,Bh:a,Bl:u,Ch:h,Cl:v,Dh:b,Dl:y,Eh:w,El:O,Fh:P,Fl:C,Gh:x,Gl:D,Hh:k,Hl:B}=this;for(let q=0;q<80;q++){const V=_u64_js_1.default.rotrSH(w,O,14)^_u64_js_1.default.rotrSH(w,O,18)^_u64_js_1.default.rotrBH(w,O,41),ee=_u64_js_1.default.rotrSL(w,O,14)^_u64_js_1.default.rotrSL(w,O,18)^_u64_js_1.default.rotrBL(w,O,41),te=w&P^~w&x,ce=O&C^~O&D,Q=_u64_js_1.default.add5L(B,ee,ce,SHA512_Kl[q],SHA512_W_L[q]),ne=_u64_js_1.default.add5H(Q,k,V,te,SHA512_Kh[q],SHA512_W_H[q]),fe=Q|0,l=_u64_js_1.default.rotrSH(o,c,28)^_u64_js_1.default.rotrBH(o,c,34)^_u64_js_1.default.rotrBH(o,c,39),p=_u64_js_1.default.rotrSL(o,c,28)^_u64_js_1.default.rotrBL(o,c,34)^_u64_js_1.default.rotrBL(o,c,39),m=o&a^o&h^a&h,_=c&u^c&v^u&v;k=x|0,B=D|0,x=P|0,D=C|0,P=w|0,C=O|0,{h:w,l:O}=_u64_js_1.default.add(b|0,y|0,ne|0,fe|0),b=h|0,y=v|0,h=a|0,v=u|0,a=o|0,u=c|0;const A=_u64_js_1.default.add3L(fe,p,_);o=_u64_js_1.default.add3H(A,ne,l,m),c=A|0}({h:o,l:c}=_u64_js_1.default.add(this.Ah|0,this.Al|0,o|0,c|0)),{h:a,l:u}=_u64_js_1.default.add(this.Bh|0,this.Bl|0,a|0,u|0),{h,l:v}=_u64_js_1.default.add(this.Ch|0,this.Cl|0,h|0,v|0),{h:b,l:y}=_u64_js_1.default.add(this.Dh|0,this.Dl|0,b|0,y|0),{h:w,l:O}=_u64_js_1.default.add(this.Eh|0,this.El|0,w|0,O|0),{h:P,l:C}=_u64_js_1.default.add(this.Fh|0,this.Fl|0,P|0,C|0),{h:x,l:D}=_u64_js_1.default.add(this.Gh|0,this.Gl|0,x|0,D|0),{h:k,l:B}=_u64_js_1.default.add(this.Hh|0,this.Hl|0,k|0,B|0),this.set(o,c,a,u,h,v,b,y,w,O,P,C,x,D,k,B)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}sha512.SHA512=SHA512;class SHA512_224 extends SHA512{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}sha512.sha512=(0,utils_js_1$b.wrapConstructor)(()=>new SHA512),sha512.sha512_224=(0,utils_js_1$b.wrapConstructor)(()=>new SHA512_224),sha512.sha512_256=(0,utils_js_1$b.wrapConstructor)(()=>new SHA512_256),sha512.sha384=(0,utils_js_1$b.wrapConstructor)(()=>new SHA384);var edwards={},modular={},utils$z={};Object.defineProperty(utils$z,"__esModule",{value:!0}),utils$z.validateObject=utils$z.createHmacDrbg=utils$z.bitMask=utils$z.bitSet=utils$z.bitGet=utils$z.bitLen=utils$z.utf8ToBytes=utils$z.equalBytes=utils$z.concatBytes=utils$z.ensureBytes=utils$z.numberToVarBytesBE=utils$z.numberToBytesLE=utils$z.numberToBytesBE=utils$z.bytesToNumberLE=utils$z.bytesToNumberBE=utils$z.hexToBytes=utils$z.hexToNumber=utils$z.numberToHexUnpadded=utils$z.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),u8a=e=>e instanceof Uint8Array,hexes=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bytesToHex(e){if(!u8a(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=hexes[e[n]];return t}utils$z.bytesToHex=bytesToHex;function numberToHexUnpadded(e){const t=e.toString(16);return t.length&1?`0${t}`:t}utils$z.numberToHexUnpadded=numberToHexUnpadded;function hexToNumber(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}utils$z.hexToNumber=hexToNumber;function hexToBytes(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let o=0;o<n.length;o++){const c=o*2,a=e.slice(c,c+2),u=Number.parseInt(a,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");n[o]=u}return n}utils$z.hexToBytes=hexToBytes;function bytesToNumberBE(e){return hexToNumber(bytesToHex(e))}utils$z.bytesToNumberBE=bytesToNumberBE;function bytesToNumberLE(e){if(!u8a(e))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(e).reverse()))}utils$z.bytesToNumberLE=bytesToNumberLE;function numberToBytesBE(e,t){return hexToBytes(e.toString(16).padStart(t*2,"0"))}utils$z.numberToBytesBE=numberToBytesBE;function numberToBytesLE(e,t){return numberToBytesBE(e,t).reverse()}utils$z.numberToBytesLE=numberToBytesLE;function numberToVarBytesBE(e){return hexToBytes(numberToHexUnpadded(e))}utils$z.numberToVarBytesBE=numberToVarBytesBE;function ensureBytes(e,t,n){let o;if(typeof t=="string")try{o=hexToBytes(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(u8a(t))o=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const c=o.length;if(typeof n=="number"&&c!==n)throw new Error(`${e} expected ${n} bytes, got ${c}`);return o}utils$z.ensureBytes=ensureBytes;function concatBytes(...e){const t=new Uint8Array(e.reduce((o,c)=>o+c.length,0));let n=0;return e.forEach(o=>{if(!u8a(o))throw new Error("Uint8Array expected");t.set(o,n),n+=o.length}),t}utils$z.concatBytes=concatBytes;function equalBytes(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}utils$z.equalBytes=equalBytes;function utf8ToBytes(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}utils$z.utf8ToBytes=utf8ToBytes;function bitLen(e){let t;for(t=0;e>_0n$4;e>>=_1n$4,t+=1);return t}utils$z.bitLen=bitLen;function bitGet(e,t){return e>>BigInt(t)&_1n$4}utils$z.bitGet=bitGet;const bitSet=(e,t,n)=>e|(n?_1n$4:_0n$4)<<BigInt(t);utils$z.bitSet=bitSet;const bitMask=e=>(_2n$2<<BigInt(e-1))-_1n$4;utils$z.bitMask=bitMask;const u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let o=u8n(e),c=u8n(e),a=0;const u=()=>{o.fill(1),c.fill(0),a=0},h=(...y)=>n(c,o,...y),v=(y=u8n())=>{c=h(u8fr([0]),y),o=h(),y.length!==0&&(c=h(u8fr([1]),y),o=h())},b=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const w=[];for(;y<t;){o=h();const O=o.slice();w.push(O),y+=o.length}return concatBytes(...w)};return(y,w)=>{u(),v(y);let O;for(;!(O=w(b()));)v();return u(),O}}utils$z.createHmacDrbg=createHmacDrbg;const validatorFns={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function validateObject(e,t,n={}){const o=(c,a,u)=>{const h=validatorFns[a];if(typeof h!="function")throw new Error(`Invalid validator "${a}", expected function`);const v=e[c];if(!(u&&v===void 0)&&!h(v,e))throw new Error(`Invalid param ${String(c)}=${v} (${typeof v}), expected ${a}`)};for(const[c,a]of Object.entries(t))o(c,a,!1);for(const[c,a]of Object.entries(n))o(c,a,!0);return e}utils$z.validateObject=validateObject,Object.defineProperty(modular,"__esModule",{value:!0}),modular.mapHashToField=modular.getMinHashLength=modular.getFieldBytesLength=modular.hashToPrivateScalar=modular.FpSqrtEven=modular.FpSqrtOdd=modular.Field=modular.nLength=modular.FpIsSquare=modular.FpDiv=modular.FpInvertBatch=modular.FpPow=modular.validateField=modular.isNegativeLE=modular.FpSqrt=modular.tonelliShanks=modular.invert=modular.pow2=modular.pow=modular.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const utils_js_1$a=utils$z,_0n$3=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n$1=BigInt(8);BigInt(9),BigInt(16);function mod(e,t){const n=e%t;return n>=_0n$3?n:t+n}modular.mod=mod;function pow(e,t,n){if(n<=_0n$3||t<_0n$3)throw new Error("Expected power/modulo > 0");if(n===_1n$3)return _0n$3;let o=_1n$3;for(;t>_0n$3;)t&_1n$3&&(o=o*e%n),e=e*e%n,t>>=_1n$3;return o}modular.pow=pow;function pow2(e,t,n){let o=e;for(;t-- >_0n$3;)o*=o,o%=n;return o}modular.pow2=pow2;function invert(e,t){if(e===_0n$3||t<=_0n$3)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=mod(e,t),o=t,c=_0n$3,a=_1n$3;for(;n!==_0n$3;){const u=o/n,h=o%n,v=c-a*u;o=n,n=h,c=a,a=v}if(o!==_1n$3)throw new Error("invert: does not exist");return mod(c,t)}modular.invert=invert;function tonelliShanks(e){const t=(e-_1n$3)/_2n$1;let n,o,c;for(n=e-_1n$3,o=0;n%_2n$1===_0n$3;n/=_2n$1,o++);for(c=_2n$1;c<e&&pow(c,t,e)!==e-_1n$3;c++);if(o===1){const u=(e+_1n$3)/_4n;return function(h,v){const b=h.pow(v,u);if(!h.eql(h.sqr(b),v))throw new Error("Cannot find square root");return b}}const a=(n+_1n$3)/_2n$1;return function(u,h){if(u.pow(h,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let v=o,b=u.pow(u.mul(u.ONE,c),n),y=u.pow(h,a),w=u.pow(h,n);for(;!u.eql(w,u.ONE);){if(u.eql(w,u.ZERO))return u.ZERO;let O=1;for(let C=u.sqr(w);O<v&&!u.eql(C,u.ONE);O++)C=u.sqr(C);const P=u.pow(b,_1n$3<<BigInt(v-O-1));b=u.sqr(P),y=u.mul(y,P),w=u.mul(w,b),v=O}return y}}modular.tonelliShanks=tonelliShanks;function FpSqrt(e){if(e%_4n===_3n){const t=(e+_1n$3)/_4n;return function(n,o){const c=n.pow(o,t);if(!n.eql(n.sqr(c),o))throw new Error("Cannot find square root");return c}}if(e%_8n$1===_5n){const t=(e-_5n)/_8n$1;return function(n,o){const c=n.mul(o,_2n$1),a=n.pow(c,t),u=n.mul(o,a),h=n.mul(n.mul(u,_2n$1),a),v=n.mul(u,n.sub(h,n.ONE));if(!n.eql(n.sqr(v),o))throw new Error("Cannot find square root");return v}}return tonelliShanks(e)}modular.FpSqrt=FpSqrt;const isNegativeLE=(e,t)=>(mod(e,t)&_1n$3)===_1n$3;modular.isNegativeLE=isNegativeLE;const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=FIELD_FIELDS.reduce((o,c)=>(o[c]="function",o),t);return(0,utils_js_1$a.validateObject)(e,n)}modular.validateField=validateField;function FpPow(e,t,n){if(n<_0n$3)throw new Error("Expected power > 0");if(n===_0n$3)return e.ONE;if(n===_1n$3)return t;let o=e.ONE,c=t;for(;n>_0n$3;)n&_1n$3&&(o=e.mul(o,c)),c=e.sqr(c),n>>=_1n$3;return o}modular.FpPow=FpPow;function FpInvertBatch(e,t){const n=new Array(t.length),o=t.reduce((a,u,h)=>e.is0(u)?a:(n[h]=a,e.mul(a,u)),e.ONE),c=e.inv(o);return t.reduceRight((a,u,h)=>e.is0(u)?a:(n[h]=e.mul(a,n[h]),e.mul(a,u)),c),n}modular.FpInvertBatch=FpInvertBatch;function FpDiv(e,t,n){return e.mul(t,typeof n=="bigint"?invert(n,e.ORDER):e.inv(n))}modular.FpDiv=FpDiv;function FpIsSquare(e){const t=(e.ORDER-_1n$3)/_2n$1;return n=>{const o=e.pow(n,t);return e.eql(o,e.ZERO)||e.eql(o,e.ONE)}}modular.FpIsSquare=FpIsSquare;function nLength(e,t){const n=t!==void 0?t:e.toString(2).length,o=Math.ceil(n/8);return{nBitLength:n,nByteLength:o}}modular.nLength=nLength;function Field(e,t,n=!1,o={}){if(e<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:c,nByteLength:a}=nLength(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=FpSqrt(e),h=Object.freeze({ORDER:e,BITS:c,BYTES:a,MASK:(0,utils_js_1$a.bitMask)(c),ZERO:_0n$3,ONE:_1n$3,create:v=>mod(v,e),isValid:v=>{if(typeof v!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof v}`);return _0n$3<=v&&v<e},is0:v=>v===_0n$3,isOdd:v=>(v&_1n$3)===_1n$3,neg:v=>mod(-v,e),eql:(v,b)=>v===b,sqr:v=>mod(v*v,e),add:(v,b)=>mod(v+b,e),sub:(v,b)=>mod(v-b,e),mul:(v,b)=>mod(v*b,e),pow:(v,b)=>FpPow(h,v,b),div:(v,b)=>mod(v*invert(b,e),e),sqrN:v=>v*v,addN:(v,b)=>v+b,subN:(v,b)=>v-b,mulN:(v,b)=>v*b,inv:v=>invert(v,e),sqrt:o.sqrt||(v=>u(h,v)),invertBatch:v=>FpInvertBatch(h,v),cmov:(v,b,y)=>y?b:v,toBytes:v=>n?(0,utils_js_1$a.numberToBytesLE)(v,a):(0,utils_js_1$a.numberToBytesBE)(v,a),fromBytes:v=>{if(v.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${v.length}`);return n?(0,utils_js_1$a.bytesToNumberLE)(v):(0,utils_js_1$a.bytesToNumberBE)(v)}});return Object.freeze(h)}modular.Field=Field;function FpSqrtOdd(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)}modular.FpSqrtOdd=FpSqrtOdd;function FpSqrtEven(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n}modular.FpSqrtEven=FpSqrtEven;function hashToPrivateScalar(e,t,n=!1){e=(0,utils_js_1$a.ensureBytes)("privateHash",e);const o=e.length,c=nLength(t).nByteLength+8;if(c<24||o<c||o>1024)throw new Error(`hashToPrivateScalar: expected ${c}-1024 bytes of input, got ${o}`);const a=n?(0,utils_js_1$a.bytesToNumberLE)(e):(0,utils_js_1$a.bytesToNumberBE)(e);return mod(a,t-_1n$3)+_1n$3}modular.hashToPrivateScalar=hashToPrivateScalar;function getFieldBytesLength(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}modular.getFieldBytesLength=getFieldBytesLength;function getMinHashLength(e){const t=getFieldBytesLength(e);return t+Math.ceil(t/2)}modular.getMinHashLength=getMinHashLength;function mapHashToField(e,t,n=!1){const o=e.length,c=getFieldBytesLength(t),a=getMinHashLength(t);if(o<16||o<a||o>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${o}`);const u=n?(0,utils_js_1$a.bytesToNumberBE)(e):(0,utils_js_1$a.bytesToNumberLE)(e),h=mod(u,t-_1n$3)+_1n$3;return n?(0,utils_js_1$a.numberToBytesLE)(h,c):(0,utils_js_1$a.numberToBytesBE)(h,c)}modular.mapHashToField=mapHashToField;var curve={};Object.defineProperty(curve,"__esModule",{value:!0}),curve.validateBasic=curve.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const modular_js_1$3=modular,utils_js_1$9=utils$z,_0n$2=BigInt(0),_1n$2=BigInt(1);function wNAF(e,t){const n=(c,a)=>{const u=a.negate();return c?u:a},o=c=>{const a=Math.ceil(t/c)+1,u=2**(c-1);return{windows:a,windowSize:u}};return{constTimeNegate:n,unsafeLadder(c,a){let u=e.ZERO,h=c;for(;a>_0n$2;)a&_1n$2&&(u=u.add(h)),h=h.double(),a>>=_1n$2;return u},precomputeWindow(c,a){const{windows:u,windowSize:h}=o(a),v=[];let b=c,y=b;for(let w=0;w<u;w++){y=b,v.push(y);for(let O=1;O<h;O++)y=y.add(b),v.push(y);b=y.double()}return v},wNAF(c,a,u){const{windows:h,windowSize:v}=o(c);let b=e.ZERO,y=e.BASE;const w=BigInt(2**c-1),O=2**c,P=BigInt(c);for(let C=0;C<h;C++){const x=C*v;let D=Number(u&w);u>>=P,D>v&&(D-=O,u+=_1n$2);const k=x,B=x+Math.abs(D)-1,q=C%2!==0,V=D<0;D===0?y=y.add(n(q,a[k])):b=b.add(n(V,a[B]))}return{p:b,f:y}},wNAFCached(c,a,u,h){const v=c._WINDOW_SIZE||1;let b=a.get(c);return b||(b=this.precomputeWindow(c,v),v!==1&&a.set(c,h(b))),this.wNAF(v,b,u)}}}curve.wNAF=wNAF;function validateBasic(e){return(0,modular_js_1$3.validateField)(e.Fp),(0,utils_js_1$9.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,modular_js_1$3.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}curve.validateBasic=validateBasic,Object.defineProperty(edwards,"__esModule",{value:!0}),edwards.twistedEdwards=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const modular_js_1$2=modular,ut=utils$z,utils_js_1$8=utils$z,curve_js_1=curve,_0n$1=BigInt(0),_1n$1=BigInt(1),_2n=BigInt(2),_8n=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(e){const t=(0,curve_js_1.validateBasic)(e);return ut.validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function twistedEdwards(e){const t=validateOpts$1(e),{Fp:n,n:o,prehash:c,hash:a,randomBytes:u,nByteLength:h,h:v}=t,b=_2n<<BigInt(h*8)-_1n$1,y=n.create,w=t.uvRatio||((T,S)=>{try{return{isValid:!0,value:n.sqrt(T*n.inv(S))}}catch{return{isValid:!1,value:_0n$1}}}),O=t.adjustScalarBytes||(T=>T),P=t.domain||((T,S,d)=>{if(S.length||d)throw new Error("Contexts/pre-hash are not supported");return T}),C=T=>typeof T=="bigint"&&_0n$1<T,x=(T,S)=>C(T)&&C(S)&&T<S,D=T=>T===_0n$1||x(T,b);function k(T,S){if(x(T,S))return T;throw new Error(`Expected valid scalar < ${S}, got ${typeof T} ${T}`)}function B(T){return T===_0n$1?T:k(T,o)}const q=new Map;function V(T){if(!(T instanceof ee))throw new Error("ExtendedPoint expected")}class ee{constructor(S,d,E,M){if(this.ex=S,this.ey=d,this.ez=E,this.et=M,!D(S))throw new Error("x required");if(!D(d))throw new Error("y required");if(!D(E))throw new Error("z required");if(!D(M))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof ee)throw new Error("extended point not allowed");const{x:d,y:E}=S||{};if(!D(d)||!D(E))throw new Error("invalid affine point");return new ee(d,E,_1n$1,y(d*E))}static normalizeZ(S){const d=n.invertBatch(S.map(E=>E.ez));return S.map((E,M)=>E.toAffine(d[M])).map(ee.fromAffine)}_setWindowSize(S){this._WINDOW_SIZE=S,q.delete(this)}assertValidity(){const{a:S,d}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:E,ey:M,ez:U,et:F}=this,N=y(E*E),L=y(M*M),H=y(U*U),Y=y(H*H),Z=y(N*S),de=y(H*y(Z+L)),he=y(Y+y(d*y(N*L)));if(de!==he)throw new Error("bad point: equation left != right (1)");const re=y(E*M),ae=y(U*F);if(re!==ae)throw new Error("bad point: equation left != right (2)")}equals(S){V(S);const{ex:d,ey:E,ez:M}=this,{ex:U,ey:F,ez:N}=S,L=y(d*N),H=y(U*M),Y=y(E*N),Z=y(F*M);return L===H&&Y===Z}is0(){return this.equals(ee.ZERO)}negate(){return new ee(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){const{a:S}=t,{ex:d,ey:E,ez:M}=this,U=y(d*d),F=y(E*E),N=y(_2n*y(M*M)),L=y(S*U),H=d+E,Y=y(y(H*H)-U-F),Z=L+F,de=Z-N,he=L-F,re=y(Y*de),ae=y(Z*he),be=y(Y*he),ye=y(de*Z);return new ee(re,ae,ye,be)}add(S){V(S);const{a:d,d:E}=t,{ex:M,ey:U,ez:F,et:N}=this,{ex:L,ey:H,ez:Y,et:Z}=S;if(d===BigInt(-1)){const Pe=y((U-M)*(H+L)),nt=y((U+M)*(H-L)),Me=y(nt-Pe);if(Me===_0n$1)return this.double();const Re=y(F*_2n*Z),pt=y(N*_2n*Y),je=pt+Re,Be=nt+Pe,vt=pt-Re,Ne=y(je*Me),J=y(Be*vt),le=y(je*vt),ue=y(Me*Be);return new ee(Ne,J,ue,le)}const de=y(M*L),he=y(U*H),re=y(N*E*Z),ae=y(F*Y),be=y((M+U)*(L+H)-de-he),ye=ae-re,we=ae+re,Te=y(he-d*de),ve=y(be*ye),Ce=y(we*Te),Oe=y(be*Te),Se=y(ye*we);return new ee(ve,Ce,Se,Oe)}subtract(S){return this.add(S.negate())}wNAF(S){return Q.wNAFCached(this,q,S,ee.normalizeZ)}multiply(S){const{p:d,f:E}=this.wNAF(k(S,o));return ee.normalizeZ([d,E])[0]}multiplyUnsafe(S){let d=B(S);return d===_0n$1?ce:this.equals(ce)||d===_1n$1?this:this.equals(te)?this.wNAF(d).p:Q.unsafeLadder(this,d)}isSmallOrder(){return this.multiplyUnsafe(v).is0()}isTorsionFree(){return Q.unsafeLadder(this,o).is0()}toAffine(S){const{ex:d,ey:E,ez:M}=this,U=this.is0();S==null&&(S=U?_8n:n.inv(M));const F=y(d*S),N=y(E*S),L=y(M*S);if(U)return{x:_0n$1,y:_1n$1};if(L!==_1n$1)throw new Error("invZ was invalid");return{x:F,y:N}}clearCofactor(){const{h:S}=t;return S===_1n$1?this:this.multiplyUnsafe(S)}static fromHex(S,d=!1){const{d:E,a:M}=t,U=n.BYTES;S=(0,utils_js_1$8.ensureBytes)("pointHex",S,U);const F=S.slice(),N=S[U-1];F[U-1]=N&-129;const L=ut.bytesToNumberLE(F);L===_0n$1||(d?k(L,b):k(L,n.ORDER));const H=y(L*L),Y=y(H-_1n$1),Z=y(E*H-M);let{isValid:de,value:he}=w(Y,Z);if(!de)throw new Error("Point.fromHex: invalid y coordinate");const re=(he&_1n$1)===_1n$1,ae=(N&128)!==0;if(!d&&he===_0n$1&&ae)throw new Error("Point.fromHex: x=0 and x_0=1");return ae!==re&&(he=y(-he)),ee.fromAffine({x:he,y:L})}static fromPrivateKey(S){return l(S).point}toRawBytes(){const{x:S,y:d}=this.toAffine(),E=ut.numberToBytesLE(d,n.BYTES);return E[E.length-1]|=S&_1n$1?128:0,E}toHex(){return ut.bytesToHex(this.toRawBytes())}}ee.BASE=new ee(t.Gx,t.Gy,_1n$1,y(t.Gx*t.Gy)),ee.ZERO=new ee(_0n$1,_1n$1,_1n$1,_0n$1);const{BASE:te,ZERO:ce}=ee,Q=(0,curve_js_1.wNAF)(ee,h*8);function ne(T){return(0,modular_js_1$2.mod)(T,o)}function fe(T){return ne(ut.bytesToNumberLE(T))}function l(T){const S=h;T=(0,utils_js_1$8.ensureBytes)("private key",T,S);const d=(0,utils_js_1$8.ensureBytes)("hashed private key",a(T),2*S),E=O(d.slice(0,S)),M=d.slice(S,2*S),U=fe(E),F=te.multiply(U),N=F.toRawBytes();return{head:E,prefix:M,scalar:U,point:F,pointBytes:N}}function p(T){return l(T).pointBytes}function m(T=new Uint8Array,...S){const d=ut.concatBytes(...S);return fe(a(P(d,(0,utils_js_1$8.ensureBytes)("context",T),!!c)))}function _(T,S,d={}){T=(0,utils_js_1$8.ensureBytes)("message",T),c&&(T=c(T));const{prefix:E,scalar:M,pointBytes:U}=l(S),F=m(d.context,E,T),N=te.multiply(F).toRawBytes(),L=m(d.context,N,U,T),H=ne(F+L*M);B(H);const Y=ut.concatBytes(N,ut.numberToBytesLE(H,n.BYTES));return(0,utils_js_1$8.ensureBytes)("result",Y,h*2)}const A=VERIFY_DEFAULT;function I(T,S,d,E=A){const{context:M,zip215:U}=E,F=n.BYTES;T=(0,utils_js_1$8.ensureBytes)("signature",T,2*F),S=(0,utils_js_1$8.ensureBytes)("message",S),c&&(S=c(S));const N=ut.bytesToNumberLE(T.slice(F,2*F));let L,H,Y;try{L=ee.fromHex(d,U),H=ee.fromHex(T.slice(0,F),U),Y=te.multiplyUnsafe(N)}catch{return!1}if(!U&&L.isSmallOrder())return!1;const Z=m(M,H.toRawBytes(),L.toRawBytes(),S);return H.add(L.multiplyUnsafe(Z)).subtract(Y).clearCofactor().equals(ee.ZERO)}return te._setWindowSize(8),{CURVE:t,getPublicKey:p,sign:_,verify:I,ExtendedPoint:ee,utils:{getExtendedPublicKey:l,randomPrivateKey:()=>u(n.BYTES),precompute(T=8,S=ee.BASE){return S._setWindowSize(T),S.multiply(BigInt(3)),S}}}}edwards.twistedEdwards=twistedEdwards;var montgomery$1={};Object.defineProperty(montgomery$1,"__esModule",{value:!0}),montgomery$1.montgomery=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const modular_js_1$1=modular,utils_js_1$7=utils$z,_0n=BigInt(0),_1n=BigInt(1);function validateOpts(e){return(0,utils_js_1$7.validateObject)(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function montgomery(e){const t=validateOpts(e),{P:n}=t,o=q=>(0,modular_js_1$1.mod)(q,n),c=t.montgomeryBits,a=Math.ceil(c/8),u=t.nByteLength,h=t.adjustScalarBytes||(q=>q),v=t.powPminus2||(q=>(0,modular_js_1$1.pow)(q,n-BigInt(2),n));function b(q,V,ee){const te=o(q*(V-ee));return V=o(V-te),ee=o(ee+te),[V,ee]}function y(q){if(typeof q=="bigint"&&_0n<=q&&q<n)return q;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const w=(t.a-BigInt(2))/BigInt(4);function O(q,V){const ee=y(q),te=y(V),ce=ee;let Q=_1n,ne=_0n,fe=ee,l=_1n,p=_0n,m;for(let A=BigInt(c-1);A>=_0n;A--){const I=te>>A&_1n;p^=I,m=b(p,Q,fe),Q=m[0],fe=m[1],m=b(p,ne,l),ne=m[0],l=m[1],p=I;const T=Q+ne,S=o(T*T),d=Q-ne,E=o(d*d),M=S-E,U=fe+l,F=fe-l,N=o(F*T),L=o(U*d),H=N+L,Y=N-L;fe=o(H*H),l=o(ce*o(Y*Y)),Q=o(S*E),ne=o(M*(S+o(w*M)))}m=b(p,Q,fe),Q=m[0],fe=m[1],m=b(p,ne,l),ne=m[0],l=m[1];const _=v(ne);return o(Q*_)}function P(q){return(0,utils_js_1$7.numberToBytesLE)(o(q),a)}function C(q){const V=(0,utils_js_1$7.ensureBytes)("u coordinate",q,a);return u===a&&(V[u-1]&=127),(0,utils_js_1$7.bytesToNumberLE)(V)}function x(q){const V=(0,utils_js_1$7.ensureBytes)("scalar",q);if(V.length!==a&&V.length!==u)throw new Error(`Expected ${a} or ${u} bytes, got ${V.length}`);return(0,utils_js_1$7.bytesToNumberLE)(h(V))}function D(q,V){const ee=C(V),te=x(q),ce=O(ee,te);if(ce===_0n)throw new Error("Invalid private or public key received");return P(ce)}const k=P(t.Gu);function B(q){return D(q,k)}return{scalarMult:D,scalarMultBase:B,getSharedSecret:(q,V)=>D(q,V),getPublicKey:q=>B(q),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:k}}montgomery$1.montgomery=montgomery;var hashToCurve={};Object.defineProperty(hashToCurve,"__esModule",{value:!0}),hashToCurve.createHasher=hashToCurve.isogenyMap=hashToCurve.hash_to_field=hashToCurve.expand_message_xof=hashToCurve.expand_message_xmd=void 0;const modular_js_1=modular,utils_js_1$6=utils$z;function validateDST(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return(0,utils_js_1$6.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}const os2ip=utils_js_1$6.bytesToNumberBE;function i2osp(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let o=t-1;o>=0;o--)n[o]=e&255,e>>>=8;return new Uint8Array(n)}function strxor(e,t){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e[o]^t[o];return n}function isBytes$3(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function isNum(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function expand_message_xmd(e,t,n,o){isBytes$3(e),isBytes$3(t),isNum(n),t.length>255&&(t=o((0,utils_js_1$6.concatBytes)((0,utils_js_1$6.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:c,blockLen:a}=o,u=Math.ceil(n/c);if(u>255)throw new Error("Invalid xmd length");const h=(0,utils_js_1$6.concatBytes)(t,i2osp(t.length,1)),v=i2osp(0,a),b=i2osp(n,2),y=new Array(u),w=o((0,utils_js_1$6.concatBytes)(v,e,b,i2osp(0,1),h));y[0]=o((0,utils_js_1$6.concatBytes)(w,i2osp(1,1),h));for(let O=1;O<=u;O++){const P=[strxor(w,y[O-1]),i2osp(O+1,1),h];y[O]=o((0,utils_js_1$6.concatBytes)(...P))}return(0,utils_js_1$6.concatBytes)(...y).slice(0,n)}hashToCurve.expand_message_xmd=expand_message_xmd;function expand_message_xof(e,t,n,o,c){if(isBytes$3(e),isBytes$3(t),isNum(n),t.length>255){const a=Math.ceil(2*o/8);t=c.create({dkLen:a}).update((0,utils_js_1$6.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return c.create({dkLen:n}).update(e).update(i2osp(n,2)).update(t).update(i2osp(t.length,1)).digest()}hashToCurve.expand_message_xof=expand_message_xof;function hash_to_field(e,t,n){(0,utils_js_1$6.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:o,k:c,m:a,hash:u,expand:h,DST:v}=n;isBytes$3(e),isNum(t);const b=validateDST(v),y=o.toString(2).length,w=Math.ceil((y+c)/8),O=t*a*w;let P;if(h==="xmd")P=expand_message_xmd(e,b,O,u);else if(h==="xof")P=expand_message_xof(e,b,O,c,u);else if(h==="_internal_pass")P=e;else throw new Error('expand must be "xmd" or "xof"');const C=new Array(t);for(let x=0;x<t;x++){const D=new Array(a);for(let k=0;k<a;k++){const B=w*(k+x*a),q=P.subarray(B,B+w);D[k]=(0,modular_js_1.mod)(os2ip(q),o)}C[x]=D}return C}hashToCurve.hash_to_field=hash_to_field;function isogenyMap(e,t){const n=t.map(o=>Array.from(o).reverse());return(o,c)=>{const[a,u,h,v]=n.map(b=>b.reduce((y,w)=>e.add(e.mul(y,o),w)));return o=e.div(a,u),c=e.mul(c,e.div(h,v)),{x:o,y:c}}}hashToCurve.isogenyMap=isogenyMap;function createHasher(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(o,c){const a=hash_to_field(o,2,{...n,DST:n.DST,...c}),u=e.fromAffine(t(a[0])),h=e.fromAffine(t(a[1])),v=u.add(h).clearCofactor();return v.assertValidity(),v},encodeToCurve(o,c){const a=hash_to_field(o,1,{...n,DST:n.encodeDST,...c}),u=e.fromAffine(t(a[0])).clearCofactor();return u.assertValidity(),u}}}hashToCurve.createHasher=createHasher,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.edwardsToMontgomeryPriv=e.edwardsToMontgomery=e.edwardsToMontgomeryPub=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=sha512,n=utils$A,o=edwards,c=montgomery$1,a=modular,u=utils$z,h=hashToCurve,v=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),b=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),y=BigInt(0),w=BigInt(1),O=BigInt(2),P=BigInt(5),C=BigInt(10),x=BigInt(20),D=BigInt(40),k=BigInt(80);function B(re){const ae=v,be=re*re%ae*re%ae,ye=(0,a.pow2)(be,O,ae)*be%ae,we=(0,a.pow2)(ye,w,ae)*re%ae,Te=(0,a.pow2)(we,P,ae)*we%ae,ve=(0,a.pow2)(Te,C,ae)*Te%ae,Ce=(0,a.pow2)(ve,x,ae)*ve%ae,Oe=(0,a.pow2)(Ce,D,ae)*Ce%ae,Se=(0,a.pow2)(Oe,k,ae)*Oe%ae,Pe=(0,a.pow2)(Se,k,ae)*Oe%ae,nt=(0,a.pow2)(Pe,C,ae)*Te%ae;return{pow_p_5_8:(0,a.pow2)(nt,O,ae)*re%ae,b2:be}}function q(re){return re[0]&=248,re[31]&=127,re[31]|=64,re}function V(re,ae){const be=v,ye=(0,a.mod)(ae*ae*ae,be),we=(0,a.mod)(ye*ye*ae,be),Te=B(re*we).pow_p_5_8;let ve=(0,a.mod)(re*ye*Te,be);const Ce=(0,a.mod)(ae*ve*ve,be),Oe=ve,Se=(0,a.mod)(ve*b,be),Pe=Ce===re,nt=Ce===(0,a.mod)(-re,be),Me=Ce===(0,a.mod)(-re*b,be);return Pe&&(ve=Oe),(nt||Me)&&(ve=Se),(0,a.isNegativeLE)(ve,be)&&(ve=(0,a.mod)(-ve,be)),{isValid:Pe||nt,value:ve}}e.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const ee=(0,a.Field)(v,void 0,!0),te={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ee,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:t.sha512,randomBytes:n.randomBytes,adjustScalarBytes:q,uvRatio:V};e.ed25519=(0,o.twistedEdwards)(te);function ce(re,ae,be){if(ae.length>255)throw new Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([be?1:0,ae.length]),ae,re)}e.ed25519ctx=(0,o.twistedEdwards)({...te,domain:ce}),e.ed25519ph=(0,o.twistedEdwards)({...te,domain:ce,prehash:t.sha512}),e.x25519=(0,c.montgomery)({P:v,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:re=>{const ae=v,{pow_p_5_8:be,b2:ye}=B(re);return(0,a.mod)((0,a.pow2)(be,BigInt(3),ae)*ye,ae)},adjustScalarBytes:q,randomBytes:n.randomBytes});function Q(re){const{y:ae}=e.ed25519.ExtendedPoint.fromHex(re),be=BigInt(1);return ee.toBytes(ee.create((be+ae)*ee.inv(be-ae)))}e.edwardsToMontgomeryPub=Q,e.edwardsToMontgomery=Q;function ne(re){const ae=te.hash(re.subarray(0,32));return te.adjustScalarBytes(ae).subarray(0,32)}e.edwardsToMontgomeryPriv=ne;const fe=(ee.ORDER+BigInt(3))/BigInt(8),l=ee.pow(O,fe),p=ee.sqrt(ee.neg(ee.ONE)),m=(ee.ORDER-BigInt(5))/BigInt(8),_=BigInt(486662);function A(re){let ae=ee.sqr(re);ae=ee.mul(ae,O);let be=ee.add(ae,ee.ONE),ye=ee.neg(_),we=ee.sqr(be),Te=ee.mul(we,be),ve=ee.mul(ae,_);ve=ee.mul(ve,ye),ve=ee.add(ve,we),ve=ee.mul(ve,ye);let Ce=ee.sqr(Te);we=ee.sqr(Ce),Ce=ee.mul(Ce,Te),Ce=ee.mul(Ce,ve),we=ee.mul(we,Ce);let Oe=ee.pow(we,m);Oe=ee.mul(Oe,Ce);let Se=ee.mul(Oe,p);we=ee.sqr(Oe),we=ee.mul(we,Te);let Pe=ee.eql(we,ve),nt=ee.cmov(Se,Oe,Pe),Me=ee.mul(ye,ae),Re=ee.mul(Oe,re);Re=ee.mul(Re,l);let pt=ee.mul(Re,p),je=ee.mul(ve,ae);we=ee.sqr(Re),we=ee.mul(we,Te);let Be=ee.eql(we,je),vt=ee.cmov(pt,Re,Be);we=ee.sqr(nt),we=ee.mul(we,Te);let Ne=ee.eql(we,ve),J=ee.cmov(Me,ye,Ne),le=ee.cmov(vt,nt,Ne),ue=ee.isOdd(le);return le=ee.cmov(le,ee.neg(le),Ne!==ue),{xMn:J,xMd:be,yMn:le,yMd:w}}const I=(0,a.FpSqrtEven)(ee,ee.neg(BigInt(486664)));function T(re){const{xMn:ae,xMd:be,yMn:ye,yMd:we}=A(re);let Te=ee.mul(ae,we);Te=ee.mul(Te,I);let ve=ee.mul(be,ye),Ce=ee.sub(ae,be),Oe=ee.add(ae,be),Se=ee.mul(ve,Oe),Pe=ee.eql(Se,ee.ZERO);Te=ee.cmov(Te,ee.ZERO,Pe),ve=ee.cmov(ve,ee.ONE,Pe),Ce=ee.cmov(Ce,ee.ONE,Pe),Oe=ee.cmov(Oe,ee.ONE,Pe);const nt=ee.invertBatch([ve,Oe]);return{x:ee.mul(Te,nt[0]),y:ee.mul(Ce,nt[1])}}const S=(0,h.createHasher)(e.ed25519.ExtendedPoint,re=>T(re[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ee.ORDER,m:1,k:128,expand:"xmd",hash:t.sha512});e.hashToCurve=S.hashToCurve,e.encodeToCurve=S.encodeToCurve;function d(re){if(!(re instanceof de))throw new Error("RistrettoPoint expected")}const E=b,M=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),U=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),F=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),N=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),L=re=>V(w,re),H=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Y=re=>e.ed25519.CURVE.Fp.create((0,u.bytesToNumberLE)(re)&H);function Z(re){const{d:ae}=e.ed25519.CURVE,be=e.ed25519.CURVE.Fp.ORDER,ye=e.ed25519.CURVE.Fp.create,we=ye(E*re*re),Te=ye((we+w)*F);let ve=BigInt(-1);const Ce=ye((ve-ae*we)*ye(we+ae));let{isValid:Oe,value:Se}=V(Te,Ce),Pe=ye(Se*re);(0,a.isNegativeLE)(Pe,be)||(Pe=ye(-Pe)),Oe||(Se=Pe),Oe||(ve=we);const nt=ye(ve*(we-w)*N-Ce),Me=Se*Se,Re=ye((Se+Se)*Ce),pt=ye(nt*M),je=ye(w-Me),Be=ye(w+Me);return new e.ed25519.ExtendedPoint(ye(Re*Be),ye(je*pt),ye(pt*Be),ye(Re*je))}class de{constructor(ae){this.ep=ae}static fromAffine(ae){return new de(e.ed25519.ExtendedPoint.fromAffine(ae))}static hashToCurve(ae){ae=(0,u.ensureBytes)("ristrettoHash",ae,64);const be=Y(ae.slice(0,32)),ye=Z(be),we=Y(ae.slice(32,64)),Te=Z(we);return new de(ye.add(Te))}static fromHex(ae){ae=(0,u.ensureBytes)("ristrettoHex",ae,32);const{a:be,d:ye}=e.ed25519.CURVE,we=e.ed25519.CURVE.Fp.ORDER,Te=e.ed25519.CURVE.Fp.create,ve="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",Ce=Y(ae);if(!(0,u.equalBytes)((0,u.numberToBytesLE)(Ce,32),ae)||(0,a.isNegativeLE)(Ce,we))throw new Error(ve);const Oe=Te(Ce*Ce),Se=Te(w+be*Oe),Pe=Te(w-be*Oe),nt=Te(Se*Se),Me=Te(Pe*Pe),Re=Te(be*ye*nt-Me),{isValid:pt,value:je}=L(Te(Re*Me)),Be=Te(je*Pe),vt=Te(je*Be*Re);let Ne=Te((Ce+Ce)*Be);(0,a.isNegativeLE)(Ne,we)&&(Ne=Te(-Ne));const J=Te(Se*vt),le=Te(Ne*J);if(!pt||(0,a.isNegativeLE)(le,we)||J===y)throw new Error(ve);return new de(new e.ed25519.ExtendedPoint(Ne,J,w,le))}toRawBytes(){let{ex:ae,ey:be,ez:ye,et:we}=this.ep;const Te=e.ed25519.CURVE.Fp.ORDER,ve=e.ed25519.CURVE.Fp.create,Ce=ve(ve(ye+be)*ve(ye-be)),Oe=ve(ae*be),Se=ve(Oe*Oe),{value:Pe}=L(ve(Ce*Se)),nt=ve(Pe*Ce),Me=ve(Pe*Oe),Re=ve(nt*Me*we);let pt;if((0,a.isNegativeLE)(we*Re,Te)){let Be=ve(be*E),vt=ve(ae*E);ae=Be,be=vt,pt=ve(nt*U)}else pt=Me;(0,a.isNegativeLE)(ae*Re,Te)&&(be=ve(-be));let je=ve((ye-be)*pt);return(0,a.isNegativeLE)(je,Te)&&(je=ve(-je)),(0,u.numberToBytesLE)(je,32)}toHex(){return(0,u.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(ae){d(ae);const{ex:be,ey:ye}=this.ep,{ex:we,ey:Te}=ae.ep,ve=e.ed25519.CURVE.Fp.create,Ce=ve(be*Te)===ve(ye*we),Oe=ve(ye*Te)===ve(be*we);return Ce||Oe}add(ae){return d(ae),new de(this.ep.add(ae.ep))}subtract(ae){return d(ae),new de(this.ep.subtract(ae.ep))}multiply(ae){return new de(this.ep.multiply(ae))}multiplyUnsafe(ae){return new de(this.ep.multiplyUnsafe(ae))}}e.RistrettoPoint=(de.BASE||(de.BASE=new de(e.ed25519.ExtendedPoint.BASE)),de.ZERO||(de.ZERO=new de(e.ed25519.ExtendedPoint.ZERO)),de);const he=(re,ae)=>{const be=ae.DST,ye=typeof be=="string"?(0,n.utf8ToBytes)(be):be,we=(0,h.expand_message_xmd)(re,ye,64,t.sha512);return de.hashToCurve(we)};e.hashToRistretto255=he,e.hash_to_ristretto255=e.hashToRistretto255}(ed25519);var public_key$2={};Object.defineProperty(public_key$2,"__esModule",{value:!0}),public_key$2.PublicKey=void 0;const types_1$C=lib$F,utils_1$E=lib$r,ed25519_1$5=ed25519,constants_1$b=constants$8;function key_type_to_str$2(e){switch(e){case constants_1$b.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${e}`)}}function str_to_key_type$2(e){switch(e.toLowerCase()){case"ed25519":return constants_1$b.KeyType.ED25519;default:throw new Error(`Unknown key type ${e}`)}}let PublicKey$2=class Vt extends types_1$C.Assignable{static from(t){return typeof t=="string"?Vt.fromString(t):t}static fromString(t){const n=t.split(":");let o,c=constants_1$b.KeyType.ED25519;if(n.length===1)o=n[0];else if(n.length===2)o=n[1],c=str_to_key_type$2(n[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const a=(0,utils_1$E.baseDecode)(o);if(a.length!==constants_1$b.KeySize.SECRET_KEY)throw new Error(`Invalid public key size (${a.length}), must be ${constants_1$b.KeySize.SECRET_KEY}`);return new Vt({keyType:c,data:a})}toString(){return`${key_type_to_str$2(this.keyType)}:${(0,utils_1$E.baseEncode)(this.data)}`}verify(t,n){switch(this.keyType){case constants_1$b.KeyType.ED25519:return ed25519_1$5.ed25519.verify(n,t,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}};public_key$2.PublicKey=PublicKey$2;var __importDefault$t=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(key_pair_ed25519$2,"__esModule",{value:!0}),key_pair_ed25519$2.KeyPairEd25519=void 0;const utils_1$D=lib$r,ed25519_1$4=ed25519,randombytes_1$2=__importDefault$t(browserExports),constants_1$a=constants$8,key_pair_base_1$5=key_pair_base$2,public_key_1$2=public_key$2;let KeyPairEd25519$2=class er extends key_pair_base_1$5.KeyPairBase{constructor(t){super();const n=(0,utils_1$D.baseDecode)(t),o=new Uint8Array(n.slice(0,constants_1$a.KeySize.SECRET_KEY)),c=ed25519_1$4.ed25519.getPublicKey(o);this.publicKey=new public_key_1$2.PublicKey({keyType:constants_1$a.KeyType.ED25519,data:c}),this.secretKey=(0,utils_1$D.baseEncode)(o),this.extendedSecretKey=t}static fromRandom(){const t=(0,randombytes_1$2.default)(constants_1$a.KeySize.SECRET_KEY),n=ed25519_1$4.ed25519.getPublicKey(new Uint8Array(t)),o=new Uint8Array([...t,...n]);return new er((0,utils_1$D.baseEncode)(o))}sign(t){return{signature:ed25519_1$4.ed25519.sign(t,(0,utils_1$D.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(t,n){return this.publicKey.verify(t,n)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}};key_pair_ed25519$2.KeyPairEd25519=KeyPairEd25519$2,Object.defineProperty(key_pair$5,"__esModule",{value:!0}),key_pair$5.KeyPair=void 0;const key_pair_base_1$4=key_pair_base$2,key_pair_ed25519_1$2=key_pair_ed25519$2;let KeyPair$2=class extends key_pair_base_1$4.KeyPairBase{static fromRandom(e){switch(e.toUpperCase()){case"ED25519":return key_pair_ed25519_1$2.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${e}`)}}static fromString(e){const t=e.split(":");if(t.length===1)return new key_pair_ed25519_1$2.KeyPairEd25519(t[0]);if(t.length===2)switch(t[0].toUpperCase()){case"ED25519":return new key_pair_ed25519_1$2.KeyPairEd25519(t[1]);default:throw new Error(`Unknown curve: ${t[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}};key_pair$5.KeyPair=KeyPair$2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var t=constants$8;Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}});var n=key_pair$5;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return n.KeyPair}});var o=key_pair_ed25519$2;Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return o.KeyPairEd25519}});var c=public_key$2;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return c.PublicKey}})}(lib$s);var keystore$4={};Object.defineProperty(keystore$4,"__esModule",{value:!0}),keystore$4.KeyStore=void 0;let KeyStore$2=class{};keystore$4.KeyStore=KeyStore$2;var __awaiter$13=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(in_memory_key_store$5,"__esModule",{value:!0}),in_memory_key_store$5.InMemoryKeyStore=void 0;const crypto_1$n=lib$s,keystore_1$5=keystore$4;let InMemoryKeyStore$2=class extends keystore_1$5.KeyStore{constructor(){super(),this.keys={}}setKey(e,t,n){return __awaiter$13(this,void 0,void 0,function*(){this.keys[`${t}:${e}`]=n.toString()})}getKey(e,t){return __awaiter$13(this,void 0,void 0,function*(){const n=this.keys[`${t}:${e}`];return n?crypto_1$n.KeyPair.fromString(n):null})}removeKey(e,t){return __awaiter$13(this,void 0,void 0,function*(){delete this.keys[`${t}:${e}`]})}clear(){return __awaiter$13(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return __awaiter$13(this,void 0,void 0,function*(){const e=new Set;return Object.keys(this.keys).forEach(t=>{const n=t.split(":");e.add(n[1])}),Array.from(e.values())})}getAccounts(e){return __awaiter$13(this,void 0,void 0,function*(){const t=new Array;return Object.keys(this.keys).forEach(n=>{const o=n.split(":");o[o.length-1]===e&&t.push(o.slice(0,o.length-1).join(":"))}),t})}toString(){return"InMemoryKeyStore"}};in_memory_key_store$5.InMemoryKeyStore=InMemoryKeyStore$2;var merge_key_store$5={},__awaiter$12=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(merge_key_store$5,"__esModule",{value:!0}),merge_key_store$5.MergeKeyStore=void 0;const keystore_1$4=keystore$4;let MergeKeyStore$2=class extends keystore_1$4.KeyStore{constructor(e,t={writeKeyStoreIndex:0}){super(),this.options=t,this.keyStores=e}setKey(e,t,n){return __awaiter$12(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(e,t,n)})}getKey(e,t){return __awaiter$12(this,void 0,void 0,function*(){for(const n of this.keyStores){const o=yield n.getKey(e,t);if(o)return o}return null})}removeKey(e,t){return __awaiter$12(this,void 0,void 0,function*(){for(const n of this.keyStores)yield n.removeKey(e,t)})}clear(){return __awaiter$12(this,void 0,void 0,function*(){for(const e of this.keyStores)yield e.clear()})}getNetworks(){return __awaiter$12(this,void 0,void 0,function*(){const e=new Set;for(const t of this.keyStores)for(const n of yield t.getNetworks())e.add(n);return Array.from(e)})}getAccounts(e){return __awaiter$12(this,void 0,void 0,function*(){const t=new Set;for(const n of this.keyStores)for(const o of yield n.getAccounts(e))t.add(o);return Array.from(t)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}};merge_key_store$5.MergeKeyStore=MergeKeyStore$2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.KeyStore=e.InMemoryKeyStore=void 0;var t=in_memory_key_store$5;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}});var n=keystore$4;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return n.KeyStore}});var o=merge_key_store$5;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return o.MergeKeyStore}})}(lib$t),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0;var t=lib$t;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}})}(keystore$5);var in_memory_key_store$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;var t=lib$t;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}})})(in_memory_key_store$4);var browser_local_storage_key_store$5={},lib$q={},browser_local_storage_key_store$4={},__awaiter$11=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(browser_local_storage_key_store$4,"__esModule",{value:!0}),browser_local_storage_key_store$4.BrowserLocalStorageKeyStore=void 0;const crypto_1$m=lib$s,keystores_1$5=lib$t,LOCAL_STORAGE_KEY_PREFIX$2="near-api-js:keystore:";let BrowserLocalStorageKeyStore$2=class extends keystores_1$5.KeyStore{constructor(e=window.localStorage,t=LOCAL_STORAGE_KEY_PREFIX$2){super(),this.localStorage=e,this.prefix=t}setKey(e,t,n){return __awaiter$11(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(e,t),n.toString())})}getKey(e,t){return __awaiter$11(this,void 0,void 0,function*(){const n=this.localStorage.getItem(this.storageKeyForSecretKey(e,t));return n?crypto_1$m.KeyPair.fromString(n):null})}removeKey(e,t){return __awaiter$11(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(e,t))})}clear(){return __awaiter$11(this,void 0,void 0,function*(){for(const e of this.storageKeys())e.startsWith(this.prefix)&&this.localStorage.removeItem(e)})}getNetworks(){return __awaiter$11(this,void 0,void 0,function*(){const e=new Set;for(const t of this.storageKeys())if(t.startsWith(this.prefix)){const n=t.substring(this.prefix.length).split(":");e.add(n[1])}return Array.from(e.values())})}getAccounts(e){return __awaiter$11(this,void 0,void 0,function*(){const t=new Array;for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const o=n.substring(this.prefix.length).split(":");o[1]===e&&t.push(o[0])}return t})}storageKeyForSecretKey(e,t){return`${this.prefix}${t}:${e}`}*storageKeys(){for(let e=0;e<this.localStorage.length;e++)yield this.localStorage.key(e)}};browser_local_storage_key_store$4.BrowserLocalStorageKeyStore=BrowserLocalStorageKeyStore$2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var t=browser_local_storage_key_store$4;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}})}(lib$q),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var t=lib$q;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}})}(browser_local_storage_key_store$5);var merge_key_store$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;var t=lib$t;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return t.MergeKeyStore}})})(merge_key_store$4),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.BrowserLocalStorageKeyStore=e.InMemoryKeyStore=e.KeyStore=void 0;const t=keystore$5;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}});const n=in_memory_key_store$4;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return n.InMemoryKeyStore}});const o=browser_local_storage_key_store$5;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return o.BrowserLocalStorageKeyStore}});const c=merge_key_store$4;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return c.MergeKeyStore}})}(browserIndex$5);var commonIndex$2={},providers$2={},provider$9={},lib$p={},exponentialBackoff$5={},__awaiter$10=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(exponentialBackoff$5,"__esModule",{value:!0}),exponentialBackoff$5.exponentialBackoff=void 0;function exponentialBackoff$4(e,t,n,o){return __awaiter$10(this,void 0,void 0,function*(){let c=e;for(let a=0;a<t;a++){const u=yield o();if(u)return u;yield sleep$2(c),c*=n}return null})}exponentialBackoff$5.exponentialBackoff=exponentialBackoff$4;function sleep$2(e){return new Promise(t=>setTimeout(t,e))}var jsonRpcProvider$5={},lib$o={},action_creators$2={},actions$3={};Object.defineProperty(actions$3,"__esModule",{value:!0}),actions$3.Action=actions$3.SignedDelegate=actions$3.DeleteAccount=actions$3.DeleteKey=actions$3.AddKey=actions$3.Stake=actions$3.Transfer=actions$3.FunctionCall=actions$3.DeployContract=actions$3.CreateAccount=actions$3.IAction=actions$3.AccessKey=actions$3.AccessKeyPermission=actions$3.FullAccessPermission=actions$3.FunctionCallPermission=void 0;const types_1$B=lib$F;let Enum$2=class{constructor(e){if(Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this[t]=e[t],this.enum=t})}},FunctionCallPermission$2=class extends types_1$B.Assignable{};actions$3.FunctionCallPermission=FunctionCallPermission$2;let FullAccessPermission$2=class extends types_1$B.Assignable{};actions$3.FullAccessPermission=FullAccessPermission$2;let AccessKeyPermission$2=class extends Enum$2{};actions$3.AccessKeyPermission=AccessKeyPermission$2;let AccessKey$2=class extends types_1$B.Assignable{};actions$3.AccessKey=AccessKey$2;let IAction$2=class extends types_1$B.Assignable{};actions$3.IAction=IAction$2;let CreateAccount$2=class extends IAction$2{};actions$3.CreateAccount=CreateAccount$2;let DeployContract$2=class extends IAction$2{};actions$3.DeployContract=DeployContract$2;let FunctionCall$2=class extends IAction$2{};actions$3.FunctionCall=FunctionCall$2;let Transfer$2=class extends IAction$2{};actions$3.Transfer=Transfer$2;let Stake$2=class extends IAction$2{};actions$3.Stake=Stake$2;let AddKey$2=class extends IAction$2{};actions$3.AddKey=AddKey$2;let DeleteKey$2=class extends IAction$2{};actions$3.DeleteKey=DeleteKey$2;let DeleteAccount$2=class extends IAction$2{};actions$3.DeleteAccount=DeleteAccount$2;let SignedDelegate$2=class extends IAction$2{};actions$3.SignedDelegate=SignedDelegate$2;let Action$2=class extends Enum$2{};actions$3.Action=Action$2;var __importDefault$s=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(action_creators$2,"__esModule",{value:!0}),action_creators$2.actionCreators=action_creators$2.stringifyJsonOrBytes=void 0;const bn_js_1$j=__importDefault$s(bnExports$6),actions_1$6=actions$3;function fullAccessKey$8(){return new actions_1$6.AccessKey({nonce:0,permission:new actions_1$6.AccessKeyPermission({fullAccess:new actions_1$6.FullAccessPermission({})})})}function functionCallAccessKey$8(e,t,n){return new actions_1$6.AccessKey({nonce:0,permission:new actions_1$6.AccessKeyPermission({functionCall:new actions_1$6.FunctionCallPermission({receiverId:e,allowance:n,methodNames:t})})})}function createAccount$8(){return new actions_1$6.Action({createAccount:new actions_1$6.CreateAccount({})})}function deployContract$e(e){return new actions_1$6.Action({deployContract:new actions_1$6.DeployContract({code:e})})}function stringifyJsonOrBytes$2(e){return e.byteLength!==void 0&&e.byteLength===e.length?e:Buffer$E.from(JSON.stringify(e))}action_creators$2.stringifyJsonOrBytes=stringifyJsonOrBytes$2;function functionCall$h(e,t,n=new bn_js_1$j.default(0),o=new bn_js_1$j.default(0),c=stringifyJsonOrBytes$2,a=!1){return a?new actions_1$6.Action({functionCall:new actions_1$6.FunctionCall({methodName:e,args:t,gas:n,deposit:o})}):new actions_1$6.Action({functionCall:new actions_1$6.FunctionCall({methodName:e,args:c(t),gas:n,deposit:o})})}function transfer$8(e=new bn_js_1$j.default(0)){return new actions_1$6.Action({transfer:new actions_1$6.Transfer({deposit:e})})}function stake$8(e=new bn_js_1$j.default(0),t){return new actions_1$6.Action({stake:new actions_1$6.Stake({stake:e,publicKey:t})})}function addKey$b(e,t){return new actions_1$6.Action({addKey:new actions_1$6.AddKey({publicKey:e,accessKey:t})})}function deleteKey$b(e){return new actions_1$6.Action({deleteKey:new actions_1$6.DeleteKey({publicKey:e})})}function deleteAccount$8(e){return new actions_1$6.Action({deleteAccount:new actions_1$6.DeleteAccount({beneficiaryId:e})})}function signedDelegate$2({delegateAction:e,signature:t}){return new actions_1$6.Action({signedDelegate:new actions_1$6.SignedDelegate({delegateAction:e,signature:t})})}action_creators$2.actionCreators={addKey:addKey$b,createAccount:createAccount$8,deleteAccount:deleteAccount$8,deleteKey:deleteKey$b,deployContract:deployContract$e,fullAccessKey:fullAccessKey$8,functionCall:functionCall$h,functionCallAccessKey:functionCallAccessKey$8,signedDelegate:signedDelegate$2,stake:stake$8,transfer:transfer$8};var create_transaction$2={},schema$4={},cjs$6={},serialize$g={},types$d={};types$d.__esModule=!0,types$d.integers=void 0,types$d.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer$6={};buffer$6.__esModule=!0,buffer$6.DecodeBuffer=buffer$6.EncodeBuffer=void 0;var EncodeBuffer$6=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(t){if(this.buffer_size-this.offset<t){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+t);var n=new ArrayBuffer(this.buffer_size);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n,this.view=new DataView(n)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(t,n){var o=n.substring(1),c=parseInt(o)/8;this.resize_if_necessary(c);var a=n[0]==="f"?"setFloat".concat(o):n[0]==="i"?"setInt".concat(o):"setUint".concat(o);this.view[a](this.offset,t,!0),this.offset+=c},e.prototype.store_bytes=function(t){this.resize_if_necessary(t.length),new Uint8Array(this.buffer).set(new Uint8Array(t),this.offset),this.offset+=t.length},e}();buffer$6.EncodeBuffer=EncodeBuffer$6;var DecodeBuffer$6=function(){function e(t){this.offset=0,this.buffer_size=t.length,this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(t){var n=t.substring(1),o=parseInt(n)/8;this.assert_enough_buffer(o);var c=t[0]==="f"?"getFloat".concat(n):t[0]==="i"?"getInt".concat(n):"getUint".concat(n),a=this.view[c](this.offset,!0);return this.offset+=o,a},e.prototype.consume_bytes=function(t){this.assert_enough_buffer(t);var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n},e}();buffer$6.DecodeBuffer=DecodeBuffer$6;var utils$y={},__extends$6=commonjsGlobal$7&&commonjsGlobal$7.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(o[a]=c[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();utils$y.__esModule=!0,utils$y.validate_schema=utils$y.ErrorSchema=utils$y.expect_enum=utils$y.expect_same_size=utils$y.expect_bigint=utils$y.expect_type=utils$y.isArrayLike=void 0;var types_js_1$k=types$d;function isArrayLike$6(e){return Array.isArray(e)||!!e&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&e.length-1 in e)}utils$y.isArrayLike=isArrayLike$6;function expect_type$6(e,t,n){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(n.join(".")))}utils$y.expect_type=expect_type$6;function expect_bigint$6(e,t){var n=["number","string","bigint","boolean"].includes(typeof e),o=typeof e=="object"&&e!==null&&"toString"in e;if(!n&&!o)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$y.expect_bigint=expect_bigint$6;function expect_same_size$6(e,t,n){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(n.join(".")))}utils$y.expect_same_size=expect_same_size$6;function expect_enum$6(e,t){if(typeof e!="object"||e===null)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$y.expect_enum=expect_enum$6;var VALID_STRING_TYPES$6=types_js_1$k.integers.concat(["bool","string"]),VALID_OBJECT_KEYS$6=["option","enum","array","set","map","struct"],ErrorSchema$6=function(e){__extends$6(t,e);function t(n,o){var c="Invalid schema: ".concat(JSON.stringify(n)," expected ").concat(o);return e.call(this,c)||this}return t}(Error);utils$y.ErrorSchema=ErrorSchema$6;function validate_schema$6(e){if(!(typeof e=="string"&&VALID_STRING_TYPES$6.includes(e))){if(e&&typeof e=="object"){var t=Object.keys(e);if(t.length===1&&VALID_OBJECT_KEYS$6.includes(t[0])){var n=t[0];if(n==="option")return validate_schema$6(e[n]);if(n==="enum")return validate_enum_schema$6(e[n]);if(n==="array")return validate_array_schema$6(e[n]);if(n==="set")return validate_schema$6(e[n]);if(n==="map")return validate_map_schema$6(e[n]);if(n==="struct")return validate_struct_schema$6(e[n])}}throw new ErrorSchema$6(e,VALID_OBJECT_KEYS$6.join(", ")+" or "+VALID_STRING_TYPES$6.join(", "))}}utils$y.validate_schema=validate_schema$6;function validate_enum_schema$6(e){if(!Array.isArray(e))throw new ErrorSchema$6(e,"Array");for(var t=0,n=e;t<n.length;t++){var o=n[t];if(typeof o!="object"||!("struct"in o))throw new Error('Missing "struct" key in enum schema');if(typeof o.struct!="object"||Object.keys(o.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema$6({struct:o.struct})}}function validate_array_schema$6(e){if(typeof e!="object")throw new ErrorSchema$6(e,"{ type, len? }");if(e.len&&typeof e.len!="number")throw new Error("Invalid schema: ".concat(e));if("type"in e)return validate_schema$6(e.type);throw new ErrorSchema$6(e,"{ type, len? }")}function validate_map_schema$6(e){if(typeof e=="object"&&"key"in e&&"value"in e)validate_schema$6(e.key),validate_schema$6(e.value);else throw new ErrorSchema$6(e,"{ key, value }")}function validate_struct_schema$6(e){if(typeof e!="object")throw new ErrorSchema$6(e,"object");for(var t in e)validate_schema$6(e[t])}var __createBinding$h=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$h=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$h=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$h(t,e,n);return __setModuleDefault$h(t,e),t};serialize$g.__esModule=!0,serialize$g.BorshSerializer=void 0;var types_js_1$j=types$d,buffer_js_1$d=buffer$6,utils$x=__importStar$h(utils$y),BorshSerializer$6=function(){function e(t){this.encoded=new buffer_js_1$d.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=t}return e.prototype.encode=function(t,n){return this.encode_value(t,n),this.encoded.get_used_buffer()},e.prototype.encode_value=function(t,n){if(typeof n=="string"){if(types_js_1$j.integers.includes(n))return this.encode_integer(t,n);if(n==="string")return this.encode_string(t);if(n==="bool")return this.encode_boolean(t)}if(typeof n=="object"){if("option"in n)return this.encode_option(t,n);if("enum"in n)return this.encode_enum(t,n);if("array"in n)return this.encode_array(t,n);if("set"in n)return this.encode_set(t,n);if("map"in n)return this.encode_map(t,n);if("struct"in n)return this.encode_struct(t,n)}},e.prototype.encode_integer=function(t,n){var o=parseInt(n.substring(1));o<=32||n=="f64"?(this.checkTypes&&utils$x.expect_type(t,"number",this.fieldPath),this.encoded.store_value(t,n)):(this.checkTypes&&utils$x.expect_bigint(t,this.fieldPath),this.encode_bigint(BigInt(t),o))},e.prototype.encode_bigint=function(t,n){for(var o=n/8,c=new Uint8Array(o),a=0;a<o;a++)c[a]=Number(t&BigInt(255)),t=t>>BigInt(8);this.encoded.store_bytes(new Uint8Array(c))},e.prototype.encode_string=function(t){this.checkTypes&&utils$x.expect_type(t,"string",this.fieldPath);var n=t;this.encoded.store_value(n.length,"u32");for(var o=0;o<n.length;o++)this.encoded.store_value(n.charCodeAt(o),"u8")},e.prototype.encode_boolean=function(t){this.checkTypes&&utils$x.expect_type(t,"boolean",this.fieldPath),this.encoded.store_value(t?1:0,"u8")},e.prototype.encode_option=function(t,n){t==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(t,n.option))},e.prototype.encode_enum=function(t,n){this.checkTypes&&utils$x.expect_enum(t,this.fieldPath);for(var o=Object.keys(t)[0],c=0;c<n.enum.length;c++){var a=n.enum[c];if(o===Object.keys(a.struct)[0])return this.encoded.store_value(c,"u8"),this.encode_struct(t,a)}throw new Error("Enum key (".concat(o,") not found in enum schema: ").concat(JSON.stringify(n)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(t,n){if(utils$x.isArrayLike(t))return this.encode_arraylike(t,n);if(t instanceof ArrayBuffer)return this.encode_buffer(t,n);throw new Error("Expected Array-like not ".concat(typeof t,"(").concat(t,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(t,n){n.array.len?utils$x.expect_same_size(t.length,n.array.len,this.fieldPath):this.encoded.store_value(t.length,"u32");for(var o=0;o<t.length;o++)this.encode_value(t[o],n.array.type)},e.prototype.encode_buffer=function(t,n){n.array.len?utils$x.expect_same_size(t.byteLength,n.array.len,this.fieldPath):this.encoded.store_value(t.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(t))},e.prototype.encode_set=function(t,n){this.checkTypes&&utils$x.expect_type(t,"object",this.fieldPath);var o=t instanceof Set,c=o?Array.from(t.values()):Object.values(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.set)}},e.prototype.encode_map=function(t,n){this.checkTypes&&utils$x.expect_type(t,"object",this.fieldPath);var o=t instanceof Map,c=o?Array.from(t.keys()):Object.keys(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.map.key),this.encode_value(o?t.get(h):t[h],n.map.value)}},e.prototype.encode_struct=function(t,n){this.checkTypes&&utils$x.expect_type(t,"object",this.fieldPath);for(var o=0,c=Object.keys(n.struct);o<c.length;o++){var a=c[o];this.fieldPath.push(a),this.encode_value(t[a],n.struct[a]),this.fieldPath.pop()}},e}();serialize$g.BorshSerializer=BorshSerializer$6;var deserialize$d={};deserialize$d.__esModule=!0,deserialize$d.BorshDeserializer=void 0;var types_js_1$i=types$d,buffer_js_1$c=buffer$6,BorshDeserializer$6=function(){function e(t){this.buffer=new buffer_js_1$c.DecodeBuffer(t)}return e.prototype.decode=function(t){return this.decode_value(t)},e.prototype.decode_value=function(t){if(typeof t=="string"){if(types_js_1$i.integers.includes(t))return this.decode_integer(t);if(t==="string")return this.decode_string();if(t==="bool")return this.decode_boolean()}if(typeof t=="object"){if("option"in t)return this.decode_option(t);if("enum"in t)return this.decode_enum(t);if("array"in t)return this.decode_array(t);if("set"in t)return this.decode_set(t);if("map"in t)return this.decode_map(t);if("struct"in t)return this.decode_struct(t)}throw new Error("Unsupported type: ".concat(t))},e.prototype.decode_integer=function(t){var n=parseInt(t.substring(1));return n<=32||t=="f64"?this.buffer.consume_value(t):this.decode_bigint(n,t.startsWith("i"))},e.prototype.decode_bigint=function(t,n){n===void 0&&(n=!1);var o=t/8,c=new Uint8Array(this.buffer.consume_bytes(o)),a=c.reduceRight(function(u,h){return u+h.toString(16).padStart(2,"0")},"");return n&&c[o-1]?BigInt.asIntN(t,BigInt("0x".concat(a))):BigInt("0x".concat(a))},e.prototype.decode_string=function(){var t=this.decode_integer("u32"),n=new Uint8Array(this.buffer.consume_bytes(t));return String.fromCharCode.apply(null,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(t){var n=this.buffer.consume_value("u8");if(n===1)return this.decode_value(t.option);if(n!==0)throw new Error("Invalid option ".concat(n));return null},e.prototype.decode_enum=function(t){var n,o=this.buffer.consume_value("u8");if(o>t.enum.length)throw new Error("Enum option ".concat(o," is not available"));var c=t.enum[o].struct,a=Object.keys(c)[0];return n={},n[a]=this.decode_value(c[a]),n},e.prototype.decode_array=function(t){for(var n=[],o=t.array.len?t.array.len:this.decode_integer("u32"),c=0;c<o;++c)n.push(this.decode_value(t.array.type));return n},e.prototype.decode_set=function(t){for(var n=this.decode_integer("u32"),o=new Set,c=0;c<n;++c)o.add(this.decode_value(t.set));return o},e.prototype.decode_map=function(t){for(var n=this.decode_integer("u32"),o=new Map,c=0;c<n;++c){var a=this.decode_value(t.map.key),u=this.decode_value(t.map.value);o.set(a,u)}return o},e.prototype.decode_struct=function(t){var n={};for(var o in t.struct)n[o]=this.decode_value(t.struct[o]);return n},e}();deserialize$d.BorshDeserializer=BorshDeserializer$6;var __createBinding$g=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$g=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$g=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$g(t,e,n);return __setModuleDefault$g(t,e),t};cjs$6.__esModule=!0,cjs$6.deserialize=cjs$6.serialize=void 0;var serialize_js_1$6=serialize$g,deserialize_js_1$6=deserialize$d,utils$w=__importStar$g(utils$y);function serialize$f(e,t,n){n===void 0&&(n=!0),n&&utils$w.validate_schema(e);var o=new serialize_js_1$6.BorshSerializer(n);return o.encode(t,e)}cjs$6.serialize=serialize$f;function deserialize$c(e,t,n){n===void 0&&(n=!0),n&&utils$w.validate_schema(e);var o=new deserialize_js_1$6.BorshDeserializer(t);return o.decode(e)}cjs$6.deserialize=deserialize$c;var prefix$2={};Object.defineProperty(prefix$2,"__esModule",{value:!0}),prefix$2.DelegateActionPrefix=void 0;const types_1$A=lib$F,ACTIONABLE_MESSAGE_BASE$2=Math.pow(2,30),NEP$2={MetaTransactions:366};let NEPPrefix$2=class extends types_1$A.Assignable{},ActionableMessagePrefix$2=class extends NEPPrefix$2{constructor(e){super({prefix:ACTIONABLE_MESSAGE_BASE$2+e})}},DelegateActionPrefix$2=class extends ActionableMessagePrefix$2{constructor(){super(NEP$2.MetaTransactions)}};prefix$2.DelegateActionPrefix=DelegateActionPrefix$2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SignedTransaction=e.Transaction=e.decodeSignedTransaction=e.decodeTransaction=e.encodeTransaction=e.encodeSignedDelegate=e.encodeDelegateAction=void 0;const t=lib$F,n=cjs$6,o=prefix$2;function c(w){return new Uint8Array([...(0,n.serialize)(e.SCHEMA.DelegateActionPrefix,new o.DelegateActionPrefix),...(0,n.serialize)(e.SCHEMA.DelegateAction,w)])}e.encodeDelegateAction=c;function a(w){return(0,n.serialize)(e.SCHEMA.SignedDelegate,w)}e.encodeSignedDelegate=a;function u(w){const O=w instanceof y?e.SCHEMA.SignedTransaction:e.SCHEMA.Transaction;return(0,n.serialize)(O,w)}e.encodeTransaction=u;function h(w){return new b((0,n.deserialize)(e.SCHEMA.Transaction,w))}e.decodeTransaction=h;function v(w){return new y((0,n.deserialize)(e.SCHEMA.SignedTransaction,w))}e.decodeSignedTransaction=v;class b extends t.Assignable{encode(){return u(this)}static decode(O){return h(O)}}e.Transaction=b;class y extends t.Assignable{encode(){return u(this)}static decode(O){return v(O)}}e.SignedTransaction=y,e.SCHEMA=new class{constructor(){this.Signature={struct:{keyType:"u8",data:{array:{type:"u8",len:64}}}},this.PublicKey={struct:{keyType:"u8",data:{array:{type:"u8",len:32}}}},this.FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}},this.FullAccessPermission={struct:{}},this.AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]},this.AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}},this.CreateAccount={struct:{}},this.DeployContract={struct:{code:{array:{type:"u8"}}}},this.FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}},this.Transfer={struct:{deposit:"u128"}},this.Stake={struct:{stake:"u128",publicKey:this.PublicKey}},this.AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}},this.DeleteKey={struct:{publicKey:this.PublicKey}},this.DeleteAccount={struct:{beneficiaryId:"string"}},this.DelegateActionPrefix={struct:{prefix:"u32"}},this.ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]},this.DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}},this.SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}},this.Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]},this.Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}},this.SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}}}}(schema$4);var __importDefault$r=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(create_transaction$2,"__esModule",{value:!0}),create_transaction$2.createTransaction=void 0;const bn_js_1$i=__importDefault$r(bnExports$6),schema_1$5=schema$4;function createTransaction$2(e,t,n,o,c,a){return new schema_1$5.Transaction({signerId:e,publicKey:t,nonce:new bn_js_1$i.default(o),receiverId:n,actions:c,blockHash:a})}create_transaction$2.createTransaction=createTransaction$2;var delegate$2={};Object.defineProperty(delegate$2,"__esModule",{value:!0}),delegate$2.buildDelegateAction=delegate$2.DelegateAction=void 0;const types_1$z=lib$F,action_creators_1$2=action_creators$2,{addKey:addKey$a,createAccount:createAccount$7,deleteAccount:deleteAccount$7,deleteKey:deleteKey$a,deployContract:deployContract$d,functionCall:functionCall$g,stake:stake$7,transfer:transfer$7}=action_creators_1$2.actionCreators;let DelegateAction$2=class extends types_1$z.Assignable{};delegate$2.DelegateAction=DelegateAction$2;function buildDelegateAction$2({actions:e,maxBlockHeight:t,nonce:n,publicKey:o,receiverId:c,senderId:a}){return new DelegateAction$2({senderId:a,receiverId:c,actions:e.map(u=>{if(!u.type&&!u.params)return u;switch(u.type){case"AddKey":{const{publicKey:h,accessKey:v}=u.params;return addKey$a(h,v)}case"CreateAccount":return createAccount$7(u.params.createAccount);case"DeleteAccount":return deleteAccount$7(u.params.deleteAccount);case"DeleteKey":return deleteKey$a(u.params.publicKey);case"DeployContract":return deployContract$d(u.params.code);case"FunctionCall":{const{methodName:h,args:v,gas:b,deposit:y}=u.params;return functionCall$g(h,v,b,y)}case"Stake":return stake$7(u.params.stake,u.params.publicKey);case"Transfer":{const{deposit:h}=u.params;return transfer$7(h)}}throw new Error("Unrecognized action")}),nonce:n,maxBlockHeight:t,publicKey:o})}delegate$2.buildDelegateAction=buildDelegateAction$2;var sign$2={},sha256$2={},_sha2$2={},_assert$2={};Object.defineProperty(_assert$2,"__esModule",{value:!0}),_assert$2.output=_assert$2.exists=_assert$2.hash=_assert$2.bytes=_assert$2.bool=_assert$2.number=void 0;function number$2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}_assert$2.number=number$2;function bool$2(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}_assert$2.bool=bool$2;function isBytes$2(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bytes$2(e,...t){if(!isBytes$2(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}_assert$2.bytes=bytes$2;function hash$2(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$2(e.outputLen),number$2(e.blockLen)}_assert$2.hash=hash$2;function exists$2(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}_assert$2.exists=exists$2;function output$2(e,t){bytes$2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}_assert$2.output=output$2;const assert$2={number:number$2,bool:bool$2,bytes:bytes$2,hash:hash$2,exists:exists$2,output:output$2};_assert$2.default=assert$2;var utils$v={},crypto$3={};Object.defineProperty(crypto$3,"__esModule",{value:!0}),crypto$3.crypto=void 0,crypto$3.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=crypto$3,n=Q=>new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength);e.u8=n;const o=Q=>new Uint32Array(Q.buffer,Q.byteOffset,Math.floor(Q.byteLength/4));e.u32=o;function c(Q){return Q instanceof Uint8Array||Q!=null&&typeof Q=="object"&&Q.constructor.name==="Uint8Array"}const a=Q=>new DataView(Q.buffer,Q.byteOffset,Q.byteLength);e.createView=a;const u=(Q,ne)=>Q<<32-ne|Q>>>ne;if(e.rotr=u,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const h=Array.from({length:256},(Q,ne)=>ne.toString(16).padStart(2,"0"));function v(Q){if(!c(Q))throw new Error("Uint8Array expected");let ne="";for(let fe=0;fe<Q.length;fe++)ne+=h[Q[fe]];return ne}e.bytesToHex=v;const b={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function y(Q){if(Q>=b._0&&Q<=b._9)return Q-b._0;if(Q>=b._A&&Q<=b._F)return Q-(b._A-10);if(Q>=b._a&&Q<=b._f)return Q-(b._a-10)}function w(Q){if(typeof Q!="string")throw new Error("hex string expected, got "+typeof Q);const ne=Q.length,fe=ne/2;if(ne%2)throw new Error("padded hex string expected, got unpadded hex of length "+ne);const l=new Uint8Array(fe);for(let p=0,m=0;p<fe;p++,m+=2){const _=y(Q.charCodeAt(m)),A=y(Q.charCodeAt(m+1));if(_===void 0||A===void 0){const I=Q[m]+Q[m+1];throw new Error('hex string expected, got non-hex character "'+I+'" at index '+m)}l[p]=_*16+A}return l}e.hexToBytes=w;const O=async()=>{};e.nextTick=O;async function P(Q,ne,fe){let l=Date.now();for(let p=0;p<Q;p++){fe(p);const m=Date.now()-l;m>=0&&m<ne||(await(0,e.nextTick)(),l+=m)}}e.asyncLoop=P;function C(Q){if(typeof Q!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Q}`);return new Uint8Array(new TextEncoder().encode(Q))}e.utf8ToBytes=C;function x(Q){if(typeof Q=="string"&&(Q=C(Q)),!c(Q))throw new Error(`expected Uint8Array, got ${typeof Q}`);return Q}e.toBytes=x;function D(...Q){let ne=0;for(let l=0;l<Q.length;l++){const p=Q[l];if(!c(p))throw new Error("Uint8Array expected");ne+=p.length}const fe=new Uint8Array(ne);for(let l=0,p=0;l<Q.length;l++){const m=Q[l];fe.set(m,p),p+=m.length}return fe}e.concatBytes=D;class k{clone(){return this._cloneInto()}}e.Hash=k;const B={}.toString;function q(Q,ne){if(ne!==void 0&&B.call(ne)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(Q,ne)}e.checkOpts=q;function V(Q){const ne=l=>Q().update(x(l)).digest(),fe=Q();return ne.outputLen=fe.outputLen,ne.blockLen=fe.blockLen,ne.create=()=>Q(),ne}e.wrapConstructor=V;function ee(Q){const ne=(l,p)=>Q(p).update(x(l)).digest(),fe=Q({});return ne.outputLen=fe.outputLen,ne.blockLen=fe.blockLen,ne.create=l=>Q(l),ne}e.wrapConstructorWithOpts=ee;function te(Q){const ne=(l,p)=>Q(p).update(x(l)).digest(),fe=Q({});return ne.outputLen=fe.outputLen,ne.blockLen=fe.blockLen,ne.create=l=>Q(l),ne}e.wrapXOFConstructorWithOpts=te;function ce(Q=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(Q));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=ce}(utils$v),Object.defineProperty(_sha2$2,"__esModule",{value:!0}),_sha2$2.SHA2=void 0;const _assert_js_1$2=_assert$2,utils_js_1$5=utils$v;function setBigUint64$2(e,t,n,o){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,o);const c=BigInt(32),a=BigInt(4294967295),u=Number(n>>c&a),h=Number(n&a),v=o?4:0,b=o?0:4;e.setUint32(t+v,u,o),e.setUint32(t+b,h,o)}let SHA2$2=class extends utils_js_1$5.Hash{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,utils_js_1$5.createView)(this.buffer)}update(e){(0,_assert_js_1$2.exists)(this);const{view:t,buffer:n,blockLen:o}=this;e=(0,utils_js_1$5.toBytes)(e);const c=e.length;for(let a=0;a<c;){const u=Math.min(o-this.pos,c-a);if(u===o){const h=(0,utils_js_1$5.createView)(e);for(;o<=c-a;a+=o)this.process(h,a);continue}n.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,_assert_js_1$2.exists)(this),(0,_assert_js_1$2.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:c}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let y=a;y<o;y++)t[y]=0;setBigUint64$2(n,o-8,BigInt(this.length*8),c),this.process(n,0);const u=(0,utils_js_1$5.createView)(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const v=h/4,b=this.get();if(v>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<v;y++)u.setUint32(4*y,b[y],c)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:o,finished:c,destroyed:a,pos:u}=this;return e.length=o,e.pos=u,e.finished=c,e.destroyed=a,o%t&&e.buffer.set(n),e}};_sha2$2.SHA2=SHA2$2,Object.defineProperty(sha256$2,"__esModule",{value:!0}),sha256$2.sha224=sha256$2.sha256=void 0;const _sha2_js_1$2=_sha2$2,utils_js_1$4=utils$v,Chi$2=(e,t,n)=>e&t^~e&n,Maj$2=(e,t,n)=>e&t^e&n^t&n,SHA256_K$2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV$2=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$2=new Uint32Array(64);let SHA256$2=class extends _sha2_js_1$2.SHA2{constructor(){super(64,32,8,!1),this.A=IV$2[0]|0,this.B=IV$2[1]|0,this.C=IV$2[2]|0,this.D=IV$2[3]|0,this.E=IV$2[4]|0,this.F=IV$2[5]|0,this.G=IV$2[6]|0,this.H=IV$2[7]|0}get(){const{A:e,B:t,C:n,D:o,E:c,F:a,G:u,H:h}=this;return[e,t,n,o,c,a,u,h]}set(e,t,n,o,c,a,u,h){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=c|0,this.F=a|0,this.G=u|0,this.H=h|0}process(e,t){for(let y=0;y<16;y++,t+=4)SHA256_W$2[y]=e.getUint32(t,!1);for(let y=16;y<64;y++){const w=SHA256_W$2[y-15],O=SHA256_W$2[y-2],P=(0,utils_js_1$4.rotr)(w,7)^(0,utils_js_1$4.rotr)(w,18)^w>>>3,C=(0,utils_js_1$4.rotr)(O,17)^(0,utils_js_1$4.rotr)(O,19)^O>>>10;SHA256_W$2[y]=C+SHA256_W$2[y-7]+P+SHA256_W$2[y-16]|0}let{A:n,B:o,C:c,D:a,E:u,F:h,G:v,H:b}=this;for(let y=0;y<64;y++){const w=(0,utils_js_1$4.rotr)(u,6)^(0,utils_js_1$4.rotr)(u,11)^(0,utils_js_1$4.rotr)(u,25),O=b+w+Chi$2(u,h,v)+SHA256_K$2[y]+SHA256_W$2[y]|0,P=((0,utils_js_1$4.rotr)(n,2)^(0,utils_js_1$4.rotr)(n,13)^(0,utils_js_1$4.rotr)(n,22))+Maj$2(n,o,c)|0;b=v,v=h,h=u,u=a+O|0,a=c,c=o,o=n,n=O+P|0}n=n+this.A|0,o=o+this.B|0,c=c+this.C|0,a=a+this.D|0,u=u+this.E|0,h=h+this.F|0,v=v+this.G|0,b=b+this.H|0,this.set(n,o,c,a,u,h,v,b)}roundClean(){SHA256_W$2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},SHA224$2=class extends SHA256$2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};sha256$2.sha256=(0,utils_js_1$4.wrapConstructor)(()=>new SHA256$2),sha256$2.sha224=(0,utils_js_1$4.wrapConstructor)(()=>new SHA224$2);var signature$2={};Object.defineProperty(signature$2,"__esModule",{value:!0}),signature$2.Signature=void 0;const types_1$y=lib$F;let Signature$2=class extends types_1$y.Assignable{};signature$2.Signature=Signature$2;var __awaiter$$=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(sign$2,"__esModule",{value:!0}),sign$2.signDelegateAction=sign$2.signTransaction=void 0;const sha256_1$5=sha256$2,actions_1$5=actions$3,create_transaction_1$2=create_transaction$2,schema_1$4=schema$4,signature_1$2=signature$2;function signTransactionObject$2(e,t,n,o){return __awaiter$$(this,void 0,void 0,function*(){const c=(0,schema_1$4.encodeTransaction)(e),a=new Uint8Array((0,sha256_1$5.sha256)(c)),u=yield t.signMessage(c,n,o),h=new schema_1$4.SignedTransaction({transaction:e,signature:new signature_1$2.Signature({keyType:e.publicKey.keyType,data:u.signature})});return[a,h]})}function signTransaction$2(...e){return __awaiter$$(this,void 0,void 0,function*(){if(e[0].constructor===schema_1$4.Transaction){const[t,n,o,c]=e;return signTransactionObject$2(t,n,o,c)}else{const[t,n,o,c,a,u,h]=e,v=yield a.getPublicKey(u,h),b=(0,create_transaction_1$2.createTransaction)(u,v,t,n,o,c);return signTransactionObject$2(b,a,u,h)}})}sign$2.signTransaction=signTransaction$2;function signDelegateAction$2({delegateAction:e,signer:t}){return __awaiter$$(this,void 0,void 0,function*(){const n=(0,schema_1$4.encodeDelegateAction)(e),o=yield t.sign(n),c=new actions_1$5.SignedDelegate({delegateAction:e,signature:new signature_1$2.Signature({keyType:e.publicKey.keyType,data:o})});return{hash:new Uint8Array((0,sha256_1$5.sha256)(n)),signedDelegateAction:c}})}sign$2.signDelegateAction=signDelegateAction$2,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(action_creators$2,e),n(actions$3,e),n(create_transaction$2,e),n(delegate$2,e),n(schema$4,e),n(sign$2,e),n(signature$2,e)}(lib$o);var provider$8={};Object.defineProperty(provider$8,"__esModule",{value:!0}),provider$8.Provider=void 0;let Provider$2=class{};provider$8.Provider=Provider$2;var fetch_json$2={},httpErrors$2={exports:{}};/*!
* depd
* Copyright(c) 2015 Douglas Christopher Wilson
* MIT Licensed
*/var browser$6=depd$2;function depd$2(e){if(!e)throw new TypeError("argument namespace is required");function t(n){}return t._file=void 0,t._ignored=!0,t._namespace=e,t._traced=!1,t._warned=Object.create(null),t.function=wrapfunction$2,t.property=wrapproperty$2,t}function wrapfunction$2(e,t){if(typeof e!="function")throw new TypeError("argument fn must be a function");return e}function wrapproperty$2(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(e,t);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable")}var setprototypeof$2=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf$2:mixinProperties$2);function setProtoOf$2(e,t){return e.__proto__=t,e}function mixinProperties$2(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}var inherits_browser$2={exports:{}};typeof Object.create=="function"?inherits_browser$2.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser$2.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits_browserExports$2=inherits_browser$2.exports;/*!
* toidentifier
* Copyright(c) 2016 Douglas Christopher Wilson
* MIT Licensed
*/var toidentifier$2=toIdentifier$2;function toIdentifier$2(e){return e.split(" ").map(function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}/*!
* http-errors
* Copyright(c) 2014 Jonathan Ong
* Copyright(c) 2016 Douglas Christopher Wilson
* MIT Licensed
*/(function(e){var t=browser$6("http-errors"),n=setprototypeof$2,o=statuses,c=inherits_browserExports$2,a=toidentifier$2;e.exports=h,e.exports.HttpError=v(),O(e.exports,o.codes,e.exports.HttpError);function u(P){return+(String(P).charAt(0)+"00")}function h(){for(var P,C,x=500,D={},k=0;k<arguments.length;k++){var B=arguments[k];if(B instanceof Error){P=B,x=P.status||P.statusCode||x;continue}switch(typeof B){case"string":C=B;break;case"number":x=B;break;case"object":D=B;break}}(typeof x!="number"||!o[x]&&(x<400||x>=600))&&(x=500);var q=h[x]||h[u(x)];P||(P=q?new q(C):new Error(C||o[x]),Error.captureStackTrace(P,h)),(!q||!(P instanceof q)||P.status!==x)&&(P.expose=x<500,P.status=P.statusCode=x);for(var V in D)V!=="status"&&V!=="statusCode"&&(P[V]=D[V]);return P}function v(){function P(){throw new TypeError("cannot construct abstract class")}return c(P,Error),P}function b(P,C,x){var D=C.match(/Error$/)?C:C+"Error";function k(B){var q=B??o[x],V=new Error(q);return Error.captureStackTrace(V,k),n(V,k.prototype),Object.defineProperty(V,"message",{enumerable:!0,configurable:!0,value:q,writable:!0}),Object.defineProperty(V,"name",{enumerable:!1,configurable:!0,value:D,writable:!0}),V}return c(k,P),w(k,D),k.prototype.status=x,k.prototype.statusCode=x,k.prototype.expose=!0,k}function y(P,C,x){var D=C.match(/Error$/)?C:C+"Error";function k(B){var q=B??o[x],V=new Error(q);return Error.captureStackTrace(V,k),n(V,k.prototype),Object.defineProperty(V,"message",{enumerable:!0,configurable:!0,value:q,writable:!0}),Object.defineProperty(V,"name",{enumerable:!1,configurable:!0,value:D,writable:!0}),V}return c(k,P),w(k,D),k.prototype.status=x,k.prototype.statusCode=x,k.prototype.expose=!1,k}function w(P,C){var x=Object.getOwnPropertyDescriptor(P,"name");x&&x.configurable&&(x.value=C,Object.defineProperty(P,"name",x))}function O(P,C,x){C.forEach(function(D){var k,B=a(o[D]);switch(u(D)){case 400:k=b(x,B,D);break;case 500:k=y(x,B,D);break}k&&(P[D]=k,P[B]=k)}),P["I'mateapot"]=t.function(P.ImATeapot,`"I'mateapot"; use "ImATeapot" instead`)}})(httpErrors$2);var httpErrorsExports$2=httpErrors$2.exports,fetch$3={},browser$5={exports:{}},hasRequiredBrowser$2;function requireBrowser$2(){return hasRequiredBrowser$2||(hasRequiredBrowser$2=1,function(e,t){var n=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof o<"u")return o;throw new Error("unable to locate global object")},o=n();e.exports=t=o.fetch,o.fetch&&(t.default=o.fetch.bind(o)),t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response}(browser$5,browser$5.exports)),browser$5.exports}var hasRequiredFetch$2;function requireFetch$2(){if(hasRequiredFetch$2)return fetch$3;hasRequiredFetch$2=1;var e=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(fetch$3,"__esModule",{value:!0});const t=e(requireBrowser$2()),n=e(requireStreamHttp()),o=e(requireHttpsBrowserify()),c=new n.default.Agent({keepAlive:!0}),a=new o.default.Agent({keepAlive:!0});function u(v){return v.protocol==="http:"?c:a}function h(v,b){return(0,t.default)(v,Object.assign({agent:u(new URL(v.toString()))},b))}return fetch$3.default=h,fetch$3}var __createBinding$f=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$f=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$f=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$f(t,e,n);return __setModuleDefault$f(t,e),t},__awaiter$_=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$q=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fetch_json$2,"__esModule",{value:!0}),fetch_json$2.fetchJson=void 0;const types_1$x=lib$F,utils_1$C=lib$r,http_errors_1$2=__importDefault$q(httpErrorsExports$2),exponential_backoff_1$5=exponentialBackoff$5,START_WAIT_TIME_MS$2=1e3,BACKOFF_MULTIPLIER$2=1.5,RETRY_NUMBER$2=10;function fetchJson$2(e,t){return __awaiter$_(this,void 0,void 0,function*(){let n={url:null};typeof e=="string"?n.url=e:n=e;const o=yield(0,exponential_backoff_1$5.exponentialBackoff)(START_WAIT_TIME_MS$2,RETRY_NUMBER$2,BACKOFF_MULTIPLIER$2,()=>__awaiter$_(this,void 0,void 0,function*(){var c;try{const a=yield((c=commonjsGlobal$7.fetch)!==null&&c!==void 0?c:(yield Promise.resolve().then(()=>__importStar$f(requireFetch$2()))).default)(n.url,{method:t?"POST":"GET",body:t||void 0,headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"application/json"})});if(!a.ok){if(a.status===503)return utils_1$C.Logger.warn(`Retrying HTTP request for ${n.url} as it's not available now`),null;if(a.status===408)return utils_1$C.Logger.warn(`Retrying HTTP request for ${n.url} as the previous connection was unused for some time`),null;throw(0,http_errors_1$2.default)(a.status,yield a.text())}return a}catch(a){if(a.toString().includes("FetchError")||a.toString().includes("Failed to fetch"))return utils_1$C.Logger.warn(`Retrying HTTP request for ${n.url} because of error: ${a}`),null;throw a}}));if(!o)throw new types_1$x.TypedError(`Exceeded ${RETRY_NUMBER$2} attempts for ${n.url}.`,"RetriesExceeded");return yield o.json()})}fetch_json$2.fetchJson=fetchJson$2;var __awaiter$Z=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$9=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(jsonRpcProvider$5,"__esModule",{value:!0}),jsonRpcProvider$5.JsonRpcProvider=void 0;const utils_1$B=lib$r,types_1$w=lib$F,transactions_1$g=lib$o,exponential_backoff_1$4=exponentialBackoff$5,provider_1$5=provider$8,fetch_json_1$2=fetch_json$2,REQUEST_RETRY_NUMBER$2=12,REQUEST_RETRY_WAIT$2=500,REQUEST_RETRY_WAIT_BACKOFF$2=1.5;let _nextId$2=123,JsonRpcProvider$2=class extends provider_1$5.Provider{constructor(e){super(),this.connection=e||{url:""}}status(){return __awaiter$Z(this,void 0,void 0,function*(){return this.sendJsonRpc("status",[])})}sendTransaction(e){return __awaiter$Z(this,void 0,void 0,function*(){const t=(0,transactions_1$g.encodeTransaction)(e);return this.sendJsonRpc("broadcast_tx_commit",[Buffer$E.from(t).toString("base64")])})}sendTransactionAsync(e){return __awaiter$Z(this,void 0,void 0,function*(){const t=(0,transactions_1$g.encodeTransaction)(e);return this.sendJsonRpc("broadcast_tx_async",[Buffer$E.from(t).toString("base64")])})}txStatus(e,t){return __awaiter$Z(this,void 0,void 0,function*(){return typeof e=="string"?this.txStatusString(e,t):this.txStatusUint8Array(e,t)})}txStatusUint8Array(e,t){return __awaiter$Z(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[(0,utils_1$B.baseEncode)(e),t])})}txStatusString(e,t){return __awaiter$Z(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[e,t])})}txStatusReceipts(e,t){return __awaiter$Z(this,void 0,void 0,function*(){return typeof e=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",[e,t]):this.sendJsonRpc("EXPERIMENTAL_tx_status",[(0,utils_1$B.baseEncode)(e),t])})}query(...e){return __awaiter$Z(this,void 0,void 0,function*(){let t;if(e.length===1){const n=e[0],{block_id:o,blockId:c}=n,a=__rest$9(n,["block_id","blockId"]);t=yield this.sendJsonRpc("query",Object.assign(Object.assign({},a),{block_id:o||c}))}else{const[n,o]=e;t=yield this.sendJsonRpc("query",[n,o])}if(t&&t.error)throw new types_1$w.TypedError(`Querying failed: ${t.error}.
${JSON.stringify(t,null,2)}`,(0,utils_1$B.getErrorTypeFromErrorMessage)(t.error,t.error.name));return t})}block(e){return __awaiter$Z(this,void 0,void 0,function*(){const{finality:t}=e,{blockId:n}=e;return this.sendJsonRpc("block",{block_id:n,finality:t})})}blockChanges(e){return __awaiter$Z(this,void 0,void 0,function*(){const{finality:t}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:n,finality:t})})}chunk(e){return __awaiter$Z(this,void 0,void 0,function*(){return this.sendJsonRpc("chunk",[e])})}validators(e){return __awaiter$Z(this,void 0,void 0,function*(){return this.sendJsonRpc("validators",[e])})}experimental_protocolConfig(e){return __awaiter$Z(this,void 0,void 0,function*(){const t=e,{blockId:n}=t,o=__rest$9(t,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},o),{block_id:n}))})}lightClientProof(e){return __awaiter$Z(this,void 0,void 0,function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",e)})}nextLightClientBlock(e){return __awaiter$Z(this,void 0,void 0,function*(){return yield this.sendJsonRpc("next_light_client_block",e)})}accessKeyChanges(e,t){return __awaiter$Z(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:e,block_id:o,finality:n})})}singleAccessKeyChanges(e,t){return __awaiter$Z(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:e,block_id:o,finality:n})})}accountChanges(e,t){return __awaiter$Z(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:e,block_id:o,finality:n})})}contractStateChanges(e,t,n=""){return __awaiter$Z(this,void 0,void 0,function*(){const{finality:o}=t,{blockId:c}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:e,key_prefix_base64:n,block_id:c,finality:o})})}contractCodeChanges(e,t){return __awaiter$Z(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:e,block_id:o,finality:n})})}gasPrice(e){return __awaiter$Z(this,void 0,void 0,function*(){return yield this.sendJsonRpc("gas_price",[e])})}sendJsonRpc(e,t){return __awaiter$Z(this,void 0,void 0,function*(){const n=yield(0,exponential_backoff_1$4.exponentialBackoff)(REQUEST_RETRY_WAIT$2,REQUEST_RETRY_NUMBER$2,REQUEST_RETRY_WAIT_BACKOFF$2,()=>__awaiter$Z(this,void 0,void 0,function*(){var c;try{const a={method:e,params:t,id:_nextId$2++,jsonrpc:"2.0"},u=yield(0,fetch_json_1$2.fetchJson)(this.connection,JSON.stringify(a));if(u.error){if(typeof u.error.data=="object")throw typeof u.error.data.error_message=="string"&&typeof u.error.data.error_type=="string"?new types_1$w.TypedError(u.error.data.error_message,u.error.data.error_type):(0,utils_1$B.parseRpcError)(u.error.data);{const h=`[${u.error.code}] ${u.error.message}: ${u.error.data}`;if(u.error.data==="Timeout"||h.includes("Timeout error")||h.includes("query has timed out"))throw new types_1$w.TypedError(h,"TimeoutError");const v=(0,utils_1$B.getErrorTypeFromErrorMessage)(u.error.data,"");throw v?new types_1$w.TypedError((0,utils_1$B.formatError)(v,t),v):new types_1$w.TypedError(h,u.error.name)}}else if(typeof((c=u.result)===null||c===void 0?void 0:c.error)=="string"){const h=(0,utils_1$B.getErrorTypeFromErrorMessage)(u.result.error,"");if(h)throw new utils_1$B.ServerError((0,utils_1$B.formatError)(h,t),h)}return u}catch(a){if(a.type==="TimeoutError")return utils_1$B.Logger.warn(`Retrying request to ${e} as it has timed out`,t),null;throw a}})),{result:o}=n;if(typeof o>"u")throw new types_1$w.TypedError(`Exceeded ${REQUEST_RETRY_NUMBER$2} attempts for request to ${e}.`,"RetriesExceeded");return o})}};jsonRpcProvider$5.JsonRpcProvider=JsonRpcProvider$2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=e.Provider=e.JsonRpcProvider=e.exponentialBackoff=void 0;var t=exponentialBackoff$5;Object.defineProperty(e,"exponentialBackoff",{enumerable:!0,get:function(){return t.exponentialBackoff}});var n=jsonRpcProvider$5;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}});var o=provider$8;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return o.Provider}});var c=fetch_json$2;Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return c.fetchJson}})}(lib$p),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=e.Provider=e.getTransactionLastResult=void 0;var t=lib$r;Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}});var n=lib$p;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return n.Provider}});var o=lib$F;Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return o.IdType}}),Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return o.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return o.FinalExecutionStatusBasic}})}(provider$9);var jsonRpcProvider$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=e.TypedError=e.ErrorContext=void 0;var t=lib$F;Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return t.ErrorContext}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return t.TypedError}});var n=lib$p;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}})})(jsonRpcProvider$4),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.getTransactionLastResult=e.FinalExecutionStatusBasic=e.JsonRpcProvider=e.Provider=void 0;const t=provider$9;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return t.Provider}}),Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return t.FinalExecutionStatusBasic}});const n=jsonRpcProvider$4;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return n.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return n.ErrorContext}})}(providers$2);var utils$u={},key_pair$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyType=e.KeyPairEd25519=e.KeyPair=void 0;var t=lib$s;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return t.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return t.KeyPairEd25519}}),Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}}),Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return t.PublicKey}})})(key_pair$4);var serialize$e={},cjs$5={},serialize$d={},types$c={};types$c.__esModule=!0,types$c.integers=void 0,types$c.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer$5={};buffer$5.__esModule=!0,buffer$5.DecodeBuffer=buffer$5.EncodeBuffer=void 0;var EncodeBuffer$5=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(t){if(this.buffer_size-this.offset<t){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+t);var n=new ArrayBuffer(this.buffer_size);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n,this.view=new DataView(n)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(t,n){var o=n.substring(1),c=parseInt(o)/8;this.resize_if_necessary(c);var a=n[0]==="f"?"setFloat".concat(o):n[0]==="i"?"setInt".concat(o):"setUint".concat(o);this.view[a](this.offset,t,!0),this.offset+=c},e.prototype.store_bytes=function(t){this.resize_if_necessary(t.length),new Uint8Array(this.buffer).set(new Uint8Array(t),this.offset),this.offset+=t.length},e}();buffer$5.EncodeBuffer=EncodeBuffer$5;var DecodeBuffer$5=function(){function e(t){this.offset=0,this.buffer_size=t.length,this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(t){var n=t.substring(1),o=parseInt(n)/8;this.assert_enough_buffer(o);var c=t[0]==="f"?"getFloat".concat(n):t[0]==="i"?"getInt".concat(n):"getUint".concat(n),a=this.view[c](this.offset,!0);return this.offset+=o,a},e.prototype.consume_bytes=function(t){this.assert_enough_buffer(t);var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n},e}();buffer$5.DecodeBuffer=DecodeBuffer$5;var utils$t={},__extends$5=commonjsGlobal$7&&commonjsGlobal$7.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(o[a]=c[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();utils$t.__esModule=!0,utils$t.validate_schema=utils$t.ErrorSchema=utils$t.expect_enum=utils$t.expect_same_size=utils$t.expect_bigint=utils$t.expect_type=utils$t.isArrayLike=void 0;var types_js_1$h=types$c;function isArrayLike$5(e){return Array.isArray(e)||!!e&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&e.length-1 in e)}utils$t.isArrayLike=isArrayLike$5;function expect_type$5(e,t,n){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(n.join(".")))}utils$t.expect_type=expect_type$5;function expect_bigint$5(e,t){var n=["number","string","bigint","boolean"].includes(typeof e),o=typeof e=="object"&&e!==null&&"toString"in e;if(!n&&!o)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$t.expect_bigint=expect_bigint$5;function expect_same_size$5(e,t,n){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(n.join(".")))}utils$t.expect_same_size=expect_same_size$5;function expect_enum$5(e,t){if(typeof e!="object"||e===null)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$t.expect_enum=expect_enum$5;var VALID_STRING_TYPES$5=types_js_1$h.integers.concat(["bool","string"]),VALID_OBJECT_KEYS$5=["option","enum","array","set","map","struct"],ErrorSchema$5=function(e){__extends$5(t,e);function t(n,o){var c="Invalid schema: ".concat(JSON.stringify(n)," expected ").concat(o);return e.call(this,c)||this}return t}(Error);utils$t.ErrorSchema=ErrorSchema$5;function validate_schema$5(e){if(!(typeof e=="string"&&VALID_STRING_TYPES$5.includes(e))){if(e&&typeof e=="object"){var t=Object.keys(e);if(t.length===1&&VALID_OBJECT_KEYS$5.includes(t[0])){var n=t[0];if(n==="option")return validate_schema$5(e[n]);if(n==="enum")return validate_enum_schema$5(e[n]);if(n==="array")return validate_array_schema$5(e[n]);if(n==="set")return validate_schema$5(e[n]);if(n==="map")return validate_map_schema$5(e[n]);if(n==="struct")return validate_struct_schema$5(e[n])}}throw new ErrorSchema$5(e,VALID_OBJECT_KEYS$5.join(", ")+" or "+VALID_STRING_TYPES$5.join(", "))}}utils$t.validate_schema=validate_schema$5;function validate_enum_schema$5(e){if(!Array.isArray(e))throw new ErrorSchema$5(e,"Array");for(var t=0,n=e;t<n.length;t++){var o=n[t];if(typeof o!="object"||!("struct"in o))throw new Error('Missing "struct" key in enum schema');if(typeof o.struct!="object"||Object.keys(o.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema$5({struct:o.struct})}}function validate_array_schema$5(e){if(typeof e!="object")throw new ErrorSchema$5(e,"{ type, len? }");if(e.len&&typeof e.len!="number")throw new Error("Invalid schema: ".concat(e));if("type"in e)return validate_schema$5(e.type);throw new ErrorSchema$5(e,"{ type, len? }")}function validate_map_schema$5(e){if(typeof e=="object"&&"key"in e&&"value"in e)validate_schema$5(e.key),validate_schema$5(e.value);else throw new ErrorSchema$5(e,"{ key, value }")}function validate_struct_schema$5(e){if(typeof e!="object")throw new ErrorSchema$5(e,"object");for(var t in e)validate_schema$5(e[t])}var __createBinding$e=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$e=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$e=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$e(t,e,n);return __setModuleDefault$e(t,e),t};serialize$d.__esModule=!0,serialize$d.BorshSerializer=void 0;var types_js_1$g=types$c,buffer_js_1$b=buffer$5,utils$s=__importStar$e(utils$t),BorshSerializer$5=function(){function e(t){this.encoded=new buffer_js_1$b.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=t}return e.prototype.encode=function(t,n){return this.encode_value(t,n),this.encoded.get_used_buffer()},e.prototype.encode_value=function(t,n){if(typeof n=="string"){if(types_js_1$g.integers.includes(n))return this.encode_integer(t,n);if(n==="string")return this.encode_string(t);if(n==="bool")return this.encode_boolean(t)}if(typeof n=="object"){if("option"in n)return this.encode_option(t,n);if("enum"in n)return this.encode_enum(t,n);if("array"in n)return this.encode_array(t,n);if("set"in n)return this.encode_set(t,n);if("map"in n)return this.encode_map(t,n);if("struct"in n)return this.encode_struct(t,n)}},e.prototype.encode_integer=function(t,n){var o=parseInt(n.substring(1));o<=32||n=="f64"?(this.checkTypes&&utils$s.expect_type(t,"number",this.fieldPath),this.encoded.store_value(t,n)):(this.checkTypes&&utils$s.expect_bigint(t,this.fieldPath),this.encode_bigint(BigInt(t),o))},e.prototype.encode_bigint=function(t,n){for(var o=n/8,c=new Uint8Array(o),a=0;a<o;a++)c[a]=Number(t&BigInt(255)),t=t>>BigInt(8);this.encoded.store_bytes(new Uint8Array(c))},e.prototype.encode_string=function(t){this.checkTypes&&utils$s.expect_type(t,"string",this.fieldPath);var n=t;this.encoded.store_value(n.length,"u32");for(var o=0;o<n.length;o++)this.encoded.store_value(n.charCodeAt(o),"u8")},e.prototype.encode_boolean=function(t){this.checkTypes&&utils$s.expect_type(t,"boolean",this.fieldPath),this.encoded.store_value(t?1:0,"u8")},e.prototype.encode_option=function(t,n){t==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(t,n.option))},e.prototype.encode_enum=function(t,n){this.checkTypes&&utils$s.expect_enum(t,this.fieldPath);for(var o=Object.keys(t)[0],c=0;c<n.enum.length;c++){var a=n.enum[c];if(o===Object.keys(a.struct)[0])return this.encoded.store_value(c,"u8"),this.encode_struct(t,a)}throw new Error("Enum key (".concat(o,") not found in enum schema: ").concat(JSON.stringify(n)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(t,n){if(utils$s.isArrayLike(t))return this.encode_arraylike(t,n);if(t instanceof ArrayBuffer)return this.encode_buffer(t,n);throw new Error("Expected Array-like not ".concat(typeof t,"(").concat(t,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(t,n){n.array.len?utils$s.expect_same_size(t.length,n.array.len,this.fieldPath):this.encoded.store_value(t.length,"u32");for(var o=0;o<t.length;o++)this.encode_value(t[o],n.array.type)},e.prototype.encode_buffer=function(t,n){n.array.len?utils$s.expect_same_size(t.byteLength,n.array.len,this.fieldPath):this.encoded.store_value(t.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(t))},e.prototype.encode_set=function(t,n){this.checkTypes&&utils$s.expect_type(t,"object",this.fieldPath);var o=t instanceof Set,c=o?Array.from(t.values()):Object.values(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.set)}},e.prototype.encode_map=function(t,n){this.checkTypes&&utils$s.expect_type(t,"object",this.fieldPath);var o=t instanceof Map,c=o?Array.from(t.keys()):Object.keys(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.map.key),this.encode_value(o?t.get(h):t[h],n.map.value)}},e.prototype.encode_struct=function(t,n){this.checkTypes&&utils$s.expect_type(t,"object",this.fieldPath);for(var o=0,c=Object.keys(n.struct);o<c.length;o++){var a=c[o];this.fieldPath.push(a),this.encode_value(t[a],n.struct[a]),this.fieldPath.pop()}},e}();serialize$d.BorshSerializer=BorshSerializer$5;var deserialize$b={};deserialize$b.__esModule=!0,deserialize$b.BorshDeserializer=void 0;var types_js_1$f=types$c,buffer_js_1$a=buffer$5,BorshDeserializer$5=function(){function e(t){this.buffer=new buffer_js_1$a.DecodeBuffer(t)}return e.prototype.decode=function(t){return this.decode_value(t)},e.prototype.decode_value=function(t){if(typeof t=="string"){if(types_js_1$f.integers.includes(t))return this.decode_integer(t);if(t==="string")return this.decode_string();if(t==="bool")return this.decode_boolean()}if(typeof t=="object"){if("option"in t)return this.decode_option(t);if("enum"in t)return this.decode_enum(t);if("array"in t)return this.decode_array(t);if("set"in t)return this.decode_set(t);if("map"in t)return this.decode_map(t);if("struct"in t)return this.decode_struct(t)}throw new Error("Unsupported type: ".concat(t))},e.prototype.decode_integer=function(t){var n=parseInt(t.substring(1));return n<=32||t=="f64"?this.buffer.consume_value(t):this.decode_bigint(n,t.startsWith("i"))},e.prototype.decode_bigint=function(t,n){n===void 0&&(n=!1);var o=t/8,c=new Uint8Array(this.buffer.consume_bytes(o)),a=c.reduceRight(function(u,h){return u+h.toString(16).padStart(2,"0")},"");return n&&c[o-1]?BigInt.asIntN(t,BigInt("0x".concat(a))):BigInt("0x".concat(a))},e.prototype.decode_string=function(){var t=this.decode_integer("u32"),n=new Uint8Array(this.buffer.consume_bytes(t));return String.fromCharCode.apply(null,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(t){var n=this.buffer.consume_value("u8");if(n===1)return this.decode_value(t.option);if(n!==0)throw new Error("Invalid option ".concat(n));return null},e.prototype.decode_enum=function(t){var n,o=this.buffer.consume_value("u8");if(o>t.enum.length)throw new Error("Enum option ".concat(o," is not available"));var c=t.enum[o].struct,a=Object.keys(c)[0];return n={},n[a]=this.decode_value(c[a]),n},e.prototype.decode_array=function(t){for(var n=[],o=t.array.len?t.array.len:this.decode_integer("u32"),c=0;c<o;++c)n.push(this.decode_value(t.array.type));return n},e.prototype.decode_set=function(t){for(var n=this.decode_integer("u32"),o=new Set,c=0;c<n;++c)o.add(this.decode_value(t.set));return o},e.prototype.decode_map=function(t){for(var n=this.decode_integer("u32"),o=new Map,c=0;c<n;++c){var a=this.decode_value(t.map.key),u=this.decode_value(t.map.value);o.set(a,u)}return o},e.prototype.decode_struct=function(t){var n={};for(var o in t.struct)n[o]=this.decode_value(t.struct[o]);return n},e}();deserialize$b.BorshDeserializer=BorshDeserializer$5;var __createBinding$d=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$d=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$d=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$d(t,e,n);return __setModuleDefault$d(t,e),t};cjs$5.__esModule=!0,cjs$5.deserialize=cjs$5.serialize=void 0;var serialize_js_1$5=serialize$d,deserialize_js_1$5=deserialize$b,utils$r=__importStar$d(utils$t);function serialize$c(e,t,n){n===void 0&&(n=!0),n&&utils$r.validate_schema(e);var o=new serialize_js_1$5.BorshSerializer(n);return o.encode(t,e)}cjs$5.serialize=serialize$c;function deserialize$a(e,t,n){n===void 0&&(n=!0),n&&utils$r.validate_schema(e);var o=new deserialize_js_1$5.BorshDeserializer(t);return o.decode(e)}cjs$5.deserialize=deserialize$a,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.base_decode=e.base_encode=e.deserialize=e.serialize=void 0;var t=cjs$5;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return t.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return t.deserialize}});var n=lib$r;Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return n.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return n.baseDecode}})}(serialize$e);var web$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=void 0;var t=lib$p;Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return t.fetchJson}})})(web$2);var enums$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Enum=e.Assignable=void 0;var t=lib$F;Object.defineProperty(e,"Assignable",{enumerable:!0,get:function(){return t.Assignable}});class n{constructor(c){if(Object.keys(c).length!==1)throw new Error("Enum can only take single value");Object.keys(c).map(a=>{this[a]=c[a],this.enum=a})}}e.Enum=n})(enums$2);var format$b={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION_EXP=e.NEAR_NOMINATION=void 0;var t=lib$r;Object.defineProperty(e,"NEAR_NOMINATION",{enumerable:!0,get:function(){return t.NEAR_NOMINATION}}),Object.defineProperty(e,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return t.NEAR_NOMINATION_EXP}}),Object.defineProperty(e,"formatNearAmount",{enumerable:!0,get:function(){return t.formatNearAmount}}),Object.defineProperty(e,"parseNearAmount",{enumerable:!0,get:function(){return t.parseNearAmount}})})(format$b);var rpc_errors$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=void 0;var t=lib$r;Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return t.parseRpcError}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return t.parseResultError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return t.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return t.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return t.ServerError}})})(rpc_errors$4);var errors$c={},lib$n={},account$5={},__awaiter$Y=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$p=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(account$5,"__esModule",{value:!0}),account$5.Account=void 0;const crypto_1$l=lib$s,providers_1$c=lib$p,transactions_1$f=lib$o,types_1$v=lib$F,utils_1$A=lib$r,bn_js_1$h=__importDefault$p(bnExports$6),{addKey:addKey$9,createAccount:createAccount$6,deleteAccount:deleteAccount$6,deleteKey:deleteKey$9,deployContract:deployContract$c,fullAccessKey:fullAccessKey$7,functionCall:functionCall$f,functionCallAccessKey:functionCallAccessKey$7,stake:stake$6,transfer:transfer$6}=transactions_1$f.actionCreators,TX_NONCE_RETRY_NUMBER$2=12,TX_NONCE_RETRY_WAIT$2=500,TX_NONCE_RETRY_WAIT_BACKOFF$2=1.5;function parseJsonFromRawResponse$2(e){return JSON.parse(Buffer$E.from(e).toString())}function bytesJsonStringify$2(e){return Buffer$E.from(JSON.stringify(e))}let Account$2=class tr{constructor(t,n){this.accessKeyByPublicKeyCache={},this.connection=t,this.accountId=n}state(){return __awaiter$Y(this,void 0,void 0,function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})})}signTransaction(t,n){return __awaiter$Y(this,void 0,void 0,function*(){const o=yield this.findAccessKey(t,n);if(!o)throw new types_1$v.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:c}=o,a=(yield this.connection.provider.block({finality:"final"})).header.hash,u=c.nonce.add(new bn_js_1$h.default(1));return yield(0,transactions_1$f.signTransaction)(t,u,n,(0,utils_1$A.baseDecode)(a),this.connection.signer,this.accountId,this.connection.networkId)})}signAndSendTransaction({receiverId:t,actions:n,returnError:o}){return __awaiter$Y(this,void 0,void 0,function*(){let c,a;const u=yield(0,providers_1$c.exponentialBackoff)(TX_NONCE_RETRY_WAIT$2,TX_NONCE_RETRY_NUMBER$2,TX_NONCE_RETRY_WAIT_BACKOFF$2,()=>__awaiter$Y(this,void 0,void 0,function*(){[c,a]=yield this.signTransaction(t,n);const h=a.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(a)}catch(v){if(v.type==="InvalidNonce")return utils_1$A.Logger.warn(`Retrying transaction ${t}:${(0,utils_1$A.baseEncode)(c)} with new nonce.`),delete this.accessKeyByPublicKeyCache[h.toString()],null;if(v.type==="Expired")return utils_1$A.Logger.warn(`Retrying transaction ${t}:${(0,utils_1$A.baseEncode)(c)} due to expired block hash`),null;throw v.context=new types_1$v.ErrorContext((0,utils_1$A.baseEncode)(c)),v}}));if(!u)throw new types_1$v.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,utils_1$A.printTxOutcomeLogsAndFailures)({contractId:a.transaction.receiverId,outcome:u}),!o&&typeof u.status=="object"&&typeof u.status.Failure=="object"&&u.status.Failure!==null)throw u.status.Failure.error_message&&u.status.Failure.error_type?new types_1$v.TypedError(`Transaction ${u.transaction_outcome.id} failed. ${u.status.Failure.error_message}`,u.status.Failure.error_type):(0,utils_1$A.parseResultError)(u);return u})}findAccessKey(t,n){return __awaiter$Y(this,void 0,void 0,function*(){const o=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!o)throw new types_1$v.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const c=this.accessKeyByPublicKeyCache[o.toString()];if(c!==void 0)return{publicKey:o,accessKey:c};try{const a=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:o.toString(),finality:"optimistic"}),u=Object.assign(Object.assign({},a),{nonce:new bn_js_1$h.default(a.nonce)});return this.accessKeyByPublicKeyCache[o.toString()]?{publicKey:o,accessKey:this.accessKeyByPublicKeyCache[o.toString()]}:(this.accessKeyByPublicKeyCache[o.toString()]=u,{publicKey:o,accessKey:u})}catch(a){if(a.type=="AccessKeyDoesNotExist")return null;throw a}})}createAndDeployContract(t,n,o,c){return __awaiter$Y(this,void 0,void 0,function*(){const a=fullAccessKey$7();return yield this.signAndSendTransaction({receiverId:t,actions:[createAccount$6(),transfer$6(c),addKey$9(crypto_1$l.PublicKey.from(n),a),deployContract$c(o)]}),new tr(this.connection,t)})}sendMoney(t,n){return __awaiter$Y(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:t,actions:[transfer$6(n)]})})}createAccount(t,n,o){return __awaiter$Y(this,void 0,void 0,function*(){const c=fullAccessKey$7();return this.signAndSendTransaction({receiverId:t,actions:[createAccount$6(),transfer$6(o),addKey$9(crypto_1$l.PublicKey.from(n),c)]})})}deleteAccount(t){return __awaiter$Y(this,void 0,void 0,function*(){return utils_1$A.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteAccount$6(t)]})})}deployContract(t){return __awaiter$Y(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deployContract$c(t)]})})}encodeJSContractArgs(t,n,o){return Buffer$E.concat([Buffer$E.from(t),Buffer$E.from([0]),Buffer$E.from(n),Buffer$E.from([0]),Buffer$E.from(o)])}functionCall({contractId:t,methodName:n,args:o={},gas:c=utils_1$A.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:a,walletMeta:u,walletCallbackUrl:h,stringify:v,jsContract:b}){return __awaiter$Y(this,void 0,void 0,function*(){this.validateArgs(o);let y;if(b)y=["call_js_contract",this.encodeJSContractArgs(t,n,JSON.stringify(o)),c,a,null,!0];else{const w=v===void 0?transactions_1$f.stringifyJsonOrBytes:v;y=[n,o,c,a,w,!1]}return this.signAndSendTransaction({receiverId:b?this.connection.jsvmAccountId:t,actions:[functionCall$f.apply(void 0,y)],walletMeta:u,walletCallbackUrl:h})})}addKey(t,n,o,c){return __awaiter$Y(this,void 0,void 0,function*(){o||(o=[]),Array.isArray(o)||(o=[o]);let a;return n?a=functionCallAccessKey$7(n,o,c):a=fullAccessKey$7(),this.signAndSendTransaction({receiverId:this.accountId,actions:[addKey$9(crypto_1$l.PublicKey.from(t),a)]})})}deleteKey(t){return __awaiter$Y(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteKey$9(crypto_1$l.PublicKey.from(t))]})})}stake(t,n){return __awaiter$Y(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[stake$6(n,crypto_1$l.PublicKey.from(t))]})})}signedDelegate({actions:t,blockHeightTtl:n,receiverId:o}){return __awaiter$Y(this,void 0,void 0,function*(){const{provider:c,signer:a}=this.connection,{header:u}=yield c.block({finality:"final"}),{accessKey:h,publicKey:v}=yield this.findAccessKey(null,null),b=(0,transactions_1$f.buildDelegateAction)({actions:t,maxBlockHeight:new bn_js_1$h.default(u.height).add(new bn_js_1$h.default(n)),nonce:new bn_js_1$h.default(h.nonce).add(new bn_js_1$h.default(1)),publicKey:v,receiverId:o,senderId:this.accountId}),{signedDelegateAction:y}=yield(0,transactions_1$f.signDelegateAction)({delegateAction:b,signer:{sign:w=>__awaiter$Y(this,void 0,void 0,function*(){const{signature:O}=yield a.signMessage(w,b.senderId,this.connection.networkId);return O})}});return y})}validateArgs(t){if(!(t.byteLength!==void 0&&t.byteLength===t.length)&&(Array.isArray(t)||typeof t!="object"))throw new types_1$v.PositionalArgsError}viewFunction({contractId:t,methodName:n,args:o={},parse:c=parseJsonFromRawResponse$2,stringify:a=bytesJsonStringify$2,jsContract:u=!1,blockQuery:h={finality:"optimistic"}}){return __awaiter$Y(this,void 0,void 0,function*(){let v;this.validateArgs(o),u?v=this.encodeJSContractArgs(t,n,Object.keys(o).length>0?JSON.stringify(o):""):v=a(o);const b=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"call_function"},h),{account_id:u?this.connection.jsvmAccountId:t,method_name:u?"view_js_contract":n,args_base64:v.toString("base64")}));return b.logs&&(0,utils_1$A.printTxOutcomeLogs)({contractId:t,logs:b.logs}),b.result&&b.result.length>0&&c(Buffer$E.from(b.result))})}viewState(t,n={finality:"optimistic"}){return __awaiter$Y(this,void 0,void 0,function*(){const{values:o}=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"view_state"},n),{account_id:this.accountId,prefix_base64:Buffer$E.from(t).toString("base64")}));return o.map(({key:c,value:a})=>({key:Buffer$E.from(c,"base64"),value:Buffer$E.from(a,"base64")}))})}getAccessKeys(){var t;return __awaiter$Y(this,void 0,void 0,function*(){const n=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(t=n==null?void 0:n.keys)===null||t===void 0?void 0:t.map(o=>Object.assign(Object.assign({},o),{access_key:Object.assign(Object.assign({},o.access_key),{nonce:new bn_js_1$h.default(o.access_key.nonce)})}))})}getAccountDetails(){return __awaiter$Y(this,void 0,void 0,function*(){return{authorizedApps:(yield this.getAccessKeys()).filter(t=>t.access_key.permission!=="FullAccess").map(t=>{const n=t.access_key.permission;return{contractId:n.FunctionCall.receiver_id,amount:n.FunctionCall.allowance,publicKey:t.public_key}})}})}getAccountBalance(){return __awaiter$Y(this,void 0,void 0,function*(){const t=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),n=yield this.state(),o=new bn_js_1$h.default(t.runtime_config.storage_amount_per_byte),c=new bn_js_1$h.default(n.storage_usage).mul(o),a=new bn_js_1$h.default(n.locked),u=new bn_js_1$h.default(n.amount).add(a),h=u.sub(bn_js_1$h.default.max(a,c));return{total:u.toString(),stateStaked:c.toString(),staked:a.toString(),available:h.toString()}})}getActiveDelegatedStakeBalance(){return __awaiter$Y(this,void 0,void 0,function*(){const t=yield this.connection.provider.block({finality:"final"}),n=t.header.hash,o=t.header.epoch_id,{current_validators:c,next_validators:a,current_proposals:u}=yield this.connection.provider.validators(o),h=new Set;[...c,...a,...u].forEach(O=>h.add(O.account_id));const v=[...h],b=v.map(O=>this.viewFunction({contractId:O,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:n}})),y=yield Promise.allSettled(b);if(y.some(O=>O.status==="rejected"&&O.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const w=y.reduce((O,P,C)=>{const x=v[C];if(P.status==="fulfilled"){const D=new bn_js_1$h.default(P.value);if(!D.isZero())return Object.assign(Object.assign({},O),{stakedValidators:[...O.stakedValidators,{validatorId:x,amount:D.toString()}],total:O.total.add(D)})}return P.status==="rejected"?Object.assign(Object.assign({},O),{failedValidators:[...O.failedValidators,{validatorId:x,error:P.reason}]}):O},{stakedValidators:[],failedValidators:[],total:new bn_js_1$h.default(0)});return Object.assign(Object.assign({},w),{total:w.total.toString()})})}};account$5.Account=Account$2;var account_2fa$2={},account_multisig$5={},constants$6={},__importDefault$o=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(constants$6,"__esModule",{value:!0}),constants$6.MULTISIG_CONFIRM_METHODS=constants$6.MULTISIG_CHANGE_METHODS=constants$6.MULTISIG_DEPOSIT=constants$6.MULTISIG_GAS=constants$6.MULTISIG_ALLOWANCE=constants$6.MULTISIG_STORAGE_KEY=void 0;const utils_1$z=lib$r,bn_js_1$g=__importDefault$o(bnExports$6);constants$6.MULTISIG_STORAGE_KEY="__multisigRequest",constants$6.MULTISIG_ALLOWANCE=new bn_js_1$g.default((0,utils_1$z.parseNearAmount)("1")),constants$6.MULTISIG_GAS=new bn_js_1$g.default("100000000000000"),constants$6.MULTISIG_DEPOSIT=new bn_js_1$g.default("0"),constants$6.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],constants$6.MULTISIG_CONFIRM_METHODS=["confirm"];var types$b={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=void 0,function(t){t.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",t.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",t.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",t.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",t.METHOD_NOT_FOUND="Contract method is not found"}(e.MultisigDeleteRequestRejectionError||(e.MultisigDeleteRequestRejectionError={})),function(t){t[t.INVALID_STATE=0]="INVALID_STATE",t[t.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",t[t.VALID_STATE=2]="VALID_STATE",t[t.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(e.MultisigStateStatus||(e.MultisigStateStatus={}))})(types$b);var __awaiter$X=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account_multisig$5,"__esModule",{value:!0}),account_multisig$5.AccountMultisig=void 0;const transactions_1$e=lib$o,utils_1$y=lib$r,account_1$3=account$5,constants_1$9=constants$6,types_1$u=types$b,{deployContract:deployContract$b,functionCall:functionCall$e}=transactions_1$e.actionCreators;var MultisigCodeStatus$2;(function(e){e[e.INVALID_CODE=0]="INVALID_CODE",e[e.VALID_CODE=1]="VALID_CODE",e[e.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(MultisigCodeStatus$2||(MultisigCodeStatus$2={}));const storageFallback$2={[constants_1$9.MULTISIG_STORAGE_KEY]:null};let AccountMultisig$2=class extends account_1$3.Account{constructor(e,t,n){super(e,t),this.storage=n.storage,this.onAddRequestResult=n.onAddRequestResult}signAndSendTransactionWithAccount(e,t){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$X(this,void 0,void 0,function*(){return n.signAndSendTransaction.call(this,{receiverId:e,actions:t})})}signAndSendTransaction({receiverId:e,actions:t}){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$X(this,void 0,void 0,function*(){const{accountId:o}=this,c=Buffer$E.from(JSON.stringify({request:{receiver_id:e,actions:convertActions$2(t,o,e)}}));let a;try{a=yield n.signAndSendTransaction.call(this,{receiverId:o,actions:[functionCall$e("add_request_and_confirm",c,constants_1$9.MULTISIG_GAS,constants_1$9.MULTISIG_DEPOSIT)]})}catch(h){if(h.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:e,actions:t});throw h}if(!a.status)throw new Error("Request failed");const u=Object.assign({},a.status);if(!u.SuccessValue||typeof u.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:o,actions:t,requestId:parseInt(Buffer$E.from(u.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(a)),this.deleteUnconfirmedRequests(),a})}checkMultisigCodeAndStateStatus(e){const t=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$X(this,void 0,void 0,function*(){const n=e?MultisigCodeStatus$2.UNKNOWN_CODE:MultisigCodeStatus$2.VALID_CODE;try{return e?yield t.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[deployContract$b(e),functionCall$e("delete_request",{request_id:4294967295},constants_1$9.MULTISIG_GAS,constants_1$9.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(4294967295),{codeStatus:MultisigCodeStatus$2.VALID_CODE,stateStatus:types_1$u.MultisigStateStatus.VALID_STATE}}catch(o){if(new RegExp(types_1$u.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(o&&o.kind&&o.kind.ExecutionError))return{codeStatus:n,stateStatus:types_1$u.MultisigStateStatus.INVALID_STATE};if(new RegExp(types_1$u.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(o&&o.kind&&o.kind.ExecutionError))return{codeStatus:n,stateStatus:types_1$u.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(types_1$u.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(o&&o.kind&&o.kind.ExecutionError))return{codeStatus:n,stateStatus:types_1$u.MultisigStateStatus.VALID_STATE};if(new RegExp(types_1$u.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(o&&o.message))return{codeStatus:MultisigCodeStatus$2.INVALID_CODE,stateStatus:types_1$u.MultisigStateStatus.UNKNOWN_STATE};throw o}})}deleteRequest(e){return super.signAndSendTransaction({receiverId:this.accountId,actions:[functionCall$e("delete_request",{request_id:e},constants_1$9.MULTISIG_GAS,constants_1$9.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return __awaiter$X(this,void 0,void 0,function*(){const e=yield this.getRequestIds();e.length&&(yield Promise.all(e.map(t=>this.deleteRequest(t))))})}deleteUnconfirmedRequests(){const e=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$X(this,void 0,void 0,function*(){const t=yield this.getRequestIds(),{requestId:n}=this.getRequest();for(const o of t)if(o!=n)try{yield e.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[functionCall$e("delete_request",{request_id:o},constants_1$9.MULTISIG_GAS,constants_1$9.MULTISIG_DEPOSIT)]})}catch{utils_1$y.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}})}getRequestIds(){return __awaiter$X(this,void 0,void 0,function*(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(constants_1$9.MULTISIG_STORAGE_KEY)||"{}"):storageFallback$2[constants_1$9.MULTISIG_STORAGE_KEY]}setRequest(e){if(this.storage)return this.storage.setItem(constants_1$9.MULTISIG_STORAGE_KEY,JSON.stringify(e));storageFallback$2[constants_1$9.MULTISIG_STORAGE_KEY]=e}};account_multisig$5.AccountMultisig=AccountMultisig$2;const convertPKForContract$2=e=>e.toString().replace("ed25519:",""),convertActions$2=(e,t,n)=>e.map(o=>{const c=o.enum,{gas:a,publicKey:u,methodName:h,args:v,deposit:b,accessKey:y,code:w}=o[c],O={type:c[0].toUpperCase()+c.substr(1),gas:a&&a.toString()||void 0,public_key:u&&convertPKForContract$2(u)||void 0,method_name:h,args:v&&Buffer$E.from(v).toString("base64")||void 0,code:w&&Buffer$E.from(w).toString("base64")||void 0,amount:b&&b.toString()||void 0,deposit:b&&b.toString()||"0",permission:void 0};if(y&&(n===t&&y.permission.enum!=="fullAccess"&&(O.permission={receiver_id:t,allowance:constants_1$9.MULTISIG_ALLOWANCE.toString(),method_names:constants_1$9.MULTISIG_CHANGE_METHODS}),y.permission.enum==="functionCall")){const{receiverId:P,methodNames:C,allowance:x}=y.permission.functionCall;O.permission={receiver_id:P,allowance:x&&x.toString()||void 0,method_names:C}}return O});var __awaiter$W=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$n=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(account_2fa$2,"__esModule",{value:!0}),account_2fa$2.Account2FA=void 0;const crypto_1$k=lib$s,types_1$t=lib$F,providers_1$b=lib$p,transactions_1$d=lib$o,utils_1$x=lib$r,bn_js_1$f=__importDefault$n(bnExports$6),account_multisig_1$2=account_multisig$5,constants_1$8=constants$6,types_2$2=types$b,{addKey:addKey$8,deleteKey:deleteKey$8,deployContract:deployContract$a,fullAccessKey:fullAccessKey$6,functionCall:functionCall$d,functionCallAccessKey:functionCallAccessKey$6}=transactions_1$d.actionCreators;let Account2FA$2=class extends account_multisig_1$2.AccountMultisig{constructor(e,t,n){super(e,t,n),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=n.helperUrl||this.helperUrl,this.storage=n.storage,this.sendCode=n.sendCode||this.sendCodeDefault,this.getCode=n.getCode||this.getCodeDefault,this.verifyCode=n.verifyCode||this.verifyCodeDefault,this.onConfirmResult=n.onConfirmResult}signAndSendTransaction({receiverId:e,actions:t}){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$W(this,void 0,void 0,function*(){yield n.signAndSendTransaction.call(this,{receiverId:e,actions:t}),yield this.sendCode();const o=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(o)),o})}deployMultisig(e){const t=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return __awaiter$W(this,void 0,void 0,function*(){const{accountId:n}=this,o=(yield this.getRecoveryMethods()).data.filter(({kind:y,publicKey:w})=>(y==="phrase"||y==="ledger")&&w!==null).map(y=>y.publicKey),c=(yield this.getAccessKeys()).filter(({public_key:y,access_key:{permission:w}})=>w==="FullAccess"&&!o.includes(y)).map(y=>y.public_key).map(toPK$2),a=toPK$2((yield this.postSignedJson("/2fa/getAccessKey",{accountId:n})).publicKey),u=Buffer$E.from(JSON.stringify({num_confirmations:2})),h=[...c.map(y=>deleteKey$8(y)),...c.map(y=>addKey$8(y,functionCallAccessKey$6(n,constants_1$8.MULTISIG_CHANGE_METHODS,null))),addKey$8(a,functionCallAccessKey$6(n,constants_1$8.MULTISIG_CONFIRM_METHODS,null)),deployContract$a(e)],v=h.concat(functionCall$d("new",u,constants_1$8.MULTISIG_GAS,constants_1$8.MULTISIG_DEPOSIT));utils_1$x.Logger.log("deploying multisig contract for",n);const{stateStatus:b}=yield this.checkMultisigCodeAndStateStatus(e);switch(b){case types_2$2.MultisigStateStatus.STATE_NOT_INITIALIZED:return yield t.signAndSendTransactionWithAccount.call(this,n,v);case types_2$2.MultisigStateStatus.VALID_STATE:return yield t.signAndSendTransactionWithAccount.call(this,n,h);case types_2$2.MultisigStateStatus.INVALID_STATE:throw new types_1$t.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new types_1$t.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}})}disableWithFAK({contractBytes:e,cleanupContractBytes:t}){return __awaiter$W(this,void 0,void 0,function*(){let n=[];t&&(yield this.deleteAllRequests().catch(u=>u),n=yield this.get2faDisableCleanupActions(t));const o=yield this.get2faDisableKeyConversionActions(),c=[...n,...o,deployContract$a(e)],a=yield this.findAccessKey(this.accountId,c);if(a&&a.accessKey&&a.accessKey.permission!=="FullAccess")throw new types_1$t.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,c)})}get2faDisableCleanupActions(e){return __awaiter$W(this,void 0,void 0,function*(){const t=yield this.viewState("").catch(o=>{const c=o.cause&&o.cause.name;if(c=="NO_CONTRACT_CODE")return[];throw c=="TOO_LARGE_CONTRACT_STATE"?new types_1$t.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):o}),n=t.map(({key:o})=>o.toString("base64"));return t.length?[deployContract$a(e),functionCall$d("clean",{keys:n},constants_1$8.MULTISIG_GAS,new bn_js_1$f.default("0"))]:[]})}get2faDisableKeyConversionActions(){return __awaiter$W(this,void 0,void 0,function*(){const{accountId:e}=this,t=(yield this.getAccessKeys()).filter(({access_key:o})=>o.permission!=="FullAccess").filter(({access_key:o})=>{const c=o.permission.FunctionCall;return c.receiver_id===e&&c.method_names.length===4&&c.method_names.includes("add_request_and_confirm")}),n=crypto_1$k.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:e})).publicKey);return[deleteKey$8(n),...t.map(({public_key:o})=>deleteKey$8(crypto_1$k.PublicKey.from(o))),...t.map(({public_key:o})=>addKey$8(crypto_1$k.PublicKey.from(o),fullAccessKey$6()))]})}disable(e,t){return __awaiter$W(this,void 0,void 0,function*(){const{stateStatus:n}=yield this.checkMultisigCodeAndStateStatus();if(n!==types_2$2.MultisigStateStatus.VALID_STATE&&n!==types_2$2.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new types_1$t.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let o;yield this.deleteAllRequests().catch(a=>o=a);const c=[...yield this.get2faDisableCleanupActions(t).catch(a=>{throw a.type==="ContractHasExistingState"&&o||a}),...yield this.get2faDisableKeyConversionActions(),deployContract$a(e)];return utils_1$x.Logger.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:c})})}sendCodeDefault(){return __awaiter$W(this,void 0,void 0,function*(){const{accountId:e}=this,{requestId:t}=this.getRequest(),n=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:e,method:n,requestId:t}),t})}getCodeDefault(){return __awaiter$W(this,void 0,void 0,function*(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')})}promptAndVerify(){return __awaiter$W(this,void 0,void 0,function*(){const e=yield this.get2faMethod(),t=yield this.getCode(e);try{return yield this.verifyCode(t)}catch(n){if(utils_1$x.Logger.warn("Error validating security code:",n),n.toString().includes("invalid 2fa code provided")||n.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw n}})}verifyCodeDefault(e){return __awaiter$W(this,void 0,void 0,function*(){const{accountId:t}=this,n=this.getRequest();if(!n)throw new Error("no request pending");const{requestId:o}=n;return yield this.postSignedJson("/2fa/verify",{accountId:t,securityCode:e,requestId:o})})}getRecoveryMethods(){return __awaiter$W(this,void 0,void 0,function*(){const{accountId:e}=this;return{accountId:e,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:e})}})}get2faMethod(){return __awaiter$W(this,void 0,void 0,function*(){let{data:e}=yield this.getRecoveryMethods();if(e&&e.length&&(e=e.find(o=>o.kind.indexOf("2fa-")===0)),!e)return null;const{kind:t,detail:n}=e;return{kind:t,detail:n}})}signatureFor(){return __awaiter$W(this,void 0,void 0,function*(){const{accountId:e}=this,t=(yield this.connection.provider.block({finality:"final"})).header.height.toString(),n=yield this.connection.signer.signMessage(Buffer$E.from(t),e,this.connection.networkId),o=Buffer$E.from(n.signature).toString("base64");return{blockNumber:t,blockNumberSignature:o}})}postSignedJson(e,t){return __awaiter$W(this,void 0,void 0,function*(){return yield(0,providers_1$b.fetchJson)(this.helperUrl+e,JSON.stringify(Object.assign(Object.assign({},t),yield this.signatureFor())))})}};account_2fa$2.Account2FA=Account2FA$2;const toPK$2=e=>crypto_1$k.PublicKey.from(e);var account_creator$5={},__awaiter$V=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account_creator$5,"__esModule",{value:!0}),account_creator$5.UrlAccountCreator=account_creator$5.LocalAccountCreator=account_creator$5.AccountCreator=void 0;const providers_1$a=lib$p;let AccountCreator$2=class{};account_creator$5.AccountCreator=AccountCreator$2;let LocalAccountCreator$2=class extends AccountCreator$2{constructor(e,t){super(),this.masterAccount=e,this.initialBalance=t}createAccount(e,t){return __awaiter$V(this,void 0,void 0,function*(){yield this.masterAccount.createAccount(e,t,this.initialBalance)})}};account_creator$5.LocalAccountCreator=LocalAccountCreator$2;let UrlAccountCreator$2=class extends AccountCreator$2{constructor(e,t){super(),this.connection=e,this.helperUrl=t}createAccount(e,t){return __awaiter$V(this,void 0,void 0,function*(){yield(0,providers_1$a.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:e,newAccountPublicKey:t.toString()}))})}};account_creator$5.UrlAccountCreator=UrlAccountCreator$2;var connection$5={},lib$m={},in_memory_signer$2={},signer$5={};Object.defineProperty(signer$5,"__esModule",{value:!0}),signer$5.Signer=void 0;let Signer$2=class{};signer$5.Signer=Signer$2;var __awaiter$U=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(in_memory_signer$2,"__esModule",{value:!0}),in_memory_signer$2.InMemorySigner=void 0;const crypto_1$j=lib$s,keystores_1$4=lib$t,sha256_1$4=sha256$2,signer_1$2=signer$5;let InMemorySigner$2=class rr extends signer_1$2.Signer{constructor(t){super(),this.keyStore=t}static fromKeyPair(t,n,o){return __awaiter$U(this,void 0,void 0,function*(){const c=new keystores_1$4.InMemoryKeyStore;return yield c.setKey(t,n,o),new rr(c)})}createKey(t,n){return __awaiter$U(this,void 0,void 0,function*(){const o=crypto_1$j.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(n,t,o),o.getPublicKey()})}getPublicKey(t,n){return __awaiter$U(this,void 0,void 0,function*(){const o=yield this.keyStore.getKey(n,t);return o===null?null:o.getPublicKey()})}signMessage(t,n,o){return __awaiter$U(this,void 0,void 0,function*(){const c=new Uint8Array((0,sha256_1$4.sha256)(t));if(!n)throw new Error("InMemorySigner requires provided account id");const a=yield this.keyStore.getKey(o,n);if(a===null)throw new Error(`Key for ${n} not found in ${o}`);return a.sign(c)})}toString(){return`InMemorySigner(${this.keyStore})`}};in_memory_signer$2.InMemorySigner=InMemorySigner$2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=in_memory_signer$2;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}});var n=signer$5;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return n.Signer}})}(lib$m),Object.defineProperty(connection$5,"__esModule",{value:!0}),connection$5.Connection=void 0;const signers_1$2=lib$m,providers_1$9=lib$p;function getProvider$2(e){switch(e.type){case void 0:return e;case"JsonRpcProvider":return new providers_1$9.JsonRpcProvider(Object.assign({},e.args));default:throw new Error(`Unknown provider type ${e.type}`)}}function getSigner$2(e){switch(e.type){case void 0:return e;case"InMemorySigner":return new signers_1$2.InMemorySigner(e.keyStore);default:throw new Error(`Unknown signer type ${e.type}`)}}let Connection$2=class nr{constructor(t,n,o,c){this.networkId=t,this.provider=n,this.signer=o,this.jsvmAccountId=c}static fromConfig(t){const n=getProvider$2(t.provider),o=getSigner$2(t.signer);return new nr(t.networkId,n,o,t.jsvmAccountId)}};connection$5.Connection=Connection$2;var contract$5={},localViewExecution$2={},storage$2={},lru={exports:{}};(function(e,t){(function(n,o){o(t)})(commonjsGlobal$7,function(n){const o=Symbol("newer"),c=Symbol("older");class a{constructor(w,O){typeof w!="number"&&(O=w,w=0),this.size=0,this.limit=w,this.oldest=this.newest=void 0,this._keymap=new Map,O&&(this.assign(O),w<1&&(this.limit=this.size))}_markEntryAsUsed(w){w!==this.newest&&(w[o]&&(w===this.oldest&&(this.oldest=w[o]),w[o][c]=w[c]),w[c]&&(w[c][o]=w[o]),w[o]=void 0,w[c]=this.newest,this.newest&&(this.newest[o]=w),this.newest=w)}assign(w){let O,P=this.limit||Number.MAX_VALUE;this._keymap.clear();let C=w[Symbol.iterator]();for(let x=C.next();!x.done;x=C.next()){let D=new u(x.value[0],x.value[1]);if(this._keymap.set(D.key,D),O?(O[o]=D,D[c]=O):this.oldest=D,O=D,P--==0)throw new Error("overflow")}this.newest=O,this.size=this._keymap.size}get(w){var O=this._keymap.get(w);return O?(this._markEntryAsUsed(O),O.value):void 0}set(w,O){var P=this._keymap.get(w);return P?(P.value=O,this._markEntryAsUsed(P),this):(this._keymap.set(w,P=new u(w,O)),this.newest?(this.newest[o]=P,P[c]=this.newest):this.oldest=P,this.newest=P,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var w=this.oldest;if(w)return this.oldest[o]?(this.oldest=this.oldest[o],this.oldest[c]=void 0):(this.oldest=void 0,this.newest=void 0),w[o]=w[c]=void 0,this._keymap.delete(w.key),--this.size,[w.key,w.value]}find(w){let O=this._keymap.get(w);return O?O.value:void 0}has(w){return this._keymap.has(w)}delete(w){var O=this._keymap.get(w);return O?(this._keymap.delete(O.key),O[o]&&O[c]?(O[c][o]=O[o],O[o][c]=O[c]):O[o]?(O[o][c]=void 0,this.oldest=O[o]):O[c]?(O[c][o]=void 0,this.newest=O[c]):this.oldest=this.newest=void 0,this.size--,O.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new v(this.oldest)}values(){return new b(this.oldest)}entries(){return this}[Symbol.iterator](){return new h(this.oldest)}forEach(w,O){typeof O!="object"&&(O=this);let P=this.oldest;for(;P;)w.call(O,P.value,P.key,this),P=P[o]}toJSON(){for(var w=new Array(this.size),O=0,P=this.oldest;P;)w[O++]={key:P.key,value:P.value},P=P[o];return w}toString(){for(var w="",O=this.oldest;O;)w+=String(O.key)+":"+O.value,O=O[o],O&&(w+=" < ");return w}}n.LRUMap=a;function u(y,w){this.key=y,this.value=w,this[o]=void 0,this[c]=void 0}function h(y){this.entry=y}h.prototype[Symbol.iterator]=function(){return this},h.prototype.next=function(){let y=this.entry;return y?(this.entry=y[o],{done:!1,value:[y.key,y.value]}):{done:!0,value:void 0}};function v(y){this.entry=y}v.prototype[Symbol.iterator]=function(){return this},v.prototype.next=function(){let y=this.entry;return y?(this.entry=y[o],{done:!1,value:y.key}):{done:!0,value:void 0}};function b(y){this.entry=y}b.prototype[Symbol.iterator]=function(){return this},b.prototype.next=function(){let y=this.entry;return y?(this.entry=y[o],{done:!1,value:y.value}):{done:!0,value:void 0}}})})(lru,lru.exports);var lruExports=lru.exports;Object.defineProperty(storage$2,"__esModule",{value:!0}),storage$2.Storage=void 0;const lru_map_1$2=lruExports;let Storage$2=class or{constructor(t={max:or.MAX_ELEMENTS}){this.cache=new lru_map_1$2.LRUMap(t.max),this.blockHeights=new Map}load(t){if(!("blockId"in t))return;let n=t.blockId;return n.toString().length==44&&(n=this.blockHeights.get(n.toString())),this.cache.get(n)}save(t,{blockHeight:n,blockTimestamp:o,contractCode:c,contractState:a}){this.blockHeights.set(t,n),this.cache.set(n,{blockHeight:n,blockTimestamp:o,contractCode:c,contractState:a})}};storage$2.Storage=Storage$2,Storage$2.MAX_ELEMENTS=100;var runtime$2={},__awaiter$T=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$8=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(runtime$2,"__esModule",{value:!0}),runtime$2.Runtime=void 0;const crypto_1$i=requireCryptoBrowserify(),notImplemented$2=e=>()=>{throw new Error("method not implemented: "+e)},prohibitedInView$2=e=>()=>{throw new Error("method not available for view calls: "+e)};let Runtime$2=class{constructor(e){var{contractCode:t}=e,n=__rest$8(e,["contractCode"]);this.context=n,this.wasm=this.prepareWASM(Buffer$E.from(t,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=Buffer$E.from([])}readUTF16CStr(e){const t=[],n=new Uint16Array(this.memory.buffer);let o=Number(e)/2;for(;n[o]!=0;)t.push(n[o]),o++;return Buffer$E.from(Uint16Array.from(t).buffer).toString("ucs2")}readUTF8CStr(e,t){const n=[],o=new Uint8Array(this.memory.buffer);let c=Number(t);for(let a=0;a<e&&o[c]!=0;a++)n.push(o[c]),c++;return Buffer$E.from(n).toString("utf8")}storageRead(e,t){const n=Buffer$E.from(new Uint8Array(this.memory.buffer,Number(t),Number(e))),o=this.context.contractState.filter(c=>Buffer$E.compare(c.key,n)===0).map(c=>c.value);return o.length===0?null:o.length>1?o:o[0]}prepareWASM(e){const t=[];if(e.subarray(0,4).toString("utf8")!=="\0asm")throw new Error("Invalid magic number");const n=e.readUInt32LE(4);if(n!=1)throw new Error("Invalid version: "+n);let o=8;t.push(e.subarray(0,o));function c(){let b=0,y=0,w;do w=e[o++],b|=(w&127)<<y,y+=7;while(w&128);return b}function a(){const b=e[o++]&1,y=c(),w=b?c():null;return{initial:y,max:w}}function u(){const b=c(),y=e.subarray(o,o+b);return o+=b,y.toString("utf8")}function h(b){const y=[];do{let w=b&127;b>>=7,b!==0&&(w|=128),y.push(w)}while(b!==0);return Buffer$E.from(y)}function v(b){const y=Buffer$E.from(b,"utf8");return Buffer$E.concat([h(y.length),y])}do{const b=o,y=e.readUInt8(o);o++;const w=c(),O=o+w;if(y==5)t.push(Buffer$E.from([5,1,0]));else if(y==2){const P=[],C=c();for(let k=0;k<C;k++){const B=o;u(),u();const q=e.readUInt8(o);o++;let V=!1;switch(q){case 0:c();break;case 1:o++,a();break;case 2:a(),V=!0;break;case 3:o++,o++;break;default:throw new Error("Invalid import kind: "+q)}V||P.push(e.subarray(B,o))}const x=Buffer$E.concat([v("env"),v("memory"),Buffer$E.from([2]),Buffer$E.from([0]),h(1)]);P.push(x);const D=Buffer$E.concat([h(P.length),...P]);t.push(Buffer$E.concat([Buffer$E.from([2]),h(D.length),D]))}else if(y==7){const P=[],C=c();for(let D=0;D<C;D++){const k=o;u();const B=e.readUInt8(o);o++,c(),B!==2&&P.push(e.subarray(k,o))}const x=Buffer$E.concat([h(P.length),...P]);t.push(Buffer$E.concat([Buffer$E.from([7]),h(x.length),x]))}else t.push(e.subarray(b,O));o=O}while(o<e.length);return Buffer$E.concat(t)}getRegisterLength(e){return BigInt(this.registers[e.toString()]?this.registers[e.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(e,t){new Uint8Array(this.memory.buffer).set(this.registers[e.toString()]||Buffer$E.from([]),Number(t))}getCurrentAccountId(e){this.registers[e.toString()]=Buffer$E.from(this.context.contractId)}inputMethodArgs(e){this.registers[e.toString()]=Buffer$E.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(e,t,n){const o=new Uint8Array(this.memory.buffer,Number(t),Number(e)),c=(0,crypto_1$i.createHash)("sha256");c.update(o),this.registers[n.toString()]=c.digest()}returnValue(e,t){this.result=Buffer$E.from(new Uint8Array(this.memory.buffer,Number(t),Number(e)))}panic(e){throw new Error("panic: "+e)}abort(e,t,n,o){const c=this.readUTF16CStr(e),a=this.readUTF16CStr(t),u=`${c} ${a}:${n}:${o}`;throw!c||!a?new Error("abort: String encoding is bad UTF-16 sequence."):new Error("abort: "+u)}appendToLog(e,t){this.logs.push(this.readUTF8CStr(e,t))}readStorage(e,t,n){const o=this.storageRead(e,t);return o==null?BigInt(0):(this.registers[n]=o,BigInt(1))}hasStorageKey(e,t){return this.storageRead(e,t)==null?BigInt(0):BigInt(1)}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(e,t)=>this.panic(this.readUTF8CStr(e,t)),epoch_height:notImplemented$2("epoch_height"),storage_usage:notImplemented$2("storage_usage"),account_balance:notImplemented$2("account_balance"),account_locked_balance:notImplemented$2("account_locked_balance"),random_seed:notImplemented$2("random_seed"),ripemd160:notImplemented$2("ripemd160"),keccak256:notImplemented$2("keccak256"),keccak512:notImplemented$2("keccak512"),ecrecover:notImplemented$2("ecrecover"),validator_stake:notImplemented$2("validator_stake"),validator_total_stake:notImplemented$2("validator_total_stake"),write_register:prohibitedInView$2("write_register"),signer_account_id:prohibitedInView$2("signer_account_id"),signer_account_pk:prohibitedInView$2("signer_account_pk"),predecessor_account_id:prohibitedInView$2("predecessor_account_id"),attached_deposit:prohibitedInView$2("attached_deposit"),prepaid_gas:prohibitedInView$2("prepaid_gas"),used_gas:prohibitedInView$2("used_gas"),promise_create:prohibitedInView$2("promise_create"),promise_then:prohibitedInView$2("promise_then"),promise_and:prohibitedInView$2("promise_and"),promise_batch_create:prohibitedInView$2("promise_batch_create"),promise_batch_then:prohibitedInView$2("promise_batch_then"),promise_batch_action_create_account:prohibitedInView$2("promise_batch_action_create_account"),promise_batch_action_deploy_contract:prohibitedInView$2("promise_batch_action_deploy_contract"),promise_batch_action_function_call:prohibitedInView$2("promise_batch_action_function_call"),promise_batch_action_function_call_weight:prohibitedInView$2("promise_batch_action_function_call_weight"),promise_batch_action_transfer:prohibitedInView$2("promise_batch_action_transfer"),promise_batch_action_stake:prohibitedInView$2("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:prohibitedInView$2("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:prohibitedInView$2("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:prohibitedInView$2("promise_batch_action_delete_key"),promise_batch_action_delete_account:prohibitedInView$2("promise_batch_action_delete_account"),promise_results_count:prohibitedInView$2("promise_results_count"),promise_result:prohibitedInView$2("promise_result"),promise_return:prohibitedInView$2("promise_return"),storage_write:prohibitedInView$2("storage_write"),storage_remove:prohibitedInView$2("storage_remove")}}execute(e){return __awaiter$T(this,void 0,void 0,function*(){const t=yield WebAssembly.compile(this.wasm),n=(yield WebAssembly.instantiate(t,{env:Object.assign(Object.assign({},this.getHostImports()),{memory:this.memory})})).exports[e];if(n==null)throw new Error(`Contract method '${e}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return n(),{result:this.result,logs:this.logs}})}};runtime$2.Runtime=Runtime$2;var __awaiter$S=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$7=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(localViewExecution$2,"__esModule",{value:!0}),localViewExecution$2.LocalViewExecution=void 0;const utils_1$w=lib$r,storage_1$2=storage$2,runtime_1$2=runtime$2;let LocalViewExecution$2=class{constructor(e){this.account=e,this.storage=new storage_1$2.Storage}fetchContractCode(e,t){return __awaiter$S(this,void 0,void 0,function*(){return(yield this.account.connection.provider.query(Object.assign({request_type:"view_code",account_id:e},t))).code_base64})}fetchContractState(e){return __awaiter$S(this,void 0,void 0,function*(){return this.account.viewState("",e)})}fetch(e,t){return __awaiter$S(this,void 0,void 0,function*(){const n=yield this.account.connection.provider.block(t),o=n.header.hash,c=n.header.height,a=n.header.timestamp,u=yield this.fetchContractCode(e,t),h=yield this.fetchContractState(t);return{blockHash:o,blockHeight:c,blockTimestamp:a,contractCode:u,contractState:h}})}loadOrFetch(e,t){return __awaiter$S(this,void 0,void 0,function*(){const n=this.storage.load(t);if(n)return n;const o=yield this.fetch(e,t),{blockHash:c}=o,a=__rest$7(o,["blockHash"]);return this.storage.save(c,a),a})}viewFunction(e){var{contractId:t,methodName:n,args:o={},blockQuery:c={finality:"optimistic"}}=e;return __rest$7(e,["contractId","methodName","args","blockQuery"]),__awaiter$S(this,void 0,void 0,function*(){const a=JSON.stringify(o),{contractCode:u,contractState:h,blockHeight:v,blockTimestamp:b}=yield this.loadOrFetch(t,c),y=new runtime_1$2.Runtime({contractId:t,contractCode:u,contractState:h,blockHeight:v,blockTimestamp:b,methodArgs:a}),{result:w,logs:O}=yield y.execute(n);return O&&(0,utils_1$w.printTxOutcomeLogs)({contractId:t,logs:O}),JSON.parse(Buffer$E.from(w).toString())})}};localViewExecution$2.LocalViewExecution=LocalViewExecution$2;var ajv$1={exports:{}},core$5={},validate$1={},boolSchema$1={},errors$b={},codegen$1={},code$3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(B){if(super(),!e.IDENTIFIER.test(B))throw new Error("CodeGen: name must be a valid identifier");this.str=B}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class o extends t{constructor(B){super(),this._items=typeof B=="string"?[B]:B}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const B=this._items[0];return B===""||B==='""'}get str(){var B;return(B=this._str)!==null&&B!==void 0?B:this._str=this._items.reduce((q,V)=>`${q}${V}`,"")}get names(){var B;return(B=this._names)!==null&&B!==void 0?B:this._names=this._items.reduce((q,V)=>(V instanceof n&&(q[V.str]=(q[V.str]||0)+1),q),{})}}e._Code=o,e.nil=new o("");function c(k,...B){const q=[k[0]];let V=0;for(;V<B.length;)h(q,B[V]),q.push(k[++V]);return new o(q)}e._=c;const a=new o("+");function u(k,...B){const q=[P(k[0])];let V=0;for(;V<B.length;)q.push(a),h(q,B[V]),q.push(a,P(k[++V]));return v(q),new o(q)}e.str=u;function h(k,B){B instanceof o?k.push(...B._items):B instanceof n?k.push(B):k.push(w(B))}e.addCodeArg=h;function v(k){let B=1;for(;B<k.length-1;){if(k[B]===a){const q=b(k[B-1],k[B+1]);if(q!==void 0){k.splice(B-1,3,q);continue}k[B++]="+"}B++}}function b(k,B){if(B==='""')return k;if(k==='""')return B;if(typeof k=="string")return B instanceof n||k[k.length-1]!=='"'?void 0:typeof B!="string"?`${k.slice(0,-1)}${B}"`:B[0]==='"'?k.slice(0,-1)+B.slice(1):void 0;if(typeof B=="string"&&B[0]==='"'&&!(k instanceof n))return`"${k}${B.slice(1)}`}function y(k,B){return B.emptyStr()?k:k.emptyStr()?B:u`${k}${B}`}e.strConcat=y;function w(k){return typeof k=="number"||typeof k=="boolean"||k===null?k:P(Array.isArray(k)?k.join(","):k)}function O(k){return new o(P(k))}e.stringify=O;function P(k){return JSON.stringify(k).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=P;function C(k){return typeof k=="string"&&e.IDENTIFIER.test(k)?new o(`.${k}`):c`[${k}]`}e.getProperty=C;function x(k){if(typeof k=="string"&&e.IDENTIFIER.test(k))return new o(`${k}`);throw new Error(`CodeGen: invalid export name: ${k}, use explicit $id name mapping`)}e.getEsmExportName=x;function D(k){return new o(k.toString())}e.regexpCode=D})(code$3);var scope$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=code$3;class n extends Error{constructor(b){super(`CodeGen: "code" for ${b} not defined`),this.value=b.value}}var o;(function(v){v[v.Started=0]="Started",v[v.Completed=1]="Completed"})(o=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class c{constructor({prefixes:b,parent:y}={}){this._names={},this._prefixes=b,this._parent=y}toName(b){return b instanceof t.Name?b:this.name(b)}name(b){return new t.Name(this._newName(b))}_newName(b){const y=this._names[b]||this._nameGroup(b);return`${b}${y.index++}`}_nameGroup(b){var y,w;if(!((w=(y=this._parent)===null||y===void 0?void 0:y._prefixes)===null||w===void 0)&&w.has(b)||this._prefixes&&!this._prefixes.has(b))throw new Error(`CodeGen: prefix "${b}" is not allowed in this scope`);return this._names[b]={prefix:b,index:0}}}e.Scope=c;class a extends t.Name{constructor(b,y){super(y),this.prefix=b}setValue(b,{property:y,itemIndex:w}){this.value=b,this.scopePath=(0,t._)`.${new t.Name(y)}[${w}]`}}e.ValueScopeName=a;const u=(0,t._)`\n`;class h extends c{constructor(b){super(b),this._values={},this._scope=b.scope,this.opts={...b,_n:b.lines?u:t.nil}}get(){return this._scope}name(b){return new a(b,this._newName(b))}value(b,y){var w;if(y.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const O=this.toName(b),{prefix:P}=O,C=(w=y.key)!==null&&w!==void 0?w:y.ref;let x=this._values[P];if(x){const B=x.get(C);if(B)return B}else x=this._values[P]=new Map;x.set(C,O);const D=this._scope[P]||(this._scope[P]=[]),k=D.length;return D[k]=y.ref,O.setValue(y,{property:P,itemIndex:k}),O}getValue(b,y){const w=this._values[b];if(w)return w.get(y)}scopeRefs(b,y=this._values){return this._reduceValues(y,w=>{if(w.scopePath===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return(0,t._)`${b}${w.scopePath}`})}scopeCode(b=this._values,y,w){return this._reduceValues(b,O=>{if(O.value===void 0)throw new Error(`CodeGen: name "${O}" has no value`);return O.value.code},y,w)}_reduceValues(b,y,w={},O){let P=t.nil;for(const C in b){const x=b[C];if(!x)continue;const D=w[C]=w[C]||new Map;x.forEach(k=>{if(D.has(k))return;D.set(k,o.Started);let B=y(k);if(B){const q=this.opts.es5?e.varKinds.var:e.varKinds.const;P=(0,t._)`${P}${q} ${k} = ${B};${this.opts._n}`}else if(B=O==null?void 0:O(k))P=(0,t._)`${P}${B}${this.opts._n}`;else throw new n(k);D.set(k,o.Completed)})}return P}}e.ValueScope=h})(scope$1),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=code$3,n=scope$1;var o=code$3;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return o.Name}});var c=scope$1;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return c.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return c.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return c.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return c.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(N,L){return this}}class u extends a{constructor(N,L,H){super(),this.varKind=N,this.name=L,this.rhs=H}render({es5:N,_n:L}){const H=N?n.varKinds.var:this.varKind,Y=this.rhs===void 0?"":` = ${this.rhs}`;return`${H} ${this.name}${Y};`+L}optimizeNames(N,L){if(N[this.name.str])return this.rhs&&(this.rhs=_(this.rhs,N,L)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class h extends a{constructor(N,L,H){super(),this.lhs=N,this.rhs=L,this.sideEffects=H}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,L){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=_(this.rhs,N,L),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return m(N,this.rhs)}}class v extends h{constructor(N,L,H,Y){super(N,H,Y),this.op=L}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}}class b extends a{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}}class y extends a{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}}class w extends a{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}}class O extends a{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,L){return this.code=_(this.code,N,L),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class P extends a{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((L,H)=>L+H.render(N),"")}optimizeNodes(){const{nodes:N}=this;let L=N.length;for(;L--;){const H=N[L].optimizeNodes();Array.isArray(H)?N.splice(L,1,...H):H?N[L]=H:N.splice(L,1)}return N.length>0?this:void 0}optimizeNames(N,L){const{nodes:H}=this;let Y=H.length;for(;Y--;){const Z=H[Y];Z.optimizeNames(N,L)||(A(N,Z.names),H.splice(Y,1))}return H.length>0?this:void 0}get names(){return this.nodes.reduce((N,L)=>p(N,L.names),{})}}class C extends P{render(N){return"{"+N._n+super.render(N)+"}"+N._n}}class x extends P{}class D extends C{}D.kind="else";class k extends C{constructor(N,L){super(L),this.condition=N}render(N){let L=`if(${this.condition})`+super.render(N);return this.else&&(L+="else "+this.else.render(N)),L}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let L=this.else;if(L){const H=L.optimizeNodes();L=this.else=Array.isArray(H)?new D(H):H}if(L)return N===!1?L instanceof k?L:L.nodes:this.nodes.length?this:new k(I(N),L instanceof k?[L]:L.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,L){var H;if(this.else=(H=this.else)===null||H===void 0?void 0:H.optimizeNames(N,L),!!(super.optimizeNames(N,L)||this.else))return this.condition=_(this.condition,N,L),this}get names(){const N=super.names;return m(N,this.condition),this.else&&p(N,this.else.names),N}}k.kind="if";class B extends C{}B.kind="for";class q extends B{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,L){if(super.optimizeNames(N,L))return this.iteration=_(this.iteration,N,L),this}get names(){return p(super.names,this.iteration.names)}}class V extends B{constructor(N,L,H,Y){super(),this.varKind=N,this.name=L,this.from=H,this.to=Y}render(N){const L=N.es5?n.varKinds.var:this.varKind,{name:H,from:Y,to:Z}=this;return`for(${L} ${H}=${Y}; ${H}<${Z}; ${H}++)`+super.render(N)}get names(){const N=m(super.names,this.from);return m(N,this.to)}}class ee extends B{constructor(N,L,H,Y){super(),this.loop=N,this.varKind=L,this.name=H,this.iterable=Y}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,L){if(super.optimizeNames(N,L))return this.iterable=_(this.iterable,N,L),this}get names(){return p(super.names,this.iterable.names)}}class te extends C{constructor(N,L,H){super(),this.name=N,this.args=L,this.async=H}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}}te.kind="func";class ce extends P{render(N){return"return "+super.render(N)}}ce.kind="return";class Q extends C{render(N){let L="try"+super.render(N);return this.catch&&(L+=this.catch.render(N)),this.finally&&(L+=this.finally.render(N)),L}optimizeNodes(){var N,L;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(L=this.finally)===null||L===void 0||L.optimizeNodes(),this}optimizeNames(N,L){var H,Y;return super.optimizeNames(N,L),(H=this.catch)===null||H===void 0||H.optimizeNames(N,L),(Y=this.finally)===null||Y===void 0||Y.optimizeNames(N,L),this}get names(){const N=super.names;return this.catch&&p(N,this.catch.names),this.finally&&p(N,this.finally.names),N}}class ne extends C{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}}ne.kind="catch";class fe extends C{render(N){return"finally"+super.render(N)}}fe.kind="finally";class l{constructor(N,L={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...L,_n:L.lines?`
`:""},this._extScope=N,this._scope=new n.Scope({parent:N}),this._nodes=[new x]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,L){const H=this._extScope.value(N,L);return(this._values[H.prefix]||(this._values[H.prefix]=new Set)).add(H),H}getScopeValue(N,L){return this._extScope.getValue(N,L)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,L,H,Y){const Z=this._scope.toName(L);return H!==void 0&&Y&&(this._constants[Z.str]=H),this._leafNode(new u(N,Z,H)),Z}const(N,L,H){return this._def(n.varKinds.const,N,L,H)}let(N,L,H){return this._def(n.varKinds.let,N,L,H)}var(N,L,H){return this._def(n.varKinds.var,N,L,H)}assign(N,L,H){return this._leafNode(new h(N,L,H))}add(N,L){return this._leafNode(new v(N,e.operators.ADD,L))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new O(N)),this}object(...N){const L=["{"];for(const[H,Y]of N)L.length>1&&L.push(","),L.push(H),(H!==Y||this.opts.es5)&&(L.push(":"),(0,t.addCodeArg)(L,Y));return L.push("}"),new t._Code(L)}if(N,L,H){if(this._blockNode(new k(N)),L&&H)this.code(L).else().code(H).endIf();else if(L)this.code(L).endIf();else if(H)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new k(N))}else(){return this._elseNode(new D)}endIf(){return this._endBlockNode(k,D)}_for(N,L){return this._blockNode(N),L&&this.code(L).endFor(),this}for(N,L){return this._for(new q(N),L)}forRange(N,L,H,Y,Z=this.opts.es5?n.varKinds.var:n.varKinds.let){const de=this._scope.toName(N);return this._for(new V(Z,de,L,H),()=>Y(de))}forOf(N,L,H,Y=n.varKinds.const){const Z=this._scope.toName(N);if(this.opts.es5){const de=L instanceof t.Name?L:this.var("_arr",L);return this.forRange("_i",0,(0,t._)`${de}.length`,he=>{this.var(Z,(0,t._)`${de}[${he}]`),H(Z)})}return this._for(new ee("of",Y,Z,L),()=>H(Z))}forIn(N,L,H,Y=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${L})`,H);const Z=this._scope.toName(N);return this._for(new ee("in",Y,Z,L),()=>H(Z))}endFor(){return this._endBlockNode(B)}label(N){return this._leafNode(new b(N))}break(N){return this._leafNode(new y(N))}return(N){const L=new ce;if(this._blockNode(L),this.code(N),L.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ce)}try(N,L,H){if(!L&&!H)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new Q;if(this._blockNode(Y),this.code(N),L){const Z=this.name("e");this._currNode=Y.catch=new ne(Z),L(Z)}return H&&(this._currNode=Y.finally=new fe,this.code(H)),this._endBlockNode(ne,fe)}throw(N){return this._leafNode(new w(N))}block(N,L){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(L),this}endBlock(N){const L=this._blockStarts.pop();if(L===void 0)throw new Error("CodeGen: not in self-balancing block");const H=this._nodes.length-L;if(H<0||N!==void 0&&H!==N)throw new Error(`CodeGen: wrong number of nodes: ${H} vs ${N} expected`);return this._nodes.length=L,this}func(N,L=t.nil,H,Y){return this._blockNode(new te(N,L,H)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode(te)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,L){const H=this._currNode;if(H instanceof N||L&&H instanceof L)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${L?`${N.kind}/${L.kind}`:N.kind}"`)}_elseNode(N){const L=this._currNode;if(!(L instanceof k))throw new Error('CodeGen: "else" without "if"');return this._currNode=L.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const L=this._nodes;L[L.length-1]=N}}e.CodeGen=l;function p(F,N){for(const L in N)F[L]=(F[L]||0)+(N[L]||0);return F}function m(F,N){return N instanceof t._CodeOrName?p(F,N.names):F}function _(F,N,L){if(F instanceof t.Name)return H(F);if(!Y(F))return F;return new t._Code(F._items.reduce((Z,de)=>(de instanceof t.Name&&(de=H(de)),de instanceof t._Code?Z.push(...de._items):Z.push(de),Z),[]));function H(Z){const de=L[Z.str];return de===void 0||N[Z.str]!==1?Z:(delete N[Z.str],de)}function Y(Z){return Z instanceof t._Code&&Z._items.some(de=>de instanceof t.Name&&N[de.str]===1&&L[de.str]!==void 0)}}function A(F,N){for(const L in N)F[L]=(F[L]||0)-(N[L]||0)}function I(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,t._)`!${U(F)}`}e.not=I;const T=M(e.operators.AND);function S(...F){return F.reduce(T)}e.and=S;const d=M(e.operators.OR);function E(...F){return F.reduce(d)}e.or=E;function M(F){return(N,L)=>N===t.nil?L:L===t.nil?N:(0,t._)`${U(N)} ${F} ${U(L)}`}function U(F){return F instanceof t.Name?F:(0,t._)`(${F})`}}(codegen$1);var util$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=codegen$1,n=code$3;function o(te){const ce={};for(const Q of te)ce[Q]=!0;return ce}e.toHash=o;function c(te,ce){return typeof ce=="boolean"?ce:Object.keys(ce).length===0?!0:(a(te,ce),!u(ce,te.self.RULES.all))}e.alwaysValidSchema=c;function a(te,ce=te.schema){const{opts:Q,self:ne}=te;if(!Q.strictSchema||typeof ce=="boolean")return;const fe=ne.RULES.keywords;for(const l in ce)fe[l]||ee(te,`unknown keyword: "${l}"`)}e.checkUnknownRules=a;function u(te,ce){if(typeof te=="boolean")return!te;for(const Q in te)if(ce[Q])return!0;return!1}e.schemaHasRules=u;function h(te,ce){if(typeof te=="boolean")return!te;for(const Q in te)if(Q!=="$ref"&&ce.all[Q])return!0;return!1}e.schemaHasRulesButRef=h;function v({topSchemaRef:te,schemaPath:ce},Q,ne,fe){if(!fe){if(typeof Q=="number"||typeof Q=="boolean")return Q;if(typeof Q=="string")return(0,t._)`${Q}`}return(0,t._)`${te}${ce}${(0,t.getProperty)(ne)}`}e.schemaRefOrVal=v;function b(te){return O(decodeURIComponent(te))}e.unescapeFragment=b;function y(te){return encodeURIComponent(w(te))}e.escapeFragment=y;function w(te){return typeof te=="number"?`${te}`:te.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=w;function O(te){return te.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=O;function P(te,ce){if(Array.isArray(te))for(const Q of te)ce(Q);else ce(te)}e.eachItem=P;function C({mergeNames:te,mergeToName:ce,mergeValues:Q,resultToName:ne}){return(fe,l,p,m)=>{const _=p===void 0?l:p instanceof t.Name?(l instanceof t.Name?te(fe,l,p):ce(fe,l,p),p):l instanceof t.Name?(ce(fe,p,l),l):Q(l,p);return m===t.Name&&!(_ instanceof t.Name)?ne(fe,_):_}}e.mergeEvaluated={props:C({mergeNames:(te,ce,Q)=>te.if((0,t._)`${Q} !== true && ${ce} !== undefined`,()=>{te.if((0,t._)`${ce} === true`,()=>te.assign(Q,!0),()=>te.assign(Q,(0,t._)`${Q} || {}`).code((0,t._)`Object.assign(${Q}, ${ce})`))}),mergeToName:(te,ce,Q)=>te.if((0,t._)`${Q} !== true`,()=>{ce===!0?te.assign(Q,!0):(te.assign(Q,(0,t._)`${Q} || {}`),D(te,Q,ce))}),mergeValues:(te,ce)=>te===!0?!0:{...te,...ce},resultToName:x}),items:C({mergeNames:(te,ce,Q)=>te.if((0,t._)`${Q} !== true && ${ce} !== undefined`,()=>te.assign(Q,(0,t._)`${ce} === true ? true : ${Q} > ${ce} ? ${Q} : ${ce}`)),mergeToName:(te,ce,Q)=>te.if((0,t._)`${Q} !== true`,()=>te.assign(Q,ce===!0?!0:(0,t._)`${Q} > ${ce} ? ${Q} : ${ce}`)),mergeValues:(te,ce)=>te===!0?!0:Math.max(te,ce),resultToName:(te,ce)=>te.var("items",ce)})};function x(te,ce){if(ce===!0)return te.var("props",!0);const Q=te.var("props",(0,t._)`{}`);return ce!==void 0&&D(te,Q,ce),Q}e.evaluatedPropsToName=x;function D(te,ce,Q){Object.keys(Q).forEach(ne=>te.assign((0,t._)`${ce}${(0,t.getProperty)(ne)}`,!0))}e.setEvaluated=D;const k={};function B(te,ce){return te.scopeValue("func",{ref:ce,code:k[ce.code]||(k[ce.code]=new n._Code(ce.code))})}e.useFunc=B;var q;(function(te){te[te.Num=0]="Num",te[te.Str=1]="Str"})(q=e.Type||(e.Type={}));function V(te,ce,Q){if(te instanceof t.Name){const ne=ce===q.Num;return Q?ne?(0,t._)`"[" + ${te} + "]"`:(0,t._)`"['" + ${te} + "']"`:ne?(0,t._)`"/" + ${te}`:(0,t._)`"/" + ${te}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return Q?(0,t.getProperty)(te).toString():"/"+w(te)}e.getErrorPath=V;function ee(te,ce,Q=te.opts.strictSchema){if(Q){if(ce=`strict mode: ${ce}`,Q===!0)throw new Error(ce);te.self.logger.warn(ce)}}e.checkStrictMode=ee})(util$2);var names$3={};Object.defineProperty(names$3,"__esModule",{value:!0});const codegen_1$X=codegen$1,names$2={data:new codegen_1$X.Name("data"),valCxt:new codegen_1$X.Name("valCxt"),instancePath:new codegen_1$X.Name("instancePath"),parentData:new codegen_1$X.Name("parentData"),parentDataProperty:new codegen_1$X.Name("parentDataProperty"),rootData:new codegen_1$X.Name("rootData"),dynamicAnchors:new codegen_1$X.Name("dynamicAnchors"),vErrors:new codegen_1$X.Name("vErrors"),errors:new codegen_1$X.Name("errors"),this:new codegen_1$X.Name("this"),self:new codegen_1$X.Name("self"),scope:new codegen_1$X.Name("scope"),json:new codegen_1$X.Name("json"),jsonPos:new codegen_1$X.Name("jsonPos"),jsonLen:new codegen_1$X.Name("jsonLen"),jsonPart:new codegen_1$X.Name("jsonPart")};names$3.default=names$2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=codegen$1,n=util$2,o=names$3;e.keywordError={message:({keyword:D})=>(0,t.str)`must pass "${D}" keyword validation`},e.keyword$DataError={message:({keyword:D,schemaType:k})=>k?(0,t.str)`"${D}" keyword must be ${k} ($data)`:(0,t.str)`"${D}" keyword is invalid ($data)`};function c(D,k=e.keywordError,B,q){const{it:V}=D,{gen:ee,compositeRule:te,allErrors:ce}=V,Q=w(D,k,B);q??(te||ce)?v(ee,Q):b(V,(0,t._)`[${Q}]`)}e.reportError=c;function a(D,k=e.keywordError,B){const{it:q}=D,{gen:V,compositeRule:ee,allErrors:te}=q,ce=w(D,k,B);v(V,ce),ee||te||b(q,o.default.vErrors)}e.reportExtraError=a;function u(D,k){D.assign(o.default.errors,k),D.if((0,t._)`${o.default.vErrors} !== null`,()=>D.if(k,()=>D.assign((0,t._)`${o.default.vErrors}.length`,k),()=>D.assign(o.default.vErrors,null)))}e.resetErrorsCount=u;function h({gen:D,keyword:k,schemaValue:B,data:q,errsCount:V,it:ee}){if(V===void 0)throw new Error("ajv implementation error");const te=D.name("err");D.forRange("i",V,o.default.errors,ce=>{D.const(te,(0,t._)`${o.default.vErrors}[${ce}]`),D.if((0,t._)`${te}.instancePath === undefined`,()=>D.assign((0,t._)`${te}.instancePath`,(0,t.strConcat)(o.default.instancePath,ee.errorPath))),D.assign((0,t._)`${te}.schemaPath`,(0,t.str)`${ee.errSchemaPath}/${k}`),ee.opts.verbose&&(D.assign((0,t._)`${te}.schema`,B),D.assign((0,t._)`${te}.data`,q))})}e.extendErrors=h;function v(D,k){const B=D.const("err",k);D.if((0,t._)`${o.default.vErrors} === null`,()=>D.assign(o.default.vErrors,(0,t._)`[${B}]`),(0,t._)`${o.default.vErrors}.push(${B})`),D.code((0,t._)`${o.default.errors}++`)}function b(D,k){const{gen:B,validateName:q,schemaEnv:V}=D;V.$async?B.throw((0,t._)`new ${D.ValidationError}(${k})`):(B.assign((0,t._)`${q}.errors`,k),B.return(!1))}const y={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function w(D,k,B){const{createErrors:q}=D.it;return q===!1?(0,t._)`{}`:O(D,k,B)}function O(D,k,B={}){const{gen:q,it:V}=D,ee=[P(V,B),C(D,B)];return x(D,k,ee),q.object(...ee)}function P({errorPath:D},{instancePath:k}){const B=k?(0,t.str)`${D}${(0,n.getErrorPath)(k,n.Type.Str)}`:D;return[o.default.instancePath,(0,t.strConcat)(o.default.instancePath,B)]}function C({keyword:D,it:{errSchemaPath:k}},{schemaPath:B,parentSchema:q}){let V=q?k:(0,t.str)`${k}/${D}`;return B&&(V=(0,t.str)`${V}${(0,n.getErrorPath)(B,n.Type.Str)}`),[y.schemaPath,V]}function x(D,{params:k,message:B},q){const{keyword:V,data:ee,schemaValue:te,it:ce}=D,{opts:Q,propertyName:ne,topSchemaRef:fe,schemaPath:l}=ce;q.push([y.keyword,V],[y.params,typeof k=="function"?k(D):k||(0,t._)`{}`]),Q.messages&&q.push([y.message,typeof B=="function"?B(D):B]),Q.verbose&&q.push([y.schema,te],[y.parentSchema,(0,t._)`${fe}${l}`],[o.default.data,ee]),ne&&q.push([y.propertyName,ne])}}(errors$b),Object.defineProperty(boolSchema$1,"__esModule",{value:!0}),boolSchema$1.boolOrEmptySchema=boolSchema$1.topBoolOrEmptySchema=void 0;const errors_1$a=errors$b,codegen_1$W=codegen$1,names_1$d=names$3,boolError$1={message:"boolean schema is false"};function topBoolOrEmptySchema$1(e){const{gen:t,schema:n,validateName:o}=e;n===!1?falseSchemaError$1(e,!1):typeof n=="object"&&n.$async===!0?t.return(names_1$d.default.data):(t.assign((0,codegen_1$W._)`${o}.errors`,null),t.return(!0))}boolSchema$1.topBoolOrEmptySchema=topBoolOrEmptySchema$1;function boolOrEmptySchema$1(e,t){const{gen:n,schema:o}=e;o===!1?(n.var(t,!1),falseSchemaError$1(e)):n.var(t,!0)}boolSchema$1.boolOrEmptySchema=boolOrEmptySchema$1;function falseSchemaError$1(e,t){const{gen:n,data:o}=e,c={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,errors_1$a.reportError)(c,boolError$1,void 0,t)}var dataType$1={},rules$1={};Object.defineProperty(rules$1,"__esModule",{value:!0}),rules$1.getRules=rules$1.isJSONType=void 0;const _jsonTypes$1=["string","number","integer","boolean","null","object","array"],jsonTypes$1=new Set(_jsonTypes$1);function isJSONType$1(e){return typeof e=="string"&&jsonTypes$1.has(e)}rules$1.isJSONType=isJSONType$1;function getRules$1(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}rules$1.getRules=getRules$1;var applicability$1={};Object.defineProperty(applicability$1,"__esModule",{value:!0}),applicability$1.shouldUseRule=applicability$1.shouldUseGroup=applicability$1.schemaHasRulesForType=void 0;function schemaHasRulesForType$1({schema:e,self:t},n){const o=t.RULES.types[n];return o&&o!==!0&&shouldUseGroup$1(e,o)}applicability$1.schemaHasRulesForType=schemaHasRulesForType$1;function shouldUseGroup$1(e,t){return t.rules.some(n=>shouldUseRule$1(e,n))}applicability$1.shouldUseGroup=shouldUseGroup$1;function shouldUseRule$1(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(o=>e[o]!==void 0))}applicability$1.shouldUseRule=shouldUseRule$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=rules$1,n=applicability$1,o=errors$b,c=codegen$1,a=util$2;var u;(function(q){q[q.Correct=0]="Correct",q[q.Wrong=1]="Wrong"})(u=e.DataType||(e.DataType={}));function h(q){const V=v(q.type);if(V.includes("null")){if(q.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!V.length&&q.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');q.nullable===!0&&V.push("null")}return V}e.getSchemaTypes=h;function v(q){const V=Array.isArray(q)?q:q?[q]:[];if(V.every(t.isJSONType))return V;throw new Error("type must be JSONType or JSONType[]: "+V.join(","))}e.getJSONTypes=v;function b(q,V){const{gen:ee,data:te,opts:ce}=q,Q=w(V,ce.coerceTypes),ne=V.length>0&&!(Q.length===0&&V.length===1&&(0,n.schemaHasRulesForType)(q,V[0]));if(ne){const fe=x(V,te,ce.strictNumbers,u.Wrong);ee.if(fe,()=>{Q.length?O(q,V,Q):k(q)})}return ne}e.coerceAndCheckDataType=b;const y=new Set(["string","number","integer","boolean","null"]);function w(q,V){return V?q.filter(ee=>y.has(ee)||V==="array"&&ee==="array"):[]}function O(q,V,ee){const{gen:te,data:ce,opts:Q}=q,ne=te.let("dataType",(0,c._)`typeof ${ce}`),fe=te.let("coerced",(0,c._)`undefined`);Q.coerceTypes==="array"&&te.if((0,c._)`${ne} == 'object' && Array.isArray(${ce}) && ${ce}.length == 1`,()=>te.assign(ce,(0,c._)`${ce}[0]`).assign(ne,(0,c._)`typeof ${ce}`).if(x(V,ce,Q.strictNumbers),()=>te.assign(fe,ce))),te.if((0,c._)`${fe} !== undefined`);for(const p of ee)(y.has(p)||p==="array"&&Q.coerceTypes==="array")&&l(p);te.else(),k(q),te.endIf(),te.if((0,c._)`${fe} !== undefined`,()=>{te.assign(ce,fe),P(q,fe)});function l(p){switch(p){case"string":te.elseIf((0,c._)`${ne} == "number" || ${ne} == "boolean"`).assign(fe,(0,c._)`"" + ${ce}`).elseIf((0,c._)`${ce} === null`).assign(fe,(0,c._)`""`);return;case"number":te.elseIf((0,c._)`${ne} == "boolean" || ${ce} === null
              || (${ne} == "string" && ${ce} && ${ce} == +${ce})`).assign(fe,(0,c._)`+${ce}`);return;case"integer":te.elseIf((0,c._)`${ne} === "boolean" || ${ce} === null
              || (${ne} === "string" && ${ce} && ${ce} == +${ce} && !(${ce} % 1))`).assign(fe,(0,c._)`+${ce}`);return;case"boolean":te.elseIf((0,c._)`${ce} === "false" || ${ce} === 0 || ${ce} === null`).assign(fe,!1).elseIf((0,c._)`${ce} === "true" || ${ce} === 1`).assign(fe,!0);return;case"null":te.elseIf((0,c._)`${ce} === "" || ${ce} === 0 || ${ce} === false`),te.assign(fe,null);return;case"array":te.elseIf((0,c._)`${ne} === "string" || ${ne} === "number"
              || ${ne} === "boolean" || ${ce} === null`).assign(fe,(0,c._)`[${ce}]`)}}}function P({gen:q,parentData:V,parentDataProperty:ee},te){q.if((0,c._)`${V} !== undefined`,()=>q.assign((0,c._)`${V}[${ee}]`,te))}function C(q,V,ee,te=u.Correct){const ce=te===u.Correct?c.operators.EQ:c.operators.NEQ;let Q;switch(q){case"null":return(0,c._)`${V} ${ce} null`;case"array":Q=(0,c._)`Array.isArray(${V})`;break;case"object":Q=(0,c._)`${V} && typeof ${V} == "object" && !Array.isArray(${V})`;break;case"integer":Q=ne((0,c._)`!(${V} % 1) && !isNaN(${V})`);break;case"number":Q=ne();break;default:return(0,c._)`typeof ${V} ${ce} ${q}`}return te===u.Correct?Q:(0,c.not)(Q);function ne(fe=c.nil){return(0,c.and)((0,c._)`typeof ${V} == "number"`,fe,ee?(0,c._)`isFinite(${V})`:c.nil)}}e.checkDataType=C;function x(q,V,ee,te){if(q.length===1)return C(q[0],V,ee,te);let ce;const Q=(0,a.toHash)(q);if(Q.array&&Q.object){const ne=(0,c._)`typeof ${V} != "object"`;ce=Q.null?ne:(0,c._)`!${V} || ${ne}`,delete Q.null,delete Q.array,delete Q.object}else ce=c.nil;Q.number&&delete Q.integer;for(const ne in Q)ce=(0,c.and)(ce,C(ne,V,ee,te));return ce}e.checkDataTypes=x;const D={message:({schema:q})=>`must be ${q}`,params:({schema:q,schemaValue:V})=>typeof q=="string"?(0,c._)`{type: ${q}}`:(0,c._)`{type: ${V}}`};function k(q){const V=B(q);(0,o.reportError)(V,D)}e.reportTypeError=k;function B(q){const{gen:V,data:ee,schema:te}=q,ce=(0,a.schemaRefOrVal)(q,te,"type");return{gen:V,keyword:"type",data:ee,schema:te.type,schemaCode:ce,schemaValue:ce,parentSchema:te,params:{},it:q}}}(dataType$1);var defaults$1={};Object.defineProperty(defaults$1,"__esModule",{value:!0}),defaults$1.assignDefaults=void 0;const codegen_1$V=codegen$1,util_1$P=util$2;function assignDefaults$1(e,t){const{properties:n,items:o}=e.schema;if(t==="object"&&n)for(const c in n)assignDefault$1(e,c,n[c].default);else t==="array"&&Array.isArray(o)&&o.forEach((c,a)=>assignDefault$1(e,a,c.default))}defaults$1.assignDefaults=assignDefaults$1;function assignDefault$1(e,t,n){const{gen:o,compositeRule:c,data:a,opts:u}=e;if(n===void 0)return;const h=(0,codegen_1$V._)`${a}${(0,codegen_1$V.getProperty)(t)}`;if(c){(0,util_1$P.checkStrictMode)(e,`default is ignored for: ${h}`);return}let v=(0,codegen_1$V._)`${h} === undefined`;u.useDefaults==="empty"&&(v=(0,codegen_1$V._)`${v} || ${h} === null || ${h} === ""`),o.if(v,(0,codegen_1$V._)`${h} = ${(0,codegen_1$V.stringify)(n)}`)}var keyword$1={},code$2={};Object.defineProperty(code$2,"__esModule",{value:!0}),code$2.validateUnion=code$2.validateArray=code$2.usePattern=code$2.callValidateCode=code$2.schemaProperties=code$2.allSchemaProperties=code$2.noPropertyInData=code$2.propertyInData=code$2.isOwnProperty=code$2.hasPropFunc=code$2.reportMissingProp=code$2.checkMissingProp=code$2.checkReportMissingProp=void 0;const codegen_1$U=codegen$1,util_1$O=util$2,names_1$c=names$3,util_2$3=util$2;function checkReportMissingProp$1(e,t){const{gen:n,data:o,it:c}=e;n.if(noPropertyInData$1(n,o,t,c.opts.ownProperties),()=>{e.setParams({missingProperty:(0,codegen_1$U._)`${t}`},!0),e.error()})}code$2.checkReportMissingProp=checkReportMissingProp$1;function checkMissingProp$1({gen:e,data:t,it:{opts:n}},o,c){return(0,codegen_1$U.or)(...o.map(a=>(0,codegen_1$U.and)(noPropertyInData$1(e,t,a,n.ownProperties),(0,codegen_1$U._)`${c} = ${a}`)))}code$2.checkMissingProp=checkMissingProp$1;function reportMissingProp$1(e,t){e.setParams({missingProperty:t},!0),e.error()}code$2.reportMissingProp=reportMissingProp$1;function hasPropFunc$1(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,codegen_1$U._)`Object.prototype.hasOwnProperty`})}code$2.hasPropFunc=hasPropFunc$1;function isOwnProperty$1(e,t,n){return(0,codegen_1$U._)`${hasPropFunc$1(e)}.call(${t}, ${n})`}code$2.isOwnProperty=isOwnProperty$1;function propertyInData$1(e,t,n,o){const c=(0,codegen_1$U._)`${t}${(0,codegen_1$U.getProperty)(n)} !== undefined`;return o?(0,codegen_1$U._)`${c} && ${isOwnProperty$1(e,t,n)}`:c}code$2.propertyInData=propertyInData$1;function noPropertyInData$1(e,t,n,o){const c=(0,codegen_1$U._)`${t}${(0,codegen_1$U.getProperty)(n)} === undefined`;return o?(0,codegen_1$U.or)(c,(0,codegen_1$U.not)(isOwnProperty$1(e,t,n))):c}code$2.noPropertyInData=noPropertyInData$1;function allSchemaProperties$1(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}code$2.allSchemaProperties=allSchemaProperties$1;function schemaProperties$1(e,t){return allSchemaProperties$1(t).filter(n=>!(0,util_1$O.alwaysValidSchema)(e,t[n]))}code$2.schemaProperties=schemaProperties$1;function callValidateCode$1({schemaCode:e,data:t,it:{gen:n,topSchemaRef:o,schemaPath:c,errorPath:a},it:u},h,v,b){const y=b?(0,codegen_1$U._)`${e}, ${t}, ${o}${c}`:t,w=[[names_1$c.default.instancePath,(0,codegen_1$U.strConcat)(names_1$c.default.instancePath,a)],[names_1$c.default.parentData,u.parentData],[names_1$c.default.parentDataProperty,u.parentDataProperty],[names_1$c.default.rootData,names_1$c.default.rootData]];u.opts.dynamicRef&&w.push([names_1$c.default.dynamicAnchors,names_1$c.default.dynamicAnchors]);const O=(0,codegen_1$U._)`${y}, ${n.object(...w)}`;return v!==codegen_1$U.nil?(0,codegen_1$U._)`${h}.call(${v}, ${O})`:(0,codegen_1$U._)`${h}(${O})`}code$2.callValidateCode=callValidateCode$1;const newRegExp$1=(0,codegen_1$U._)`new RegExp`;function usePattern$1({gen:e,it:{opts:t}},n){const o=t.unicodeRegExp?"u":"",{regExp:c}=t.code,a=c(n,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,codegen_1$U._)`${c.code==="new RegExp"?newRegExp$1:(0,util_2$3.useFunc)(e,c)}(${n}, ${o})`})}code$2.usePattern=usePattern$1;function validateArray$1(e){const{gen:t,data:n,keyword:o,it:c}=e,a=t.name("valid");if(c.allErrors){const h=t.let("valid",!0);return u(()=>t.assign(h,!1)),h}return t.var(a,!0),u(()=>t.break()),a;function u(h){const v=t.const("len",(0,codegen_1$U._)`${n}.length`);t.forRange("i",0,v,b=>{e.subschema({keyword:o,dataProp:b,dataPropType:util_1$O.Type.Num},a),t.if((0,codegen_1$U.not)(a),h)})}}code$2.validateArray=validateArray$1;function validateUnion$1(e){const{gen:t,schema:n,keyword:o,it:c}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(h=>(0,util_1$O.alwaysValidSchema)(c,h))&&!c.opts.unevaluated)return;const a=t.let("valid",!1),u=t.name("_valid");t.block(()=>n.forEach((h,v)=>{const b=e.subschema({keyword:o,schemaProp:v,compositeRule:!0},u);t.assign(a,(0,codegen_1$U._)`${a} || ${u}`),e.mergeValidEvaluated(b,u)||t.if((0,codegen_1$U.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}code$2.validateUnion=validateUnion$1,Object.defineProperty(keyword$1,"__esModule",{value:!0}),keyword$1.validateKeywordUsage=keyword$1.validSchemaType=keyword$1.funcKeywordCode=keyword$1.macroKeywordCode=void 0;const codegen_1$T=codegen$1,names_1$b=names$3,code_1$j=code$2,errors_1$9=errors$b;function macroKeywordCode$1(e,t){const{gen:n,keyword:o,schema:c,parentSchema:a,it:u}=e,h=t.macro.call(u.self,c,a,u),v=useKeyword$1(n,o,h);u.opts.validateSchema!==!1&&u.self.validateSchema(h,!0);const b=n.name("valid");e.subschema({schema:h,schemaPath:codegen_1$T.nil,errSchemaPath:`${u.errSchemaPath}/${o}`,topSchemaRef:v,compositeRule:!0},b),e.pass(b,()=>e.error(!0))}keyword$1.macroKeywordCode=macroKeywordCode$1;function funcKeywordCode$1(e,t){var n;const{gen:o,keyword:c,schema:a,parentSchema:u,$data:h,it:v}=e;checkAsyncKeyword$1(v,t);const b=!h&&t.compile?t.compile.call(v.self,a,u,v):t.validate,y=useKeyword$1(o,c,b),w=o.let("valid");e.block$data(w,O),e.ok((n=t.valid)!==null&&n!==void 0?n:w);function O(){if(t.errors===!1)x(),t.modifying&&modifyData$1(e),D(()=>e.error());else{const k=t.async?P():C();t.modifying&&modifyData$1(e),D(()=>addErrs$1(e,k))}}function P(){const k=o.let("ruleErrs",null);return o.try(()=>x((0,codegen_1$T._)`await `),B=>o.assign(w,!1).if((0,codegen_1$T._)`${B} instanceof ${v.ValidationError}`,()=>o.assign(k,(0,codegen_1$T._)`${B}.errors`),()=>o.throw(B))),k}function C(){const k=(0,codegen_1$T._)`${y}.errors`;return o.assign(k,null),x(codegen_1$T.nil),k}function x(k=t.async?(0,codegen_1$T._)`await `:codegen_1$T.nil){const B=v.opts.passContext?names_1$b.default.this:names_1$b.default.self,q=!("compile"in t&&!h||t.schema===!1);o.assign(w,(0,codegen_1$T._)`${k}${(0,code_1$j.callValidateCode)(e,y,B,q)}`,t.modifying)}function D(k){var B;o.if((0,codegen_1$T.not)((B=t.valid)!==null&&B!==void 0?B:w),k)}}keyword$1.funcKeywordCode=funcKeywordCode$1;function modifyData$1(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,()=>t.assign(n,(0,codegen_1$T._)`${o.parentData}[${o.parentDataProperty}]`))}function addErrs$1(e,t){const{gen:n}=e;n.if((0,codegen_1$T._)`Array.isArray(${t})`,()=>{n.assign(names_1$b.default.vErrors,(0,codegen_1$T._)`${names_1$b.default.vErrors} === null ? ${t} : ${names_1$b.default.vErrors}.concat(${t})`).assign(names_1$b.default.errors,(0,codegen_1$T._)`${names_1$b.default.vErrors}.length`),(0,errors_1$9.extendErrors)(e)},()=>e.error())}function checkAsyncKeyword$1({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function useKeyword$1(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,codegen_1$T.stringify)(n)})}function validSchemaType$1(e,t,n=!1){return!t.length||t.some(o=>o==="array"?Array.isArray(e):o==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==o||n&&typeof e>"u")}keyword$1.validSchemaType=validSchemaType$1;function validateKeywordUsage$1({schema:e,opts:t,self:n,errSchemaPath:o},c,a){if(Array.isArray(c.keyword)?!c.keyword.includes(a):c.keyword!==a)throw new Error("ajv implementation error");const u=c.dependencies;if(u!=null&&u.some(h=>!Object.prototype.hasOwnProperty.call(e,h)))throw new Error(`parent schema must have dependencies of ${a}: ${u.join(",")}`);if(c.validateSchema&&!c.validateSchema(e[a])){const h=`keyword "${a}" value is invalid at path "${o}": `+n.errorsText(c.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(h);else throw new Error(h)}}keyword$1.validateKeywordUsage=validateKeywordUsage$1;var subschema$1={};Object.defineProperty(subschema$1,"__esModule",{value:!0}),subschema$1.extendSubschemaMode=subschema$1.extendSubschemaData=subschema$1.getSubschema=void 0;const codegen_1$S=codegen$1,util_1$N=util$2;function getSubschema$1(e,{keyword:t,schemaProp:n,schema:o,schemaPath:c,errSchemaPath:a,topSchemaRef:u}){if(t!==void 0&&o!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const h=e.schema[t];return n===void 0?{schema:h,schemaPath:(0,codegen_1$S._)`${e.schemaPath}${(0,codegen_1$S.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:h[n],schemaPath:(0,codegen_1$S._)`${e.schemaPath}${(0,codegen_1$S.getProperty)(t)}${(0,codegen_1$S.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,util_1$N.escapeFragment)(n)}`}}if(o!==void 0){if(c===void 0||a===void 0||u===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:c,topSchemaRef:u,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}subschema$1.getSubschema=getSubschema$1;function extendSubschemaData$1(e,t,{dataProp:n,dataPropType:o,data:c,dataTypes:a,propertyName:u}){if(c!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=t;if(n!==void 0){const{errorPath:b,dataPathArr:y,opts:w}=t,O=h.let("data",(0,codegen_1$S._)`${t.data}${(0,codegen_1$S.getProperty)(n)}`,!0);v(O),e.errorPath=(0,codegen_1$S.str)`${b}${(0,util_1$N.getErrorPath)(n,o,w.jsPropertySyntax)}`,e.parentDataProperty=(0,codegen_1$S._)`${n}`,e.dataPathArr=[...y,e.parentDataProperty]}if(c!==void 0){const b=c instanceof codegen_1$S.Name?c:h.let("data",c,!0);v(b),u!==void 0&&(e.propertyName=u)}a&&(e.dataTypes=a);function v(b){e.data=b,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,b]}}subschema$1.extendSubschemaData=extendSubschemaData$1;function extendSubschemaMode$1(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:o,createErrors:c,allErrors:a}){o!==void 0&&(e.compositeRule=o),c!==void 0&&(e.createErrors=c),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=n}subschema$1.extendSubschemaMode=extendSubschemaMode$1;var resolve$3={};Object.defineProperty(resolve$3,"__esModule",{value:!0}),resolve$3.getSchemaRefs=resolve$3.resolveUrl=resolve$3.normalizeId=resolve$3._getFullPath=resolve$3.getFullPath=resolve$3.inlineRef=void 0;const util_1$M=util$2,equal$5=fastDeepEqual,traverse$1=jsonSchemaTraverseExports,SIMPLE_INLINED$1=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function inlineRef$1(e,t=!0){return typeof e=="boolean"?!0:t===!0?!hasRef$1(e):t?countKeys$1(e)<=t:!1}resolve$3.inlineRef=inlineRef$1;const REF_KEYWORDS$1=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hasRef$1(e){for(const t in e){if(REF_KEYWORDS$1.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(hasRef$1)||typeof n=="object"&&hasRef$1(n))return!0}return!1}function countKeys$1(e){let t=0;for(const n in e)if(n==="$ref"||(t++,!SIMPLE_INLINED$1.has(n)&&(typeof e[n]=="object"&&(0,util_1$M.eachItem)(e[n],o=>t+=countKeys$1(o)),t===1/0)))return 1/0;return t}function getFullPath$1(e,t="",n){n!==!1&&(t=normalizeId$1(t));const o=e.parse(t);return _getFullPath$1(e,o)}resolve$3.getFullPath=getFullPath$1;function _getFullPath$1(e,t){return e.serialize(t).split("#")[0]+"#"}resolve$3._getFullPath=_getFullPath$1;const TRAILING_SLASH_HASH$1=/#\/?$/;function normalizeId$1(e){return e?e.replace(TRAILING_SLASH_HASH$1,""):""}resolve$3.normalizeId=normalizeId$1;function resolveUrl$1(e,t,n){return n=normalizeId$1(n),e.resolve(t,n)}resolve$3.resolveUrl=resolveUrl$1;const ANCHOR$1=/^[a-z_][-a-z0-9._]*$/i;function getSchemaRefs$1(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:o}=this.opts,c=normalizeId$1(e[n]||t),a={"":c},u=getFullPath$1(o,c,!1),h={},v=new Set;return traverse$1(e,{allKeys:!0},(w,O,P,C)=>{if(C===void 0)return;const x=u+O;let D=a[C];typeof w[n]=="string"&&(D=k.call(this,w[n])),B.call(this,w.$anchor),B.call(this,w.$dynamicAnchor),a[O]=D;function k(q){const V=this.opts.uriResolver.resolve;if(q=normalizeId$1(D?V(D,q):q),v.has(q))throw y(q);v.add(q);let ee=this.refs[q];return typeof ee=="string"&&(ee=this.refs[ee]),typeof ee=="object"?b(w,ee.schema,q):q!==normalizeId$1(x)&&(q[0]==="#"?(b(w,h[q],q),h[q]=w):this.refs[q]=x),q}function B(q){if(typeof q=="string"){if(!ANCHOR$1.test(q))throw new Error(`invalid anchor "${q}"`);k.call(this,`#${q}`)}}}),h;function b(w,O,P){if(O!==void 0&&!equal$5(w,O))throw y(P)}function y(w){return new Error(`reference "${w}" resolves to more than one schema`)}}resolve$3.getSchemaRefs=getSchemaRefs$1,Object.defineProperty(validate$1,"__esModule",{value:!0}),validate$1.getData=validate$1.KeywordCxt=validate$1.validateFunctionCode=void 0;const boolSchema_1$1=boolSchema$1,dataType_1$3=dataType$1,applicability_1$1=applicability$1,dataType_2$1=dataType$1,defaults_1$1=defaults$1,keyword_1$1=keyword$1,subschema_1$1=subschema$1,codegen_1$R=codegen$1,names_1$a=names$3,resolve_1$5=resolve$3,util_1$L=util$2,errors_1$8=errors$b;function validateFunctionCode$1(e){if(isSchemaObj$1(e)&&(checkKeywords$1(e),schemaCxtHasRules$1(e))){topSchemaObjCode$1(e);return}validateFunction$1(e,()=>(0,boolSchema_1$1.topBoolOrEmptySchema)(e))}validate$1.validateFunctionCode=validateFunctionCode$1;function validateFunction$1({gen:e,validateName:t,schema:n,schemaEnv:o,opts:c},a){c.code.es5?e.func(t,(0,codegen_1$R._)`${names_1$a.default.data}, ${names_1$a.default.valCxt}`,o.$async,()=>{e.code((0,codegen_1$R._)`"use strict"; ${funcSourceUrl$1(n,c)}`),destructureValCxtES5$1(e,c),e.code(a)}):e.func(t,(0,codegen_1$R._)`${names_1$a.default.data}, ${destructureValCxt$1(c)}`,o.$async,()=>e.code(funcSourceUrl$1(n,c)).code(a))}function destructureValCxt$1(e){return(0,codegen_1$R._)`{${names_1$a.default.instancePath}="", ${names_1$a.default.parentData}, ${names_1$a.default.parentDataProperty}, ${names_1$a.default.rootData}=${names_1$a.default.data}${e.dynamicRef?(0,codegen_1$R._)`, ${names_1$a.default.dynamicAnchors}={}`:codegen_1$R.nil}}={}`}function destructureValCxtES5$1(e,t){e.if(names_1$a.default.valCxt,()=>{e.var(names_1$a.default.instancePath,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.instancePath}`),e.var(names_1$a.default.parentData,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.parentData}`),e.var(names_1$a.default.parentDataProperty,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.parentDataProperty}`),e.var(names_1$a.default.rootData,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.rootData}`),t.dynamicRef&&e.var(names_1$a.default.dynamicAnchors,(0,codegen_1$R._)`${names_1$a.default.valCxt}.${names_1$a.default.dynamicAnchors}`)},()=>{e.var(names_1$a.default.instancePath,(0,codegen_1$R._)`""`),e.var(names_1$a.default.parentData,(0,codegen_1$R._)`undefined`),e.var(names_1$a.default.parentDataProperty,(0,codegen_1$R._)`undefined`),e.var(names_1$a.default.rootData,names_1$a.default.data),t.dynamicRef&&e.var(names_1$a.default.dynamicAnchors,(0,codegen_1$R._)`{}`)})}function topSchemaObjCode$1(e){const{schema:t,opts:n,gen:o}=e;validateFunction$1(e,()=>{n.$comment&&t.$comment&&commentKeyword$1(e),checkNoDefault$1(e),o.let(names_1$a.default.vErrors,null),o.let(names_1$a.default.errors,0),n.unevaluated&&resetEvaluated$1(e),typeAndKeywords$1(e),returnResults$1(e)})}function resetEvaluated$1(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,codegen_1$R._)`${n}.evaluated`),t.if((0,codegen_1$R._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,codegen_1$R._)`${e.evaluated}.props`,(0,codegen_1$R._)`undefined`)),t.if((0,codegen_1$R._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,codegen_1$R._)`${e.evaluated}.items`,(0,codegen_1$R._)`undefined`))}function funcSourceUrl$1(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,codegen_1$R._)`/*# sourceURL=${n} */`:codegen_1$R.nil}function subschemaCode$1(e,t){if(isSchemaObj$1(e)&&(checkKeywords$1(e),schemaCxtHasRules$1(e))){subSchemaObjCode$1(e,t);return}(0,boolSchema_1$1.boolOrEmptySchema)(e,t)}function schemaCxtHasRules$1({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function isSchemaObj$1(e){return typeof e.schema!="boolean"}function subSchemaObjCode$1(e,t){const{schema:n,gen:o,opts:c}=e;c.$comment&&n.$comment&&commentKeyword$1(e),updateContext$1(e),checkAsyncSchema$1(e);const a=o.const("_errs",names_1$a.default.errors);typeAndKeywords$1(e,a),o.var(t,(0,codegen_1$R._)`${a} === ${names_1$a.default.errors}`)}function checkKeywords$1(e){(0,util_1$L.checkUnknownRules)(e),checkRefsAndKeywords$1(e)}function typeAndKeywords$1(e,t){if(e.opts.jtd)return schemaKeywords$1(e,[],!1,t);const n=(0,dataType_1$3.getSchemaTypes)(e.schema),o=(0,dataType_1$3.coerceAndCheckDataType)(e,n);schemaKeywords$1(e,n,!o,t)}function checkRefsAndKeywords$1(e){const{schema:t,errSchemaPath:n,opts:o,self:c}=e;t.$ref&&o.ignoreKeywordsWithRef&&(0,util_1$L.schemaHasRulesButRef)(t,c.RULES)&&c.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function checkNoDefault$1(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,util_1$L.checkStrictMode)(e,"default is ignored in the schema root")}function updateContext$1(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,resolve_1$5.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function checkAsyncSchema$1(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function commentKeyword$1({gen:e,schemaEnv:t,schema:n,errSchemaPath:o,opts:c}){const a=n.$comment;if(c.$comment===!0)e.code((0,codegen_1$R._)`${names_1$a.default.self}.logger.log(${a})`);else if(typeof c.$comment=="function"){const u=(0,codegen_1$R.str)`${o}/$comment`,h=e.scopeValue("root",{ref:t.root});e.code((0,codegen_1$R._)`${names_1$a.default.self}.opts.$comment(${a}, ${u}, ${h}.schema)`)}}function returnResults$1(e){const{gen:t,schemaEnv:n,validateName:o,ValidationError:c,opts:a}=e;n.$async?t.if((0,codegen_1$R._)`${names_1$a.default.errors} === 0`,()=>t.return(names_1$a.default.data),()=>t.throw((0,codegen_1$R._)`new ${c}(${names_1$a.default.vErrors})`)):(t.assign((0,codegen_1$R._)`${o}.errors`,names_1$a.default.vErrors),a.unevaluated&&assignEvaluated$1(e),t.return((0,codegen_1$R._)`${names_1$a.default.errors} === 0`))}function assignEvaluated$1({gen:e,evaluated:t,props:n,items:o}){n instanceof codegen_1$R.Name&&e.assign((0,codegen_1$R._)`${t}.props`,n),o instanceof codegen_1$R.Name&&e.assign((0,codegen_1$R._)`${t}.items`,o)}function schemaKeywords$1(e,t,n,o){const{gen:c,schema:a,data:u,allErrors:h,opts:v,self:b}=e,{RULES:y}=b;if(a.$ref&&(v.ignoreKeywordsWithRef||!(0,util_1$L.schemaHasRulesButRef)(a,y))){c.block(()=>keywordCode$1(e,"$ref",y.all.$ref.definition));return}v.jtd||checkStrictTypes$1(e,t),c.block(()=>{for(const O of y.rules)w(O);w(y.post)});function w(O){(0,applicability_1$1.shouldUseGroup)(a,O)&&(O.type?(c.if((0,dataType_2$1.checkDataType)(O.type,u,v.strictNumbers)),iterateKeywords$1(e,O),t.length===1&&t[0]===O.type&&n&&(c.else(),(0,dataType_2$1.reportTypeError)(e)),c.endIf()):iterateKeywords$1(e,O),h||c.if((0,codegen_1$R._)`${names_1$a.default.errors} === ${o||0}`))}}function iterateKeywords$1(e,t){const{gen:n,schema:o,opts:{useDefaults:c}}=e;c&&(0,defaults_1$1.assignDefaults)(e,t.type),n.block(()=>{for(const a of t.rules)(0,applicability_1$1.shouldUseRule)(o,a)&&keywordCode$1(e,a.keyword,a.definition,t.type)})}function checkStrictTypes$1(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(checkContextTypes$1(e,t),e.opts.allowUnionTypes||checkMultipleTypes$1(e,t),checkKeywordTypes$1(e,e.dataTypes))}function checkContextTypes$1(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{includesType$1(e.dataTypes,n)||strictTypesError$1(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(n=>includesType$1(t,n))}}function checkMultipleTypes$1(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&strictTypesError$1(e,"use allowUnionTypes to allow union type keyword")}function checkKeywordTypes$1(e,t){const n=e.self.RULES.all;for(const o in n){const c=n[o];if(typeof c=="object"&&(0,applicability_1$1.shouldUseRule)(e.schema,c)){const{type:a}=c.definition;a.length&&!a.some(u=>hasApplicableType$1(t,u))&&strictTypesError$1(e,`missing type "${a.join(",")}" for keyword "${o}"`)}}}function hasApplicableType$1(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function includesType$1(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function strictTypesError$1(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,util_1$L.checkStrictMode)(e,t,e.opts.strictTypes)}let KeywordCxt$1=class{constructor(e,t,n){if((0,keyword_1$1.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,util_1$L.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",getData$1(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,keyword_1$1.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:t.errors!==!1)&&(this.errsCount=e.gen.const("_errs",names_1$a.default.errors))}result(e,t,n){this.failResult((0,codegen_1$R.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,codegen_1$R.not)(e),void 0,t)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail((0,codegen_1$R._)`${t} !== undefined && (${(0,codegen_1$R.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t){this.setParams(t),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,t){(e?errors_1$8.reportExtraError:errors_1$8.reportError)(this,this.def.error,t)}$dataError(){(0,errors_1$8.reportError)(this,this.def.$dataError||errors_1$8.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,errors_1$8.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=codegen_1$R.nil){this.gen.block(()=>{this.check$data(e,n),t()})}check$data(e=codegen_1$R.nil,t=codegen_1$R.nil){if(!this.$data)return;const{gen:n,schemaCode:o,schemaType:c,def:a}=this;n.if((0,codegen_1$R.or)((0,codegen_1$R._)`${o} === undefined`,t)),e!==codegen_1$R.nil&&n.assign(e,!0),(c.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==codegen_1$R.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:o,it:c}=this;return(0,codegen_1$R.or)(a(),u());function a(){if(n.length){if(!(t instanceof codegen_1$R.Name))throw new Error("ajv implementation error");const h=Array.isArray(n)?n:[n];return(0,codegen_1$R._)`${(0,dataType_2$1.checkDataTypes)(h,t,c.opts.strictNumbers,dataType_2$1.DataType.Wrong)}`}return codegen_1$R.nil}function u(){if(o.validateSchema){const h=e.scopeValue("validate$data",{ref:o.validateSchema});return(0,codegen_1$R._)`!${h}(${t})`}return codegen_1$R.nil}}subschema(e,t){const n=(0,subschema_1$1.getSubschema)(this.it,e);(0,subschema_1$1.extendSubschemaData)(n,this.it,e),(0,subschema_1$1.extendSubschemaMode)(n,e);const o={...this.it,...n,items:void 0,props:void 0};return subschemaCode$1(o,t),o}mergeEvaluated(e,t){const{it:n,gen:o}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=util_1$L.mergeEvaluated.props(o,e.props,n.props,t)),n.items!==!0&&e.items!==void 0&&(n.items=util_1$L.mergeEvaluated.items(o,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:o}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return o.if(t,()=>this.mergeEvaluated(e,codegen_1$R.Name)),!0}};validate$1.KeywordCxt=KeywordCxt$1;function keywordCode$1(e,t,n,o){const c=new KeywordCxt$1(e,n,t);"code"in n?n.code(c,o):c.$data&&n.validate?(0,keyword_1$1.funcKeywordCode)(c,n):"macro"in n?(0,keyword_1$1.macroKeywordCode)(c,n):(n.compile||n.validate)&&(0,keyword_1$1.funcKeywordCode)(c,n)}const JSON_POINTER$1=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER$1=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData$1(e,{dataLevel:t,dataNames:n,dataPathArr:o}){let c,a;if(e==="")return names_1$a.default.rootData;if(e[0]==="/"){if(!JSON_POINTER$1.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);c=e,a=names_1$a.default.rootData}else{const b=RELATIVE_JSON_POINTER$1.exec(e);if(!b)throw new Error(`Invalid JSON-pointer: ${e}`);const y=+b[1];if(c=b[2],c==="#"){if(y>=t)throw new Error(v("property/index",y));return o[t-y]}if(y>t)throw new Error(v("data",y));if(a=n[t-y],!c)return a}let u=a;const h=c.split("/");for(const b of h)b&&(a=(0,codegen_1$R._)`${a}${(0,codegen_1$R.getProperty)((0,util_1$L.unescapeJsonPointer)(b))}`,u=(0,codegen_1$R._)`${u} && ${a}`);return u;function v(b,y){return`Cannot access ${b} ${y} levels up, current level is ${t}`}}validate$1.getData=getData$1;var validation_error$1={};Object.defineProperty(validation_error$1,"__esModule",{value:!0});let ValidationError$1=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};validation_error$1.default=ValidationError$1;var ref_error$1={};Object.defineProperty(ref_error$1,"__esModule",{value:!0});const resolve_1$4=resolve$3;let MissingRefError$1=class extends Error{constructor(e,t,n,o){super(o||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,resolve_1$4.resolveUrl)(e,t,n),this.missingSchema=(0,resolve_1$4.normalizeId)((0,resolve_1$4.getFullPath)(e,this.missingRef))}};ref_error$1.default=MissingRefError$1;var compile$2={};Object.defineProperty(compile$2,"__esModule",{value:!0}),compile$2.resolveSchema=compile$2.getCompilingSchema=compile$2.resolveRef=compile$2.compileSchema=compile$2.SchemaEnv=void 0;const codegen_1$Q=codegen$1,validation_error_1$1=validation_error$1,names_1$9=names$3,resolve_1$3=resolve$3,util_1$K=util$2,validate_1$3=validate$1;let SchemaEnv$1=class{constructor(e){var t;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,resolve_1$3.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};compile$2.SchemaEnv=SchemaEnv$1;function compileSchema$1(e){const t=getCompilingSchema$1.call(this,e);if(t)return t;const n=(0,resolve_1$3.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:o,lines:c}=this.opts.code,{ownProperties:a}=this.opts,u=new codegen_1$Q.CodeGen(this.scope,{es5:o,lines:c,ownProperties:a});let h;e.$async&&(h=u.scopeValue("Error",{ref:validation_error_1$1.default,code:(0,codegen_1$Q._)`require("ajv/dist/runtime/validation_error").default`}));const v=u.scopeName("validate");e.validateName=v;const b={gen:u,allErrors:this.opts.allErrors,data:names_1$9.default.data,parentData:names_1$9.default.parentData,parentDataProperty:names_1$9.default.parentDataProperty,dataNames:[names_1$9.default.data],dataPathArr:[codegen_1$Q.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,codegen_1$Q.stringify)(e.schema)}:{ref:e.schema}),validateName:v,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:codegen_1$Q.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,codegen_1$Q._)`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,validate_1$3.validateFunctionCode)(b),u.optimize(this.opts.code.optimize);const w=u.toString();y=`${u.scopeRefs(names_1$9.default.scope)}return ${w}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const O=new Function(`${names_1$9.default.self}`,`${names_1$9.default.scope}`,y)(this,this.scope.get());if(this.scope.value(v,{ref:O}),O.errors=null,O.schema=e.schema,O.schemaEnv=e,e.$async&&(O.$async=!0),this.opts.code.source===!0&&(O.source={validateName:v,validateCode:w,scopeValues:u._values}),this.opts.unevaluated){const{props:P,items:C}=b;O.evaluated={props:P instanceof codegen_1$Q.Name?void 0:P,items:C instanceof codegen_1$Q.Name?void 0:C,dynamicProps:P instanceof codegen_1$Q.Name,dynamicItems:C instanceof codegen_1$Q.Name},O.source&&(O.source.evaluated=(0,codegen_1$Q.stringify)(O.evaluated))}return e.validate=O,e}catch(w){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),w}finally{this._compilations.delete(e)}}compile$2.compileSchema=compileSchema$1;function resolveRef$1(e,t,n){var o;n=(0,resolve_1$3.resolveUrl)(this.opts.uriResolver,t,n);const c=e.refs[n];if(c)return c;let a=resolve$2.call(this,e,n);if(a===void 0){const u=(o=e.localRefs)===null||o===void 0?void 0:o[n],{schemaId:h}=this.opts;u&&(a=new SchemaEnv$1({schema:u,schemaId:h,root:e,baseId:t}))}if(a!==void 0)return e.refs[n]=inlineOrCompile$1.call(this,a)}compile$2.resolveRef=resolveRef$1;function inlineOrCompile$1(e){return(0,resolve_1$3.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:compileSchema$1.call(this,e)}function getCompilingSchema$1(e){for(const t of this._compilations)if(sameSchemaEnv$1(t,e))return t}compile$2.getCompilingSchema=getCompilingSchema$1;function sameSchemaEnv$1(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function resolve$2(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||resolveSchema$1.call(this,e,t)}function resolveSchema$1(e,t){const n=this.opts.uriResolver.parse(t),o=(0,resolve_1$3._getFullPath)(this.opts.uriResolver,n);let c=(0,resolve_1$3.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&o===c)return getJsonPointer$1.call(this,n,e);const a=(0,resolve_1$3.normalizeId)(o),u=this.refs[a]||this.schemas[a];if(typeof u=="string"){const h=resolveSchema$1.call(this,e,u);return typeof(h==null?void 0:h.schema)!="object"?void 0:getJsonPointer$1.call(this,n,h)}if(typeof(u==null?void 0:u.schema)=="object"){if(u.validate||compileSchema$1.call(this,u),a===(0,resolve_1$3.normalizeId)(t)){const{schema:h}=u,{schemaId:v}=this.opts,b=h[v];return b&&(c=(0,resolve_1$3.resolveUrl)(this.opts.uriResolver,c,b)),new SchemaEnv$1({schema:h,schemaId:v,root:e,baseId:c})}return getJsonPointer$1.call(this,n,u)}}compile$2.resolveSchema=resolveSchema$1;const PREVENT_SCOPE_CHANGE$1=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer$1(e,{baseId:t,schema:n,root:o}){var c;if(((c=e.fragment)===null||c===void 0?void 0:c[0])!=="/")return;for(const h of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const v=n[(0,util_1$K.unescapeFragment)(h)];if(v===void 0)return;n=v;const b=typeof n=="object"&&n[this.opts.schemaId];!PREVENT_SCOPE_CHANGE$1.has(h)&&b&&(t=(0,resolve_1$3.resolveUrl)(this.opts.uriResolver,t,b))}let a;if(typeof n!="boolean"&&n.$ref&&!(0,util_1$K.schemaHasRulesButRef)(n,this.RULES)){const h=(0,resolve_1$3.resolveUrl)(this.opts.uriResolver,t,n.$ref);a=resolveSchema$1.call(this,o,h)}const{schemaId:u}=this.opts;if(a=a||new SchemaEnv$1({schema:n,schemaId:u,root:o,baseId:t}),a.schema!==a.root.schema)return a}const $id$3="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description$1="Meta-schema for $data reference (JSON AnySchema extension proposal)",type$3="object",required$3=["$data"],properties$5={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties$3=!1,require$$9$1={$id:$id$3,description:description$1,type:type$3,required:required$3,properties:properties$5,additionalProperties:additionalProperties$3};var uri$3={},uri_all={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,o){o(t)})(commonjsGlobal$7,function(n){function o(){for(var X=arguments.length,ie=Array(X),z=0;z<X;z++)ie[z]=arguments[z];if(ie.length>1){ie[0]=ie[0].slice(0,-1);for(var se=ie.length-1,me=1;me<se;++me)ie[me]=ie[me].slice(1,-1);return ie[se]=ie[se].slice(1),ie.join("")}else return ie[0]}function c(X){return"(?:"+X+")"}function a(X){return X===void 0?"undefined":X===null?"null":Object.prototype.toString.call(X).split(" ").pop().split("]").shift().toLowerCase()}function u(X){return X.toUpperCase()}function h(X){return X!=null?X instanceof Array?X:typeof X.length!="number"||X.split||X.setInterval||X.call?[X]:Array.prototype.slice.call(X):[]}function v(X,ie){var z=X;if(ie)for(var se in ie)z[se]=ie[se];return z}function b(X){var ie="[A-Za-z]",z="[0-9]",se=o(z,"[A-Fa-f]"),me=c(c("%[EFef]"+se+"%"+se+se+"%"+se+se)+"|"+c("%[89A-Fa-f]"+se+"%"+se+se)+"|"+c("%"+se+se)),$e="[\\:\\/\\?\\#\\[\\]\\@]",ge="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Le=o($e,ge),Je=X?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ye=X?"[\\uE000-\\uF8FF]":"[]",ht=o(ie,z,"[\\-\\.\\_\\~]",Je);c(ie+o(ie,z,"[\\+\\-\\.]")+"*"),c(c(me+"|"+o(ht,ge,"[\\:]"))+"*");var Ze=c(c("25[0-5]")+"|"+c("2[0-4]"+z)+"|"+c("1"+z+z)+"|"+c("0?[1-9]"+z)+"|0?0?"+z),dt=c(Ze+"\\."+Ze+"\\."+Ze+"\\."+Ze),Xe=c(se+"{1,4}"),mt=c(c(Xe+"\\:"+Xe)+"|"+dt),lt=c(c(Xe+"\\:")+"{6}"+mt),yt=c("\\:\\:"+c(Xe+"\\:")+"{5}"+mt),_t=c(c(Xe)+"?\\:\\:"+c(Xe+"\\:")+"{4}"+mt),gt=c(c(c(Xe+"\\:")+"{0,1}"+Xe)+"?\\:\\:"+c(Xe+"\\:")+"{3}"+mt),at=c(c(c(Xe+"\\:")+"{0,2}"+Xe)+"?\\:\\:"+c(Xe+"\\:")+"{2}"+mt),$t=c(c(c(Xe+"\\:")+"{0,3}"+Xe)+"?\\:\\:"+Xe+"\\:"+mt),ot=c(c(c(Xe+"\\:")+"{0,4}"+Xe)+"?\\:\\:"+mt),it=c(c(c(Xe+"\\:")+"{0,5}"+Xe)+"?\\:\\:"+Xe),st=c(c(c(Xe+"\\:")+"{0,6}"+Xe)+"?\\:\\:"),tt=c([lt,yt,_t,gt,at,$t,ot,it,st].join("|")),ke=c(c(ht+"|"+me)+"+");c("[vV]"+se+"+\\."+o(ht,ge,"[\\:]")+"+"),c(c(me+"|"+o(ht,ge))+"*");var qe=c(me+"|"+o(ht,ge,"[\\:\\@]"));return c(c(me+"|"+o(ht,ge,"[\\@]"))+"+"),c(c(qe+"|"+o("[\\/\\?]",Ye))+"*"),{NOT_SCHEME:new RegExp(o("[^]",ie,z,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(o("[^\\%\\:]",ht,ge),"g"),NOT_HOST:new RegExp(o("[^\\%\\[\\]\\:]",ht,ge),"g"),NOT_PATH:new RegExp(o("[^\\%\\/\\:\\@]",ht,ge),"g"),NOT_PATH_NOSCHEME:new RegExp(o("[^\\%\\/\\@]",ht,ge),"g"),NOT_QUERY:new RegExp(o("[^\\%]",ht,ge,"[\\:\\@\\/\\?]",Ye),"g"),NOT_FRAGMENT:new RegExp(o("[^\\%]",ht,ge,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(o("[^]",ht,ge),"g"),UNRESERVED:new RegExp(ht,"g"),OTHER_CHARS:new RegExp(o("[^\\%]",ht,Le),"g"),PCT_ENCODED:new RegExp(me,"g"),IPV4ADDRESS:new RegExp("^("+dt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+tt+")"+c(c("\\%25|\\%(?!"+se+"{2})")+"("+ke+")")+"?\\]?$")}}var y=b(!1),w=b(!0),O=function(){function X(ie,z){var se=[],me=!0,$e=!1,ge=void 0;try{for(var Le=ie[Symbol.iterator](),Je;!(me=(Je=Le.next()).done)&&(se.push(Je.value),!(z&&se.length===z));me=!0);}catch(Ye){$e=!0,ge=Ye}finally{try{!me&&Le.return&&Le.return()}finally{if($e)throw ge}}return se}return function(ie,z){if(Array.isArray(ie))return ie;if(Symbol.iterator in Object(ie))return X(ie,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=function(X){if(Array.isArray(X)){for(var ie=0,z=Array(X.length);ie<X.length;ie++)z[ie]=X[ie];return z}else return Array.from(X)},C=2147483647,x=36,D=1,k=26,B=38,q=700,V=72,ee=128,te="-",ce=/^xn--/,Q=/[^\0-\x7E]/,ne=/[\x2E\u3002\uFF0E\uFF61]/g,fe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=x-D,p=Math.floor,m=String.fromCharCode;function _(X){throw new RangeError(fe[X])}function A(X,ie){for(var z=[],se=X.length;se--;)z[se]=ie(X[se]);return z}function I(X,ie){var z=X.split("@"),se="";z.length>1&&(se=z[0]+"@",X=z[1]),X=X.replace(ne,".");var me=X.split("."),$e=A(me,ie).join(".");return se+$e}function T(X){for(var ie=[],z=0,se=X.length;z<se;){var me=X.charCodeAt(z++);if(me>=55296&&me<=56319&&z<se){var $e=X.charCodeAt(z++);($e&64512)==56320?ie.push(((me&1023)<<10)+($e&1023)+65536):(ie.push(me),z--)}else ie.push(me)}return ie}var S=function(X){return String.fromCodePoint.apply(String,P(X))},d=function(X){return X-48<10?X-22:X-65<26?X-65:X-97<26?X-97:x},E=function(X,ie){return X+22+75*(X<26)-((ie!=0)<<5)},M=function(X,ie,z){var se=0;for(X=z?p(X/q):X>>1,X+=p(X/ie);X>l*k>>1;se+=x)X=p(X/l);return p(se+(l+1)*X/(X+B))},U=function(X){var ie=[],z=X.length,se=0,me=ee,$e=V,ge=X.lastIndexOf(te);ge<0&&(ge=0);for(var Le=0;Le<ge;++Le)X.charCodeAt(Le)>=128&&_("not-basic"),ie.push(X.charCodeAt(Le));for(var Je=ge>0?ge+1:0;Je<z;){for(var Ye=se,ht=1,Ze=x;;Ze+=x){Je>=z&&_("invalid-input");var dt=d(X.charCodeAt(Je++));(dt>=x||dt>p((C-se)/ht))&&_("overflow"),se+=dt*ht;var Xe=Ze<=$e?D:Ze>=$e+k?k:Ze-$e;if(dt<Xe)break;var mt=x-Xe;ht>p(C/mt)&&_("overflow"),ht*=mt}var lt=ie.length+1;$e=M(se-Ye,lt,Ye==0),p(se/lt)>C-me&&_("overflow"),me+=p(se/lt),se%=lt,ie.splice(se++,0,me)}return String.fromCodePoint.apply(String,ie)},F=function(X){var ie=[];X=T(X);var z=X.length,se=ee,me=0,$e=V,ge=!0,Le=!1,Je=void 0;try{for(var Ye=X[Symbol.iterator](),ht;!(ge=(ht=Ye.next()).done);ge=!0){var Ze=ht.value;Ze<128&&ie.push(m(Ze))}}catch(At){Le=!0,Je=At}finally{try{!ge&&Ye.return&&Ye.return()}finally{if(Le)throw Je}}var dt=ie.length,Xe=dt;for(dt&&ie.push(te);Xe<z;){var mt=C,lt=!0,yt=!1,_t=void 0;try{for(var gt=X[Symbol.iterator](),at;!(lt=(at=gt.next()).done);lt=!0){var $t=at.value;$t>=se&&$t<mt&&(mt=$t)}}catch(At){yt=!0,_t=At}finally{try{!lt&&gt.return&&gt.return()}finally{if(yt)throw _t}}var ot=Xe+1;mt-se>p((C-me)/ot)&&_("overflow"),me+=(mt-se)*ot,se=mt;var it=!0,st=!1,tt=void 0;try{for(var ke=X[Symbol.iterator](),qe;!(it=(qe=ke.next()).done);it=!0){var rt=qe.value;if(rt<se&&++me>C&&_("overflow"),rt==se){for(var Qe=me,et=x;;et+=x){var ct=et<=$e?D:et>=$e+k?k:et-$e;if(Qe<ct)break;var Et=Qe-ct,It=x-ct;ie.push(m(E(ct+Et%It,0))),Qe=p(Et/It)}ie.push(m(E(Qe,0))),$e=M(me,ot,Xe==dt),me=0,++Xe}}}catch(At){st=!0,tt=At}finally{try{!it&&ke.return&&ke.return()}finally{if(st)throw tt}}++me,++se}return ie.join("")},N=function(X){return I(X,function(ie){return ce.test(ie)?U(ie.slice(4).toLowerCase()):ie})},L=function(X){return I(X,function(ie){return Q.test(ie)?"xn--"+F(ie):ie})},H={version:"2.1.0",ucs2:{decode:T,encode:S},decode:U,encode:F,toASCII:L,toUnicode:N},Y={};function Z(X){var ie=X.charCodeAt(0),z=void 0;return ie<16?z="%0"+ie.toString(16).toUpperCase():ie<128?z="%"+ie.toString(16).toUpperCase():ie<2048?z="%"+(ie>>6|192).toString(16).toUpperCase()+"%"+(ie&63|128).toString(16).toUpperCase():z="%"+(ie>>12|224).toString(16).toUpperCase()+"%"+(ie>>6&63|128).toString(16).toUpperCase()+"%"+(ie&63|128).toString(16).toUpperCase(),z}function de(X){for(var ie="",z=0,se=X.length;z<se;){var me=parseInt(X.substr(z+1,2),16);if(me<128)ie+=String.fromCharCode(me),z+=3;else if(me>=194&&me<224){if(se-z>=6){var $e=parseInt(X.substr(z+4,2),16);ie+=String.fromCharCode((me&31)<<6|$e&63)}else ie+=X.substr(z,6);z+=6}else if(me>=224){if(se-z>=9){var ge=parseInt(X.substr(z+4,2),16),Le=parseInt(X.substr(z+7,2),16);ie+=String.fromCharCode((me&15)<<12|(ge&63)<<6|Le&63)}else ie+=X.substr(z,9);z+=9}else ie+=X.substr(z,3),z+=3}return ie}function he(X,ie){function z(se){var me=de(se);return me.match(ie.UNRESERVED)?me:se}return X.scheme&&(X.scheme=String(X.scheme).replace(ie.PCT_ENCODED,z).toLowerCase().replace(ie.NOT_SCHEME,"")),X.userinfo!==void 0&&(X.userinfo=String(X.userinfo).replace(ie.PCT_ENCODED,z).replace(ie.NOT_USERINFO,Z).replace(ie.PCT_ENCODED,u)),X.host!==void 0&&(X.host=String(X.host).replace(ie.PCT_ENCODED,z).toLowerCase().replace(ie.NOT_HOST,Z).replace(ie.PCT_ENCODED,u)),X.path!==void 0&&(X.path=String(X.path).replace(ie.PCT_ENCODED,z).replace(X.scheme?ie.NOT_PATH:ie.NOT_PATH_NOSCHEME,Z).replace(ie.PCT_ENCODED,u)),X.query!==void 0&&(X.query=String(X.query).replace(ie.PCT_ENCODED,z).replace(ie.NOT_QUERY,Z).replace(ie.PCT_ENCODED,u)),X.fragment!==void 0&&(X.fragment=String(X.fragment).replace(ie.PCT_ENCODED,z).replace(ie.NOT_FRAGMENT,Z).replace(ie.PCT_ENCODED,u)),X}function re(X){return X.replace(/^0*(.*)/,"$1")||"0"}function ae(X,ie){var z=X.match(ie.IPV4ADDRESS)||[],se=O(z,2),me=se[1];return me?me.split(".").map(re).join("."):X}function be(X,ie){var z=X.match(ie.IPV6ADDRESS)||[],se=O(z,3),me=se[1],$e=se[2];if(me){for(var ge=me.toLowerCase().split("::").reverse(),Le=O(ge,2),Je=Le[0],Ye=Le[1],ht=Ye?Ye.split(":").map(re):[],Ze=Je.split(":").map(re),dt=ie.IPV4ADDRESS.test(Ze[Ze.length-1]),Xe=dt?7:8,mt=Ze.length-Xe,lt=Array(Xe),yt=0;yt<Xe;++yt)lt[yt]=ht[yt]||Ze[mt+yt]||"";dt&&(lt[Xe-1]=ae(lt[Xe-1],ie));var _t=lt.reduce(function(it,st,tt){if(!st||st==="0"){var ke=it[it.length-1];ke&&ke.index+ke.length===tt?ke.length++:it.push({index:tt,length:1})}return it},[]),gt=_t.sort(function(it,st){return st.length-it.length})[0],at=void 0;if(gt&&gt.length>1){var $t=lt.slice(0,gt.index),ot=lt.slice(gt.index+gt.length);at=$t.join(":")+"::"+ot.join(":")}else at=lt.join(":");return $e&&(at+="%"+$e),at}else return X}var ye=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,we="".match(/(){0}/)[1]===void 0;function Te(X){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z={},se=ie.iri!==!1?w:y;ie.reference==="suffix"&&(X=(ie.scheme?ie.scheme+":":"")+"//"+X);var me=X.match(ye);if(me){we?(z.scheme=me[1],z.userinfo=me[3],z.host=me[4],z.port=parseInt(me[5],10),z.path=me[6]||"",z.query=me[7],z.fragment=me[8],isNaN(z.port)&&(z.port=me[5])):(z.scheme=me[1]||void 0,z.userinfo=X.indexOf("@")!==-1?me[3]:void 0,z.host=X.indexOf("//")!==-1?me[4]:void 0,z.port=parseInt(me[5],10),z.path=me[6]||"",z.query=X.indexOf("?")!==-1?me[7]:void 0,z.fragment=X.indexOf("#")!==-1?me[8]:void 0,isNaN(z.port)&&(z.port=X.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?me[4]:void 0)),z.host&&(z.host=be(ae(z.host,se),se)),z.scheme===void 0&&z.userinfo===void 0&&z.host===void 0&&z.port===void 0&&!z.path&&z.query===void 0?z.reference="same-document":z.scheme===void 0?z.reference="relative":z.fragment===void 0?z.reference="absolute":z.reference="uri",ie.reference&&ie.reference!=="suffix"&&ie.reference!==z.reference&&(z.error=z.error||"URI is not a "+ie.reference+" reference.");var $e=Y[(ie.scheme||z.scheme||"").toLowerCase()];if(!ie.unicodeSupport&&(!$e||!$e.unicodeSupport)){if(z.host&&(ie.domainHost||$e&&$e.domainHost))try{z.host=H.toASCII(z.host.replace(se.PCT_ENCODED,de).toLowerCase())}catch(ge){z.error=z.error||"Host's domain name can not be converted to ASCII via punycode: "+ge}he(z,y)}else he(z,se);$e&&$e.parse&&$e.parse(z,ie)}else z.error=z.error||"URI can not be parsed.";return z}function ve(X,ie){var z=ie.iri!==!1?w:y,se=[];return X.userinfo!==void 0&&(se.push(X.userinfo),se.push("@")),X.host!==void 0&&se.push(be(ae(String(X.host),z),z).replace(z.IPV6ADDRESS,function(me,$e,ge){return"["+$e+(ge?"%25"+ge:"")+"]"})),(typeof X.port=="number"||typeof X.port=="string")&&(se.push(":"),se.push(String(X.port))),se.length?se.join(""):void 0}var Ce=/^\.\.?\//,Oe=/^\/\.(\/|$)/,Se=/^\/\.\.(\/|$)/,Pe=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(X){for(var ie=[];X.length;)if(X.match(Ce))X=X.replace(Ce,"");else if(X.match(Oe))X=X.replace(Oe,"/");else if(X.match(Se))X=X.replace(Se,"/"),ie.pop();else if(X==="."||X==="..")X="";else{var z=X.match(Pe);if(z){var se=z[0];X=X.slice(se.length),ie.push(se)}else throw new Error("Unexpected dot segment condition")}return ie.join("")}function Me(X){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=ie.iri?w:y,se=[],me=Y[(ie.scheme||X.scheme||"").toLowerCase()];if(me&&me.serialize&&me.serialize(X,ie),X.host&&!z.IPV6ADDRESS.test(X.host)&&(ie.domainHost||me&&me.domainHost))try{X.host=ie.iri?H.toUnicode(X.host):H.toASCII(X.host.replace(z.PCT_ENCODED,de).toLowerCase())}catch(Le){X.error=X.error||"Host's domain name can not be converted to "+(ie.iri?"Unicode":"ASCII")+" via punycode: "+Le}he(X,z),ie.reference!=="suffix"&&X.scheme&&(se.push(X.scheme),se.push(":"));var $e=ve(X,ie);if($e!==void 0&&(ie.reference!=="suffix"&&se.push("//"),se.push($e),X.path&&X.path.charAt(0)!=="/"&&se.push("/")),X.path!==void 0){var ge=X.path;!ie.absolutePath&&(!me||!me.absolutePath)&&(ge=nt(ge)),$e===void 0&&(ge=ge.replace(/^\/\//,"/%2F")),se.push(ge)}return X.query!==void 0&&(se.push("?"),se.push(X.query)),X.fragment!==void 0&&(se.push("#"),se.push(X.fragment)),se.join("")}function Re(X,ie){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=arguments[3],me={};return se||(X=Te(Me(X,z),z),ie=Te(Me(ie,z),z)),z=z||{},!z.tolerant&&ie.scheme?(me.scheme=ie.scheme,me.userinfo=ie.userinfo,me.host=ie.host,me.port=ie.port,me.path=nt(ie.path||""),me.query=ie.query):(ie.userinfo!==void 0||ie.host!==void 0||ie.port!==void 0?(me.userinfo=ie.userinfo,me.host=ie.host,me.port=ie.port,me.path=nt(ie.path||""),me.query=ie.query):(ie.path?(ie.path.charAt(0)==="/"?me.path=nt(ie.path):((X.userinfo!==void 0||X.host!==void 0||X.port!==void 0)&&!X.path?me.path="/"+ie.path:X.path?me.path=X.path.slice(0,X.path.lastIndexOf("/")+1)+ie.path:me.path=ie.path,me.path=nt(me.path)),me.query=ie.query):(me.path=X.path,ie.query!==void 0?me.query=ie.query:me.query=X.query),me.userinfo=X.userinfo,me.host=X.host,me.port=X.port),me.scheme=X.scheme),me.fragment=ie.fragment,me}function pt(X,ie,z){var se=v({scheme:"null"},z);return Me(Re(Te(X,se),Te(ie,se),se,!0),se)}function je(X,ie){return typeof X=="string"?X=Me(Te(X,ie),ie):a(X)==="object"&&(X=Te(Me(X,ie),ie)),X}function Be(X,ie,z){return typeof X=="string"?X=Me(Te(X,z),z):a(X)==="object"&&(X=Me(X,z)),typeof ie=="string"?ie=Me(Te(ie,z),z):a(ie)==="object"&&(ie=Me(ie,z)),X===ie}function vt(X,ie){return X&&X.toString().replace(!ie||!ie.iri?y.ESCAPE:w.ESCAPE,Z)}function Ne(X,ie){return X&&X.toString().replace(!ie||!ie.iri?y.PCT_ENCODED:w.PCT_ENCODED,de)}var J={scheme:"http",domainHost:!0,parse:function(X,ie){return X.host||(X.error=X.error||"HTTP URIs must have a host."),X},serialize:function(X,ie){var z=String(X.scheme).toLowerCase()==="https";return(X.port===(z?443:80)||X.port==="")&&(X.port=void 0),X.path||(X.path="/"),X}},le={scheme:"https",domainHost:J.domainHost,parse:J.parse,serialize:J.serialize};function ue(X){return typeof X.secure=="boolean"?X.secure:String(X.scheme).toLowerCase()==="wss"}var pe={scheme:"ws",domainHost:!0,parse:function(X,ie){var z=X;return z.secure=ue(z),z.resourceName=(z.path||"/")+(z.query?"?"+z.query:""),z.path=void 0,z.query=void 0,z},serialize:function(X,ie){if((X.port===(ue(X)?443:80)||X.port==="")&&(X.port=void 0),typeof X.secure=="boolean"&&(X.scheme=X.secure?"wss":"ws",X.secure=void 0),X.resourceName){var z=X.resourceName.split("?"),se=O(z,2),me=se[0],$e=se[1];X.path=me&&me!=="/"?me:void 0,X.query=$e,X.resourceName=void 0}return X.fragment=void 0,X}},Ie={scheme:"wss",domainHost:pe.domainHost,parse:pe.parse,serialize:pe.serialize},_e={},Ae="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",bt="[0-9A-Fa-f]",xe=c(c("%[EFef]"+bt+"%"+bt+bt+"%"+bt+bt)+"|"+c("%[89A-Fa-f]"+bt+"%"+bt+bt)+"|"+c("%"+bt+bt)),Ke="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",wt="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",De=o(wt,'[\\"\\\\]'),He="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Pt=new RegExp(Ae,"g"),Ue=new RegExp(xe,"g"),We=new RegExp(o("[^]",Ke,"[\\.]",'[\\"]',De),"g"),St=new RegExp(o("[^]",Ae,He),"g"),Fe=St;function Ve(X){var ie=de(X);return ie.match(Pt)?ie:X}var Ot={scheme:"mailto",parse:function(X,ie){var z=X,se=z.to=z.path?z.path.split(","):[];if(z.path=void 0,z.query){for(var me=!1,$e={},ge=z.query.split("&"),Le=0,Je=ge.length;Le<Je;++Le){var Ye=ge[Le].split("=");switch(Ye[0]){case"to":for(var ht=Ye[1].split(","),Ze=0,dt=ht.length;Ze<dt;++Ze)se.push(ht[Ze]);break;case"subject":z.subject=Ne(Ye[1],ie);break;case"body":z.body=Ne(Ye[1],ie);break;default:me=!0,$e[Ne(Ye[0],ie)]=Ne(Ye[1],ie);break}}me&&(z.headers=$e)}z.query=void 0;for(var Xe=0,mt=se.length;Xe<mt;++Xe){var lt=se[Xe].split("@");if(lt[0]=Ne(lt[0]),ie.unicodeSupport)lt[1]=Ne(lt[1],ie).toLowerCase();else try{lt[1]=H.toASCII(Ne(lt[1],ie).toLowerCase())}catch(yt){z.error=z.error||"Email address's domain name can not be converted to ASCII via punycode: "+yt}se[Xe]=lt.join("@")}return z},serialize:function(X,ie){var z=X,se=h(X.to);if(se){for(var me=0,$e=se.length;me<$e;++me){var ge=String(se[me]),Le=ge.lastIndexOf("@"),Je=ge.slice(0,Le).replace(Ue,Ve).replace(Ue,u).replace(We,Z),Ye=ge.slice(Le+1);try{Ye=ie.iri?H.toUnicode(Ye):H.toASCII(Ne(Ye,ie).toLowerCase())}catch(Xe){z.error=z.error||"Email address's domain name can not be converted to "+(ie.iri?"Unicode":"ASCII")+" via punycode: "+Xe}se[me]=Je+"@"+Ye}z.path=se.join(",")}var ht=X.headers=X.headers||{};X.subject&&(ht.subject=X.subject),X.body&&(ht.body=X.body);var Ze=[];for(var dt in ht)ht[dt]!==_e[dt]&&Ze.push(dt.replace(Ue,Ve).replace(Ue,u).replace(St,Z)+"="+ht[dt].replace(Ue,Ve).replace(Ue,u).replace(Fe,Z));return Ze.length&&(z.query=Ze.join("&")),z}},Ge=/^([^\:]+)\:(.*)/,ze={scheme:"urn",parse:function(X,ie){var z=X.path&&X.path.match(Ge),se=X;if(z){var me=ie.scheme||se.scheme||"urn",$e=z[1].toLowerCase(),ge=z[2],Le=me+":"+(ie.nid||$e),Je=Y[Le];se.nid=$e,se.nss=ge,se.path=void 0,Je&&(se=Je.parse(se,ie))}else se.error=se.error||"URN can not be parsed.";return se},serialize:function(X,ie){var z=ie.scheme||X.scheme||"urn",se=X.nid,me=z+":"+(ie.nid||se),$e=Y[me];$e&&(X=$e.serialize(X,ie));var ge=X,Le=X.nss;return ge.path=(se||ie.nid)+":"+Le,ge}},Tt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oe={scheme:"urn:uuid",parse:function(X,ie){var z=X;return z.uuid=z.nss,z.nss=void 0,!ie.tolerant&&(!z.uuid||!z.uuid.match(Tt))&&(z.error=z.error||"UUID is not valid."),z},serialize:function(X,ie){var z=X;return z.nss=(X.uuid||"").toLowerCase(),z}};Y[J.scheme]=J,Y[le.scheme]=le,Y[pe.scheme]=pe,Y[Ie.scheme]=Ie,Y[Ot.scheme]=Ot,Y[ze.scheme]=ze,Y[oe.scheme]=oe,n.SCHEMES=Y,n.pctEncChar=Z,n.pctDecChars=de,n.parse=Te,n.removeDotSegments=nt,n.serialize=Me,n.resolveComponents=Re,n.resolve=pt,n.normalize=je,n.equal=Be,n.escapeComponent=vt,n.unescapeComponent=Ne,Object.defineProperty(n,"__esModule",{value:!0})})})(uri_all,uri_all.exports);var uri_allExports=uri_all.exports;Object.defineProperty(uri$3,"__esModule",{value:!0});const uri$2=uri_allExports;uri$2.code='require("ajv/dist/runtime/uri").default',uri$3.default=uri$2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=validate$1;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=codegen$1;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const o=validation_error$1,c=ref_error$1,a=rules$1,u=compile$2,h=codegen$1,v=resolve$3,b=dataType$1,y=util$2,w=require$$9$1,O=uri$3,P=(E,M)=>new RegExp(E,M);P.code="new RegExp";const C=["removeAdditional","useDefaults","coerceTypes"],x=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),D={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},k={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},B=200;function q(E){var M,U,F,N,L,H,Y,Z,de,he,re,ae,be,ye,we,Te,ve,Ce,Oe,Se,Pe,nt,Me,Re,pt;const je=E.strict,Be=(M=E.code)===null||M===void 0?void 0:M.optimize,vt=Be===!0||Be===void 0?1:Be||0,Ne=(F=(U=E.code)===null||U===void 0?void 0:U.regExp)!==null&&F!==void 0?F:P,J=(N=E.uriResolver)!==null&&N!==void 0?N:O.default;return{strictSchema:(H=(L=E.strictSchema)!==null&&L!==void 0?L:je)!==null&&H!==void 0?H:!0,strictNumbers:(Z=(Y=E.strictNumbers)!==null&&Y!==void 0?Y:je)!==null&&Z!==void 0?Z:!0,strictTypes:(he=(de=E.strictTypes)!==null&&de!==void 0?de:je)!==null&&he!==void 0?he:"log",strictTuples:(ae=(re=E.strictTuples)!==null&&re!==void 0?re:je)!==null&&ae!==void 0?ae:"log",strictRequired:(ye=(be=E.strictRequired)!==null&&be!==void 0?be:je)!==null&&ye!==void 0?ye:!1,code:E.code?{...E.code,optimize:vt,regExp:Ne}:{optimize:vt,regExp:Ne},loopRequired:(we=E.loopRequired)!==null&&we!==void 0?we:B,loopEnum:(Te=E.loopEnum)!==null&&Te!==void 0?Te:B,meta:(ve=E.meta)!==null&&ve!==void 0?ve:!0,messages:(Ce=E.messages)!==null&&Ce!==void 0?Ce:!0,inlineRefs:(Oe=E.inlineRefs)!==null&&Oe!==void 0?Oe:!0,schemaId:(Se=E.schemaId)!==null&&Se!==void 0?Se:"$id",addUsedSchema:(Pe=E.addUsedSchema)!==null&&Pe!==void 0?Pe:!0,validateSchema:(nt=E.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(Me=E.validateFormats)!==null&&Me!==void 0?Me:!0,unicodeRegExp:(Re=E.unicodeRegExp)!==null&&Re!==void 0?Re:!0,int32range:(pt=E.int32range)!==null&&pt!==void 0?pt:!0,uriResolver:J}}class V{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...q(M)};const{es5:U,lines:F}=this.opts.code;this.scope=new h.ValueScope({scope:{},prefixes:x,es5:U,lines:F}),this.logger=p(M.logger);const N=M.validateFormats;M.validateFormats=!1,this.RULES=(0,a.getRules)(),ee.call(this,D,M,"NOT SUPPORTED"),ee.call(this,k,M,"DEPRECATED","warn"),this._metaOpts=fe.call(this),M.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&ne.call(this,M.keywords),typeof M.meta=="object"&&this.addMetaSchema(M.meta),ce.call(this),M.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:U,schemaId:F}=this.opts;let N=w;F==="id"&&(N={...w},N.id=N.$id,delete N.$id),U&&M&&this.addMetaSchema(N,N[F],!1)}defaultMeta(){const{meta:M,schemaId:U}=this.opts;return this.opts.defaultMeta=typeof M=="object"?M[U]||M:void 0}validate(M,U){let F;if(typeof M=="string"){if(F=this.getSchema(M),!F)throw new Error(`no schema with key or ref "${M}"`)}else F=this.compile(M);const N=F(U);return"$async"in F||(this.errors=F.errors),N}compile(M,U){const F=this._addSchema(M,U);return F.validate||this._compileSchemaEnv(F)}compileAsync(M,U){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return N.call(this,M,U);async function N(he,re){await L.call(this,he.$schema);const ae=this._addSchema(he,re);return ae.validate||H.call(this,ae)}async function L(he){he&&!this.getSchema(he)&&await N.call(this,{$ref:he},!0)}async function H(he){try{return this._compileSchemaEnv(he)}catch(re){if(!(re instanceof c.default))throw re;return Y.call(this,re),await Z.call(this,re.missingSchema),H.call(this,he)}}function Y({missingSchema:he,missingRef:re}){if(this.refs[he])throw new Error(`AnySchema ${he} is loaded but ${re} cannot be resolved`)}async function Z(he){const re=await de.call(this,he);this.refs[he]||await L.call(this,re.$schema),this.refs[he]||this.addSchema(re,he,U)}async function de(he){const re=this._loading[he];if(re)return re;try{return await(this._loading[he]=F(he))}finally{delete this._loading[he]}}}addSchema(M,U,F,N=this.opts.validateSchema){if(Array.isArray(M)){for(const H of M)this.addSchema(H,void 0,F,N);return this}let L;if(typeof M=="object"){const{schemaId:H}=this.opts;if(L=M[H],L!==void 0&&typeof L!="string")throw new Error(`schema ${H} must be string`)}return U=(0,v.normalizeId)(U||L),this._checkUnique(U),this.schemas[U]=this._addSchema(M,F,U,N,!0),this}addMetaSchema(M,U,F=this.opts.validateSchema){return this.addSchema(M,U,!0,F),this}validateSchema(M,U){if(typeof M=="boolean")return!0;let F;if(F=M.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(F,M);if(!N&&U){const L="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(L);else throw new Error(L)}return N}getSchema(M){let U;for(;typeof(U=te.call(this,M))=="string";)M=U;if(U===void 0){const{schemaId:F}=this.opts,N=new u.SchemaEnv({schema:{},schemaId:F});if(U=u.resolveSchema.call(this,N,M),!U)return;this.refs[M]=U}return U.validate||this._compileSchemaEnv(U)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const U=te.call(this,M);return typeof U=="object"&&this._cache.delete(U.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{const U=M;this._cache.delete(U);let F=M[this.opts.schemaId];return F&&(F=(0,v.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const U of M)this.addKeyword(U);return this}addKeyword(M,U){let F;if(typeof M=="string")F=M,typeof U=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),U.keyword=F);else if(typeof M=="object"&&U===void 0){if(U=M,F=U.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(_.call(this,F,U),!U)return(0,y.eachItem)(F,L=>A.call(this,L)),this;T.call(this,U);const N={...U,type:(0,b.getJSONTypes)(U.type),schemaType:(0,b.getJSONTypes)(U.schemaType)};return(0,y.eachItem)(F,N.type.length===0?L=>A.call(this,L,N):L=>N.type.forEach(H=>A.call(this,L,N,H))),this}getKeyword(M){const U=this.RULES.all[M];return typeof U=="object"?U.definition:!!U}removeKeyword(M){const{RULES:U}=this;delete U.keywords[M],delete U.all[M];for(const F of U.rules){const N=F.rules.findIndex(L=>L.keyword===M);N>=0&&F.rules.splice(N,1)}return this}addFormat(M,U){return typeof U=="string"&&(U=new RegExp(U)),this.formats[M]=U,this}errorsText(M=this.errors,{separator:U=", ",dataVar:F="data"}={}){return!M||M.length===0?"No errors":M.map(N=>`${F}${N.instancePath} ${N.message}`).reduce((N,L)=>N+U+L)}$dataMetaSchema(M,U){const F=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const N of U){const L=N.split("/").slice(1);let H=M;for(const Y of L)H=H[Y];for(const Y in F){const Z=F[Y];if(typeof Z!="object")continue;const{$data:de}=Z.definition,he=H[Y];de&&he&&(H[Y]=d(he))}}return M}_removeAllSchemas(M,U){for(const F in M){const N=M[F];(!U||U.test(F))&&(typeof N=="string"?delete M[F]:N&&!N.meta&&(this._cache.delete(N.schema),delete M[F]))}}_addSchema(M,U,F,N=this.opts.validateSchema,L=this.opts.addUsedSchema){let H;const{schemaId:Y}=this.opts;if(typeof M=="object")H=M[Y];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}let Z=this._cache.get(M);if(Z!==void 0)return Z;F=(0,v.normalizeId)(H||F);const de=v.getSchemaRefs.call(this,M,F);return Z=new u.SchemaEnv({schema:M,schemaId:Y,meta:U,baseId:F,localRefs:de}),this._cache.set(Z.schema,Z),L&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=Z),N&&this.validateSchema(M,!0),Z}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):u.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const U=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,M)}finally{this.opts=U}}}e.default=V,V.ValidationError=o.default,V.MissingRefError=c.default;function ee(E,M,U,F="error"){for(const N in E){const L=N;L in M&&this.logger[F](`${U}: option ${N}. ${E[L]}`)}}function te(E){return E=(0,v.normalizeId)(E),this.schemas[E]||this.refs[E]}function ce(){const E=this.opts.schemas;if(E)if(Array.isArray(E))this.addSchema(E);else for(const M in E)this.addSchema(E[M],M)}function Q(){for(const E in this.opts.formats){const M=this.opts.formats[E];M&&this.addFormat(E,M)}}function ne(E){if(Array.isArray(E)){this.addVocabulary(E);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const M in E){const U=E[M];U.keyword||(U.keyword=M),this.addKeyword(U)}}function fe(){const E={...this.opts};for(const M of C)delete E[M];return E}const l={log(){},warn(){},error(){}};function p(E){if(E===!1)return l;if(E===void 0)return console;if(E.log&&E.warn&&E.error)return E;throw new Error("logger must implement log, warn and error methods")}const m=/^[a-z_$][a-z0-9_$:-]*$/i;function _(E,M){const{RULES:U}=this;if((0,y.eachItem)(E,F=>{if(U.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!m.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!M&&M.$data&&!("code"in M||"validate"in M))throw new Error('$data keyword must have "code" or "validate" function')}function A(E,M,U){var F;const N=M==null?void 0:M.post;if(U&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:L}=this;let H=N?L.post:L.rules.find(({type:Z})=>Z===U);if(H||(H={type:U,rules:[]},L.rules.push(H)),L.keywords[E]=!0,!M)return;const Y={keyword:E,definition:{...M,type:(0,b.getJSONTypes)(M.type),schemaType:(0,b.getJSONTypes)(M.schemaType)}};M.before?I.call(this,H,Y,M.before):H.rules.push(Y),L.all[E]=Y,(F=M.implements)===null||F===void 0||F.forEach(Z=>this.addKeyword(Z))}function I(E,M,U){const F=E.rules.findIndex(N=>N.keyword===U);F>=0?E.rules.splice(F,0,M):(E.rules.push(M),this.logger.warn(`rule ${U} is not defined`))}function T(E){let{metaSchema:M}=E;M!==void 0&&(E.$data&&this.opts.$data&&(M=d(M)),E.validateSchema=this.compile(M,!0))}const S={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function d(E){return{anyOf:[E,S]}}}(core$5);var draft7$1={},core$4={},id$5={};Object.defineProperty(id$5,"__esModule",{value:!0});const def$V={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};id$5.default=def$V;var ref$1={};Object.defineProperty(ref$1,"__esModule",{value:!0}),ref$1.callRef=ref$1.getValidate=void 0;const ref_error_1$1=ref_error$1,code_1$i=code$2,codegen_1$P=codegen$1,names_1$8=names$3,compile_1$3=compile$2,util_1$J=util$2,def$U={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:c,schemaEnv:a,validateName:u,opts:h,self:v}=o,{root:b}=a;if((n==="#"||n==="#/")&&c===b.baseId)return w();const y=compile_1$3.resolveRef.call(v,b,c,n);if(y===void 0)throw new ref_error_1$1.default(o.opts.uriResolver,c,n);if(y instanceof compile_1$3.SchemaEnv)return O(y);return P(y);function w(){if(a===b)return callRef$1(e,u,a,a.$async);const C=t.scopeValue("root",{ref:b});return callRef$1(e,(0,codegen_1$P._)`${C}.validate`,b,b.$async)}function O(C){const x=getValidate$1(e,C);callRef$1(e,x,C,C.$async)}function P(C){const x=t.scopeValue("schema",h.code.source===!0?{ref:C,code:(0,codegen_1$P.stringify)(C)}:{ref:C}),D=t.name("valid"),k=e.subschema({schema:C,dataTypes:[],schemaPath:codegen_1$P.nil,topSchemaRef:x,errSchemaPath:n},D);e.mergeEvaluated(k),e.ok(D)}}};function getValidate$1(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,codegen_1$P._)`${n.scopeValue("wrapper",{ref:t})}.validate`}ref$1.getValidate=getValidate$1;function callRef$1(e,t,n,o){const{gen:c,it:a}=e,{allErrors:u,schemaEnv:h,opts:v}=a,b=v.passContext?names_1$8.default.this:codegen_1$P.nil;o?y():w();function y(){if(!h.$async)throw new Error("async schema referenced by sync schema");const C=c.let("valid");c.try(()=>{c.code((0,codegen_1$P._)`await ${(0,code_1$i.callValidateCode)(e,t,b)}`),P(t),u||c.assign(C,!0)},x=>{c.if((0,codegen_1$P._)`!(${x} instanceof ${a.ValidationError})`,()=>c.throw(x)),O(x),u||c.assign(C,!1)}),e.ok(C)}function w(){e.result((0,code_1$i.callValidateCode)(e,t,b),()=>P(t),()=>O(t))}function O(C){const x=(0,codegen_1$P._)`${C}.errors`;c.assign(names_1$8.default.vErrors,(0,codegen_1$P._)`${names_1$8.default.vErrors} === null ? ${x} : ${names_1$8.default.vErrors}.concat(${x})`),c.assign(names_1$8.default.errors,(0,codegen_1$P._)`${names_1$8.default.vErrors}.length`)}function P(C){var x;if(!a.opts.unevaluated)return;const D=(x=n==null?void 0:n.validate)===null||x===void 0?void 0:x.evaluated;if(a.props!==!0)if(D&&!D.dynamicProps)D.props!==void 0&&(a.props=util_1$J.mergeEvaluated.props(c,D.props,a.props));else{const k=c.var("props",(0,codegen_1$P._)`${C}.evaluated.props`);a.props=util_1$J.mergeEvaluated.props(c,k,a.props,codegen_1$P.Name)}if(a.items!==!0)if(D&&!D.dynamicItems)D.items!==void 0&&(a.items=util_1$J.mergeEvaluated.items(c,D.items,a.items));else{const k=c.var("items",(0,codegen_1$P._)`${C}.evaluated.items`);a.items=util_1$J.mergeEvaluated.items(c,k,a.items,codegen_1$P.Name)}}}ref$1.callRef=callRef$1,ref$1.default=def$U,Object.defineProperty(core$4,"__esModule",{value:!0});const id_1$1=id$5,ref_1$1=ref$1,core$3=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",id_1$1.default,ref_1$1.default];core$4.default=core$3;var validation$3={},limitNumber$1={};Object.defineProperty(limitNumber$1,"__esModule",{value:!0});const codegen_1$O=codegen$1,ops$1=codegen_1$O.operators,KWDs$1={maximum:{okStr:"<=",ok:ops$1.LTE,fail:ops$1.GT},minimum:{okStr:">=",ok:ops$1.GTE,fail:ops$1.LT},exclusiveMaximum:{okStr:"<",ok:ops$1.LT,fail:ops$1.GTE},exclusiveMinimum:{okStr:">",ok:ops$1.GT,fail:ops$1.LTE}},error$B={message:({keyword:e,schemaCode:t})=>(0,codegen_1$O.str)`must be ${KWDs$1[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,codegen_1$O._)`{comparison: ${KWDs$1[e].okStr}, limit: ${t}}`},def$T={keyword:Object.keys(KWDs$1),type:"number",schemaType:"number",$data:!0,error:error$B,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data((0,codegen_1$O._)`${n} ${KWDs$1[t].fail} ${o} || isNaN(${n})`)}};limitNumber$1.default=def$T;var multipleOf$1={};Object.defineProperty(multipleOf$1,"__esModule",{value:!0});const codegen_1$N=codegen$1,error$A={message:({schemaCode:e})=>(0,codegen_1$N.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,codegen_1$N._)`{multipleOf: ${e}}`},def$S={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:error$A,code(e){const{gen:t,data:n,schemaCode:o,it:c}=e,a=c.opts.multipleOfPrecision,u=t.let("res"),h=a?(0,codegen_1$N._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${a}`:(0,codegen_1$N._)`${u} !== parseInt(${u})`;e.fail$data((0,codegen_1$N._)`(${o} === 0 || (${u} = ${n}/${o}, ${h}))`)}};multipleOf$1.default=def$S;var limitLength$1={},ucs2length$3={};Object.defineProperty(ucs2length$3,"__esModule",{value:!0});function ucs2length$2(e){const t=e.length;let n=0,o=0,c;for(;o<t;)n++,c=e.charCodeAt(o++),c>=55296&&c<=56319&&o<t&&(c=e.charCodeAt(o),(c&64512)===56320&&o++);return n}ucs2length$3.default=ucs2length$2,ucs2length$2.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(limitLength$1,"__esModule",{value:!0});const codegen_1$M=codegen$1,util_1$I=util$2,ucs2length_1$1=ucs2length$3,error$z={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,codegen_1$M.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,codegen_1$M._)`{limit: ${e}}`},def$R={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:error$z,code(e){const{keyword:t,data:n,schemaCode:o,it:c}=e,a=t==="maxLength"?codegen_1$M.operators.GT:codegen_1$M.operators.LT,u=c.opts.unicode===!1?(0,codegen_1$M._)`${n}.length`:(0,codegen_1$M._)`${(0,util_1$I.useFunc)(e.gen,ucs2length_1$1.default)}(${n})`;e.fail$data((0,codegen_1$M._)`${u} ${a} ${o}`)}};limitLength$1.default=def$R;var pattern$1={};Object.defineProperty(pattern$1,"__esModule",{value:!0});const code_1$h=code$2,codegen_1$L=codegen$1,error$y={message:({schemaCode:e})=>(0,codegen_1$L.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,codegen_1$L._)`{pattern: ${e}}`},def$Q={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:error$y,code(e){const{data:t,$data:n,schema:o,schemaCode:c,it:a}=e,u=a.opts.unicodeRegExp?"u":"",h=n?(0,codegen_1$L._)`(new RegExp(${c}, ${u}))`:(0,code_1$h.usePattern)(e,o);e.fail$data((0,codegen_1$L._)`!${h}.test(${t})`)}};pattern$1.default=def$Q;var limitProperties$1={};Object.defineProperty(limitProperties$1,"__esModule",{value:!0});const codegen_1$K=codegen$1,error$x={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,codegen_1$K.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,codegen_1$K._)`{limit: ${e}}`},def$P={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:error$x,code(e){const{keyword:t,data:n,schemaCode:o}=e,c=t==="maxProperties"?codegen_1$K.operators.GT:codegen_1$K.operators.LT;e.fail$data((0,codegen_1$K._)`Object.keys(${n}).length ${c} ${o}`)}};limitProperties$1.default=def$P;var required$2={};Object.defineProperty(required$2,"__esModule",{value:!0});const code_1$g=code$2,codegen_1$J=codegen$1,util_1$H=util$2,error$w={message:({params:{missingProperty:e}})=>(0,codegen_1$J.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,codegen_1$J._)`{missingProperty: ${e}}`},def$O={keyword:"required",type:"object",schemaType:"array",$data:!0,error:error$w,code(e){const{gen:t,schema:n,schemaCode:o,data:c,$data:a,it:u}=e,{opts:h}=u;if(!a&&n.length===0)return;const v=n.length>=h.loopRequired;if(u.allErrors?b():y(),h.strictRequired){const P=e.parentSchema.properties,{definedProperties:C}=e.it;for(const x of n)if((P==null?void 0:P[x])===void 0&&!C.has(x)){const D=u.schemaEnv.baseId+u.errSchemaPath,k=`required property "${x}" is not defined at "${D}" (strictRequired)`;(0,util_1$H.checkStrictMode)(u,k,u.opts.strictRequired)}}function b(){if(v||a)e.block$data(codegen_1$J.nil,w);else for(const P of n)(0,code_1$g.checkReportMissingProp)(e,P)}function y(){const P=t.let("missing");if(v||a){const C=t.let("valid",!0);e.block$data(C,()=>O(P,C)),e.ok(C)}else t.if((0,code_1$g.checkMissingProp)(e,n,P)),(0,code_1$g.reportMissingProp)(e,P),t.else()}function w(){t.forOf("prop",o,P=>{e.setParams({missingProperty:P}),t.if((0,code_1$g.noPropertyInData)(t,c,P,h.ownProperties),()=>e.error())})}function O(P,C){e.setParams({missingProperty:P}),t.forOf(P,o,()=>{t.assign(C,(0,code_1$g.propertyInData)(t,c,P,h.ownProperties)),t.if((0,codegen_1$J.not)(C),()=>{e.error(),t.break()})},codegen_1$J.nil)}}};required$2.default=def$O;var limitItems$1={};Object.defineProperty(limitItems$1,"__esModule",{value:!0});const codegen_1$I=codegen$1,error$v={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,codegen_1$I.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,codegen_1$I._)`{limit: ${e}}`},def$N={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:error$v,code(e){const{keyword:t,data:n,schemaCode:o}=e,c=t==="maxItems"?codegen_1$I.operators.GT:codegen_1$I.operators.LT;e.fail$data((0,codegen_1$I._)`${n}.length ${c} ${o}`)}};limitItems$1.default=def$N;var uniqueItems$1={},equal$4={};Object.defineProperty(equal$4,"__esModule",{value:!0});const equal$3=fastDeepEqual;equal$3.code='require("ajv/dist/runtime/equal").default',equal$4.default=equal$3,Object.defineProperty(uniqueItems$1,"__esModule",{value:!0});const dataType_1$2=dataType$1,codegen_1$H=codegen$1,util_1$G=util$2,equal_1$5=equal$4,error$u={message:({params:{i:e,j:t}})=>(0,codegen_1$H.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,codegen_1$H._)`{i: ${e}, j: ${t}}`},def$M={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:error$u,code(e){const{gen:t,data:n,$data:o,schema:c,parentSchema:a,schemaCode:u,it:h}=e;if(!o&&!c)return;const v=t.let("valid"),b=a.items?(0,dataType_1$2.getSchemaTypes)(a.items):[];e.block$data(v,y,(0,codegen_1$H._)`${u} === false`),e.ok(v);function y(){const C=t.let("i",(0,codegen_1$H._)`${n}.length`),x=t.let("j");e.setParams({i:C,j:x}),t.assign(v,!0),t.if((0,codegen_1$H._)`${C} > 1`,()=>(w()?O:P)(C,x))}function w(){return b.length>0&&!b.some(C=>C==="object"||C==="array")}function O(C,x){const D=t.name("item"),k=(0,dataType_1$2.checkDataTypes)(b,D,h.opts.strictNumbers,dataType_1$2.DataType.Wrong),B=t.const("indices",(0,codegen_1$H._)`{}`);t.for((0,codegen_1$H._)`;${C}--;`,()=>{t.let(D,(0,codegen_1$H._)`${n}[${C}]`),t.if(k,(0,codegen_1$H._)`continue`),b.length>1&&t.if((0,codegen_1$H._)`typeof ${D} == "string"`,(0,codegen_1$H._)`${D} += "_"`),t.if((0,codegen_1$H._)`typeof ${B}[${D}] == "number"`,()=>{t.assign(x,(0,codegen_1$H._)`${B}[${D}]`),e.error(),t.assign(v,!1).break()}).code((0,codegen_1$H._)`${B}[${D}] = ${C}`)})}function P(C,x){const D=(0,util_1$G.useFunc)(t,equal_1$5.default),k=t.name("outer");t.label(k).for((0,codegen_1$H._)`;${C}--;`,()=>t.for((0,codegen_1$H._)`${x} = ${C}; ${x}--;`,()=>t.if((0,codegen_1$H._)`${D}(${n}[${C}], ${n}[${x}])`,()=>{e.error(),t.assign(v,!1).break(k)})))}}};uniqueItems$1.default=def$M;var _const$1={};Object.defineProperty(_const$1,"__esModule",{value:!0});const codegen_1$G=codegen$1,util_1$F=util$2,equal_1$4=equal$4,error$t={message:"must be equal to constant",params:({schemaCode:e})=>(0,codegen_1$G._)`{allowedValue: ${e}}`},def$L={keyword:"const",$data:!0,error:error$t,code(e){const{gen:t,data:n,$data:o,schemaCode:c,schema:a}=e;o||a&&typeof a=="object"?e.fail$data((0,codegen_1$G._)`!${(0,util_1$F.useFunc)(t,equal_1$4.default)}(${n}, ${c})`):e.fail((0,codegen_1$G._)`${a} !== ${n}`)}};_const$1.default=def$L;var _enum$1={};Object.defineProperty(_enum$1,"__esModule",{value:!0});const codegen_1$F=codegen$1,util_1$E=util$2,equal_1$3=equal$4,error$s={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,codegen_1$F._)`{allowedValues: ${e}}`},def$K={keyword:"enum",schemaType:"array",$data:!0,error:error$s,code(e){const{gen:t,data:n,$data:o,schema:c,schemaCode:a,it:u}=e;if(!o&&c.length===0)throw new Error("enum must have non-empty array");const h=c.length>=u.opts.loopEnum;let v;const b=()=>v??(v=(0,util_1$E.useFunc)(t,equal_1$3.default));let y;if(h||o)y=t.let("valid"),e.block$data(y,w);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const P=t.const("vSchema",a);y=(0,codegen_1$F.or)(...c.map((C,x)=>O(P,x)))}e.pass(y);function w(){t.assign(y,!1),t.forOf("v",a,P=>t.if((0,codegen_1$F._)`${b()}(${n}, ${P})`,()=>t.assign(y,!0).break()))}function O(P,C){const x=c[C];return typeof x=="object"&&x!==null?(0,codegen_1$F._)`${b()}(${n}, ${P}[${C}])`:(0,codegen_1$F._)`${n} === ${x}`}}};_enum$1.default=def$K,Object.defineProperty(validation$3,"__esModule",{value:!0});const limitNumber_1$1=limitNumber$1,multipleOf_1$1=multipleOf$1,limitLength_1$1=limitLength$1,pattern_1$1=pattern$1,limitProperties_1$1=limitProperties$1,required_1$1=required$2,limitItems_1$1=limitItems$1,uniqueItems_1$1=uniqueItems$1,const_1$1=_const$1,enum_1$1=_enum$1,validation$2=[limitNumber_1$1.default,multipleOf_1$1.default,limitLength_1$1.default,pattern_1$1.default,limitProperties_1$1.default,required_1$1.default,limitItems_1$1.default,uniqueItems_1$1.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},const_1$1.default,enum_1$1.default];validation$3.default=validation$2;var applicator$1={},additionalItems$1={};Object.defineProperty(additionalItems$1,"__esModule",{value:!0}),additionalItems$1.validateAdditionalItems=void 0;const codegen_1$E=codegen$1,util_1$D=util$2,error$r={message:({params:{len:e}})=>(0,codegen_1$E.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,codegen_1$E._)`{limit: ${e}}`},def$J={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:error$r,code(e){const{parentSchema:t,it:n}=e,{items:o}=t;if(!Array.isArray(o)){(0,util_1$D.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}validateAdditionalItems$1(e,o)}};function validateAdditionalItems$1(e,t){const{gen:n,schema:o,data:c,keyword:a,it:u}=e;u.items=!0;const h=n.const("len",(0,codegen_1$E._)`${c}.length`);if(o===!1)e.setParams({len:t.length}),e.pass((0,codegen_1$E._)`${h} <= ${t.length}`);else if(typeof o=="object"&&!(0,util_1$D.alwaysValidSchema)(u,o)){const b=n.var("valid",(0,codegen_1$E._)`${h} <= ${t.length}`);n.if((0,codegen_1$E.not)(b),()=>v(b)),e.ok(b)}function v(b){n.forRange("i",t.length,h,y=>{e.subschema({keyword:a,dataProp:y,dataPropType:util_1$D.Type.Num},b),u.allErrors||n.if((0,codegen_1$E.not)(b),()=>n.break())})}}additionalItems$1.validateAdditionalItems=validateAdditionalItems$1,additionalItems$1.default=def$J;var prefixItems$1={},items$1={};Object.defineProperty(items$1,"__esModule",{value:!0}),items$1.validateTuple=void 0;const codegen_1$D=codegen$1,util_1$C=util$2,code_1$f=code$2,def$I={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return validateTuple$1(e,"additionalItems",t);n.items=!0,!(0,util_1$C.alwaysValidSchema)(n,t)&&e.ok((0,code_1$f.validateArray)(e))}};function validateTuple$1(e,t,n=e.schema){const{gen:o,parentSchema:c,data:a,keyword:u,it:h}=e;y(c),h.opts.unevaluated&&n.length&&h.items!==!0&&(h.items=util_1$C.mergeEvaluated.items(o,n.length,h.items));const v=o.name("valid"),b=o.const("len",(0,codegen_1$D._)`${a}.length`);n.forEach((w,O)=>{(0,util_1$C.alwaysValidSchema)(h,w)||(o.if((0,codegen_1$D._)`${b} > ${O}`,()=>e.subschema({keyword:u,schemaProp:O,dataProp:O},v)),e.ok(v))});function y(w){const{opts:O,errSchemaPath:P}=h,C=n.length,x=C===w.minItems&&(C===w.maxItems||w[t]===!1);if(O.strictTuples&&!x){const D=`"${u}" is ${C}-tuple, but minItems or maxItems/${t} are not specified or different at path "${P}"`;(0,util_1$C.checkStrictMode)(h,D,O.strictTuples)}}}items$1.validateTuple=validateTuple$1,items$1.default=def$I,Object.defineProperty(prefixItems$1,"__esModule",{value:!0});const items_1$3=items$1,def$H={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,items_1$3.validateTuple)(e,"items")};prefixItems$1.default=def$H;var items2020$1={};Object.defineProperty(items2020$1,"__esModule",{value:!0});const codegen_1$C=codegen$1,util_1$B=util$2,code_1$e=code$2,additionalItems_1$3=additionalItems$1,error$q={message:({params:{len:e}})=>(0,codegen_1$C.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,codegen_1$C._)`{limit: ${e}}`},def$G={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:error$q,code(e){const{schema:t,parentSchema:n,it:o}=e,{prefixItems:c}=n;o.items=!0,!(0,util_1$B.alwaysValidSchema)(o,t)&&(c?(0,additionalItems_1$3.validateAdditionalItems)(e,c):e.ok((0,code_1$e.validateArray)(e)))}};items2020$1.default=def$G;var contains$1={};Object.defineProperty(contains$1,"__esModule",{value:!0});const codegen_1$B=codegen$1,util_1$A=util$2,error$p={message:({params:{min:e,max:t}})=>t===void 0?(0,codegen_1$B.str)`must contain at least ${e} valid item(s)`:(0,codegen_1$B.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,codegen_1$B._)`{minContains: ${e}}`:(0,codegen_1$B._)`{minContains: ${e}, maxContains: ${t}}`},def$F={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:error$p,code(e){const{gen:t,schema:n,parentSchema:o,data:c,it:a}=e;let u,h;const{minContains:v,maxContains:b}=o;a.opts.next?(u=v===void 0?1:v,h=b):u=1;const y=t.const("len",(0,codegen_1$B._)`${c}.length`);if(e.setParams({min:u,max:h}),h===void 0&&u===0){(0,util_1$A.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&u>h){(0,util_1$A.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,util_1$A.alwaysValidSchema)(a,n)){let x=(0,codegen_1$B._)`${y} >= ${u}`;h!==void 0&&(x=(0,codegen_1$B._)`${x} && ${y} <= ${h}`),e.pass(x);return}a.items=!0;const w=t.name("valid");h===void 0&&u===1?P(w,()=>t.if(w,()=>t.break())):u===0?(t.let(w,!0),h!==void 0&&t.if((0,codegen_1$B._)`${c}.length > 0`,O)):(t.let(w,!1),O()),e.result(w,()=>e.reset());function O(){const x=t.name("_valid"),D=t.let("count",0);P(x,()=>t.if(x,()=>C(D)))}function P(x,D){t.forRange("i",0,y,k=>{e.subschema({keyword:"contains",dataProp:k,dataPropType:util_1$A.Type.Num,compositeRule:!0},x),D()})}function C(x){t.code((0,codegen_1$B._)`${x}++`),h===void 0?t.if((0,codegen_1$B._)`${x} >= ${u}`,()=>t.assign(w,!0).break()):(t.if((0,codegen_1$B._)`${x} > ${h}`,()=>t.assign(w,!1).break()),u===1?t.assign(w,!0):t.if((0,codegen_1$B._)`${x} >= ${u}`,()=>t.assign(w,!0)))}}};contains$1.default=def$F;var dependencies$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=codegen$1,n=util$2,o=code$2;e.error={message:({params:{property:v,depsCount:b,deps:y}})=>{const w=b===1?"property":"properties";return(0,t.str)`must have ${w} ${y} when property ${v} is present`},params:({params:{property:v,depsCount:b,deps:y,missingProperty:w}})=>(0,t._)`{property: ${v},
    missingProperty: ${w},
    depsCount: ${b},
    deps: ${y}}`};const c={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(v){const[b,y]=a(v);u(v,b),h(v,y)}};function a({schema:v}){const b={},y={};for(const w in v){if(w==="__proto__")continue;const O=Array.isArray(v[w])?b:y;O[w]=v[w]}return[b,y]}function u(v,b=v.schema){const{gen:y,data:w,it:O}=v;if(Object.keys(b).length===0)return;const P=y.let("missing");for(const C in b){const x=b[C];if(x.length===0)continue;const D=(0,o.propertyInData)(y,w,C,O.opts.ownProperties);v.setParams({property:C,depsCount:x.length,deps:x.join(", ")}),O.allErrors?y.if(D,()=>{for(const k of x)(0,o.checkReportMissingProp)(v,k)}):(y.if((0,t._)`${D} && (${(0,o.checkMissingProp)(v,x,P)})`),(0,o.reportMissingProp)(v,P),y.else())}}e.validatePropertyDeps=u;function h(v,b=v.schema){const{gen:y,data:w,keyword:O,it:P}=v,C=y.name("valid");for(const x in b)(0,n.alwaysValidSchema)(P,b[x])||(y.if((0,o.propertyInData)(y,w,x,P.opts.ownProperties),()=>{const D=v.subschema({keyword:O,schemaProp:x},C);v.mergeValidEvaluated(D,C)},()=>y.var(C,!0)),v.ok(C))}e.validateSchemaDeps=h,e.default=c})(dependencies$1);var propertyNames$1={};Object.defineProperty(propertyNames$1,"__esModule",{value:!0});const codegen_1$A=codegen$1,util_1$z=util$2,error$o={message:"property name must be valid",params:({params:e})=>(0,codegen_1$A._)`{propertyName: ${e.propertyName}}`},def$E={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:error$o,code(e){const{gen:t,schema:n,data:o,it:c}=e;if((0,util_1$z.alwaysValidSchema)(c,n))return;const a=t.name("valid");t.forIn("key",o,u=>{e.setParams({propertyName:u}),e.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},a),t.if((0,codegen_1$A.not)(a),()=>{e.error(!0),c.allErrors||t.break()})}),e.ok(a)}};propertyNames$1.default=def$E;var additionalProperties$2={};Object.defineProperty(additionalProperties$2,"__esModule",{value:!0});const code_1$d=code$2,codegen_1$z=codegen$1,names_1$7=names$3,util_1$y=util$2,error$n={message:"must NOT have additional properties",params:({params:e})=>(0,codegen_1$z._)`{additionalProperty: ${e.additionalProperty}}`},def$D={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:error$n,code(e){const{gen:t,schema:n,parentSchema:o,data:c,errsCount:a,it:u}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:h,opts:v}=u;if(u.props=!0,v.removeAdditional!=="all"&&(0,util_1$y.alwaysValidSchema)(u,n))return;const b=(0,code_1$d.allSchemaProperties)(o.properties),y=(0,code_1$d.allSchemaProperties)(o.patternProperties);w(),e.ok((0,codegen_1$z._)`${a} === ${names_1$7.default.errors}`);function w(){t.forIn("key",c,D=>{!b.length&&!y.length?C(D):t.if(O(D),()=>C(D))})}function O(D){let k;if(b.length>8){const B=(0,util_1$y.schemaRefOrVal)(u,o.properties,"properties");k=(0,code_1$d.isOwnProperty)(t,B,D)}else b.length?k=(0,codegen_1$z.or)(...b.map(B=>(0,codegen_1$z._)`${D} === ${B}`)):k=codegen_1$z.nil;return y.length&&(k=(0,codegen_1$z.or)(k,...y.map(B=>(0,codegen_1$z._)`${(0,code_1$d.usePattern)(e,B)}.test(${D})`))),(0,codegen_1$z.not)(k)}function P(D){t.code((0,codegen_1$z._)`delete ${c}[${D}]`)}function C(D){if(v.removeAdditional==="all"||v.removeAdditional&&n===!1){P(D);return}if(n===!1){e.setParams({additionalProperty:D}),e.error(),h||t.break();return}if(typeof n=="object"&&!(0,util_1$y.alwaysValidSchema)(u,n)){const k=t.name("valid");v.removeAdditional==="failing"?(x(D,k,!1),t.if((0,codegen_1$z.not)(k),()=>{e.reset(),P(D)})):(x(D,k),h||t.if((0,codegen_1$z.not)(k),()=>t.break()))}}function x(D,k,B){const q={keyword:"additionalProperties",dataProp:D,dataPropType:util_1$y.Type.Str};B===!1&&Object.assign(q,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(q,k)}}};additionalProperties$2.default=def$D;var properties$4={};Object.defineProperty(properties$4,"__esModule",{value:!0});const validate_1$2=validate$1,code_1$c=code$2,util_1$x=util$2,additionalProperties_1$3=additionalProperties$2,def$C={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:o,data:c,it:a}=e;a.opts.removeAdditional==="all"&&o.additionalProperties===void 0&&additionalProperties_1$3.default.code(new validate_1$2.KeywordCxt(a,additionalProperties_1$3.default,"additionalProperties"));const u=(0,code_1$c.allSchemaProperties)(n);for(const w of u)a.definedProperties.add(w);a.opts.unevaluated&&u.length&&a.props!==!0&&(a.props=util_1$x.mergeEvaluated.props(t,(0,util_1$x.toHash)(u),a.props));const h=u.filter(w=>!(0,util_1$x.alwaysValidSchema)(a,n[w]));if(h.length===0)return;const v=t.name("valid");for(const w of h)b(w)?y(w):(t.if((0,code_1$c.propertyInData)(t,c,w,a.opts.ownProperties)),y(w),a.allErrors||t.else().var(v,!0),t.endIf()),e.it.definedProperties.add(w),e.ok(v);function b(w){return a.opts.useDefaults&&!a.compositeRule&&n[w].default!==void 0}function y(w){e.subschema({keyword:"properties",schemaProp:w,dataProp:w},v)}}};properties$4.default=def$C;var patternProperties$1={};Object.defineProperty(patternProperties$1,"__esModule",{value:!0});const code_1$b=code$2,codegen_1$y=codegen$1,util_1$w=util$2,util_2$2=util$2,def$B={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:o,parentSchema:c,it:a}=e,{opts:u}=a,h=(0,code_1$b.allSchemaProperties)(n),v=h.filter(x=>(0,util_1$w.alwaysValidSchema)(a,n[x]));if(h.length===0||v.length===h.length&&(!a.opts.unevaluated||a.props===!0))return;const b=u.strictSchema&&!u.allowMatchingProperties&&c.properties,y=t.name("valid");a.props!==!0&&!(a.props instanceof codegen_1$y.Name)&&(a.props=(0,util_2$2.evaluatedPropsToName)(t,a.props));const{props:w}=a;O();function O(){for(const x of h)b&&P(x),a.allErrors?C(x):(t.var(y,!0),C(x),t.if(y))}function P(x){for(const D in b)new RegExp(x).test(D)&&(0,util_1$w.checkStrictMode)(a,`property ${D} matches pattern ${x} (use allowMatchingProperties)`)}function C(x){t.forIn("key",o,D=>{t.if((0,codegen_1$y._)`${(0,code_1$b.usePattern)(e,x)}.test(${D})`,()=>{const k=v.includes(x);k||e.subschema({keyword:"patternProperties",schemaProp:x,dataProp:D,dataPropType:util_2$2.Type.Str},y),a.opts.unevaluated&&w!==!0?t.assign((0,codegen_1$y._)`${w}[${D}]`,!0):!k&&!a.allErrors&&t.if((0,codegen_1$y.not)(y),()=>t.break())})})}}};patternProperties$1.default=def$B;var not$1={};Object.defineProperty(not$1,"__esModule",{value:!0});const util_1$v=util$2,def$A={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:o}=e;if((0,util_1$v.alwaysValidSchema)(o,n)){e.fail();return}const c=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},c),e.failResult(c,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};not$1.default=def$A;var anyOf$1={};Object.defineProperty(anyOf$1,"__esModule",{value:!0});const code_1$a=code$2,def$z={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:code_1$a.validateUnion,error:{message:"must match a schema in anyOf"}};anyOf$1.default=def$z;var oneOf$1={};Object.defineProperty(oneOf$1,"__esModule",{value:!0});const codegen_1$x=codegen$1,util_1$u=util$2,error$m={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,codegen_1$x._)`{passingSchemas: ${e.passing}}`},def$y={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:error$m,code(e){const{gen:t,schema:n,parentSchema:o,it:c}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(c.opts.discriminator&&o.discriminator)return;const a=n,u=t.let("valid",!1),h=t.let("passing",null),v=t.name("_valid");e.setParams({passing:h}),t.block(b),e.result(u,()=>e.reset(),()=>e.error(!0));function b(){a.forEach((y,w)=>{let O;(0,util_1$u.alwaysValidSchema)(c,y)?t.var(v,!0):O=e.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},v),w>0&&t.if((0,codegen_1$x._)`${v} && ${u}`).assign(u,!1).assign(h,(0,codegen_1$x._)`[${h}, ${w}]`).else(),t.if(v,()=>{t.assign(u,!0),t.assign(h,w),O&&e.mergeEvaluated(O,codegen_1$x.Name)})})}}};oneOf$1.default=def$y;var allOf$1={};Object.defineProperty(allOf$1,"__esModule",{value:!0});const util_1$t=util$2,def$x={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const c=t.name("valid");n.forEach((a,u)=>{if((0,util_1$t.alwaysValidSchema)(o,a))return;const h=e.subschema({keyword:"allOf",schemaProp:u},c);e.ok(c),e.mergeEvaluated(h)})}};allOf$1.default=def$x;var _if$1={};Object.defineProperty(_if$1,"__esModule",{value:!0});const codegen_1$w=codegen$1,util_1$s=util$2,error$l={message:({params:e})=>(0,codegen_1$w.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,codegen_1$w._)`{failingKeyword: ${e.ifClause}}`},def$w={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:error$l,code(e){const{gen:t,parentSchema:n,it:o}=e;n.then===void 0&&n.else===void 0&&(0,util_1$s.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const c=hasSchema$1(o,"then"),a=hasSchema$1(o,"else");if(!c&&!a)return;const u=t.let("valid",!0),h=t.name("_valid");if(v(),e.reset(),c&&a){const y=t.let("ifClause");e.setParams({ifClause:y}),t.if(h,b("then",y),b("else",y))}else c?t.if(h,b("then")):t.if((0,codegen_1$w.not)(h),b("else"));e.pass(u,()=>e.error(!0));function v(){const y=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);e.mergeEvaluated(y)}function b(y,w){return()=>{const O=e.subschema({keyword:y},h);t.assign(u,h),e.mergeValidEvaluated(O,u),w?t.assign(w,(0,codegen_1$w._)`${y}`):e.setParams({ifClause:y})}}}};function hasSchema$1(e,t){const n=e.schema[t];return n!==void 0&&!(0,util_1$s.alwaysValidSchema)(e,n)}_if$1.default=def$w;var thenElse$1={};Object.defineProperty(thenElse$1,"__esModule",{value:!0});const util_1$r=util$2,def$v={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,util_1$r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};thenElse$1.default=def$v,Object.defineProperty(applicator$1,"__esModule",{value:!0});const additionalItems_1$2=additionalItems$1,prefixItems_1$1=prefixItems$1,items_1$2=items$1,items2020_1$1=items2020$1,contains_1$1=contains$1,dependencies_1$1=dependencies$1,propertyNames_1$1=propertyNames$1,additionalProperties_1$2=additionalProperties$2,properties_1$1=properties$4,patternProperties_1$1=patternProperties$1,not_1$1=not$1,anyOf_1$1=anyOf$1,oneOf_1$1=oneOf$1,allOf_1$1=allOf$1,if_1$1=_if$1,thenElse_1$1=thenElse$1;function getApplicator$1(e=!1){const t=[not_1$1.default,anyOf_1$1.default,oneOf_1$1.default,allOf_1$1.default,if_1$1.default,thenElse_1$1.default,propertyNames_1$1.default,additionalProperties_1$2.default,dependencies_1$1.default,properties_1$1.default,patternProperties_1$1.default];return e?t.push(prefixItems_1$1.default,items2020_1$1.default):t.push(additionalItems_1$2.default,items_1$2.default),t.push(contains_1$1.default),t}applicator$1.default=getApplicator$1;var format$a={},format$9={};Object.defineProperty(format$9,"__esModule",{value:!0});const codegen_1$v=codegen$1,error$k={message:({schemaCode:e})=>(0,codegen_1$v.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,codegen_1$v._)`{format: ${e}}`},def$u={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:error$k,code(e,t){const{gen:n,data:o,$data:c,schema:a,schemaCode:u,it:h}=e,{opts:v,errSchemaPath:b,schemaEnv:y,self:w}=h;if(!v.validateFormats)return;c?O():P();function O(){const C=n.scopeValue("formats",{ref:w.formats,code:v.code.formats}),x=n.const("fDef",(0,codegen_1$v._)`${C}[${u}]`),D=n.let("fType"),k=n.let("format");n.if((0,codegen_1$v._)`typeof ${x} == "object" && !(${x} instanceof RegExp)`,()=>n.assign(D,(0,codegen_1$v._)`${x}.type || "string"`).assign(k,(0,codegen_1$v._)`${x}.validate`),()=>n.assign(D,(0,codegen_1$v._)`"string"`).assign(k,x)),e.fail$data((0,codegen_1$v.or)(B(),q()));function B(){return v.strictSchema===!1?codegen_1$v.nil:(0,codegen_1$v._)`${u} && !${k}`}function q(){const V=y.$async?(0,codegen_1$v._)`(${x}.async ? await ${k}(${o}) : ${k}(${o}))`:(0,codegen_1$v._)`${k}(${o})`,ee=(0,codegen_1$v._)`(typeof ${k} == "function" ? ${V} : ${k}.test(${o}))`;return(0,codegen_1$v._)`${k} && ${k} !== true && ${D} === ${t} && !${ee}`}}function P(){const C=w.formats[a];if(!C){B();return}if(C===!0)return;const[x,D,k]=q(C);x===t&&e.pass(V());function B(){if(v.strictSchema===!1){w.logger.warn(ee());return}throw new Error(ee());function ee(){return`unknown format "${a}" ignored in schema at path "${b}"`}}function q(ee){const te=ee instanceof RegExp?(0,codegen_1$v.regexpCode)(ee):v.code.formats?(0,codegen_1$v._)`${v.code.formats}${(0,codegen_1$v.getProperty)(a)}`:void 0,ce=n.scopeValue("formats",{key:a,ref:ee,code:te});return typeof ee=="object"&&!(ee instanceof RegExp)?[ee.type||"string",ee.validate,(0,codegen_1$v._)`${ce}.validate`]:["string",ee,ce]}function V(){if(typeof C=="object"&&!(C instanceof RegExp)&&C.async){if(!y.$async)throw new Error("async format in sync schema");return(0,codegen_1$v._)`await ${k}(${o})`}return typeof D=="function"?(0,codegen_1$v._)`${k}(${o})`:(0,codegen_1$v._)`${k}.test(${o})`}}}};format$9.default=def$u,Object.defineProperty(format$a,"__esModule",{value:!0});const format_1$5=format$9,format$8=[format_1$5.default];format$a.default=format$8;var metadata$1={};Object.defineProperty(metadata$1,"__esModule",{value:!0}),metadata$1.contentVocabulary=metadata$1.metadataVocabulary=void 0,metadata$1.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],metadata$1.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(draft7$1,"__esModule",{value:!0});const core_1$1=core$4,validation_1$1=validation$3,applicator_1$1=applicator$1,format_1$4=format$a,metadata_1$1=metadata$1,draft7Vocabularies$1=[core_1$1.default,validation_1$1.default,(0,applicator_1$1.default)(),format_1$4.default,metadata_1$1.metadataVocabulary,metadata_1$1.contentVocabulary];draft7$1.default=draft7Vocabularies$1;var discriminator$1={},types$a={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(types$a),Object.defineProperty(discriminator$1,"__esModule",{value:!0});const codegen_1$u=codegen$1,types_1$s=types$a,compile_1$2=compile$2,util_1$q=util$2,error$j={message:({params:{discrError:e,tagName:t}})=>e===types_1$s.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,codegen_1$u._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},def$t={keyword:"discriminator",type:"object",schemaType:"object",error:error$j,code(e){const{gen:t,data:n,schema:o,parentSchema:c,it:a}=e,{oneOf:u}=c;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=o.propertyName;if(typeof h!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const v=t.let("valid",!1),b=t.const("tag",(0,codegen_1$u._)`${n}${(0,codegen_1$u.getProperty)(h)}`);t.if((0,codegen_1$u._)`typeof ${b} == "string"`,()=>y(),()=>e.error(!1,{discrError:types_1$s.DiscrError.Tag,tag:b,tagName:h})),e.ok(v);function y(){const P=O();t.if(!1);for(const C in P)t.elseIf((0,codegen_1$u._)`${b} === ${C}`),t.assign(v,w(P[C]));t.else(),e.error(!1,{discrError:types_1$s.DiscrError.Mapping,tag:b,tagName:h}),t.endIf()}function w(P){const C=t.name("valid"),x=e.subschema({keyword:"oneOf",schemaProp:P},C);return e.mergeEvaluated(x,codegen_1$u.Name),C}function O(){var P;const C={},x=k(c);let D=!0;for(let V=0;V<u.length;V++){let ee=u[V];ee!=null&&ee.$ref&&!(0,util_1$q.schemaHasRulesButRef)(ee,a.self.RULES)&&(ee=compile_1$2.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,ee==null?void 0:ee.$ref),ee instanceof compile_1$2.SchemaEnv&&(ee=ee.schema));const te=(P=ee==null?void 0:ee.properties)===null||P===void 0?void 0:P[h];if(typeof te!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);D=D&&(x||k(ee)),B(te,V)}if(!D)throw new Error(`discriminator: "${h}" must be required`);return C;function k({required:V}){return Array.isArray(V)&&V.includes(h)}function B(V,ee){if(V.const)q(V.const,ee);else if(V.enum)for(const te of V.enum)q(te,ee);else throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`)}function q(V,ee){if(typeof V!="string"||V in C)throw new Error(`discriminator: "${h}" values must be unique strings`);C[V]=ee}}}};discriminator$1.default=def$t;const $schema$1="http://json-schema.org/draft-07/schema#",$id$2="http://json-schema.org/draft-07/schema#",title$1="Core schema meta-schema",definitions$1={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type$2=["object","boolean"],properties$3={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},require$$3$3={$schema:$schema$1,$id:$id$2,title:title$1,definitions:definitions$1,type:type$2,properties:properties$3,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=core$5,o=draft7$1,c=discriminator$1,a=require$$3$3,u=["/properties"],h="http://json-schema.org/draft-07/schema";class v extends n.default{_addVocabularies(){super._addVocabularies(),o.default.forEach(C=>this.addVocabulary(C)),this.opts.discriminator&&this.addKeyword(c.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const C=this.opts.$data?this.$dataMetaSchema(a,u):a;this.addMetaSchema(C,h,!1),this.refs["http://json-schema.org/schema"]=h}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(h)?h:void 0)}}e.exports=t=v,Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var b=validate$1;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return b.KeywordCxt}});var y=codegen$1;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var w=validation_error$1;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return w.default}});var O=ref_error$1;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return O.default}})})(ajv$1,ajv$1.exports);var ajvExports$1=ajv$1.exports,errors$a={};Object.defineProperty(errors$a,"__esModule",{value:!0}),errors$a.ConflictingOptions=errors$a.ArgumentSchemaError=errors$a.UnknownArgumentError=errors$a.UnsupportedSerializationError=void 0;let UnsupportedSerializationError$2=class extends Error{constructor(e,t){super(`Contract method '${e}' is using an unsupported serialization type ${t}`)}};errors$a.UnsupportedSerializationError=UnsupportedSerializationError$2;let UnknownArgumentError$2=class extends Error{constructor(e,t){super(`Unrecognized argument '${e}', expected '${JSON.stringify(t)}'`)}};errors$a.UnknownArgumentError=UnknownArgumentError$2;let ArgumentSchemaError$2=class extends Error{constructor(e,t){super(`Argument '${e}' does not conform to the specified ABI schema: '${JSON.stringify(t)}'`)}};errors$a.ArgumentSchemaError=ArgumentSchemaError$2;let ConflictingOptions$2=class extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}};errors$a.ConflictingOptions=ConflictingOptions$2;var __awaiter$R=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$m=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(contract$5,"__esModule",{value:!0}),contract$5.Contract=void 0;const utils_1$v=lib$r,types_1$r=lib$F,local_view_execution_1$2=localViewExecution$2,ajv_1$1=__importDefault$m(ajvExports$1),ajv_formats_1$1=__importDefault$m(distExports),bn_js_1$e=__importDefault$m(bnExports$6),depd_1$4=__importDefault$m(browser$a),near_abi_1$2=lib$y,errors_1$7=errors$a;function nameFunction$2(e,t){return{[e](...n){return t(...n)}}[e]}function validateArguments$2(e,t,n,o){var c;if(!isObject$g(e))return;if(t.params&&t.params.serialization_type!==near_abi_1$2.AbiSerializationType.Json)throw new errors_1$7.UnsupportedSerializationError(t.name,t.params.serialization_type);if(t.result&&t.result.serialization_type!==near_abi_1$2.AbiSerializationType.Json)throw new errors_1$7.UnsupportedSerializationError(t.name,t.result.serialization_type);const a=((c=t.params)===null||c===void 0?void 0:c.args)||[];for(const u of a){const h=e[u.name],v=u.type_schema;v.definitions=o.body.root_schema.definitions;const b=n.compile(v);if(!b(h))throw new errors_1$7.ArgumentSchemaError(u.name,b.errors)}for(const u of Object.keys(e))if(!a.find(h=>h.name===u))throw new errors_1$7.UnknownArgumentError(u,a.map(h=>h.name))}function createAjv$1(){const e=new ajv_1$1.default({strictSchema:!1,formats:{uint32:!0,uint64:!0}});return(0,ajv_formats_1$1.default)(e),e}const isUint8Array$2=e=>e&&e.byteLength!==void 0&&e.byteLength===e.length,isObject$g=e=>Object.prototype.toString.call(e)==="[object Object]";let Contract$2=class{constructor(e,t,n){this.account=e,this.contractId=t,this.lve=new local_view_execution_1$2.LocalViewExecution(e);const{viewMethods:o=[],changeMethods:c=[],abi:a,useLocalViewExecution:u}=n;let h=o.map(y=>({name:y,abi:null})),v=c.map(y=>({name:y,abi:null}));if(a){if(h.length>0||v.length>0)throw new errors_1$7.ConflictingOptions;h=a.body.functions.filter(y=>y.kind===near_abi_1$2.AbiFunctionKind.View).map(y=>({name:y.name,abi:y})),v=a.body.functions.filter(y=>y.kind===near_abi_1$2.AbiFunctionKind.Call).map(y=>({name:y.name,abi:y}))}const b=createAjv$1();h.forEach(({name:y,abi:w})=>{Object.defineProperty(this,y,{writable:!1,enumerable:!0,value:nameFunction$2(y,(O={},P={},...C)=>__awaiter$R(this,void 0,void 0,function*(){if(C.length||!(isObject$g(O)||isUint8Array$2(O))||!isObject$g(P))throw new types_1$r.PositionalArgsError;if(w&&validateArguments$2(O,w,b,a),u)try{return yield this.lve.viewFunction(Object.assign({contractId:this.contractId,methodName:y,args:O},P))}catch(x){utils_1$v.Logger.warn(`Local view execution failed with: "${x.message}"`),utils_1$v.Logger.warn("Fallback to normal RPC call")}return this.account.viewFunction(Object.assign({contractId:this.contractId,methodName:y,args:O},P))}))})}),v.forEach(({name:y,abi:w})=>{Object.defineProperty(this,y,{writable:!1,enumerable:!0,value:nameFunction$2(y,(...O)=>__awaiter$R(this,void 0,void 0,function*(){if(O.length&&(O.length>3||!(isObject$g(O[0])||isUint8Array$2(O[0]))))throw new types_1$r.PositionalArgsError;return(O.length>1||!(O[0]&&O[0].args))&&((0,depd_1$4.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),O[0]={args:O[0],gas:O[1],amount:O[2]}),w&&validateArguments$2(O[0].args,w,b,a),this._changeMethod(Object.assign({methodName:y},O[0]))}))})})}_changeMethod({args:e,methodName:t,gas:n,amount:o,meta:c,callbackUrl:a}){return __awaiter$R(this,void 0,void 0,function*(){validateBNLike$2({gas:n,amount:o});const u=yield this.account.functionCall({contractId:this.contractId,methodName:t,args:e,gas:n,attachedDeposit:o,walletMeta:c,walletCallbackUrl:a});return(0,utils_1$v.getTransactionLastResult)(u)})}};contract$5.Contract=Contract$2;function validateBNLike$2(e){const t="number, decimal string or BN";for(const n of Object.keys(e)){const o=e[n];if(o&&!bn_js_1$e.default.isBN(o)&&isNaN(o))throw new types_1$r.ArgumentTypeError(n,t,o)}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=e.Contract=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.Connection=e.AccountMultisig=e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=e.Account2FA=e.Account=void 0;var t=account$5;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}});var n=account_2fa$2;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return n.Account2FA}});var o=account_creator$5;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return o.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return o.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return o.UrlAccountCreator}});var c=account_multisig$5;Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return c.AccountMultisig}});var a=connection$5;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return a.Connection}});var u=constants$6;Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return u.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return u.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return u.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return u.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return u.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return u.MULTISIG_CONFIRM_METHODS}});var h=contract$5;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return h.Contract}});var v=errors$a;Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return v.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return v.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return v.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return v.UnsupportedSerializationError}});var b=types$b;Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return b.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return b.MultisigStateStatus}})})(lib$n),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.TypedError=e.PositionalArgsError=e.ErrorContext=e.ArgumentTypeError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=void 0;var t=lib$n;Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return t.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return t.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return t.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return t.UnsupportedSerializationError}});var n=lib$F;Object.defineProperty(e,"ArgumentTypeError",{enumerable:!0,get:function(){return n.ArgumentTypeError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return n.ErrorContext}}),Object.defineProperty(e,"PositionalArgsError",{enumerable:!0,get:function(){return n.PositionalArgsError}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return n.TypedError}});var o=lib$r;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return o.logWarning}})}(errors$c);var logger$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var t=lib$r;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return t.Logger}})})(logger$6),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(P,C,x,D){D===void 0&&(D=x);var k=Object.getOwnPropertyDescriptor(C,x);(!k||("get"in k?!C.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return C[x]}}),Object.defineProperty(P,D,k)}:function(P,C,x,D){D===void 0&&(D=x),P[D]=C[x]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(P,C){Object.defineProperty(P,"default",{enumerable:!0,value:C})}:function(P,C){P.default=C}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(P){if(P&&P.__esModule)return P;var C={};if(P!=null)for(var x in P)x!=="default"&&Object.prototype.hasOwnProperty.call(P,x)&&t(C,P,x);return n(C,P),C};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.logWarning=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.web=e.serialize=e.key_pair=void 0;const c=o(key_pair$4);e.key_pair=c;const a=o(serialize$e);e.serialize=a;const u=o(web$2);e.web=u;const h=o(enums$2);e.enums=h;const v=o(format$b);e.format=v;const b=o(rpc_errors$4);e.rpc_errors=b;const y=key_pair$4;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return y.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return y.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return y.KeyPairEd25519}});const w=errors$c;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return w.logWarning}});const O=logger$6;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return O.Logger}})}(utils$u);var transaction$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.transfer=e.stake=e.functionCallAccessKey=e.functionCall=e.fullAccessKey=e.deployContract=e.deleteKey=e.deleteAccount=e.createAccount=e.addKey=e.encodeDelegateAction=e.encodeSignedDelegate=e.Transaction=e.SignedTransaction=e.Signature=e.signTransaction=e.createTransaction=e.SCHEMA=e.Transfer=e.Stake=e.FunctionCallPermission=e.FunctionCall=e.FullAccessPermission=e.DeployContract=e.DeleteKey=e.DeleteAccount=e.CreateAccount=e.AddKey=e.AccessKeyPermission=e.AccessKey=e.Action=e.stringifyJsonOrBytes=void 0;var t=lib$o;Object.defineProperty(e,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return t.stringifyJsonOrBytes}}),Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(e,"AccessKey",{enumerable:!0,get:function(){return t.AccessKey}}),Object.defineProperty(e,"AccessKeyPermission",{enumerable:!0,get:function(){return t.AccessKeyPermission}}),Object.defineProperty(e,"AddKey",{enumerable:!0,get:function(){return t.AddKey}}),Object.defineProperty(e,"CreateAccount",{enumerable:!0,get:function(){return t.CreateAccount}}),Object.defineProperty(e,"DeleteAccount",{enumerable:!0,get:function(){return t.DeleteAccount}}),Object.defineProperty(e,"DeleteKey",{enumerable:!0,get:function(){return t.DeleteKey}}),Object.defineProperty(e,"DeployContract",{enumerable:!0,get:function(){return t.DeployContract}}),Object.defineProperty(e,"FullAccessPermission",{enumerable:!0,get:function(){return t.FullAccessPermission}}),Object.defineProperty(e,"FunctionCall",{enumerable:!0,get:function(){return t.FunctionCall}}),Object.defineProperty(e,"FunctionCallPermission",{enumerable:!0,get:function(){return t.FunctionCallPermission}}),Object.defineProperty(e,"Stake",{enumerable:!0,get:function(){return t.Stake}}),Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return t.Transfer}}),Object.defineProperty(e,"SCHEMA",{enumerable:!0,get:function(){return t.SCHEMA}}),Object.defineProperty(e,"createTransaction",{enumerable:!0,get:function(){return t.createTransaction}}),Object.defineProperty(e,"signTransaction",{enumerable:!0,get:function(){return t.signTransaction}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return t.Signature}}),Object.defineProperty(e,"SignedTransaction",{enumerable:!0,get:function(){return t.SignedTransaction}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return t.Transaction}}),Object.defineProperty(e,"encodeSignedDelegate",{enumerable:!0,get:function(){return t.encodeSignedDelegate}}),Object.defineProperty(e,"encodeDelegateAction",{enumerable:!0,get:function(){return t.encodeDelegateAction}});const n=lib$o,o=(P,C)=>n.actionCreators.addKey(P,C);e.addKey=o;const c=()=>n.actionCreators.createAccount();e.createAccount=c;const a=P=>n.actionCreators.deleteAccount(P);e.deleteAccount=a;const u=P=>n.actionCreators.deleteKey(P);e.deleteKey=u;const h=P=>n.actionCreators.deployContract(P);e.deployContract=h;const v=()=>n.actionCreators.fullAccessKey();e.fullAccessKey=v;const b=(P,C,x,D,k,B)=>n.actionCreators.functionCall(P,C,x,D,k,B);e.functionCall=b;const y=(P,C,x)=>n.actionCreators.functionCallAccessKey(P,C,x);e.functionCallAccessKey=y;const w=(P,C)=>n.actionCreators.stake(P,C);e.stake=w;const O=P=>n.actionCreators.transfer(P);e.transfer=O})(transaction$2);var validators$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findSeatPrice=e.diffEpochValidators=void 0;var t=lib$r;Object.defineProperty(e,"diffEpochValidators",{enumerable:!0,get:function(){return t.diffEpochValidators}}),Object.defineProperty(e,"findSeatPrice",{enumerable:!0,get:function(){return t.findSeatPrice}})})(validators$4);var account$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;var t=lib$n;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}})})(account$4);var account_multisig$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.AccountMultisig=e.Account2FA=void 0;var t=lib$n;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return t.Account2FA}}),Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return t.AccountMultisig}}),Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return t.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return t.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return t.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return t.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return t.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return t.MultisigStateStatus}})})(account_multisig$4);var account_creator$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=void 0;var t=lib$n;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return t.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return t.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return t.UrlAccountCreator}})})(account_creator$4);var connection$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;var t=lib$n;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return t.Connection}})})(connection$4);var signer$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=lib$m;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}}),Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return t.Signer}})})(signer$4);var contract$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Contract=void 0;var t=lib$n;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return t.Contract}})})(contract$4);var near$5={},lib$l={},near$4={},__awaiter$Q=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$l=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(near$4,"__esModule",{value:!0}),near$4.Near=void 0;const accounts_1$5=lib$n,bn_js_1$d=__importDefault$l(bnExports$6);let Near$2=class{constructor(e){var t;if(this.config=e,this.connection=accounts_1$5.Connection.fromConfig({networkId:e.networkId,provider:{type:"JsonRpcProvider",args:{url:e.nodeUrl,headers:e.headers}},signer:e.signer||{type:"InMemorySigner",keyStore:e.keyStore||((t=e.deps)===null||t===void 0?void 0:t.keyStore)},jsvmAccountId:e.jsvmAccountId||`jsvm.${e.networkId}`}),e.masterAccount){const n=e.initialBalance?new bn_js_1$d.default(e.initialBalance):new bn_js_1$d.default("500000000000000000000000000");this.accountCreator=new accounts_1$5.LocalAccountCreator(new accounts_1$5.Account(this.connection,e.masterAccount),n)}else e.helperUrl?this.accountCreator=new accounts_1$5.UrlAccountCreator(this.connection,e.helperUrl):this.accountCreator=null}account(e){return __awaiter$Q(this,void 0,void 0,function*(){return new accounts_1$5.Account(this.connection,e)})}createAccount(e,t){return __awaiter$Q(this,void 0,void 0,function*(){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(e,t),new accounts_1$5.Account(this.connection,e)})}};near$4.Near=Near$2;var wallet_account$2={},cjs$4={},serialize$b={},types$9={};types$9.__esModule=!0,types$9.integers=void 0,types$9.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer$4={};buffer$4.__esModule=!0,buffer$4.DecodeBuffer=buffer$4.EncodeBuffer=void 0;var EncodeBuffer$4=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(t){if(this.buffer_size-this.offset<t){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+t);var n=new ArrayBuffer(this.buffer_size);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n,this.view=new DataView(n)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(t,n){var o=n.substring(1),c=parseInt(o)/8;this.resize_if_necessary(c);var a=n[0]==="f"?"setFloat".concat(o):n[0]==="i"?"setInt".concat(o):"setUint".concat(o);this.view[a](this.offset,t,!0),this.offset+=c},e.prototype.store_bytes=function(t){this.resize_if_necessary(t.length),new Uint8Array(this.buffer).set(new Uint8Array(t),this.offset),this.offset+=t.length},e}();buffer$4.EncodeBuffer=EncodeBuffer$4;var DecodeBuffer$4=function(){function e(t){this.offset=0,this.buffer_size=t.length,this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(t){var n=t.substring(1),o=parseInt(n)/8;this.assert_enough_buffer(o);var c=t[0]==="f"?"getFloat".concat(n):t[0]==="i"?"getInt".concat(n):"getUint".concat(n),a=this.view[c](this.offset,!0);return this.offset+=o,a},e.prototype.consume_bytes=function(t){this.assert_enough_buffer(t);var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n},e}();buffer$4.DecodeBuffer=DecodeBuffer$4;var utils$q={},__extends$4=commonjsGlobal$7&&commonjsGlobal$7.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(o[a]=c[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();utils$q.__esModule=!0,utils$q.validate_schema=utils$q.ErrorSchema=utils$q.expect_enum=utils$q.expect_same_size=utils$q.expect_bigint=utils$q.expect_type=utils$q.isArrayLike=void 0;var types_js_1$e=types$9;function isArrayLike$4(e){return Array.isArray(e)||!!e&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&e.length-1 in e)}utils$q.isArrayLike=isArrayLike$4;function expect_type$4(e,t,n){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(n.join(".")))}utils$q.expect_type=expect_type$4;function expect_bigint$4(e,t){var n=["number","string","bigint","boolean"].includes(typeof e),o=typeof e=="object"&&e!==null&&"toString"in e;if(!n&&!o)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$q.expect_bigint=expect_bigint$4;function expect_same_size$4(e,t,n){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(n.join(".")))}utils$q.expect_same_size=expect_same_size$4;function expect_enum$4(e,t){if(typeof e!="object"||e===null)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$q.expect_enum=expect_enum$4;var VALID_STRING_TYPES$4=types_js_1$e.integers.concat(["bool","string"]),VALID_OBJECT_KEYS$4=["option","enum","array","set","map","struct"],ErrorSchema$4=function(e){__extends$4(t,e);function t(n,o){var c="Invalid schema: ".concat(JSON.stringify(n)," expected ").concat(o);return e.call(this,c)||this}return t}(Error);utils$q.ErrorSchema=ErrorSchema$4;function validate_schema$4(e){if(!(typeof e=="string"&&VALID_STRING_TYPES$4.includes(e))){if(e&&typeof e=="object"){var t=Object.keys(e);if(t.length===1&&VALID_OBJECT_KEYS$4.includes(t[0])){var n=t[0];if(n==="option")return validate_schema$4(e[n]);if(n==="enum")return validate_enum_schema$4(e[n]);if(n==="array")return validate_array_schema$4(e[n]);if(n==="set")return validate_schema$4(e[n]);if(n==="map")return validate_map_schema$4(e[n]);if(n==="struct")return validate_struct_schema$4(e[n])}}throw new ErrorSchema$4(e,VALID_OBJECT_KEYS$4.join(", ")+" or "+VALID_STRING_TYPES$4.join(", "))}}utils$q.validate_schema=validate_schema$4;function validate_enum_schema$4(e){if(!Array.isArray(e))throw new ErrorSchema$4(e,"Array");for(var t=0,n=e;t<n.length;t++){var o=n[t];if(typeof o!="object"||!("struct"in o))throw new Error('Missing "struct" key in enum schema');if(typeof o.struct!="object"||Object.keys(o.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema$4({struct:o.struct})}}function validate_array_schema$4(e){if(typeof e!="object")throw new ErrorSchema$4(e,"{ type, len? }");if(e.len&&typeof e.len!="number")throw new Error("Invalid schema: ".concat(e));if("type"in e)return validate_schema$4(e.type);throw new ErrorSchema$4(e,"{ type, len? }")}function validate_map_schema$4(e){if(typeof e=="object"&&"key"in e&&"value"in e)validate_schema$4(e.key),validate_schema$4(e.value);else throw new ErrorSchema$4(e,"{ key, value }")}function validate_struct_schema$4(e){if(typeof e!="object")throw new ErrorSchema$4(e,"object");for(var t in e)validate_schema$4(e[t])}var __createBinding$c=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$c=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$c=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$c(t,e,n);return __setModuleDefault$c(t,e),t};serialize$b.__esModule=!0,serialize$b.BorshSerializer=void 0;var types_js_1$d=types$9,buffer_js_1$9=buffer$4,utils$p=__importStar$c(utils$q),BorshSerializer$4=function(){function e(t){this.encoded=new buffer_js_1$9.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=t}return e.prototype.encode=function(t,n){return this.encode_value(t,n),this.encoded.get_used_buffer()},e.prototype.encode_value=function(t,n){if(typeof n=="string"){if(types_js_1$d.integers.includes(n))return this.encode_integer(t,n);if(n==="string")return this.encode_string(t);if(n==="bool")return this.encode_boolean(t)}if(typeof n=="object"){if("option"in n)return this.encode_option(t,n);if("enum"in n)return this.encode_enum(t,n);if("array"in n)return this.encode_array(t,n);if("set"in n)return this.encode_set(t,n);if("map"in n)return this.encode_map(t,n);if("struct"in n)return this.encode_struct(t,n)}},e.prototype.encode_integer=function(t,n){var o=parseInt(n.substring(1));o<=32||n=="f64"?(this.checkTypes&&utils$p.expect_type(t,"number",this.fieldPath),this.encoded.store_value(t,n)):(this.checkTypes&&utils$p.expect_bigint(t,this.fieldPath),this.encode_bigint(BigInt(t),o))},e.prototype.encode_bigint=function(t,n){for(var o=n/8,c=new Uint8Array(o),a=0;a<o;a++)c[a]=Number(t&BigInt(255)),t=t>>BigInt(8);this.encoded.store_bytes(new Uint8Array(c))},e.prototype.encode_string=function(t){this.checkTypes&&utils$p.expect_type(t,"string",this.fieldPath);var n=t;this.encoded.store_value(n.length,"u32");for(var o=0;o<n.length;o++)this.encoded.store_value(n.charCodeAt(o),"u8")},e.prototype.encode_boolean=function(t){this.checkTypes&&utils$p.expect_type(t,"boolean",this.fieldPath),this.encoded.store_value(t?1:0,"u8")},e.prototype.encode_option=function(t,n){t==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(t,n.option))},e.prototype.encode_enum=function(t,n){this.checkTypes&&utils$p.expect_enum(t,this.fieldPath);for(var o=Object.keys(t)[0],c=0;c<n.enum.length;c++){var a=n.enum[c];if(o===Object.keys(a.struct)[0])return this.encoded.store_value(c,"u8"),this.encode_struct(t,a)}throw new Error("Enum key (".concat(o,") not found in enum schema: ").concat(JSON.stringify(n)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(t,n){if(utils$p.isArrayLike(t))return this.encode_arraylike(t,n);if(t instanceof ArrayBuffer)return this.encode_buffer(t,n);throw new Error("Expected Array-like not ".concat(typeof t,"(").concat(t,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(t,n){n.array.len?utils$p.expect_same_size(t.length,n.array.len,this.fieldPath):this.encoded.store_value(t.length,"u32");for(var o=0;o<t.length;o++)this.encode_value(t[o],n.array.type)},e.prototype.encode_buffer=function(t,n){n.array.len?utils$p.expect_same_size(t.byteLength,n.array.len,this.fieldPath):this.encoded.store_value(t.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(t))},e.prototype.encode_set=function(t,n){this.checkTypes&&utils$p.expect_type(t,"object",this.fieldPath);var o=t instanceof Set,c=o?Array.from(t.values()):Object.values(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.set)}},e.prototype.encode_map=function(t,n){this.checkTypes&&utils$p.expect_type(t,"object",this.fieldPath);var o=t instanceof Map,c=o?Array.from(t.keys()):Object.keys(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.map.key),this.encode_value(o?t.get(h):t[h],n.map.value)}},e.prototype.encode_struct=function(t,n){this.checkTypes&&utils$p.expect_type(t,"object",this.fieldPath);for(var o=0,c=Object.keys(n.struct);o<c.length;o++){var a=c[o];this.fieldPath.push(a),this.encode_value(t[a],n.struct[a]),this.fieldPath.pop()}},e}();serialize$b.BorshSerializer=BorshSerializer$4;var deserialize$9={};deserialize$9.__esModule=!0,deserialize$9.BorshDeserializer=void 0;var types_js_1$c=types$9,buffer_js_1$8=buffer$4,BorshDeserializer$4=function(){function e(t){this.buffer=new buffer_js_1$8.DecodeBuffer(t)}return e.prototype.decode=function(t){return this.decode_value(t)},e.prototype.decode_value=function(t){if(typeof t=="string"){if(types_js_1$c.integers.includes(t))return this.decode_integer(t);if(t==="string")return this.decode_string();if(t==="bool")return this.decode_boolean()}if(typeof t=="object"){if("option"in t)return this.decode_option(t);if("enum"in t)return this.decode_enum(t);if("array"in t)return this.decode_array(t);if("set"in t)return this.decode_set(t);if("map"in t)return this.decode_map(t);if("struct"in t)return this.decode_struct(t)}throw new Error("Unsupported type: ".concat(t))},e.prototype.decode_integer=function(t){var n=parseInt(t.substring(1));return n<=32||t=="f64"?this.buffer.consume_value(t):this.decode_bigint(n,t.startsWith("i"))},e.prototype.decode_bigint=function(t,n){n===void 0&&(n=!1);var o=t/8,c=new Uint8Array(this.buffer.consume_bytes(o)),a=c.reduceRight(function(u,h){return u+h.toString(16).padStart(2,"0")},"");return n&&c[o-1]?BigInt.asIntN(t,BigInt("0x".concat(a))):BigInt("0x".concat(a))},e.prototype.decode_string=function(){var t=this.decode_integer("u32"),n=new Uint8Array(this.buffer.consume_bytes(t));return String.fromCharCode.apply(null,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(t){var n=this.buffer.consume_value("u8");if(n===1)return this.decode_value(t.option);if(n!==0)throw new Error("Invalid option ".concat(n));return null},e.prototype.decode_enum=function(t){var n,o=this.buffer.consume_value("u8");if(o>t.enum.length)throw new Error("Enum option ".concat(o," is not available"));var c=t.enum[o].struct,a=Object.keys(c)[0];return n={},n[a]=this.decode_value(c[a]),n},e.prototype.decode_array=function(t){for(var n=[],o=t.array.len?t.array.len:this.decode_integer("u32"),c=0;c<o;++c)n.push(this.decode_value(t.array.type));return n},e.prototype.decode_set=function(t){for(var n=this.decode_integer("u32"),o=new Set,c=0;c<n;++c)o.add(this.decode_value(t.set));return o},e.prototype.decode_map=function(t){for(var n=this.decode_integer("u32"),o=new Map,c=0;c<n;++c){var a=this.decode_value(t.map.key),u=this.decode_value(t.map.value);o.set(a,u)}return o},e.prototype.decode_struct=function(t){var n={};for(var o in t.struct)n[o]=this.decode_value(t.struct[o]);return n},e}();deserialize$9.BorshDeserializer=BorshDeserializer$4;var __createBinding$b=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$b=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$b=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$b(t,e,n);return __setModuleDefault$b(t,e),t};cjs$4.__esModule=!0,cjs$4.deserialize=cjs$4.serialize=void 0;var serialize_js_1$4=serialize$b,deserialize_js_1$4=deserialize$9,utils$o=__importStar$b(utils$q);function serialize$a(e,t,n){n===void 0&&(n=!0),n&&utils$o.validate_schema(e);var o=new serialize_js_1$4.BorshSerializer(n);return o.encode(t,e)}cjs$4.serialize=serialize$a;function deserialize$8(e,t,n){n===void 0&&(n=!0),n&&utils$o.validate_schema(e);var o=new deserialize_js_1$4.BorshDeserializer(t);return o.decode(e)}cjs$4.deserialize=deserialize$8;var __awaiter$P=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$k=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wallet_account$2,"__esModule",{value:!0}),wallet_account$2.ConnectedWalletAccount=wallet_account$2.WalletConnection=void 0;const accounts_1$4=lib$n,crypto_1$h=lib$s,utils_1$u=lib$r,transactions_1$c=lib$o,bn_js_1$c=__importDefault$k(bnExports$6),borsh_1$3=cjs$4,LOGIN_WALLET_URL_SUFFIX$2="/login/",MULTISIG_HAS_METHOD$3="add_request_and_confirm",LOCAL_STORAGE_KEY_SUFFIX$3="_wallet_auth_key",PENDING_ACCESS_KEY_PREFIX$2="pending_key";let WalletConnection$2=class{constructor(e,t){if(typeof t!="string")throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if(typeof window>"u")return new Proxy(this,{get(c,a){return a==="isSignedIn"?()=>!1:a==="getAccountId"?()=>"":c[a]&&typeof c[a]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:c[a]}});this._near=e;const n=t+LOCAL_STORAGE_KEY_SUFFIX$3,o=JSON.parse(window.localStorage.getItem(n));this._networkId=e.config.networkId,this._walletBaseUrl=e.config.walletUrl,t=t||e.config.contractName||"default",this._keyStore=e.connection.signer.keyStore,this._authData=o||{allKeys:[]},this._authDataKey=n,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return __awaiter$P(this,void 0,void 0,function*(){return this._completeSignInPromise?(yield this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()})}getAccountId(){return this._authData.accountId||""}requestSignInUrl({contractId:e,methodNames:t,successUrl:n,failureUrl:o}){return __awaiter$P(this,void 0,void 0,function*(){const c=new URL(window.location.href),a=new URL(this._walletBaseUrl+LOGIN_WALLET_URL_SUFFIX$2);if(a.searchParams.set("success_url",n||c.href),a.searchParams.set("failure_url",o||c.href),e){yield(yield this._near.account(e)).state(),a.searchParams.set("contract_id",e);const u=crypto_1$h.KeyPair.fromRandom("ed25519");a.searchParams.set("public_key",u.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,PENDING_ACCESS_KEY_PREFIX$2+u.getPublicKey(),u)}return t&&t.forEach(u=>{a.searchParams.append("methodNames",u)}),a.toString()})}requestSignIn(e){return __awaiter$P(this,void 0,void 0,function*(){const t=yield this.requestSignInUrl(e);window.location.assign(t)})}requestSignTransactionsUrl({transactions:e,meta:t,callbackUrl:n}){const o=new URL(window.location.href),c=new URL("sign",this._walletBaseUrl);return c.searchParams.set("transactions",e.map(a=>(0,borsh_1$3.serialize)(transactions_1$c.SCHEMA.Transaction,a)).map(a=>Buffer$E.from(a).toString("base64")).join(",")),c.searchParams.set("callbackUrl",n||o.href),t&&c.searchParams.set("meta",t),c.toString()}requestSignTransactions(e){const t=this.requestSignTransactionsUrl(e);window.location.assign(t)}_completeSignInWithAccessKey(){return __awaiter$P(this,void 0,void 0,function*(){const e=new URL(window.location.href),t=e.searchParams.get("public_key")||"",n=(e.searchParams.get("all_keys")||"").split(","),o=e.searchParams.get("account_id")||"";if(o){const c={accountId:o,allKeys:n};window.localStorage.setItem(this._authDataKey,JSON.stringify(c)),t&&(yield this._moveKeyFromTempToPermanent(o,t)),this._authData=c}e.searchParams.delete("public_key"),e.searchParams.delete("all_keys"),e.searchParams.delete("account_id"),e.searchParams.delete("meta"),e.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,e.toString())})}_moveKeyFromTempToPermanent(e,t){return __awaiter$P(this,void 0,void 0,function*(){const n=yield this._keyStore.getKey(this._networkId,PENDING_ACCESS_KEY_PREFIX$2+t);yield this._keyStore.setKey(this._networkId,e,n),yield this._keyStore.removeKey(this._networkId,PENDING_ACCESS_KEY_PREFIX$2+t)})}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new ConnectedWalletAccount$2(this,this._near.connection,this._authData.accountId)),this._connectedAccount}};wallet_account$2.WalletConnection=WalletConnection$2;let ConnectedWalletAccount$2=class extends accounts_1$4.Account{constructor(e,t,n){super(t,n),this.walletConnection=e}signAndSendTransaction({receiverId:e,actions:t,walletMeta:n,walletCallbackUrl:o=window.location.href}){const c=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$P(this,void 0,void 0,function*(){const a=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let u=yield this.accessKeyForTransaction(e,t,a);if(!u)throw new Error(`Cannot find matching key for transaction sent to ${e}`);if(a&&a.toString()===u.public_key)try{return yield c.signAndSendTransaction.call(this,{receiverId:e,actions:t})}catch(O){if(O.type==="NotEnoughAllowance")u=yield this.accessKeyForTransaction(e,t);else throw O}const h=yield this.connection.provider.block({finality:"final"}),v=(0,utils_1$u.baseDecode)(h.header.hash),b=crypto_1$h.PublicKey.from(u.public_key),y=u.access_key.nonce.add(new bn_js_1$c.default(1)),w=(0,transactions_1$c.createTransaction)(this.accountId,b,e,y,t,v);return yield this.walletConnection.requestSignTransactions({transactions:[w],meta:n,callbackUrl:o}),new Promise((O,P)=>{setTimeout(()=>{P(new Error("Failed to redirect to sign transaction"))},1e3)})})}accessKeyMatchesTransaction(e,t,n){return __awaiter$P(this,void 0,void 0,function*(){const{access_key:{permission:o}}=e;if(o==="FullAccess")return!0;if(o.FunctionCall){const{receiver_id:c,method_names:a}=o.FunctionCall;if(c===this.accountId&&a.includes(MULTISIG_HAS_METHOD$3))return!0;if(c===t){if(n.length!==1)return!1;const[{functionCall:u}]=n;return u&&(!u.deposit||u.deposit.toString()==="0")&&(a.length===0||a.includes(u.methodName))}}return!1})}accessKeyForTransaction(e,t,n){return __awaiter$P(this,void 0,void 0,function*(){const o=yield this.getAccessKeys();if(n){const a=o.find(u=>u.public_key.toString()===n.toString());if(a&&(yield this.accessKeyMatchesTransaction(a,e,t)))return a}const c=this.walletConnection._authData.allKeys;for(const a of o)if(c.indexOf(a.public_key)!==-1&&(yield this.accessKeyMatchesTransaction(a,e,t)))return a;return null})}};wallet_account$2.ConnectedWalletAccount=ConnectedWalletAccount$2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=void 0;var t=near$4;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}});var n=wallet_account$2;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return n.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return n.WalletConnection}})}(lib$l),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Near=void 0;var t=lib$l;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}})}(near$5);var walletAccount$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=void 0;var t=lib$l;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return t.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return t.WalletConnection}})})(walletAccount$2),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(k,B,q,V){V===void 0&&(V=q);var ee=Object.getOwnPropertyDescriptor(B,q);(!ee||("get"in ee?!B.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return B[q]}}),Object.defineProperty(k,V,ee)}:function(k,B,q,V){V===void 0&&(V=q),k[V]=B[q]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(k,B){Object.defineProperty(k,"default",{enumerable:!0,value:B})}:function(k,B){k.default=B}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(k){if(k&&k.__esModule)return k;var B={};if(k!=null)for(var q in k)q!=="default"&&Object.prototype.hasOwnProperty.call(k,q)&&t(B,k,q);return n(B,k),B};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=e.KeyPair=e.Signer=e.InMemorySigner=e.Contract=e.Connection=e.Account=e.multisig=e.validators=e.transactions=e.utils=e.providers=e.accountCreator=void 0;const c=o(providers$2);e.providers=c;const a=o(utils$u);e.utils=a;const u=o(transaction$2);e.transactions=u;const h=o(validators$4);e.validators=h;const v=account$4;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return v.Account}});const b=o(account_multisig$4);e.multisig=b;const y=o(account_creator$4);e.accountCreator=y;const w=connection$4;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return w.Connection}});const O=signer$4;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return O.Signer}}),Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return O.InMemorySigner}});const P=contract$4;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return P.Contract}});const C=key_pair$4;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return C.KeyPair}});const x=near$5;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return x.Near}});const D=walletAccount$2;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return D.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return D.WalletConnection}})}(commonIndex$2);var browserConnect$2={},__awaiter$O=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(browserConnect$2,"__esModule",{value:!0}),browserConnect$2.connect=void 0;const near_1$2=near$5;function connect$2(e){return __awaiter$O(this,void 0,void 0,function*(){return new near_1$2.Near(e)})}browserConnect$2.connect=connect$2,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(a,u,h,v){v===void 0&&(v=h);var b=Object.getOwnPropertyDescriptor(u,h);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(a,v,b)}:function(a,u,h,v){v===void 0&&(v=h),a[v]=u[h]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var h in a)h!=="default"&&Object.prototype.hasOwnProperty.call(a,h)&&t(u,a,h);return n(u,a),u},c=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(a,u){for(var h in a)h!=="default"&&!Object.prototype.hasOwnProperty.call(u,h)&&t(u,a,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.keyStores=void 0,e.keyStores=o(browserIndex$5),c(commonIndex$2,e),c(browserConnect$2,e)}(browserIndex$6);var HereKeyStore$1={},JSONStorage={},hereProvider={};const uuidPattern=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function valid(e){return uuidPattern.test(e)}function uuid4(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.split(/[:\/]/g).pop().toLowerCase()}uuid4.valid=valid;const browser$4=Object.freeze(Object.defineProperty({__proto__:null,default:uuid4,uuid4,valid},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(browser$4);var utils$n={},provider$7={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.HereProviderError=e.HereProviderStatus=void 0,function(n){n[n.APPROVING=1]="APPROVING",n[n.FAILED=2]="FAILED",n[n.SUCCESS=3]="SUCCESS"}(e.HereProviderStatus||(e.HereProviderStatus={}));class t extends Error{constructor(o,c){super(o??(c==null?void 0:c.message)),this.payload=o,this.parentError=c}}e.HereProviderError=t})(provider$7);var __awaiter$N=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$j=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(utils$n,"__esModule",{value:!0}),utils$n.isValidAccessKey=utils$n.internalThrow=utils$n.getPublicKeys=utils$n.serializeActions=utils$n.isMobile=utils$n.getDeviceId=void 0;const uuid4_1=__importDefault$j(require$$0$1),provider_1$4=provider$7,getDeviceId=()=>{const e=window.localStorage.getItem("herewallet-topic")||(0,uuid4_1.default)();return window.localStorage.setItem("herewallet-topic",e),e};utils$n.getDeviceId=getDeviceId;const isMobile=()=>window.matchMedia("(any-pointer:coarse)").matches;utils$n.isMobile=isMobile;const serializeActions=e=>e.map(t=>{if(t.type!=="FunctionCall")return t;let{args:n,deposit:o,gas:c,methodName:a}=t.params;return ArrayBuffer.isView(n)&&(n=Buffer$E.from(n.buffer,n.byteOffset,n.byteLength)),n instanceof Buffer$E&&(n=n.toString("base64")),{type:t.type,params:{args:n,deposit:o,gas:c,methodName:a}}});utils$n.serializeActions=serializeActions;const getPublicKeys=(e,t)=>__awaiter$N(void 0,void 0,void 0,function*(){const n=yield fetch(e,{method:"POST",body:JSON.stringify({jsonrpc:"2.0",id:"dontcare",method:"query",params:{request_type:"view_access_key_list",finality:"final",account_id:t}}),headers:{"content-type":"application/json"}});return n.ok===!1?[]:(yield n.json()).result.keys});utils$n.getPublicKeys=getPublicKeys;const internalThrow=(e,t)=>{var n,o,c,a,u;if(e instanceof provider_1$4.HereProviderError)throw e;const h={payload:e instanceof Error?e.message:"UNKNOWN",status:provider_1$4.HereProviderStatus.FAILED,type:((n=t.selector)===null||n===void 0?void 0:n.type)||"local",account_id:((o=t.selector)===null||o===void 0?void 0:o.id)||""};throw(c=t.onFailed)===null||c===void 0||c.call(t,h),(u=(a=t==null?void 0:t.strategy)===null||a===void 0?void 0:a.onFailed)===null||u===void 0||u.call(a,h),e};utils$n.internalThrow=internalThrow;const isValidAccessKey=(e,t,n)=>{const{permission:o}=t.access_key;if(o==="FullAccess")return!0;if(o.FunctionCall){const{receiver_id:c,method_names:a}=o.FunctionCall;if(c===e&&a.includes("add_request_and_confirm"))return!0;if(c===n.receiverId)return n.actions.length!==1?!1:n.actions.every(u=>u.type!=="FunctionCall"?!1:(!u.params.deposit||u.params.deposit.toString()==="0")&&(a.length===0||a.includes(u.params.methodName)))}return!1};utils$n.isValidAccessKey=isValidAccessKey;var methods={},sha1={exports:{}},crypt={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,o){return n<<o|n>>>32-o},rotr:function(n,o){return n<<32-o|n>>>o},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var o=0;o<n.length;o++)n[o]=t.endian(n[o]);return n},randomBytes:function(n){for(var o=[];n>0;n--)o.push(Math.floor(Math.random()*256));return o},bytesToWords:function(n){for(var o=[],c=0,a=0;c<n.length;c++,a+=8)o[a>>>5]|=n[c]<<24-a%32;return o},wordsToBytes:function(n){for(var o=[],c=0;c<n.length*32;c+=8)o.push(n[c>>>5]>>>24-c%32&255);return o},bytesToHex:function(n){for(var o=[],c=0;c<n.length;c++)o.push((n[c]>>>4).toString(16)),o.push((n[c]&15).toString(16));return o.join("")},hexToBytes:function(n){for(var o=[],c=0;c<n.length;c+=2)o.push(parseInt(n.substr(c,2),16));return o},bytesToBase64:function(n){for(var o=[],c=0;c<n.length;c+=3)for(var a=n[c]<<16|n[c+1]<<8|n[c+2],u=0;u<4;u++)c*8+u*6<=n.length*8?o.push(e.charAt(a>>>6*(3-u)&63)):o.push("=");return o.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var o=[],c=0,a=0;c<n.length;a=++c%4)a!=0&&o.push((e.indexOf(n.charAt(c-1))&Math.pow(2,-2*a+8)-1)<<a*2|e.indexOf(n.charAt(c))>>>6-a*2);return o}};crypt.exports=t})();var cryptExports=crypt.exports,charenc={utf8:{stringToBytes:function(e){return charenc.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(charenc.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},charenc_1=charenc;(function(){var e=cryptExports,t=charenc_1.utf8,n=charenc_1.bin,o=function(a){a.constructor==String?a=t.stringToBytes(a):typeof Buffer$E<"u"&&typeof Buffer$E.isBuffer=="function"&&Buffer$E.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString());var u=e.bytesToWords(a),h=a.length*8,v=[],b=1732584193,y=-271733879,w=-1732584194,O=271733878,P=-1009589776;u[h>>5]|=128<<24-h%32,u[(h+64>>>9<<4)+15]=h;for(var C=0;C<u.length;C+=16){for(var x=b,D=y,k=w,B=O,q=P,V=0;V<80;V++){if(V<16)v[V]=u[C+V];else{var ee=v[V-3]^v[V-8]^v[V-14]^v[V-16];v[V]=ee<<1|ee>>>31}var te=(b<<5|b>>>27)+P+(v[V]>>>0)+(V<20?(y&w|~y&O)+1518500249:V<40?(y^w^O)+1859775393:V<60?(y&w|y&O|w&O)-1894007588:(y^w^O)-899497514);P=O,O=w,w=y<<30|y>>>2,y=b,b=te}b+=x,y+=D,w+=k,O+=B,P+=q}return[b,y,w,O,P]},c=function(a,u){var h=e.wordsToBytes(o(a));return u&&u.asBytes?h:u&&u.asString?n.bytesToString(h):e.bytesToHex(h)};c._blocksize=16,c._digestsize=20,sha1.exports=c})();var sha1Exports=sha1.exports;(function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(w,O,P,C){function x(D){return D instanceof P?D:new P(function(k){k(D)})}return new(P||(P=Promise))(function(D,k){function B(ee){try{V(C.next(ee))}catch(te){k(te)}}function q(ee){try{V(C.throw(ee))}catch(te){k(te)}}function V(ee){ee.done?D(ee.value):x(ee.value).then(B,q)}V((C=C.apply(w,O||[])).next())})},n=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.createRequest=e.deleteRequest=e.getResponse=e.getRequest=e.proxyApi=void 0;const o=n(sha1Exports),c=n(require$$0$1),a=serialize$e,u=utils$n;e.proxyApi="https://h4n.app";const h=(w,O)=>t(void 0,void 0,void 0,function*(){const P=yield fetch(`${e.proxyApi}/${w}/request`,{signal:O,headers:{"content-type":"application/json"},method:"GET"});if(P.ok===!1)throw Error(yield P.text());const{data:C}=yield P.json();return JSON.parse(Buffer$E.from((0,a.base_decode)(C)).toString("utf8"))});e.getRequest=h;const v=w=>t(void 0,void 0,void 0,function*(){var O;const P=yield fetch(`${e.proxyApi}/${w}/response`,{headers:{"content-type":"application/json"},method:"GET"});if(P.ok===!1)throw Error(yield P.text());const{data:C}=yield P.json(),x=(O=JSON.parse(C))!==null&&O!==void 0?O:{};return Object.assign({type:"here",public_key:"",account_id:"",payload:"",status:-1,path:""},x)});e.getResponse=v;const b=w=>t(void 0,void 0,void 0,function*(){const O=yield fetch(`${e.proxyApi}/${w}`,{headers:{"content-type":"application/json"},method:"DELETE"});if(O.ok===!1)throw Error(yield O.text())});e.deleteRequest=b;const y=(w,O)=>t(void 0,void 0,void 0,function*(){const P=(0,a.base_encode)(JSON.stringify(Object.assign(Object.assign({},w),{_id:(0,c.default)()}))),C=(0,o.default)(P),x=Buffer$E.from(C,"hex").toString("base64").replaceAll("/","_").replaceAll("-","+").slice(0,13),D=yield fetch(`${e.proxyApi}/${x}/request`,{method:"POST",signal:O,body:JSON.stringify({topic_id:(0,u.getDeviceId)(),data:P}),headers:{"content-type":"application/json"}});if(D.ok===!1)throw Error(yield D.text());return x});e.createRequest=y})(methods),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(b,y,w,O){function P(C){return C instanceof w?C:new w(function(x){x(C)})}return new(w||(w=Promise))(function(C,x){function D(q){try{B(O.next(q))}catch(V){x(V)}}function k(q){try{B(O.throw(q))}catch(V){x(V)}}function B(q){q.done?C(q.value):P(q.value).then(D,k)}B((O=O.apply(b,y||[])).next())})},n=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(b,y){var w={};for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&y.indexOf(O)<0&&(w[O]=b[O]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,O=Object.getOwnPropertySymbols(b);P<O.length;P++)y.indexOf(O[P])<0&&Object.prototype.propertyIsEnumerable.call(b,O[P])&&(w[O[P]]=b[O[P]]);return w},o=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.proxyProvider=e.waitInjectedHereWallet=e.getRequest=e.proxyApi=e.deleteRequest=e.getResponse=e.createRequest=void 0;const c=o(require$$0$1),a=utils$n,u=provider$7,h=methods;Object.defineProperty(e,"createRequest",{enumerable:!0,get:function(){return h.createRequest}}),Object.defineProperty(e,"getResponse",{enumerable:!0,get:function(){return h.getResponse}}),Object.defineProperty(e,"deleteRequest",{enumerable:!0,get:function(){return h.deleteRequest}}),Object.defineProperty(e,"proxyApi",{enumerable:!0,get:function(){return h.proxyApi}}),Object.defineProperty(e,"getRequest",{enumerable:!0,get:function(){return h.getRequest}}),e.waitInjectedHereWallet=new Promise(b=>{if(typeof window>"u"||window.self===window.top)return b(null);const y=w=>{w.data.type==="here-wallet-injected"&&(window.parent.postMessage("here-sdk-init","*"),window.removeEventListener("message",y),b({accountId:w.data.accountId,publicKey:w.data.publicKey,network:w.data.network||"mainnet"}))};window.addEventListener("message",y),setTimeout(()=>b(null),2e3)});const v=b=>t(void 0,void 0,void 0,function*(){if((yield e.waitInjectedHereWallet)&&typeof window<"u")return new Promise(D=>{const k=(0,c.default)(),B=q=>{if(q.data.id===k&&(q.data.status===u.HereProviderStatus.SUCCESS||q.data.status===u.HereProviderStatus.FAILED))return window.removeEventListener("message",B),D(q.data)};window.parent.postMessage(Object.assign(Object.assign({$here:!0},b.request),{id:k}),"*"),window.addEventListener("message",B)});let{strategy:y,request:w,disableCleanupRequest:O,id:P,signal:C}=b,x=n(b,["strategy","request","disableCleanupRequest","id","signal"]);return P!=null?w=yield(0,h.getRequest)(P,C):P=yield(0,h.createRequest)(w,C),new Promise((D,k)=>{var B,q;const V=h.proxyApi.replace("https","wss");let ee=null,te=null;const ce=()=>t(void 0,void 0,void 0,function*(){ee=-1,clearInterval(ee),te==null||te.close(),O!==!0&&(yield(0,h.deleteRequest)(P))}),Q=l=>{var p,m,_,A,I,T;switch(l.status){case u.HereProviderStatus.APPROVING:(p=x.onApproving)===null||p===void 0||p.call(x,l),(m=y==null?void 0:y.onApproving)===null||m===void 0||m.call(y,l);return;case u.HereProviderStatus.FAILED:ce(),k(new u.HereProviderError(l.payload)),(_=x.onFailed)===null||_===void 0||_.call(x,l),(A=y==null?void 0:y.onFailed)===null||A===void 0||A.call(y,l);return;case u.HereProviderStatus.SUCCESS:ce(),D(l),(I=x.onSuccess)===null||I===void 0||I.call(x,l),(T=y==null?void 0:y.onSuccess)===null||T===void 0||T.call(y,l);return}},ne=l=>{var p;Q({type:((p=w.selector)===null||p===void 0?void 0:p.type)||"local",status:u.HereProviderStatus.FAILED,payload:l})};(B=x.onRequested)===null||B===void 0||B.call(x,P,w,ne),(q=y==null?void 0:y.onRequested)===null||q===void 0||q.call(y,P,w,ne),C==null||C.addEventListener("abort",()=>ne());const fe=()=>{ee!==-1&&(ee=setTimeout(()=>t(void 0,void 0,void 0,function*(){var l,p,m,_;try{const A=yield(0,h.getResponse)(P);if(ee===-1)return;Q(A),fe()}catch(A){const I=u.HereProviderStatus.FAILED,T=A instanceof Error?A:void 0,S=T==null?void 0:T.message;ce(),k(new u.HereProviderError(S,T)),(l=x.onFailed)===null||l===void 0||l.call(x,{type:((p=w.selector)===null||p===void 0?void 0:p.type)||"local",status:I,payload:S}),(m=y==null?void 0:y.onFailed)===null||m===void 0||m.call(y,{type:((_=w.selector)===null||_===void 0?void 0:_.type)||"local",status:I,payload:S})}}),3e3))};if(fe(),(0,a.isMobile)()===!1){const l=`${V}/ws/${P}`;te=new WebSocket(l),te.onmessage=p=>{if(p.data!=null)try{const m=JSON.parse(p.data);Q(m)}catch{}}}})});e.proxyProvider=v}(hereProvider);var __awaiter$M=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(JSONStorage,"__esModule",{value:!0}),JSONStorage.StateStorage=void 0;const here_provider_1$1=hereProvider;class StateStorage{constructor(){this.dataKey="herewallet:keystore",here_provider_1$1.waitInjectedHereWallet.then(t=>{t&&this.setState(t.network,{accounts:{[t.accountId]:t.publicKey},activeAccount:t.accountId})})}setState(t,n){return __awaiter$M(this,void 0,void 0,function*(){yield here_provider_1$1.waitInjectedHereWallet;const o=yield this.getFullState();o[t]=n,window.localStorage.setItem(this.dataKey,JSON.stringify(o))})}getFullState(){return __awaiter$M(this,void 0,void 0,function*(){yield here_provider_1$1.waitInjectedHereWallet;try{return JSON.parse(window.localStorage.getItem(this.dataKey))||{}}catch{return{}}})}getState(t){return __awaiter$M(this,void 0,void 0,function*(){return yield here_provider_1$1.waitInjectedHereWallet,(yield this.getFullState())[t]||{activeAccount:null,accounts:{}}})}clear(){return __awaiter$M(this,void 0,void 0,function*(){window.localStorage.removeItem(this.dataKey)})}}JSONStorage.StateStorage=StateStorage;var __awaiter$L=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(HereKeyStore$1,"__esModule",{value:!0}),HereKeyStore$1.HereKeyStore=void 0;const key_pair_1$1=key_pair$4,JSONStorage_1=JSONStorage;class HereKeyStore{constructor(t=new JSONStorage_1.StateStorage){this.storage=t}setActiveAccount(t,n){return __awaiter$L(this,void 0,void 0,function*(){const o=yield this.storage.getState(t);o.activeAccount=n,this.storage.setState(t,o)})}setKey(t,n,o){return __awaiter$L(this,void 0,void 0,function*(){const c=yield this.storage.getState(t);c.accounts[n]=o.toString(),this.storage.setState(t,c)})}getAccounts(t){return __awaiter$L(this,void 0,void 0,function*(){const n=yield this.storage.getState(t);return Object.keys(n.accounts)})}getActiveAccount(t){return __awaiter$L(this,void 0,void 0,function*(){return(yield this.storage.getState(t)).activeAccount})}getKey(t,n){return __awaiter$L(this,void 0,void 0,function*(){const o=(yield this.storage.getState(t)).accounts[n];if(o==null)throw Error(`For ${n} in ${t} network key not found`);return key_pair_1$1.KeyPair.fromString(o)})}removeKey(t,n){return __awaiter$L(this,void 0,void 0,function*(){let o=yield this.storage.getState(t);o.activeAccount===n&&(o.activeAccount=null),delete o.accounts[n],this.storage.setState(t,o)})}getNetworks(){return __awaiter$L(this,void 0,void 0,function*(){let t=yield this.storage.getFullState();return Object.keys(t.accounts)})}clear(){return __awaiter$L(this,void 0,void 0,function*(){yield this.storage.clear()})}}HereKeyStore$1.HereKeyStore=HereKeyStore;var actions$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createAction=e.parseArgs=void 0;const t=bnExports$6,n=browserIndex$6,o=u=>{if(u==="FullAccess")return n.transactions.fullAccessKey();const{receiverId:h,methodNames:v=[]}=u,b=u.allowance?new t.BN(u.allowance):void 0;return n.transactions.functionCallAccessKey(h,v,b)},c=u=>typeof u=="string"?Buffer$E.from(u,"base64"):u;e.parseArgs=c;const a=u=>{switch(u.type){case"CreateAccount":return n.transactions.createAccount();case"DeployContract":{const{code:h}=u.params;return n.transactions.deployContract(h)}case"FunctionCall":{const{methodName:h,args:v,gas:b,deposit:y}=u.params;return n.transactions.functionCall(h,(0,e.parseArgs)(v),new t.BN(b),new t.BN(y))}case"Transfer":{const{deposit:h}=u.params;return n.transactions.transfer(new t.BN(h))}case"Stake":{const{stake:h,publicKey:v}=u.params;return n.transactions.stake(new t.BN(h),n.utils.PublicKey.from(v))}case"AddKey":{const{publicKey:h,accessKey:v}=u.params;return n.transactions.addKey(n.utils.PublicKey.from(h),o(v.permission))}case"DeleteKey":{const{publicKey:h}=u.params;return n.transactions.deleteKey(n.utils.PublicKey.from(h))}case"DeleteAccount":{const{beneficiaryId:h}=u.params;return n.transactions.deleteAccount(h)}default:throw new Error("Invalid action type")}};e.createAction=a})(actions$2);var WidgetStrategy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetStrategy=e.defaultUrl=void 0;const t=o=>{const c=document.createElement("iframe");return c.src=o,c.allow="usb",c.style.border="none",c.style.zIndex="10000",c.style.position="fixed",c.style.display="none",c.style.top="0",c.style.left="0",c.style.width="100%",c.style.height="100%",document.body.appendChild(c),c};e.defaultUrl="https://my.herewallet.app/connector/index.html";class n{constructor(c={widget:e.defaultUrl,lazy:!1}){this.options={lazy:typeof c=="object"&&c.lazy||!1,widget:typeof c=="string"?c:c.widget||e.defaultUrl},this.options.lazy||this.initIframe()}initIframe(){return n.connector==null&&(n.connector=t(this.options.widget),n.connector.addEventListener("load",()=>{n.isLoaded=!0})),n.connector}onRequested(c,a,u){const h=this.initIframe();h.style.display="block";const v=()=>{var b,y,w;(b=n.connector)===null||b===void 0||b.removeEventListener("load",v),(w=(y=n.connector)===null||y===void 0?void 0:y.contentWindow)===null||w===void 0||w.postMessage(JSON.stringify({type:"request",payload:{id:c,request:a}}),new URL(this.options.widget).origin)};n.isLoaded?v():h.addEventListener("load",v),this.messageHandler=b=>{try{if(b.origin!==new URL(this.options.widget).origin)return;JSON.parse(b.data).type==="reject"&&u()}catch{}},window.addEventListener("message",this.messageHandler)}postMessage(c){var a;const u=this.initIframe(),h=JSON.stringify(c),v=new URL(this.options.widget).origin;(a=u.contentWindow)===null||a===void 0||a.postMessage(h,v)}onApproving(){this.postMessage({type:"approving"})}onSuccess(c){console.log(c),this.postMessage({type:"result",payload:{request:c}}),this.close()}onFailed(c){this.postMessage({type:"result",payload:{request:c}}),this.close()}close(){this.messageHandler&&(window.removeEventListener("message",this.messageHandler),this.messageHandler=void 0),n.connector&&(n.connector.style.display="none")}}e.WidgetStrategy=n,n.isLoaded=!1})(WidgetStrategy);var nep0314={};(function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(y,w,O,P){P===void 0&&(P=O),Object.defineProperty(y,P,{enumerable:!0,get:function(){return w[O]}})}:function(y,w,O,P){P===void 0&&(P=O),y[P]=w[O]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(y,w){Object.defineProperty(y,"default",{enumerable:!0,value:w})}:function(y,w){y.default=w}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(y){if(y&&y.__esModule)return y;var w={};if(y!=null)for(var O in y)O!=="default"&&Object.prototype.hasOwnProperty.call(y,O)&&t(w,y,O);return n(w,y),w},c=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.verifySignature=e.authPayloadSchema=e.AuthPayload=void 0;const a=o(lib$G),u=c(sha256Exports),h=utils$u;class v{constructor({message:w,nonce:O,recipient:P,callbackUrl:C}){this.tag=2147484061,this.message=w,this.nonce=O,this.recipient=P,C&&(this.callbackUrl=C)}}e.AuthPayload=v,e.authPayloadSchema={struct:{tag:"u32",message:"string",nonce:{array:{type:"u8",len:32}},recipient:"string",callbackUrl:{option:"string"}}};function b(y,w){const O=new v(y),P=a.serialize(e.authPayloadSchema,O),C=Uint8Array.from(u.default.sha256.array(P));let x=new Uint8Array(Buffer$E.from(w.signature,"base64"));return h.PublicKey.from(w.publicKey).verify(C,x)}e.verifySignature=b})(nep0314);var __awaiter$K=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$6=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n},__importDefault$i=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wallet,"__esModule",{value:!0}),wallet.HereWallet=void 0;const near_api_js_1$1=browserIndex$6,providers_1$8=providers$2,key_pair_1=key_pair$4,js_sha256_1=sha256Exports,crypto_1$g=requireCryptoBrowserify(),bn_js_1$b=__importDefault$i(bnExports$6),HereKeyStore_1=HereKeyStore$1,provider_1$3=provider$7,utils_1$t=utils$n,here_provider_1=hereProvider,actions_1$4=actions$2,WidgetStrategy_1=WidgetStrategy,nep0314_1=nep0314;class AccessDenied extends Error{}class HereWallet{constructor({nodeUrl:t,networkId:n="mainnet",authStorage:o=new HereKeyStore_1.HereKeyStore,defaultStrategy:c=()=>new WidgetStrategy_1.WidgetStrategy,defaultProvider:a=here_provider_1.proxyProvider}={}){this.authStorage=o,this.defaultProvider=a,this.defaultStrategy=c;const u=new near_api_js_1$1.InMemorySigner(this.authStorage),h=new providers_1$8.JsonRpcProvider({url:t??`https://rpc.${n}.near.org`});this.connection=near_api_js_1$1.Connection.fromConfig({jsvmAccountId:`jsvm.${n}`,provider:h,networkId:n,signer:u})}get rpc(){return this.connection.provider}get signer(){return this.connection.signer}get networkId(){return this.connection.networkId}account(t){return __awaiter$K(this,void 0,void 0,function*(){const n=t??(yield this.authStorage.getActiveAccount(this.networkId));if(n==null)throw new AccessDenied("Wallet not signed in");return new near_api_js_1$1.Account(this.connection,n)})}isSignedIn(){return __awaiter$K(this,void 0,void 0,function*(){return(yield this.authStorage.getActiveAccount(this.networkId))!=null})}signOut(){return __awaiter$K(this,void 0,void 0,function*(){const t=yield this.authStorage.getActiveAccount(this.networkId);if(t==null)throw new Error("Wallet not signed in");const n=yield this.authStorage.getKey(this.networkId,t);if(n!=null){const o=n.getPublicKey().toString();yield this.silentSignAndSendTransaction({receiverId:t,actions:[{type:"DeleteKey",params:{publicKey:o}}]}).catch(()=>{})}yield this.authStorage.removeKey(this.networkId,t)})}getHereBalance(t){return __awaiter$K(this,void 0,void 0,function*(){const n=yield this.account(t),o=this.networkId==="mainnet"?"here.storage.near":"here.storage.testnet",c=yield n.viewFunction({args:{account_id:n.accountId},methodName:"ft_balance_of",contractId:o}).catch(()=>"0");return new bn_js_1$b.default(c)})}getAvailableBalance(t){return __awaiter$K(this,void 0,void 0,function*(){const n=yield(yield this.account(t)).getAccountBalance(),o=yield this.getHereBalance();return new bn_js_1$b.default(n.available).add(new bn_js_1$b.default(o))})}getAccounts(){return __awaiter$K(this,void 0,void 0,function*(){return yield this.authStorage.getAccounts(this.networkId)})}getAccountId(){return __awaiter$K(this,void 0,void 0,function*(){const t=yield this.authStorage.getActiveAccount(this.networkId);if(t==null)throw new Error("Wallet not signed in");return t})}switchAccount(t){return __awaiter$K(this,void 0,void 0,function*(){if((yield this.authStorage.getKey(this.networkId,t))==null)throw new Error(`Account ${t} not signed in`);yield this.authStorage.setActiveAccount(this.networkId,t)})}signIn(t={}){var n,o,c,a,u,{contractId:h,allowance:v,methodNames:b=[],selector:y}=t,w=__rest$6(t,["contractId","allowance","methodNames","selector"]);return __awaiter$K(this,void 0,void 0,function*(){if(h==null){const{accountId:O}=yield this.authenticate(w);return yield this.authStorage.setKey(this.networkId,O,key_pair_1.KeyPairEd25519.fromRandom()),yield this.authStorage.setActiveAccount(this.networkId,O),O}w.strategy=(n=w.strategy)!==null&&n!==void 0?n:this.defaultStrategy(),w.provider=(o=w.provider)!==null&&o!==void 0?o:this.defaultProvider,(c=w.onInitialized)===null||c===void 0||c.call(w),(u=(a=w.strategy)===null||a===void 0?void 0:a.onInitialized)===null||u===void 0||u.call(a);try{const O=near_api_js_1$1.KeyPair.fromRandom("ed25519"),P={receiverId:h,methodNames:b,allowance:v},C=yield w.provider(Object.assign(Object.assign({},w),{request:{type:"call",network:this.networkId,selector:y||{},transactions:[{actions:[{type:"AddKey",params:{publicKey:O.getPublicKey().toString(),accessKey:{permission:P}}}]}]}}));if(C.account_id==null)throw Error("Transaction is failed");return yield this.authStorage.setKey(this.networkId,C.account_id,O),yield this.authStorage.setActiveAccount(this.networkId,C.account_id),C.account_id}catch(O){throw(0,utils_1$t.internalThrow)(O,w),O}})}silentSignAndSendTransaction({actions:t,receiverId:n,signerId:o}){return __awaiter$K(this,void 0,void 0,function*(){const c=yield this.account(o),a=yield this.authStorage.getKey(this.networkId,c.accountId).catch(()=>null);if(a==null)throw new AccessDenied;const u=a.getPublicKey(),h=yield c.getAccessKeys(),v={receiverId:n,actions:t};if(h.some(b=>b.public_key!==u.toString()?!1:(0,utils_1$t.isValidAccessKey)(c.accountId,b,v))===!1)throw new AccessDenied;return yield c.signAndSendTransaction({actions:t.map(b=>(0,actions_1$4.createAction)(b)),receiverId:n??c.accountId})})}signAndSendTransaction(t){var n,o,c,a,u,h,v,b;return __awaiter$K(this,void 0,void 0,function*(){const{signerId:y,receiverId:w,actions:O}=t,P=__rest$6(t,["signerId","receiverId","actions"]);P.strategy=(n=P.strategy)!==null&&n!==void 0?n:this.defaultStrategy(),P.provider=(o=P.provider)!==null&&o!==void 0?o:this.defaultProvider,(c=P.onInitialized)===null||c===void 0||c.call(P),(u=(a=P.strategy)===null||a===void 0?void 0:a.onInitialized)===null||u===void 0||u.call(a);try{const C=yield this.silentSignAndSendTransaction({receiverId:w,actions:O,signerId:y}),x={type:"local",status:provider_1$3.HereProviderStatus.SUCCESS,payload:C==null?void 0:C.transaction_outcome.id};return(h=P.onSuccess)===null||h===void 0||h.call(P,x),(b=(v=P.strategy)===null||v===void 0?void 0:v.onSuccess)===null||b===void 0||b.call(v,x),C}catch(C){try{if(!(C instanceof AccessDenied)&&(C==null?void 0:C.type)!=="NotEnoughAllowance")throw(0,utils_1$t.internalThrow)(C,P),C;const x=yield this.getAccountId().catch(()=>{}),D=yield P.provider(Object.assign(Object.assign({},P),{request:{type:"call",network:this.networkId,transactions:[{actions:(0,utils_1$t.serializeActions)(O),receiverId:w,signerId:y}],selector:t.selector||{id:y||x}}}));if(D.payload==null||D.account_id==null)throw Error("Transaction not found, but maybe executed");return yield this.rpc.txStatus(D.payload,D.account_id)}catch(x){throw(0,utils_1$t.internalThrow)(x,P),x}}})}verifyMessageNEP0413(t,n){return __awaiter$K(this,void 0,void 0,function*(){if(!(0,nep0314_1.verifySignature)(t,n))throw Error("Incorrect signature");if(!(yield(yield this.account(n.accountId)).getAccessKeys()).some(o=>!(o.public_key!==n.publicKey||o.access_key.permission!=="FullAccess")))throw Error("Signer public key is not full access");return!0})}authenticate(t={}){var n,o,c;return __awaiter$K(this,void 0,void 0,function*(){const a={nonce:(n=t.nonce)!==null&&n!==void 0?n:(0,crypto_1$g.randomBytes)(32),recipient:(o=t.recipient)!==null&&o!==void 0?o:window.location.host,message:(c=t.message)!==null&&c!==void 0?c:"Authenticate"},u=yield this.signMessage(Object.assign(Object.assign({},a),t));return yield this.verifyMessageNEP0413(a,u),u})}signMessage(t){var n,o,c,a,u;return __awaiter$K(this,void 0,void 0,function*(){if(t.strategy=(n=t.strategy)!==null&&n!==void 0?n:this.defaultStrategy(),t.provider=(o=t.provider)!==null&&o!==void 0?o:this.defaultProvider,(c=t.onInitialized)===null||c===void 0||c.call(t),(u=(a=t.strategy)===null||a===void 0?void 0:a.onInitialized)===null||u===void 0||u.call(a),"receiver"in t)return yield this.legacySignMessage(t);const h=yield this.getAccountId().catch(()=>{}),v=yield t.provider(Object.assign(Object.assign({},t),{request:{type:"sign",message:t.message,recipient:t.recipient,nonce:Array.from(t.nonce),network:this.networkId,selector:t.selector||{id:h}}}));if((v==null?void 0:v.payload)==null)throw Error("Signature not found");const{publicKey:b,signature:y,accountId:w}=JSON.parse(v.payload);return{publicKey:b,signature:y,accountId:w}})}legacySignMessage(t){var n,{message:o,receiver:c,nonce:a,selector:u}=t,h=__rest$6(t,["message","receiver","nonce","selector"]);return __awaiter$K(this,void 0,void 0,function*(){if(a==null){let y=new Uint8Array(32);a=[...crypto.getRandomValues(y)]}const v=yield this.getAccountId().catch(()=>{}),b=yield(n=h.provider)===null||n===void 0?void 0:n.call(h,Object.assign(Object.assign({},h),{request:{type:"sign",network:this.networkId,selector:u||{id:v},message:o,receiver:c,nonce:a}}));if((b==null?void 0:b.payload)==null)throw Error("Signature not found");try{const{publicKey:y,signature:w,accountId:O}=JSON.parse(b.payload),P=new Uint8Array(Buffer$E.from(w,"base64")),C=JSON.stringify({message:o,receiver:c,nonce:a}),x=new Uint8Array(js_sha256_1.sha256.digest("NEP0413:"+C));if(key_pair_1.PublicKey.from(y).verify(x,P)===!1)throw Error();const D=yield(yield this.account(O)).getAccessKeys(),k=y.toString();if(D.some(B=>!(B.public_key!==k||B.access_key.permission!=="FullAccess"))===!1)throw Error();return{signature:new Uint8Array(Buffer$E.from(w,"base64")),publicKey:key_pair_1.PublicKey.from(y),message:"NEP0413:"+C,receiver:c,accountId:O,nonce:a}}catch{throw Error("Signature not correct")}})}signAndSendTransactions(t){var n,o,c,a,u,h,v,b,{transactions:y,selector:w}=t,O=__rest$6(t,["transactions","selector"]);return __awaiter$K(this,void 0,void 0,function*(){O.strategy=(n=O.strategy)!==null&&n!==void 0?n:this.defaultStrategy(),O.provider=(o=O.provider)!==null&&o!==void 0?o:this.defaultProvider,(c=O.onInitialized)===null||c===void 0||c.call(O),(u=(a=O.strategy)===null||a===void 0?void 0:a.onInitialized)===null||u===void 0||u.call(a);let P=[];try{for(const D of y){const k=yield this.silentSignAndSendTransaction(D);P.push(k)}const C=P.map(D=>D.transaction_outcome.id).join(","),x={type:"local",status:provider_1$3.HereProviderStatus.SUCCESS,payload:C};return(h=O.onSuccess)===null||h===void 0||h.call(O,x),(b=(v=O.strategy)===null||v===void 0?void 0:v.onSuccess)===null||b===void 0||b.call(v,x),P}catch(C){try{if(!(C instanceof AccessDenied)&&(C==null?void 0:C.type)!=="NotEnoughAllowance")throw(0,utils_1$t.internalThrow)(C,O),C;const x=yield this.getAccountId().catch(()=>{}),D=y.slice(P.length),k=yield O.provider(Object.assign(Object.assign({},O),{request:{type:"call",network:this.networkId,selector:w||{id:D[0].signerId||x},transactions:D.map(q=>Object.assign(Object.assign({},q),{actions:(0,utils_1$t.serializeActions)(q.actions)}))}}));if(k.payload==null||k.account_id==null)throw Error("Transaction not found, but maybe executed");const B=k.payload.split(",").map(q=>this.rpc.txStatus(q,k.account_id));return yield Promise.all(B)}catch(x){throw(0,utils_1$t.internalThrow)(x,O),x}}})}}wallet.HereWallet=HereWallet;var types$8={};Object.defineProperty(types$8,"__esModule",{value:!0});var WindowStrategy$1={};Object.defineProperty(WindowStrategy$1,"__esModule",{value:!0}),WindowStrategy$1.WindowStrategy=void 0;class WindowStrategy{constructor(t="https://my.herewallet.app"){this.endpoint=t,this.signWindow=null,this.onFailed=()=>this.close(),this.onSuccess=()=>this.close()}onInitialized(){if(this.signWindow)return;const t=window.innerWidth/2-420/2,n=window.innerHeight/2-700/2;this.signWindow=window.open(`${this.endpoint}/loading`,"_blank",`popup=1,width=420,height=700,top=${n},left=${t}`)}onRequested(t,n,o){this.signWindow!=null&&(this.unloadHandler=()=>{var c;return(c=this.signWindow)===null||c===void 0?void 0:c.close()},window.addEventListener("beforeunload",this.unloadHandler),this.signWindow.location=`${this.endpoint}/request/${t}`,this.timerHandler=setInterval(()=>{var c;!((c=this.signWindow)===null||c===void 0)&&c.closed&&o("CLOSED")},1e3))}close(){var t;clearInterval(this.timerHandler),(t=this.signWindow)===null||t===void 0||t.close(),this.signWindow=null,this.unloadHandler&&window.removeEventListener("beforeunload",this.unloadHandler)}}WindowStrategy$1.WindowStrategy=WindowStrategy;var types$7={};Object.defineProperty(types$7,"__esModule",{value:!0}),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(c,a,u,h){h===void 0&&(h=u),Object.defineProperty(c,h,{enumerable:!0,get:function(){return a[u]}})}:function(c,a,u,h){h===void 0&&(h=u),c[h]=a[u]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(c,a){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&t(a,c,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.HereWallet=void 0;var o=wallet;Object.defineProperty(e,"HereWallet",{enumerable:!0,get:function(){return o.HereWallet}}),n(actions$2,e),n(HereKeyStore$1,e),n(JSONStorage,e),n(types$8,e),n(WidgetStrategy,e),n(WindowStrategy$1,e),n(provider$7,e),n(types$7,e),n(utils$n,e),n(hereProvider,e)}(build);var commonjsGlobal$3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$u<"u"?global$u:typeof self<"u"?self:{},check$3=function(e){return e&&e.Math==Math&&e},global$a$3=check$3(typeof globalThis=="object"&&globalThis)||check$3(typeof window=="object"&&window)||check$3(typeof self=="object"&&self)||check$3(typeof commonjsGlobal$3=="object"&&commonjsGlobal$3)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor$3={},fails$a$2=function(e){try{return!!e()}catch{return!0}},fails$9$2=fails$a$2,descriptors$3=!fails$9$2(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),fails$8$3=fails$a$2,functionBindNative$2=!fails$8$3(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$1$2=functionBindNative$2,call$6$2=Function.prototype.call,functionCall$c=NATIVE_BIND$1$2?call$6$2.bind(call$6$2):function(){return call$6$2.apply(call$6$2,arguments)},objectPropertyIsEnumerable$3={},$propertyIsEnumerable$2={}.propertyIsEnumerable,getOwnPropertyDescriptor$1$3=Object.getOwnPropertyDescriptor,NASHORN_BUG$3=getOwnPropertyDescriptor$1$3&&!$propertyIsEnumerable$2.call({1:2},1);objectPropertyIsEnumerable$3.f=NASHORN_BUG$3?function e(t){var n=getOwnPropertyDescriptor$1$3(this,t);return!!n&&n.enumerable}:$propertyIsEnumerable$2;var createPropertyDescriptor$2$3=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},NATIVE_BIND$5=functionBindNative$2,FunctionPrototype$1$2=Function.prototype,bind$8=FunctionPrototype$1$2.bind,call$5$2=FunctionPrototype$1$2.call,uncurryThis$a$2=NATIVE_BIND$5&&bind$8.bind(call$5$2,call$5$2),functionUncurryThis$2=NATIVE_BIND$5?function(e){return e&&uncurryThis$a$2(e)}:function(e){return e&&function(){return call$5$2.apply(e,arguments)}},uncurryThis$9$2=functionUncurryThis$2,toString$2$2=uncurryThis$9$2({}.toString),stringSlice$3=uncurryThis$9$2("".slice),classofRaw$1$3=function(e){return stringSlice$3(toString$2$2(e),8,-1)},uncurryThis$8$2=functionUncurryThis$2,fails$7$3=fails$a$2,classof$2$3=classofRaw$1$3,$Object$3$2=Object,split$3=uncurryThis$8$2("".split),indexedObject$3=fails$7$3(function(){return!$Object$3$2("z").propertyIsEnumerable(0)})?function(e){return classof$2$3(e)=="String"?split$3(e,""):$Object$3$2(e)}:$Object$3$2,$TypeError$5$2=TypeError,requireObjectCoercible$2$3=function(e){if(e==null)throw $TypeError$5$2("Can't call method on "+e);return e},IndexedObject$1$1=indexedObject$3,requireObjectCoercible$1$3=requireObjectCoercible$2$3,toIndexedObject$3$3=function(e){return IndexedObject$1$1(requireObjectCoercible$1$3(e))},isCallable$b$2=function(e){return typeof e=="function"},isCallable$a$2=isCallable$b$2,isObject$5$3=function(e){return typeof e=="object"?e!==null:isCallable$a$2(e)},global$9$3=global$a$3,isCallable$9$2=isCallable$b$2,aFunction$7=function(e){return isCallable$9$2(e)?e:void 0},getBuiltIn$3$3=function(e,t){return arguments.length<2?aFunction$7(global$9$3[e]):global$9$3[e]&&global$9$3[e][t]},uncurryThis$7$2=functionUncurryThis$2,objectIsPrototypeOf$2=uncurryThis$7$2({}.isPrototypeOf),getBuiltIn$2$3=getBuiltIn$3$3,engineUserAgent$3=getBuiltIn$2$3("navigator","userAgent")||"",global$8$3=global$a$3,userAgent$8=engineUserAgent$3,process$6=global$8$3.process,Deno$3=global$8$3.Deno,versions$3=process$6&&process$6.versions||Deno$3&&Deno$3.version,v8$3=versions$3&&versions$3.v8,match$3,version$4;v8$3&&(match$3=v8$3.split("."),version$4=match$3[0]>0&&match$3[0]<4?1:+(match$3[0]+match$3[1])),!version$4&&userAgent$8&&(match$3=userAgent$8.match(/Edge\/(\d+)/),(!match$3||match$3[1]>=74)&&(match$3=userAgent$8.match(/Chrome\/(\d+)/),match$3&&(version$4=+match$3[1])));var engineV8Version$3=version$4,V8_VERSION$4=engineV8Version$3,fails$6$3=fails$a$2,nativeSymbol$3=!!Object.getOwnPropertySymbols&&!fails$6$3(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$4&&V8_VERSION$4<41}),NATIVE_SYMBOL$1$3=nativeSymbol$3,useSymbolAsUid$3=NATIVE_SYMBOL$1$3&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$1$3=getBuiltIn$3$3,isCallable$8$2=isCallable$b$2,isPrototypeOf$1$2=objectIsPrototypeOf$2,USE_SYMBOL_AS_UID$1$2=useSymbolAsUid$3,$Object$2$2=Object,isSymbol$2$2=USE_SYMBOL_AS_UID$1$2?function(e){return typeof e=="symbol"}:function(e){var t=getBuiltIn$1$3("Symbol");return isCallable$8$2(t)&&isPrototypeOf$1$2(t.prototype,$Object$2$2(e))},$String$2$2=String,tryToString$1$2=function(e){try{return $String$2$2(e)}catch{return"Object"}},isCallable$7$2=isCallable$b$2,tryToString$7=tryToString$1$2,$TypeError$4$2=TypeError,aCallable$1$2=function(e){if(isCallable$7$2(e))return e;throw $TypeError$4$2(tryToString$7(e)+" is not a function")},aCallable$a=aCallable$1$2,getMethod$1$2=function(e,t){var n=e[t];return n==null?void 0:aCallable$a(n)},call$4$2=functionCall$c,isCallable$6$2=isCallable$b$2,isObject$4$3=isObject$5$3,$TypeError$3$2=TypeError,ordinaryToPrimitive$1$2=function(e,t){var n,o;if(t==="string"&&isCallable$6$2(n=e.toString)&&!isObject$4$3(o=call$4$2(n,e))||isCallable$6$2(n=e.valueOf)&&!isObject$4$3(o=call$4$2(n,e))||t!=="string"&&isCallable$6$2(n=e.toString)&&!isObject$4$3(o=call$4$2(n,e)))return o;throw $TypeError$3$2("Can't convert object to primitive value")},shared$3$2={exports:{}},global$7$3=global$a$3,defineProperty$2$2=Object.defineProperty,defineGlobalProperty$3$2=function(e,t){try{defineProperty$2$2(global$7$3,e,{value:t,configurable:!0,writable:!0})}catch{global$7$3[e]=t}return t},global$6$3=global$a$3,defineGlobalProperty$2$2=defineGlobalProperty$3$2,SHARED$3="__core-js_shared__",store$3$3=global$6$3[SHARED$3]||defineGlobalProperty$2$2(SHARED$3,{}),sharedStore$3=store$3$3,store$2$3=sharedStore$3;(shared$3$2.exports=function(e,t){return store$2$3[e]||(store$2$3[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var requireObjectCoercible$7=requireObjectCoercible$2$3,$Object$1$2=Object,toObject$2$2=function(e){return $Object$1$2(requireObjectCoercible$7(e))},uncurryThis$6$2=functionUncurryThis$2,toObject$1$3=toObject$2$2,hasOwnProperty$3=uncurryThis$6$2({}.hasOwnProperty),hasOwnProperty_1$2=Object.hasOwn||function e(t,n){return hasOwnProperty$3(toObject$1$3(t),n)},uncurryThis$5$2=functionUncurryThis$2,id$4=0,postfix$3=Math.random(),toString$1$2=uncurryThis$5$2(1 .toString),uid$2$3=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$1$2(++id$4+postfix$3,36)},global$5$3=global$a$3,shared$2$3=shared$3$2.exports,hasOwn$7$2=hasOwnProperty_1$2,uid$1$3=uid$2$3,NATIVE_SYMBOL$5=nativeSymbol$3,USE_SYMBOL_AS_UID$4=useSymbolAsUid$3,WellKnownSymbolsStore$3=shared$2$3("wks"),Symbol$1$3=global$5$3.Symbol,symbolFor$2=Symbol$1$3&&Symbol$1$3.for,createWellKnownSymbol$3=USE_SYMBOL_AS_UID$4?Symbol$1$3:Symbol$1$3&&Symbol$1$3.withoutSetter||uid$1$3,wellKnownSymbol$3$3=function(e){if(!hasOwn$7$2(WellKnownSymbolsStore$3,e)||!(NATIVE_SYMBOL$5||typeof WellKnownSymbolsStore$3[e]=="string")){var t="Symbol."+e;NATIVE_SYMBOL$5&&hasOwn$7$2(Symbol$1$3,e)?WellKnownSymbolsStore$3[e]=Symbol$1$3[e]:USE_SYMBOL_AS_UID$4&&symbolFor$2?WellKnownSymbolsStore$3[e]=symbolFor$2(t):WellKnownSymbolsStore$3[e]=createWellKnownSymbol$3(t)}return WellKnownSymbolsStore$3[e]},call$3$2=functionCall$c,isObject$3$3=isObject$5$3,isSymbol$1$2=isSymbol$2$2,getMethod$5=getMethod$1$2,ordinaryToPrimitive$3=ordinaryToPrimitive$1$2,wellKnownSymbol$2$3=wellKnownSymbol$3$3,$TypeError$2$2=TypeError,TO_PRIMITIVE$2=wellKnownSymbol$2$3("toPrimitive"),toPrimitive$1$3=function(e,t){if(!isObject$3$3(e)||isSymbol$1$2(e))return e;var n=getMethod$5(e,TO_PRIMITIVE$2),o;if(n){if(t===void 0&&(t="default"),o=call$3$2(n,e,t),!isObject$3$3(o)||isSymbol$1$2(o))return o;throw $TypeError$2$2("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive$3(e,t)},toPrimitive$4=toPrimitive$1$3,isSymbol$4=isSymbol$2$2,toPropertyKey$2$2=function(e){var t=toPrimitive$4(e,"string");return isSymbol$4(t)?t:t+""},global$4$3=global$a$3,isObject$2$3=isObject$5$3,document$5=global$4$3.document,EXISTS$1$2=isObject$2$3(document$5)&&isObject$2$3(document$5.createElement),documentCreateElement$4=function(e){return EXISTS$1$2?document$5.createElement(e):{}},DESCRIPTORS$7$2=descriptors$3,fails$5$3=fails$a$2,createElement$4=documentCreateElement$4,ie8DomDefine$3=!DESCRIPTORS$7$2&&!fails$5$3(function(){return Object.defineProperty(createElement$4("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$6$2=descriptors$3,call$2$2=functionCall$c,propertyIsEnumerableModule$1$1=objectPropertyIsEnumerable$3,createPropertyDescriptor$1$3=createPropertyDescriptor$2$3,toIndexedObject$2$3=toIndexedObject$3$3,toPropertyKey$1$2=toPropertyKey$2$2,hasOwn$6$2=hasOwnProperty_1$2,IE8_DOM_DEFINE$1$3=ie8DomDefine$3,$getOwnPropertyDescriptor$1$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$3.f=DESCRIPTORS$6$2?$getOwnPropertyDescriptor$1$2:function e(t,n){if(t=toIndexedObject$2$3(t),n=toPropertyKey$1$2(n),IE8_DOM_DEFINE$1$3)try{return $getOwnPropertyDescriptor$1$2(t,n)}catch{}if(hasOwn$6$2(t,n))return createPropertyDescriptor$1$3(!call$2$2(propertyIsEnumerableModule$1$1.f,t,n),t[n])};var objectDefineProperty$3={},DESCRIPTORS$5$3=descriptors$3,fails$4$3=fails$a$2,v8PrototypeDefineBug$2=DESCRIPTORS$5$3&&fails$4$3(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),isObject$1$3=isObject$5$3,$String$1$2=String,$TypeError$1$2=TypeError,anObject$4$3=function(e){if(isObject$1$3(e))return e;throw $TypeError$1$2($String$1$2(e)+" is not an object")},DESCRIPTORS$4$3=descriptors$3,IE8_DOM_DEFINE$4=ie8DomDefine$3,V8_PROTOTYPE_DEFINE_BUG$3=v8PrototypeDefineBug$2,anObject$3$3=anObject$4$3,toPropertyKey$5=toPropertyKey$2$2,$TypeError$f=TypeError,$defineProperty$2=Object.defineProperty,$getOwnPropertyDescriptor$3=Object.getOwnPropertyDescriptor,ENUMERABLE$2="enumerable",CONFIGURABLE$1$2="configurable",WRITABLE$2="writable";objectDefineProperty$3.f=DESCRIPTORS$4$3?V8_PROTOTYPE_DEFINE_BUG$3?function e(t,n,o){if(anObject$3$3(t),n=toPropertyKey$5(n),anObject$3$3(o),typeof t=="function"&&n==="prototype"&&"value"in o&&WRITABLE$2 in o&&!o[WRITABLE$2]){var c=$getOwnPropertyDescriptor$3(t,n);c&&c[WRITABLE$2]&&(t[n]=o.value,o={configurable:CONFIGURABLE$1$2 in o?o[CONFIGURABLE$1$2]:c[CONFIGURABLE$1$2],enumerable:ENUMERABLE$2 in o?o[ENUMERABLE$2]:c[ENUMERABLE$2],writable:!1})}return $defineProperty$2(t,n,o)}:$defineProperty$2:function e(t,n,o){if(anObject$3$3(t),n=toPropertyKey$5(n),anObject$3$3(o),IE8_DOM_DEFINE$4)try{return $defineProperty$2(t,n,o)}catch{}if("get"in o||"set"in o)throw $TypeError$f("Accessors not supported");return"value"in o&&(t[n]=o.value),t};var DESCRIPTORS$3$3=descriptors$3,definePropertyModule$2$3=objectDefineProperty$3,createPropertyDescriptor$6=createPropertyDescriptor$2$3,createNonEnumerableProperty$2$3=DESCRIPTORS$3$3?function(e,t,n){return definePropertyModule$2$3.f(e,t,createPropertyDescriptor$6(1,n))}:function(e,t,n){return e[t]=n,e},makeBuiltIn$2$2={exports:{}},DESCRIPTORS$2$3=descriptors$3,hasOwn$5$2=hasOwnProperty_1$2,FunctionPrototype$4=Function.prototype,getDescriptor$2=DESCRIPTORS$2$3&&Object.getOwnPropertyDescriptor,EXISTS$4=hasOwn$5$2(FunctionPrototype$4,"name"),PROPER$2=EXISTS$4&&(function e(){}).name==="something",CONFIGURABLE$3=EXISTS$4&&(!DESCRIPTORS$2$3||DESCRIPTORS$2$3&&getDescriptor$2(FunctionPrototype$4,"name").configurable),functionName$2={EXISTS:EXISTS$4,PROPER:PROPER$2,CONFIGURABLE:CONFIGURABLE$3},uncurryThis$4$2=functionUncurryThis$2,isCallable$5$2=isCallable$b$2,store$1$3=sharedStore$3,functionToString$3=uncurryThis$4$2(Function.toString);isCallable$5$2(store$1$3.inspectSource)||(store$1$3.inspectSource=function(e){return functionToString$3(e)});var inspectSource$2$3=store$1$3.inspectSource,global$3$3=global$a$3,isCallable$4$2=isCallable$b$2,inspectSource$1$3=inspectSource$2$3,WeakMap$1$3=global$3$3.WeakMap,nativeWeakMap$3=isCallable$4$2(WeakMap$1$3)&&/native code/.test(inspectSource$1$3(WeakMap$1$3)),shared$1$3=shared$3$2.exports,uid$5=uid$2$3,keys$3=shared$1$3("keys"),sharedKey$1$3=function(e){return keys$3[e]||(keys$3[e]=uid$5(e))},hiddenKeys$3$3={},NATIVE_WEAK_MAP$3=nativeWeakMap$3,global$2$3=global$a$3,uncurryThis$3$2=functionUncurryThis$2,isObject$f=isObject$5$3,createNonEnumerableProperty$1$3=createNonEnumerableProperty$2$3,hasOwn$4$2=hasOwnProperty_1$2,shared$6=sharedStore$3,sharedKey$5=sharedKey$1$3,hiddenKeys$2$3=hiddenKeys$3$3,OBJECT_ALREADY_INITIALIZED$2="Object already initialized",TypeError$1$3=global$2$3.TypeError,WeakMap$5=global$2$3.WeakMap,set$6,get$5,has$b,enforce$3=function(e){return has$b(e)?get$5(e):set$6(e,{})},getterFor$3=function(e){return function(t){var n;if(!isObject$f(t)||(n=get$5(t)).type!==e)throw TypeError$1$3("Incompatible receiver, "+e+" required");return n}};if(NATIVE_WEAK_MAP$3||shared$6.state){var store$6=shared$6.state||(shared$6.state=new WeakMap$5),wmget$3=uncurryThis$3$2(store$6.get),wmhas$3=uncurryThis$3$2(store$6.has),wmset$3=uncurryThis$3$2(store$6.set);set$6=function(e,t){if(wmhas$3(store$6,e))throw new TypeError$1$3(OBJECT_ALREADY_INITIALIZED$2);return t.facade=e,wmset$3(store$6,e,t),t},get$5=function(e){return wmget$3(store$6,e)||{}},has$b=function(e){return wmhas$3(store$6,e)}}else{var STATE$3=sharedKey$5("state");hiddenKeys$2$3[STATE$3]=!0,set$6=function(e,t){if(hasOwn$4$2(e,STATE$3))throw new TypeError$1$3(OBJECT_ALREADY_INITIALIZED$2);return t.facade=e,createNonEnumerableProperty$1$3(e,STATE$3,t),t},get$5=function(e){return hasOwn$4$2(e,STATE$3)?e[STATE$3]:{}},has$b=function(e){return hasOwn$4$2(e,STATE$3)}}var internalState$3={set:set$6,get:get$5,has:has$b,enforce:enforce$3,getterFor:getterFor$3},fails$3$3=fails$a$2,isCallable$3$2=isCallable$b$2,hasOwn$3$2=hasOwnProperty_1$2,DESCRIPTORS$1$3=descriptors$3,CONFIGURABLE_FUNCTION_NAME$2=functionName$2.CONFIGURABLE,inspectSource$7=inspectSource$2$3,InternalStateModule$4=internalState$3,enforceInternalState$3=InternalStateModule$4.enforce,getInternalState$4=InternalStateModule$4.get,defineProperty$1$2=Object.defineProperty,CONFIGURABLE_LENGTH$2=DESCRIPTORS$1$3&&!fails$3$3(function(){return defineProperty$1$2(function(){},"length",{value:8}).length!==8}),TEMPLATE$3=String(String).split("String"),makeBuiltIn$1$2=makeBuiltIn$2$2.exports=function(e,t,n){String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!hasOwn$3$2(e,"name")||CONFIGURABLE_FUNCTION_NAME$2&&e.name!==t)&&(DESCRIPTORS$1$3?defineProperty$1$2(e,"name",{value:t,configurable:!0}):e.name=t),CONFIGURABLE_LENGTH$2&&n&&hasOwn$3$2(n,"arity")&&e.length!==n.arity&&defineProperty$1$2(e,"length",{value:n.arity});try{n&&hasOwn$3$2(n,"constructor")&&n.constructor?DESCRIPTORS$1$3&&defineProperty$1$2(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var o=enforceInternalState$3(e);return hasOwn$3$2(o,"source")||(o.source=TEMPLATE$3.join(typeof t=="string"?t:"")),e};Function.prototype.toString=makeBuiltIn$1$2(function e(){return isCallable$3$2(this)&&getInternalState$4(this).source||inspectSource$7(this)},"toString");var isCallable$2$2=isCallable$b$2,definePropertyModule$1$3=objectDefineProperty$3,makeBuiltIn$4=makeBuiltIn$2$2.exports,defineGlobalProperty$1$2=defineGlobalProperty$3$2,defineBuiltIn$2$2=function(e,t,n,o){o||(o={});var c=o.enumerable,a=o.name!==void 0?o.name:t;if(isCallable$2$2(n)&&makeBuiltIn$4(n,a,o),o.global)c?e[t]=n:defineGlobalProperty$1$2(t,n);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch{}c?e[t]=n:definePropertyModule$1$3.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e},objectGetOwnPropertyNames$3={},ceil$3=Math.ceil,floor$4=Math.floor,mathTrunc$2=Math.trunc||function e(t){var n=+t;return(n>0?floor$4:ceil$3)(n)},trunc$2=mathTrunc$2,toIntegerOrInfinity$2$2=function(e){var t=+e;return t!==t||t===0?0:trunc$2(t)},toIntegerOrInfinity$1$2=toIntegerOrInfinity$2$2,max$4=Math.max,min$1$3=Math.min,toAbsoluteIndex$1$3=function(e,t){var n=toIntegerOrInfinity$1$2(e);return n<0?max$4(n+t,0):min$1$3(n,t)},toIntegerOrInfinity$4=toIntegerOrInfinity$2$2,min$4=Math.min,toLength$1$3=function(e){return e>0?min$4(toIntegerOrInfinity$4(e),9007199254740991):0},toLength$4=toLength$1$3,lengthOfArrayLike$1$2=function(e){return toLength$4(e.length)},toIndexedObject$1$3=toIndexedObject$3$3,toAbsoluteIndex$5=toAbsoluteIndex$1$3,lengthOfArrayLike$6=lengthOfArrayLike$1$2,createMethod$4=function(e){return function(t,n,o){var c=toIndexedObject$1$3(t),a=lengthOfArrayLike$6(c),u=toAbsoluteIndex$5(o,a),h;if(e&&n!=n){for(;a>u;)if(h=c[u++],h!=h)return!0}else for(;a>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}},arrayIncludes$3={includes:createMethod$4(!0),indexOf:createMethod$4(!1)},uncurryThis$2$2=functionUncurryThis$2,hasOwn$2$2=hasOwnProperty_1$2,toIndexedObject$7=toIndexedObject$3$3,indexOf$3=arrayIncludes$3.indexOf,hiddenKeys$1$3=hiddenKeys$3$3,push$3=uncurryThis$2$2([].push),objectKeysInternal$3=function(e,t){var n=toIndexedObject$7(e),o=0,c=[],a;for(a in n)!hasOwn$2$2(hiddenKeys$1$3,a)&&hasOwn$2$2(n,a)&&push$3(c,a);for(;t.length>o;)hasOwn$2$2(n,a=t[o++])&&(~indexOf$3(c,a)||push$3(c,a));return c},enumBugKeys$2$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$3=objectKeysInternal$3,enumBugKeys$1$3=enumBugKeys$2$3,hiddenKeys$7=enumBugKeys$1$3.concat("length","prototype");objectGetOwnPropertyNames$3.f=Object.getOwnPropertyNames||function e(t){return internalObjectKeys$1$3(t,hiddenKeys$7)};var objectGetOwnPropertySymbols$3={};objectGetOwnPropertySymbols$3.f=Object.getOwnPropertySymbols;var getBuiltIn$b=getBuiltIn$3$3,uncurryThis$1$2=functionUncurryThis$2,getOwnPropertyNamesModule$3=objectGetOwnPropertyNames$3,getOwnPropertySymbolsModule$1$1=objectGetOwnPropertySymbols$3,anObject$2$3=anObject$4$3,concat$1$1=uncurryThis$1$2([].concat),ownKeys$1$3=getBuiltIn$b("Reflect","ownKeys")||function e(t){var n=getOwnPropertyNamesModule$3.f(anObject$2$3(t)),o=getOwnPropertySymbolsModule$1$1.f;return o?concat$1$1(n,o(t)):n},hasOwn$1$2=hasOwnProperty_1$2,ownKeys$4=ownKeys$1$3,getOwnPropertyDescriptorModule$3=objectGetOwnPropertyDescriptor$3,definePropertyModule$8=objectDefineProperty$3,copyConstructorProperties$1$3=function(e,t,n){for(var o=ownKeys$4(t),c=definePropertyModule$8.f,a=getOwnPropertyDescriptorModule$3.f,u=0;u<o.length;u++){var h=o[u];!hasOwn$1$2(e,h)&&!(n&&hasOwn$1$2(n,h))&&c(e,h,a(t,h))}},fails$2$3=fails$a$2,isCallable$1$2=isCallable$b$2,replacement$3=/#|\.prototype\./,isForced$1$3=function(e,t){var n=data$3[normalize$3(e)];return n==POLYFILL$3?!0:n==NATIVE$3?!1:isCallable$1$2(t)?fails$2$3(t):!!t},normalize$3=isForced$1$3.normalize=function(e){return String(e).replace(replacement$3,".").toLowerCase()},data$3=isForced$1$3.data={},NATIVE$3=isForced$1$3.NATIVE="N",POLYFILL$3=isForced$1$3.POLYFILL="P",isForced_1$3=isForced$1$3,global$1$3=global$a$3,getOwnPropertyDescriptor$5=objectGetOwnPropertyDescriptor$3.f,createNonEnumerableProperty$9=createNonEnumerableProperty$2$3,defineBuiltIn$1$2=defineBuiltIn$2$2,defineGlobalProperty$5=defineGlobalProperty$3$2,copyConstructorProperties$5=copyConstructorProperties$1$3,isForced$5=isForced_1$3,_export$3=function(e,t){var n=e.target,o=e.global,c=e.stat,a,u,h,v,b,y;if(o?u=global$1$3:c?u=global$1$3[n]||defineGlobalProperty$5(n,{}):u=(global$1$3[n]||{}).prototype,u)for(h in t){if(b=t[h],e.dontCallGetSet?(y=getOwnPropertyDescriptor$5(u,h),v=y&&y.value):v=u[h],a=isForced$5(o?h:n+(c?".":"#")+h,e.forced),!a&&v!==void 0){if(typeof b==typeof v)continue;copyConstructorProperties$5(b,v)}(e.sham||v&&v.sham)&&createNonEnumerableProperty$9(b,"sham",!0),defineBuiltIn$1$2(u,h,b,e)}},internalObjectKeys$4=objectKeysInternal$3,enumBugKeys$6=enumBugKeys$2$3,objectKeys$1$3=Object.keys||function e(t){return internalObjectKeys$4(t,enumBugKeys$6)},DESCRIPTORS$c=descriptors$3,uncurryThis$k=functionUncurryThis$2,call$1$2=functionCall$c,fails$1$3=fails$a$2,objectKeys$4=objectKeys$1$3,getOwnPropertySymbolsModule$4=objectGetOwnPropertySymbols$3,propertyIsEnumerableModule$4=objectPropertyIsEnumerable$3,toObject$5=toObject$2$2,IndexedObject$4=indexedObject$3,$assign$1=Object.assign,defineProperty$7=Object.defineProperty,concat$3=uncurryThis$k([].concat),objectAssign$1=!$assign$1||fails$1$3(function(){if(DESCRIPTORS$c&&$assign$1({b:1},$assign$1(defineProperty$7({},"a",{enumerable:!0,get:function(){defineProperty$7(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(c){t[c]=c}),$assign$1({},e)[n]!=7||objectKeys$4($assign$1({},t)).join("")!=o})?function e(t,n){for(var o=toObject$5(t),c=arguments.length,a=1,u=getOwnPropertySymbolsModule$4.f,h=propertyIsEnumerableModule$4.f;c>a;)for(var v=IndexedObject$4(arguments[a++]),b=u?concat$3(objectKeys$4(v),u(v)):objectKeys$4(v),y=b.length,w=0,O;y>w;)O=b[w++],(!DESCRIPTORS$c||call$1$2(h,v,O))&&(o[O]=v[O]);return o}:$assign$1,$$d=_export$3,assign$1=objectAssign$1;$$d({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign$1},{assign:assign$1});function __awaiter$J(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var wellKnownSymbol$1$3=wellKnownSymbol$3$3,TO_STRING_TAG$1$3=wellKnownSymbol$1$3("toStringTag"),test$4={};test$4[TO_STRING_TAG$1$3]="z";var toStringTagSupport$3=String(test$4)==="[object z]",TO_STRING_TAG_SUPPORT$3=toStringTagSupport$3,isCallable$k=isCallable$b$2,classofRaw$4=classofRaw$1$3,wellKnownSymbol$g=wellKnownSymbol$3$3,TO_STRING_TAG$5=wellKnownSymbol$g("toStringTag"),$Object$5=Object,CORRECT_ARGUMENTS$3=classofRaw$4(function(){return arguments}())=="Arguments",tryGet$3=function(e,t){try{return e[t]}catch{}},classof$1$3=TO_STRING_TAG_SUPPORT$3?classofRaw$4:function(e){var t,n,o;return e===void 0?"Undefined":e===null?"Null":typeof(n=tryGet$3(t=$Object$5(e),TO_STRING_TAG$5))=="string"?n:CORRECT_ARGUMENTS$3?classofRaw$4(t):(o=classofRaw$4(t))=="Object"&&isCallable$k(t.callee)?"Arguments":o},classof$9=classof$1$3,$String$5=String,toString$b=function(e){if(classof$9(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $String$5(e)},anObject$1$3=anObject$4$3,regexpFlags$3=function(){var e=anObject$1$3(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},call$f=functionCall$c,hasOwn$c=hasOwnProperty_1$2,isPrototypeOf$6=objectIsPrototypeOf$2,regExpFlags$2=regexpFlags$3,RegExpPrototype$1$2=RegExp.prototype,regexpGetFlags$2=function(e){var t=e.flags;return t===void 0&&!("flags"in RegExpPrototype$1$2)&&!hasOwn$c(e,"flags")&&isPrototypeOf$6(RegExpPrototype$1$2,e)?call$f(regExpFlags$2,e):t},PROPER_FUNCTION_NAME$2=functionName$2.PROPER,defineBuiltIn$6=defineBuiltIn$2$2,anObject$f=anObject$4$3,$toString$2=toString$b,fails$i=fails$a$2,getRegExpFlags$2=regexpGetFlags$2,TO_STRING$3="toString",RegExpPrototype$4=RegExp.prototype,n$ToString$2=RegExpPrototype$4[TO_STRING$3],NOT_GENERIC$3=fails$i(function(){return n$ToString$2.call({source:"a",flags:"b"})!="/a/b"}),INCORRECT_NAME$3=PROPER_FUNCTION_NAME$2&&n$ToString$2.name!=TO_STRING$3;(NOT_GENERIC$3||INCORRECT_NAME$3)&&defineBuiltIn$6(RegExp.prototype,TO_STRING$3,function(){var e=anObject$f(this),t=$toString$2(e.source),n=$toString$2(getRegExpFlags$2(e));return"/"+t+"/"+n},{unsafe:!0});const initHereWallet=e=>__awaiter$J(void 0,void 0,void 0,function*(){const{store:t,logger:n,emitter:o,options:c,defaultProvider:a,defaultStrategy:u}=e,h=new build.HereWallet({networkId:c.network.networkId,nodeUrl:c.network.nodeUrl,defaultProvider:a,defaultStrategy:u});function v(){return __awaiter$J(this,void 0,void 0,function*(){n.log("HereWallet:getAccounts");const b=yield h.getAccounts(),y=[];for(let w=0;w<b.length;w++)y.push({accountId:b[w],publicKey:(yield h.signer.getPublicKey(b[w],c.network.networkId)).toString()});return y})}return{get networkId(){return h.networkId},buildImportAccountsUrl(){return`https://my.herewallet.app/import?network=${c.network.networkId}`},account(b){return __awaiter$J(this,void 0,void 0,function*(){return n.log("HereWallet:account"),yield h.account(b)})},switchAccount(b){return __awaiter$J(this,void 0,void 0,function*(){n.log("HereWallet:switchAccount"),yield h.switchAccount(b)})},getAccountId(){return __awaiter$J(this,void 0,void 0,function*(){return n.log("HereWallet:getAccountId"),yield h.getAccountId()})},isSignedIn(){return __awaiter$J(this,void 0,void 0,function*(){return n.log("HereWallet:isSignedIn"),yield h.isSignedIn()})},signIn(b){var y;return __awaiter$J(this,void 0,void 0,function*(){if(n.log("HereWallet:signIn"),!(yield build.waitInjectedHereWallet)){const w=b.contractId!==""?b.contractId:void 0;yield h.signIn(Object.assign(Object.assign({},b),{contractId:w}))}return o.emit("signedIn",{contractId:b.contractId,methodNames:(y=b.methodNames)!==null&&y!==void 0?y:[],accounts:yield v()}),yield v()})},getHereBalance(){return __awaiter$J(this,void 0,void 0,function*(){return n.log("HereWallet:getHereBalance"),yield h.getHereBalance()})},getAvailableBalance(){return __awaiter$J(this,void 0,void 0,function*(){return n.log("HereWallet:getAvailableBalance"),yield h.getAvailableBalance()})},signOut(){return __awaiter$J(this,void 0,void 0,function*(){n.log("HereWallet:signOut"),yield h.signOut()})},getAccounts(){return __awaiter$J(this,void 0,void 0,function*(){return v()})},signAndSendTransaction(b){return __awaiter$J(this,void 0,void 0,function*(){n.log("HereWallet:signAndSendTransaction",b);const{contract:y}=t.getState();return yield h.signAndSendTransaction(Object.assign({receiverId:y==null?void 0:y.contractId},b))})},verifyOwner(){return __awaiter$J(this,void 0,void 0,function*(){throw Error("HereWallet:verifyOwner is deprecated, use signMessage method with implementation NEP0413 Standard")})},signMessage(b){return __awaiter$J(this,void 0,void 0,function*(){return n.log("HereWallet:signMessage",b),yield h.signMessage(b)})},signAndSendTransactions(b){return __awaiter$J(this,void 0,void 0,function*(){return n.log("HereWallet:signAndSendTransactions",b),yield h.signAndSendTransactions(b)})}}});var icon$4="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS43MzM1IDExLjY4MzFMMjEuNzA4OSA4TDI0LjI5ODMgMTYuNjc2NkwyMC40MTYgMTQuOTIxNUwxOS43MzM1IDExLjY4MzFaTTUuNzYzODggMTUuNTQwOUwzLjc1NTYyIDE5LjE2MjFMOS44OTYwNSAyMi4xNjYxTDE4LjM0NzMgMjEuNTgyOEw1Ljc2Mzg4IDE1LjU0MDlaTTQuNjQ0NjQgMjIuMzY5NEwyLjY0ODY1IDI1Ljk3MTNMMTQuOTA4MyAzMi4wNTc1TDM1LjMzODggMzAuODE3NEwzNy4zMzQ4IDI3LjIxNTRMMTYuOTA0MyAyOC40NTU3TDQuNjQ0NjQgMjIuMzY5NFoiIGZpbGw9IiMyQzMwMzQiLz4KPHBhdGggZD0iTTM3LjMzNTkgMjcuMjE1N0wxNi45MTEyIDI4LjQ1NjFMNC41NDYzMyAyMi4zNTU0TDE3LjkzNTggMjEuNTQ1M0w1Ljc2Mzg3IDE1LjU0MDlMMTEuNzQxIDEwLjQ3ODZMMjQuMTQwMSAxNi41NzYzTDIxLjcwOSA4TDMzLjU1NyAxMy44MUwzNy4zMzU5IDI3LjIxNTdaIiBmaWxsPSIjRkRCRjFDIi8+Cjwvc3ZnPgo=";function setupHereWallet({deprecated:e=!1,iconUrl:t=icon$4,defaultStrategy:n,defaultProvider:o}={}){return()=>__awaiter$J(this,void 0,void 0,function*(){return{id:"here-wallet",type:"injected",metadata:{name:"Here Wallet",description:"Mobile wallet for NEAR Protocol",useUrlAccountImport:!0,downloadUrl:"https://herewallet.app",topLevelInjected:(yield build.waitInjectedHereWallet)!=null,iconUrl:t,deprecated:e,available:!0},init:c=>initHereWallet(Object.assign(Object.assign({},c),{defaultStrategy:n,defaultProvider:o}))}})}var lib$k={},setup$1={},mintbaseWallet$1={},utils$m={};Object.defineProperty(utils$m,"__esModule",{value:!0}),utils$m.resolveWalletUrl=utils$m.getCallbackUrl=utils$m.checkCallbackUrl=void 0;const checkCallbackUrl$1=e=>{function t(n){return/^(https?|ftp|http?):\/\/[^\s/$.?#].[^\s]*$/.test(n)}if(e!==null&&e.length>0)if(t(e)){if(e.startsWith("https://")||e.startsWith("http://"))return e.endsWith("/")?e.slice(0,-1):e}else return console.error("callbackUrl set with wrong format. please use an URL with http:// or https:// instead.Further help available on our telegram channel: https://t.me/mintdev"),new URL(window.location.href).toString();else{const n=localStorage.getItem("mintbase-wallet:callback_url");return t(n)?n:(console.warn(`We recommend you to set the callbackUrl property on setupMintbaseWallet  
 read more here:  
 https://docs.mintbase.xyz/dev/mintbase-sdk-ref/wallet#setupmintbasewallet  
  
 further help available on our telegram channel:  
 https://t.me/mintdev`),new URL(window.location.href).toString())}return new URL(window.location.href).toString()};utils$m.checkCallbackUrl=checkCallbackUrl$1;const getCallbackUrl$1=e=>{var t,n,o,c,a,u;if(typeof window!==void 0){let h="";!((n=(t=window==null?void 0:window.mbjs)===null||t===void 0?void 0:t.keys)===null||n===void 0)&&n.callbackUrl&&((c=(o=window==null?void 0:window.mbjs)===null||o===void 0?void 0:o.keys)===null||c===void 0?void 0:c.callbackUrl.length)>0&&(h=(u=(a=window==null?void 0:window.mbjs)===null||a===void 0?void 0:a.keys)===null||u===void 0?void 0:u.callbackUrl);const v=(localStorage==null?void 0:localStorage.getItem("mintbase-wallet:callback_url"))||h;return{cbUrl:checkCallbackUrl$1(e??v)}}return null};utils$m.getCallbackUrl=getCallbackUrl$1;const resolveWalletUrl$2=(e,t)=>{if(t)return t;switch(e){case"mainnet":return"https://wallet.mintbase.xyz";case"testnet":return"https://testnet.wallet.mintbase.xyz/";default:throw new Error("Invalid wallet url")}};utils$m.resolveWalletUrl=resolveWalletUrl$2;var browserIndex$4={},browserIndex$3={},keystore$3={},lib$j={},in_memory_key_store$3={},lib$i={},constants$5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeySize=e.KeyType=void 0,function(t){t[t.ED25519=0]="ED25519"}(e.KeyType||(e.KeyType={})),function(t){t[t.SECRET_KEY=32]="SECRET_KEY"}(e.KeySize||(e.KeySize={}))})(constants$5);var key_pair$3={},key_pair_base$1={};Object.defineProperty(key_pair_base$1,"__esModule",{value:!0}),key_pair_base$1.KeyPairBase=void 0;let KeyPairBase$1=class{};key_pair_base$1.KeyPairBase=KeyPairBase$1;var key_pair_ed25519$1={},lib$h={},constants$4={};Object.defineProperty(constants$4,"__esModule",{value:!0}),constants$4.DEFAULT_FUNCTION_CALL_GAS=void 0,constants$4.DEFAULT_FUNCTION_CALL_GAS=BigInt("30000000000000");var errors$9={},errors$8={},logger$5={},logger$4={},console_logger$1={};Object.defineProperty(console_logger$1,"__esModule",{value:!0}),console_logger$1.ConsoleLogger=void 0;let ConsoleLogger$1=class{constructor(e){this.logLevels=e,this.isLevelEnabled=t=>this.logLevels.includes(t)}print(e,t,...n){switch(e){case"error":case"fatal":return console.error(t,...n);case"warn":return console.warn(t,...n);case"log":return console.log(t,...n);case"debug":case"verbose":return console.debug(t,...n)}}verbose(e,...t){this.isLevelEnabled("verbose")&&this.print("verbose",e,...t)}debug(e,...t){this.isLevelEnabled("debug")&&this.print("debug",e,...t)}log(e,...t){this.isLevelEnabled("log")&&this.print("log",e,...t)}warn(e,...t){this.isLevelEnabled("warn")&&this.print("warn",e,...t)}error(e,...t){this.isLevelEnabled("error")&&this.print("error",e,...t)}fatal(e,...t){this.isLevelEnabled("fatal")&&this.print("fatal",e,...t)}};console_logger$1.ConsoleLogger=ConsoleLogger$1;var define_process_env_default$1={},_a$1;Object.defineProperty(logger$4,"__esModule",{value:!0}),logger$4.Logger=void 0;const console_logger_1$1=console_logger$1,DEFAULT_LOG_LEVELS$1=["verbose","debug","log","warn","error","fatal"],DEFAULT_LOGGER$1=typeof process$1$5=="object"&&define_process_env_default$1.NEAR_NO_LOGS?void 0:new console_logger_1$1.ConsoleLogger(DEFAULT_LOG_LEVELS$1);let Logger$1=class{static error(e,...t){var n;(n=this.instanceRef)===null||n===void 0||n.error(e,...t)}static log(e,...t){var n;(n=this.instanceRef)===null||n===void 0||n.log(e,...t)}static warn(e,...t){var n;(n=this.instanceRef)===null||n===void 0||n.warn(e,...t)}static debug(e,...t){var n,o;(o=(n=this.instanceRef)===null||n===void 0?void 0:n.debug)===null||o===void 0||o.call(n,e,...t)}static verbose(e,...t){var n,o;(o=(n=this.instanceRef)===null||n===void 0?void 0:n.verbose)===null||o===void 0||o.call(n,e,...t)}static fatal(e,...t){var n,o;(o=(n=this.instanceRef)===null||n===void 0?void 0:n.fatal)===null||o===void 0||o.call(n,e,...t)}};logger$4.Logger=Logger$1,_a$1=Logger$1,Logger$1.instanceRef=DEFAULT_LOGGER$1,Logger$1.overrideLogger=e=>{_a$1.instanceRef=e},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var t=logger$4;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return t.Logger}})}(logger$5),Object.defineProperty(errors$8,"__esModule",{value:!0}),errors$8.logWarning=void 0;const logger_1$3=logger$5;function logWarning$1(...e){const[t,...n]=e;logger_1$3.Logger.warn(t,...n)}errors$8.logWarning=logWarning$1;var rpc_errors$3={},lib$g={},assignable={};Object.defineProperty(assignable,"__esModule",{value:!0}),assignable.Assignable=void 0;class Assignable{constructor(t){Object.keys(t).map(n=>{this[n]=t[n]})}}assignable.Assignable=Assignable;var errors$7={};Object.defineProperty(errors$7,"__esModule",{value:!0}),errors$7.ErrorContext=errors$7.TypedError=errors$7.ArgumentTypeError=errors$7.PositionalArgsError=void 0;class PositionalArgsError extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}errors$7.PositionalArgsError=PositionalArgsError;class ArgumentTypeError extends Error{constructor(t,n,o){super(`Expected ${n} for '${t}' argument, but got '${JSON.stringify(o)}'`)}}errors$7.ArgumentTypeError=ArgumentTypeError;class TypedError extends Error{constructor(t,n,o){super(t),this.type=n||"UntypedError",this.context=o}}errors$7.TypedError=TypedError;class ErrorContext{constructor(t){this.transactionHash=t}}errors$7.ErrorContext=ErrorContext;var provider$6={},light_client={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.IdType=void 0,function(t){t.Transaction="transaction",t.Receipt="receipt"}(e.IdType||(e.IdType={}))})(light_client);var response={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=void 0,function(t){t.Unknown="Unknown",t.Pending="Pending",t.Failure="Failure"}(e.ExecutionStatusBasic||(e.ExecutionStatusBasic={})),function(t){t.NotStarted="NotStarted",t.Started="Started",t.Failure="Failure"}(e.FinalExecutionStatusBasic||(e.FinalExecutionStatusBasic={}))})(response),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=void 0;var t=light_client;Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return t.IdType}});var n=response;Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return n.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}})}(provider$6),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(assignable,e),n(errors$7,e),n(provider$6,e)}(lib$g);var mustache$1={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(commonjsGlobal$7,function(){/*!
* mustache.js - Logic-less {{mustache}} templates with JavaScript
* http://github.com/janl/mustache.js
*/var n=Object.prototype.toString,o=Array.isArray||function(p){return n.call(p)==="[object Array]"};function c(p){return typeof p=="function"}function a(p){return o(p)?"array":typeof p}function u(p){return p.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h(p,m){return p!=null&&typeof p=="object"&&m in p}function v(p,m){return p!=null&&typeof p!="object"&&p.hasOwnProperty&&p.hasOwnProperty(m)}var b=RegExp.prototype.test;function y(p,m){return b.call(p,m)}var w=/\S/;function O(p){return!y(w,p)}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function C(p){return String(p).replace(/[&<>"'`=\/]/g,function(m){return P[m]})}var x=/\s*/,D=/\s+/,k=/\s*=/,B=/\s*\}/,q=/#|\^|\/|>|\{|&|=|!/;function V(p,m){if(!p)return[];var _=!1,A=[],I=[],T=[],S=!1,d=!1,E="",M=0;function U(){if(S&&!d)for(;T.length;)delete I[T.pop()];else T=[];S=!1,d=!1}var F,N,L;function H(Te){if(typeof Te=="string"&&(Te=Te.split(D,2)),!o(Te)||Te.length!==2)throw new Error("Invalid tags: "+Te);F=new RegExp(u(Te[0])+"\\s*"),N=new RegExp("\\s*"+u(Te[1])),L=new RegExp("\\s*"+u("}"+Te[1]))}H(m||fe.tags);for(var Y=new ce(p),Z,de,he,re,ae,be;!Y.eos();){if(Z=Y.pos,he=Y.scanUntil(F),he)for(var ye=0,we=he.length;ye<we;++ye)re=he.charAt(ye),O(re)?(T.push(I.length),E+=re):(d=!0,_=!0,E+=" "),I.push(["text",re,Z,Z+1]),Z+=1,re===`
`&&(U(),E="",M=0,_=!1);if(!Y.scan(F))break;if(S=!0,de=Y.scan(q)||"name",Y.scan(x),de==="="?(he=Y.scanUntil(k),Y.scan(k),Y.scanUntil(N)):de==="{"?(he=Y.scanUntil(L),Y.scan(B),Y.scanUntil(N),de="&"):he=Y.scanUntil(N),!Y.scan(N))throw new Error("Unclosed tag at "+Y.pos);if(de==">"?ae=[de,he,Z,Y.pos,E,M,_]:ae=[de,he,Z,Y.pos],M++,I.push(ae),de==="#"||de==="^")A.push(ae);else if(de==="/"){if(be=A.pop(),!be)throw new Error('Unopened section "'+he+'" at '+Z);if(be[1]!==he)throw new Error('Unclosed section "'+be[1]+'" at '+Z)}else de==="name"||de==="{"||de==="&"?d=!0:de==="="&&H(he)}if(U(),be=A.pop(),be)throw new Error('Unclosed section "'+be[1]+'" at '+Y.pos);return te(ee(I))}function ee(p){for(var m=[],_,A,I=0,T=p.length;I<T;++I)_=p[I],_&&(_[0]==="text"&&A&&A[0]==="text"?(A[1]+=_[1],A[3]=_[3]):(m.push(_),A=_));return m}function te(p){for(var m=[],_=m,A=[],I,T,S=0,d=p.length;S<d;++S)switch(I=p[S],I[0]){case"#":case"^":_.push(I),A.push(I),_=I[4]=[];break;case"/":T=A.pop(),T[5]=I[2],_=A.length>0?A[A.length-1][4]:m;break;default:_.push(I)}return m}function ce(p){this.string=p,this.tail=p,this.pos=0}ce.prototype.eos=function(){return this.tail===""},ce.prototype.scan=function(p){var m=this.tail.match(p);if(!m||m.index!==0)return"";var _=m[0];return this.tail=this.tail.substring(_.length),this.pos+=_.length,_},ce.prototype.scanUntil=function(p){var m=this.tail.search(p),_;switch(m){case-1:_=this.tail,this.tail="";break;case 0:_="";break;default:_=this.tail.substring(0,m),this.tail=this.tail.substring(m)}return this.pos+=_.length,_};function Q(p,m){this.view=p,this.cache={".":this.view},this.parent=m}Q.prototype.push=function(p){return new Q(p,this)},Q.prototype.lookup=function(p){var m=this.cache,_;if(m.hasOwnProperty(p))_=m[p];else{for(var A=this,I,T,S,d=!1;A;){if(p.indexOf(".")>0)for(I=A.view,T=p.split("."),S=0;I!=null&&S<T.length;)S===T.length-1&&(d=h(I,T[S])||v(I,T[S])),I=I[T[S++]];else I=A.view[p],d=h(A.view,p);if(d){_=I;break}A=A.parent}m[p]=_}return c(_)&&(_=_.call(this.view)),_};function ne(){this.templateCache={_cache:{},set:function(p,m){this._cache[p]=m},get:function(p){return this._cache[p]},clear:function(){this._cache={}}}}ne.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},ne.prototype.parse=function(p,m){var _=this.templateCache,A=p+":"+(m||fe.tags).join(":"),I=typeof _<"u",T=I?_.get(A):void 0;return T==null&&(T=V(p,m),I&&_.set(A,T)),T},ne.prototype.render=function(p,m,_,A){var I=this.parse(p,A),T=m instanceof Q?m:new Q(m,void 0);return this.renderTokens(I,T,_,p,A)},ne.prototype.renderTokens=function(p,m,_,A,I){for(var T="",S,d,E,M=0,U=p.length;M<U;++M)E=void 0,S=p[M],d=S[0],d==="#"?E=this.renderSection(S,m,_,A):d==="^"?E=this.renderInverted(S,m,_,A):d===">"?E=this.renderPartial(S,m,_,I):d==="&"?E=this.unescapedValue(S,m):d==="name"?E=this.escapedValue(S,m):d==="text"&&(E=this.rawValue(S)),E!==void 0&&(T+=E);return T},ne.prototype.renderSection=function(p,m,_,A){var I=this,T="",S=m.lookup(p[1]);function d(U){return I.render(U,m,_)}if(S){if(o(S))for(var E=0,M=S.length;E<M;++E)T+=this.renderTokens(p[4],m.push(S[E]),_,A);else if(typeof S=="object"||typeof S=="string"||typeof S=="number")T+=this.renderTokens(p[4],m.push(S),_,A);else if(c(S)){if(typeof A!="string")throw new Error("Cannot use higher-order sections without the original template");S=S.call(m.view,A.slice(p[3],p[5]),d),S!=null&&(T+=S)}else T+=this.renderTokens(p[4],m,_,A);return T}},ne.prototype.renderInverted=function(p,m,_,A){var I=m.lookup(p[1]);if(!I||o(I)&&I.length===0)return this.renderTokens(p[4],m,_,A)},ne.prototype.indentPartial=function(p,m,_){for(var A=m.replace(/[^ \t]/g,""),I=p.split(`
`),T=0;T<I.length;T++)I[T].length&&(T>0||!_)&&(I[T]=A+I[T]);return I.join(`
`)},ne.prototype.renderPartial=function(p,m,_,A){if(_){var I=c(_)?_(p[1]):_[p[1]];if(I!=null){var T=p[6],S=p[5],d=p[4],E=I;return S==0&&d&&(E=this.indentPartial(I,d,T)),this.renderTokens(this.parse(E,A),m,_,E)}}},ne.prototype.unescapedValue=function(p,m){var _=m.lookup(p[1]);if(_!=null)return _},ne.prototype.escapedValue=function(p,m){var _=m.lookup(p[1]);if(_!=null)return fe.escape(_)},ne.prototype.rawValue=function(p){return p[1]};var fe={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(p){l.templateCache=p},get templateCache(){return l.templateCache}},l=new ne;return fe.clearCache=function(){return l.clearCache()},fe.parse=function(p,m){return l.parse(p,m)},fe.render=function(p,m,_,A){if(typeof p!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+a(p)+'" was given as the first argument for mustache#render(template, view, partials)');return l.render(p,m,_,A)},fe.escape=C,fe.Scanner=ce,fe.Context=Q,fe.Writer=ne,fe})})(mustache$1);var mustacheExports$1=mustache$1.exports,format$7={},Buffer$1=safeBufferExports$1.Buffer,baseX$1=function e(t){for(var n={},o=t.length,c=t.charAt(0),a=0;a<t.length;a++){var u=t.charAt(a);if(n[u]!==void 0)throw new TypeError(u+" is ambiguous");n[u]=a}function h(y){if(y.length===0)return"";for(var w=[0],O=0;O<y.length;++O){for(var P=0,C=y[O];P<w.length;++P)C+=w[P]<<8,w[P]=C%o,C=C/o|0;for(;C>0;)w.push(C%o),C=C/o|0}for(var x="",D=0;y[D]===0&&D<y.length-1;++D)x+=t[0];for(var k=w.length-1;k>=0;--k)x+=t[w[k]];return x}function v(y){if(y.length===0)return Buffer$1.allocUnsafe(0);for(var w=[0],O=0;O<y.length;O++){var P=n[y[O]];if(P===void 0)return;for(var C=0,x=P;C<w.length;++C)x+=w[C]*o,w[C]=x&255,x>>=8;for(;x>0;)w.push(x&255),x>>=8}for(var D=0;y[D]===c&&D<y.length-1;++D)w.push(0);return Buffer$1.from(w.reverse())}function b(y){var w=v(y);if(w)return w;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:v,decode:b}},basex$1=baseX$1,ALPHABET$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$1=basex$1(ALPHABET$1);(function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(e,"__esModule",{value:!0}),e.baseDecode=e.baseEncode=e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const n=t(bs58$1);e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=BigInt(10)**BigInt(e.NEAR_NOMINATION_EXP);const o=[],c=BigInt(10);for(let P=0,C=BigInt(5);P<e.NEAR_NOMINATION_EXP;P++,C=C*c)o[P]=C;function a(P,C=e.NEAR_NOMINATION_EXP){let x=BigInt(P);if(C!==e.NEAR_NOMINATION_EXP){const B=e.NEAR_NOMINATION_EXP-C-1;B>0&&(x+=o[B])}P=x.toString();const D=P.substring(0,P.length-e.NEAR_NOMINATION_EXP)||"0",k=P.substring(P.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,C);return v(`${y(D)}.${k}`)}e.formatNearAmount=a;function u(P){if(!P)return null;P=h(P);const C=P.split("."),x=C[0],D=C[1]||"";if(C.length>2||D.length>e.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${P}' as NEAR amount`);return b(x+D.padEnd(e.NEAR_NOMINATION_EXP,"0"))}e.parseNearAmount=u;function h(P){return P.replace(/,/g,"").trim()}function v(P){return P.replace(/\.?0*$/,"")}function b(P){return P=P.replace(/^0+/,""),P===""?"0":P}function y(P){const C=/(-?\d+)(\d{3})/;for(;C.test(P);)P=P.replace(C,"$1,$2");return P}function w(P){if(typeof P=="string"){const C=[];for(let x=0;x<P.length;x++)C.push(P.charCodeAt(x));P=new Uint8Array(C)}return n.default.encode(P)}e.baseEncode=w;function O(P){return new Uint8Array(n.default.decode(P))}e.baseDecode=O})(format$7);const GasLimitExceeded$1="Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName$1="Method name is empty",WasmerCompileError$1="Wasmer compilation error: {{msg}}",GuestPanic$1="Smart contract panicked: {{panic_msg}}",Memory$1="Error creating Wasm memory",GasExceeded$1="Exceeded the prepaid gas",MethodUTF8Error$1="Method name is not valid UTF8 string",BadUTF16$1="String encoding is bad UTF-16 sequence",WasmTrap$1="WebAssembly trap: {{msg}}",GasInstrumentation$1="Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex$1="{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex$1="Accessed invalid promise result index: {{result_idx}}",Deserialization$1="Error happened while deserializing the module",MethodNotFound$1="Contract method is not found",InvalidRegisterId$1="Accessed invalid register id: {{register_id}}",InvalidReceiptIndex$1="VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName$1="Method name is empty in contract call",CannotReturnJointPromise$1="Returning joint promise is currently prohibited",StackHeightInstrumentation$1="Stack instrumentation failed",CodeDoesNotExist$1="Cannot find contract code for account {{account_id}}",MethodInvalidSignature$1="Invalid method signature",IntegerOverflow$1="Integer overflow happened during contract execution",MemoryAccessViolation$1="MemoryAccessViolation",InvalidIteratorIndex$1="Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated$1="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId$1="VM Logic returned an invalid account id",Serialization$1="Error happened while serializing the module",CannotAppendActionToJointPromise$1="Actions can only be appended to non-joint promise.",InternalMemoryDeclared$1="Internal memory declaration has been found in the module",Instantiate$1="Error happened during instantiation",ProhibitedInView$1="{{method_name}} is not allowed in view calls",InvalidMethodName$1="VM Logic returned an invalid method name",BadUTF8$1="String encoding is bad UTF-8 sequence",BalanceExceeded$1="Exceeded the account balance",LinkError$1="Wasm contract link error: {{msg}}",InvalidPublicKey$1="VM Logic provided an invalid public key",ActorNoPermission$1="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState$1="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch$1="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow$1="Transaction gas or balance cost is too high",InvalidSignature$1="Transaction is not signed with the given public key",AccessKeyNotFound$1=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance$1="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance$1="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired$1="Transaction has expired",DeleteAccountStaking$1="Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist$1="Signer {{signer_id}} does not exist",TriesToStake$1="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists$1="The public key {{public_key}} is already used for an existing access key",InvalidSigner$1="Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed$1="The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess$1="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake$1="Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce$1="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists$1="Can't create a new account {{account_id}}, because it already exists",InvalidChain$1="Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist$1="Can't complete the action because account {{account_id}} doesn't exist",AccessKeyDoesNotExist$1="Can't complete the action because access key {{public_key}} doesn't exist",MethodNameMismatch$1="Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent$1="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance$1="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver$1="Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist$1="Account {{account_id}} tries to remove an access key that doesn't exist",Timeout$1="Timeout exceeded",Closed$1="Connection closed",require$$3$2={GasLimitExceeded:GasLimitExceeded$1,MethodEmptyName:MethodEmptyName$1,WasmerCompileError:WasmerCompileError$1,GuestPanic:GuestPanic$1,Memory:Memory$1,GasExceeded:GasExceeded$1,MethodUTF8Error:MethodUTF8Error$1,BadUTF16:BadUTF16$1,WasmTrap:WasmTrap$1,GasInstrumentation:GasInstrumentation$1,InvalidPromiseIndex:InvalidPromiseIndex$1,InvalidPromiseResultIndex:InvalidPromiseResultIndex$1,Deserialization:Deserialization$1,MethodNotFound:MethodNotFound$1,InvalidRegisterId:InvalidRegisterId$1,InvalidReceiptIndex:InvalidReceiptIndex$1,EmptyMethodName:EmptyMethodName$1,CannotReturnJointPromise:CannotReturnJointPromise$1,StackHeightInstrumentation:StackHeightInstrumentation$1,CodeDoesNotExist:CodeDoesNotExist$1,MethodInvalidSignature:MethodInvalidSignature$1,IntegerOverflow:IntegerOverflow$1,MemoryAccessViolation:MemoryAccessViolation$1,InvalidIteratorIndex:InvalidIteratorIndex$1,IteratorWasInvalidated:IteratorWasInvalidated$1,InvalidAccountId:InvalidAccountId$1,Serialization:Serialization$1,CannotAppendActionToJointPromise:CannotAppendActionToJointPromise$1,InternalMemoryDeclared:InternalMemoryDeclared$1,Instantiate:Instantiate$1,ProhibitedInView:ProhibitedInView$1,InvalidMethodName:InvalidMethodName$1,BadUTF8:BadUTF8$1,BalanceExceeded:BalanceExceeded$1,LinkError:LinkError$1,InvalidPublicKey:InvalidPublicKey$1,ActorNoPermission:ActorNoPermission$1,LackBalanceForState:LackBalanceForState$1,ReceiverMismatch:ReceiverMismatch$1,CostOverflow:CostOverflow$1,InvalidSignature:InvalidSignature$1,AccessKeyNotFound:AccessKeyNotFound$1,NotEnoughBalance:NotEnoughBalance$1,NotEnoughAllowance:NotEnoughAllowance$1,Expired:Expired$1,DeleteAccountStaking:DeleteAccountStaking$1,SignerDoesNotExist:SignerDoesNotExist$1,TriesToStake:TriesToStake$1,AddKeyAlreadyExists:AddKeyAlreadyExists$1,InvalidSigner:InvalidSigner$1,CreateAccountNotAllowed:CreateAccountNotAllowed$1,RequiresFullAccess:RequiresFullAccess$1,TriesToUnstake:TriesToUnstake$1,InvalidNonce:InvalidNonce$1,AccountAlreadyExists:AccountAlreadyExists$1,InvalidChain:InvalidChain$1,AccountDoesNotExist:AccountDoesNotExist$1,AccessKeyDoesNotExist:AccessKeyDoesNotExist$1,MethodNameMismatch:MethodNameMismatch$1,DeleteAccountHasRent:DeleteAccountHasRent$1,DeleteAccountHasEnoughBalance:DeleteAccountHasEnoughBalance$1,InvalidReceiver:InvalidReceiver$1,DeleteKeyDoesNotExist:DeleteKeyDoesNotExist$1,Timeout:Timeout$1,Closed:Closed$1},schema$3={AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},AltBn128InvalidInput:{name:"AltBn128InvalidInput",subtypes:[],props:{msg:""}},BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DelegateActionExpired:{name:"DelegateActionExpired",subtypes:[],props:{}},DelegateActionInvalidNonce:{name:"DelegateActionInvalidNonce",subtypes:[],props:{ak_nonce:"",delegate_nonce:""}},DelegateActionInvalidSignature:{name:"DelegateActionInvalidSignature",subtypes:[],props:{}},DelegateActionMustBeOnlyOne:{name:"DelegateActionMustBeOnlyOne",subtypes:[],props:{}},DelegateActionNonceTooLarge:{name:"DelegateActionNonceTooLarge",subtypes:[],props:{delegate_nonce:"",upper_bound:""}},DelegateActionSenderDoesNotMatchTxReceiver:{name:"DelegateActionSenderDoesNotMatchTxReceiver",subtypes:[],props:{receiver_id:"",sender_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteAccountWithLargeState:{name:"DeleteAccountWithLargeState",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},ECRecoverError:{name:"ECRecoverError",subtypes:[],props:{msg:""}},Ed25519VerifyInvalidInput:{name:"Ed25519VerifyInvalidInput",subtypes:[],props:{msg:""}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},IndirectCallToNull:{name:"IndirectCallToNull",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded"],props:{}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NonceTooLarge:{name:"NonceTooLarge",subtypes:[],props:{tx_nonce:"",upper_bound:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TooManyFunctions:{name:"TooManyFunctions",subtypes:[],props:{}},TooManyLocals:{name:"TooManyLocals",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TransactionSizeExceeded:{name:"TransactionSizeExceeded",subtypes:[],props:{limit:"",size:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},UnsupportedProtocolFeature:{name:"UnsupportedProtocolFeature",subtypes:[],props:{protocol_feature:"",version:""}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},Closed:{name:"Closed",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}},require$$4$1={schema:schema$3};var __importDefault$h=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rpc_errors$3,"__esModule",{value:!0}),rpc_errors$3.getErrorTypeFromErrorMessage=rpc_errors$3.formatError=rpc_errors$3.parseResultError=rpc_errors$3.parseRpcError=rpc_errors$3.ServerError=void 0;const types_1$q=lib$g,mustache_1$1=__importDefault$h(mustacheExports$1),format_1$3=format$7,error_messages_json_1$1=__importDefault$h(require$$3$2),rpc_error_schema_json_1$1=__importDefault$h(require$$4$1),mustacheHelpers$1={formatNear:()=>(e,t)=>(0,format_1$3.formatNearAmount)(t(e))};let ServerError$1=class extends types_1$q.TypedError{};rpc_errors$3.ServerError=ServerError$1;let ServerTransactionError$1=class extends ServerError$1{};function parseRpcError$1(e){const t={},n=walkSubtype$1(e,rpc_error_schema_json_1$1.default.schema,t,""),o=new ServerError$1(formatError$1(n,t),n);return Object.assign(o,t),o}rpc_errors$3.parseRpcError=parseRpcError$1;function parseResultError$1(e){const t=parseRpcError$1(e.status.Failure),n=new ServerTransactionError$1;return Object.assign(n,t),n.type=t.type,n.message=t.message,n.transaction_outcome=e.transaction_outcome,n}rpc_errors$3.parseResultError=parseResultError$1;function formatError$1(e,t){return typeof error_messages_json_1$1.default[e]=="string"?mustache_1$1.default.render(error_messages_json_1$1.default[e],Object.assign(Object.assign({},t),mustacheHelpers$1)):JSON.stringify(t)}rpc_errors$3.formatError=formatError$1;function walkSubtype$1(e,t,n,o){let c,a,u;for(const h in t){if(isString$1(e[h]))return e[h];if(isObject$e(e[h]))c=e[h],a=t[h],u=h;else if(isObject$e(e.kind)&&isObject$e(e.kind[h]))c=e.kind[h],a=t[h],u=h;else continue}if(c&&a){for(const h of Object.keys(a.props))n[h]=c[h];return walkSubtype$1(c,t,n,u)}else return n.kind=e,o}function getErrorTypeFromErrorMessage$1(e,t){switch(!0){case/^account .*? does not exist while viewing$/.test(e):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(e):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(e):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(e):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(e):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(e):return"InvalidNonce";default:return t}}rpc_errors$3.getErrorTypeFromErrorMessage=getErrorTypeFromErrorMessage$1;function isObject$e(e){return Object.prototype.toString.call(e)==="[object Object]"}function isString$1(e){return Object.prototype.toString.call(e)==="[object String]"}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseRpcError=e.parseResultError=e.getErrorTypeFromErrorMessage=e.formatError=e.ServerError=e.logWarning=void 0;var t=errors$8;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return t.logWarning}});var n=rpc_errors$3;Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return n.ServerError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return n.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return n.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return n.parseResultError}}),Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return n.parseRpcError}})})(errors$9);var logging$1={};Object.defineProperty(logging$1,"__esModule",{value:!0}),logging$1.printTxOutcomeLogs=logging$1.printTxOutcomeLogsAndFailures=void 0;const errors_1$6=errors$9,logger_1$2=logger$5;function printTxOutcomeLogsAndFailures$1({contractId:e,outcome:t}){const n=[t.transaction_outcome,...t.receipts_outcome].reduce((o,c)=>{const a=typeof c.outcome.status=="object"&&typeof c.outcome.status.Failure=="object";return c.outcome.logs.length||a?o.concat({receiptIds:c.outcome.receipt_ids,logs:c.outcome.logs,failure:typeof c.outcome.status=="object"&&c.outcome.status.Failure!==void 0?(0,errors_1$6.parseRpcError)(c.outcome.status.Failure):null}):o},[]);for(const o of n)logger_1$2.Logger.log(`Receipt${o.receiptIds.length>1?"s":""}: ${o.receiptIds.join(", ")}`),printTxOutcomeLogs$1({contractId:e,logs:o.logs,prefix:"	"}),o.failure&&logger_1$2.Logger.warn(`	Failure [${e}]: ${o.failure}`)}logging$1.printTxOutcomeLogsAndFailures=printTxOutcomeLogsAndFailures$1;function printTxOutcomeLogs$1({contractId:e,logs:t,prefix:n=""}){for(const o of t)logger_1$2.Logger.log(`${n}Log [${e}]: ${o}`)}logging$1.printTxOutcomeLogs=printTxOutcomeLogs$1;var provider$5={};Object.defineProperty(provider$5,"__esModule",{value:!0}),provider$5.getTransactionLastResult=void 0;function getTransactionLastResult$1(e){if(typeof e.status=="object"&&typeof e.status.SuccessValue=="string"){const t=Buffer$E.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(t)}catch{return t}}return null}provider$5.getTransactionLastResult=getTransactionLastResult$1;var validators$3={},utils$l={};Object.defineProperty(utils$l,"__esModule",{value:!0}),utils$l.sortBigIntAsc=void 0;function sortBigIntAsc(e,t){return e<t?-1:e>t?1:0}utils$l.sortBigIntAsc=sortBigIntAsc;var __importDefault$g=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(validators$3,"__esModule",{value:!0}),validators$3.diffEpochValidators=validators$3.findSeatPrice=void 0;const depd_1$3=__importDefault$g(browser$a),utils_1$s=utils$l;function findSeatPrice$1(e,t,n,o){return o&&o<49?findSeatPriceForProtocolBefore49$1(e,t):(n||((0,depd_1$3.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),n=[1,6250]),findSeatPriceForProtocolAfter49$1(e,t,n))}validators$3.findSeatPrice=findSeatPrice$1;function findSeatPriceForProtocolBefore49$1(e,t){const n=e.map(h=>BigInt(h.stake)).sort(utils_1$s.sortBigIntAsc),o=BigInt(t),c=n.reduce((h,v)=>h+v);if(c<o)throw new Error("Stakes are below seats");let a=BigInt(1),u=c+BigInt(1);for(;a!==u-BigInt(1);){const h=(a+u)/BigInt(2);let v=!1,b=BigInt(0);for(let y=0;y<n.length;++y)if(b=b+n[y]/h,b>=o){a=h,v=!0;break}v||(u=h)}return a}function findSeatPriceForProtocolAfter49$1(e,t,n){if(n.length!=2)throw Error("minimumStakeRatio should have 2 elements");const o=e.map(a=>BigInt(a.stake)).sort(utils_1$s.sortBigIntAsc),c=o.reduce((a,u)=>a+u);return e.length<t?c*BigInt(n[0])/BigInt(n[1]):o[0]+BigInt(1)}function diffEpochValidators$1(e,t){const n=new Map;e.forEach(c=>n.set(c.account_id,c));const o=new Set(t.map(c=>c.account_id));return{newValidators:t.filter(c=>!n.has(c.account_id)),removedValidators:e.filter(c=>!o.has(c.account_id)),changedValidators:t.filter(c=>n.has(c.account_id)&&n.get(c.account_id).stake!=c.stake).map(c=>({current:n.get(c.account_id),next:c}))}}validators$3.diffEpochValidators=diffEpochValidators$1,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(constants$4,e),n(errors$9,e),n(format$7,e),n(logging$1,e),n(provider$5,e),n(validators$3,e),n(logger$5,e),n(utils$l,e)}(lib$h);var public_key$1={};Object.defineProperty(public_key$1,"__esModule",{value:!0}),public_key$1.PublicKey=void 0;const types_1$p=lib$g,utils_1$r=lib$h,ed25519_1$3=ed25519,constants_1$7=constants$5;function key_type_to_str$1(e){switch(e){case constants_1$7.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${e}`)}}function str_to_key_type$1(e){switch(e.toLowerCase()){case"ed25519":return constants_1$7.KeyType.ED25519;default:throw new Error(`Unknown key type ${e}`)}}let PublicKey$1=class Ht extends types_1$p.Assignable{static from(t){return typeof t=="string"?Ht.fromString(t):t}static fromString(t){const n=t.split(":");let o,c=constants_1$7.KeyType.ED25519;if(n.length===1)o=n[0];else if(n.length===2)o=n[1],c=str_to_key_type$1(n[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const a=(0,utils_1$r.baseDecode)(o);if(a.length!==constants_1$7.KeySize.SECRET_KEY)throw new Error(`Invalid public key size (${a.length}), must be ${constants_1$7.KeySize.SECRET_KEY}`);return new Ht({keyType:c,data:a})}toString(){return`${key_type_to_str$1(this.keyType)}:${(0,utils_1$r.baseEncode)(this.data)}`}verify(t,n){switch(this.keyType){case constants_1$7.KeyType.ED25519:return ed25519_1$3.ed25519.verify(n,t,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}};public_key$1.PublicKey=PublicKey$1;var __importDefault$f=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(key_pair_ed25519$1,"__esModule",{value:!0}),key_pair_ed25519$1.KeyPairEd25519=void 0;const utils_1$q=lib$h,ed25519_1$2=ed25519,randombytes_1$1=__importDefault$f(browserExports),constants_1$6=constants$5,key_pair_base_1$3=key_pair_base$1,public_key_1$1=public_key$1;let KeyPairEd25519$1=class ir extends key_pair_base_1$3.KeyPairBase{constructor(t){super();const n=(0,utils_1$q.baseDecode)(t),o=new Uint8Array(n.slice(0,constants_1$6.KeySize.SECRET_KEY)),c=ed25519_1$2.ed25519.getPublicKey(new Uint8Array(o));this.publicKey=new public_key_1$1.PublicKey({keyType:constants_1$6.KeyType.ED25519,data:c}),this.secretKey=(0,utils_1$q.baseEncode)(o),this.extendedSecretKey=t}static fromRandom(){const t=(0,randombytes_1$1.default)(constants_1$6.KeySize.SECRET_KEY),n=ed25519_1$2.ed25519.getPublicKey(new Uint8Array(t)),o=new Uint8Array([...t,...n]);return new ir((0,utils_1$q.baseEncode)(o))}sign(t){return{signature:ed25519_1$2.ed25519.sign(t,(0,utils_1$q.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(t,n){return this.publicKey.verify(t,n)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}};key_pair_ed25519$1.KeyPairEd25519=KeyPairEd25519$1,Object.defineProperty(key_pair$3,"__esModule",{value:!0}),key_pair$3.KeyPair=void 0;const key_pair_base_1$2=key_pair_base$1,key_pair_ed25519_1$1=key_pair_ed25519$1;let KeyPair$1=class extends key_pair_base_1$2.KeyPairBase{static fromRandom(e){switch(e.toUpperCase()){case"ED25519":return key_pair_ed25519_1$1.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${e}`)}}static fromString(e){const t=e.split(":");if(t.length===1)return new key_pair_ed25519_1$1.KeyPairEd25519(t[0]);if(t.length===2)switch(t[0].toUpperCase()){case"ED25519":return new key_pair_ed25519_1$1.KeyPairEd25519(t[1]);default:throw new Error(`Unknown curve: ${t[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}};key_pair$3.KeyPair=KeyPair$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var t=constants$5;Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}});var n=key_pair$3;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return n.KeyPair}});var o=key_pair_ed25519$1;Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return o.KeyPairEd25519}});var c=public_key$1;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return c.PublicKey}})}(lib$i);var keystore$2={};Object.defineProperty(keystore$2,"__esModule",{value:!0}),keystore$2.KeyStore=void 0;let KeyStore$1=class{};keystore$2.KeyStore=KeyStore$1;var __awaiter$I=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(in_memory_key_store$3,"__esModule",{value:!0}),in_memory_key_store$3.InMemoryKeyStore=void 0;const crypto_1$f=lib$i,keystore_1$3=keystore$2;let InMemoryKeyStore$1=class extends keystore_1$3.KeyStore{constructor(){super(),this.keys={}}setKey(e,t,n){return __awaiter$I(this,void 0,void 0,function*(){this.keys[`${t}:${e}`]=n.toString()})}getKey(e,t){return __awaiter$I(this,void 0,void 0,function*(){const n=this.keys[`${t}:${e}`];return n?crypto_1$f.KeyPair.fromString(n):null})}removeKey(e,t){return __awaiter$I(this,void 0,void 0,function*(){delete this.keys[`${t}:${e}`]})}clear(){return __awaiter$I(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return __awaiter$I(this,void 0,void 0,function*(){const e=new Set;return Object.keys(this.keys).forEach(t=>{const n=t.split(":");e.add(n[1])}),Array.from(e.values())})}getAccounts(e){return __awaiter$I(this,void 0,void 0,function*(){const t=new Array;return Object.keys(this.keys).forEach(n=>{const o=n.split(":");o[o.length-1]===e&&t.push(o.slice(0,o.length-1).join(":"))}),t})}toString(){return"InMemoryKeyStore"}};in_memory_key_store$3.InMemoryKeyStore=InMemoryKeyStore$1;var merge_key_store$3={},__awaiter$H=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(merge_key_store$3,"__esModule",{value:!0}),merge_key_store$3.MergeKeyStore=void 0;const keystore_1$2=keystore$2;let MergeKeyStore$1=class extends keystore_1$2.KeyStore{constructor(e,t={writeKeyStoreIndex:0}){super(),this.options=t,this.keyStores=e}setKey(e,t,n){return __awaiter$H(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(e,t,n)})}getKey(e,t){return __awaiter$H(this,void 0,void 0,function*(){for(const n of this.keyStores){const o=yield n.getKey(e,t);if(o)return o}return null})}removeKey(e,t){return __awaiter$H(this,void 0,void 0,function*(){for(const n of this.keyStores)yield n.removeKey(e,t)})}clear(){return __awaiter$H(this,void 0,void 0,function*(){for(const e of this.keyStores)yield e.clear()})}getNetworks(){return __awaiter$H(this,void 0,void 0,function*(){const e=new Set;for(const t of this.keyStores)for(const n of yield t.getNetworks())e.add(n);return Array.from(e)})}getAccounts(e){return __awaiter$H(this,void 0,void 0,function*(){const t=new Set;for(const n of this.keyStores)for(const o of yield n.getAccounts(e))t.add(o);return Array.from(t)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}};merge_key_store$3.MergeKeyStore=MergeKeyStore$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.KeyStore=e.InMemoryKeyStore=void 0;var t=in_memory_key_store$3;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}});var n=keystore$2;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return n.KeyStore}});var o=merge_key_store$3;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return o.MergeKeyStore}})}(lib$j),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0;var t=lib$j;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}})}(keystore$3);var in_memory_key_store$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;var t=lib$j;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}})})(in_memory_key_store$2);var browser_local_storage_key_store$3={},lib$f={},browser_local_storage_key_store$2={},__awaiter$G=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(browser_local_storage_key_store$2,"__esModule",{value:!0}),browser_local_storage_key_store$2.BrowserLocalStorageKeyStore=void 0;const crypto_1$e=lib$i,keystores_1$3=lib$j,LOCAL_STORAGE_KEY_PREFIX$1="near-api-js:keystore:";let BrowserLocalStorageKeyStore$1=class extends keystores_1$3.KeyStore{constructor(e=window.localStorage,t=LOCAL_STORAGE_KEY_PREFIX$1){super(),this.localStorage=e,this.prefix=t}setKey(e,t,n){return __awaiter$G(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(e,t),n.toString())})}getKey(e,t){return __awaiter$G(this,void 0,void 0,function*(){const n=this.localStorage.getItem(this.storageKeyForSecretKey(e,t));return n?crypto_1$e.KeyPair.fromString(n):null})}removeKey(e,t){return __awaiter$G(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(e,t))})}clear(){return __awaiter$G(this,void 0,void 0,function*(){for(const e of this.storageKeys())e.startsWith(this.prefix)&&this.localStorage.removeItem(e)})}getNetworks(){return __awaiter$G(this,void 0,void 0,function*(){const e=new Set;for(const t of this.storageKeys())if(t.startsWith(this.prefix)){const n=t.substring(this.prefix.length).split(":");e.add(n[1])}return Array.from(e.values())})}getAccounts(e){return __awaiter$G(this,void 0,void 0,function*(){const t=new Array;for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const o=n.substring(this.prefix.length).split(":");o[1]===e&&t.push(o[0])}return t})}storageKeyForSecretKey(e,t){return`${this.prefix}${t}:${e}`}*storageKeys(){for(let e=0;e<this.localStorage.length;e++)yield this.localStorage.key(e)}};browser_local_storage_key_store$2.BrowserLocalStorageKeyStore=BrowserLocalStorageKeyStore$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var t=browser_local_storage_key_store$2;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}})}(lib$f),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var t=lib$f;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}})}(browser_local_storage_key_store$3);var merge_key_store$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;var t=lib$j;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return t.MergeKeyStore}})})(merge_key_store$2),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.BrowserLocalStorageKeyStore=e.InMemoryKeyStore=e.KeyStore=void 0;const t=keystore$3;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}});const n=in_memory_key_store$2;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return n.InMemoryKeyStore}});const o=browser_local_storage_key_store$3;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return o.BrowserLocalStorageKeyStore}});const c=merge_key_store$2;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return c.MergeKeyStore}})}(browserIndex$3);var commonIndex$1={},providers$1={},provider$4={},lib$e={},exponentialBackoff$3={},__awaiter$F=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(exponentialBackoff$3,"__esModule",{value:!0}),exponentialBackoff$3.exponentialBackoff=void 0;function exponentialBackoff$2(e,t,n,o){return __awaiter$F(this,void 0,void 0,function*(){let c=e;for(let a=0;a<t;a++){const u=yield o();if(u)return u;yield sleep$1(c),c*=n}return null})}exponentialBackoff$3.exponentialBackoff=exponentialBackoff$2;function sleep$1(e){return new Promise(t=>setTimeout(t,e))}var jsonRpcProvider$3={},lib$d={},action_creators$1={},actions$1={};Object.defineProperty(actions$1,"__esModule",{value:!0}),actions$1.Action=actions$1.SignedDelegate=actions$1.DeleteAccount=actions$1.DeleteKey=actions$1.AddKey=actions$1.Stake=actions$1.Transfer=actions$1.FunctionCall=actions$1.DeployContract=actions$1.CreateAccount=actions$1.IAction=actions$1.AccessKey=actions$1.AccessKeyPermission=actions$1.FullAccessPermission=actions$1.FunctionCallPermission=void 0;const types_1$o=lib$g;let Enum$1=class{constructor(e){if(Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this[t]=e[t],this.enum=t})}},FunctionCallPermission$1=class extends types_1$o.Assignable{};actions$1.FunctionCallPermission=FunctionCallPermission$1;let FullAccessPermission$1=class extends types_1$o.Assignable{};actions$1.FullAccessPermission=FullAccessPermission$1;let AccessKeyPermission$1=class extends Enum$1{};actions$1.AccessKeyPermission=AccessKeyPermission$1;let AccessKey$1=class extends types_1$o.Assignable{};actions$1.AccessKey=AccessKey$1;let IAction$1=class extends types_1$o.Assignable{};actions$1.IAction=IAction$1;let CreateAccount$1=class extends IAction$1{};actions$1.CreateAccount=CreateAccount$1;let DeployContract$1=class extends IAction$1{};actions$1.DeployContract=DeployContract$1;let FunctionCall$1=class extends IAction$1{};actions$1.FunctionCall=FunctionCall$1;let Transfer$1=class extends IAction$1{};actions$1.Transfer=Transfer$1;let Stake$1=class extends IAction$1{};actions$1.Stake=Stake$1;let AddKey$1=class extends IAction$1{};actions$1.AddKey=AddKey$1;let DeleteKey$1=class extends IAction$1{};actions$1.DeleteKey=DeleteKey$1;let DeleteAccount$1=class extends IAction$1{};actions$1.DeleteAccount=DeleteAccount$1;let SignedDelegate$1=class extends IAction$1{};actions$1.SignedDelegate=SignedDelegate$1;let Action$1=class extends Enum$1{};actions$1.Action=Action$1,Object.defineProperty(action_creators$1,"__esModule",{value:!0}),action_creators$1.actionCreators=action_creators$1.stringifyJsonOrBytes=void 0;const actions_1$3=actions$1;function fullAccessKey$5(){return new actions_1$3.AccessKey({nonce:0,permission:new actions_1$3.AccessKeyPermission({fullAccess:new actions_1$3.FullAccessPermission({})})})}function functionCallAccessKey$5(e,t,n){return new actions_1$3.AccessKey({nonce:0,permission:new actions_1$3.AccessKeyPermission({functionCall:new actions_1$3.FunctionCallPermission({receiverId:e,allowance:n,methodNames:t})})})}function createAccount$5(){return new actions_1$3.Action({createAccount:new actions_1$3.CreateAccount({})})}function deployContract$9(e){return new actions_1$3.Action({deployContract:new actions_1$3.DeployContract({code:e})})}function stringifyJsonOrBytes$1(e){return e.byteLength!==void 0&&e.byteLength===e.length?e:Buffer$E.from(JSON.stringify(e))}action_creators$1.stringifyJsonOrBytes=stringifyJsonOrBytes$1;function functionCall$b(e,t,n=BigInt(0),o=BigInt(0),c=stringifyJsonOrBytes$1,a=!1){return a?new actions_1$3.Action({functionCall:new actions_1$3.FunctionCall({methodName:e,args:t,gas:n,deposit:o})}):new actions_1$3.Action({functionCall:new actions_1$3.FunctionCall({methodName:e,args:c(t),gas:n,deposit:o})})}function transfer$5(e=BigInt(0)){return new actions_1$3.Action({transfer:new actions_1$3.Transfer({deposit:e})})}function stake$5(e=BigInt(0),t){return new actions_1$3.Action({stake:new actions_1$3.Stake({stake:e,publicKey:t})})}function addKey$7(e,t){return new actions_1$3.Action({addKey:new actions_1$3.AddKey({publicKey:e,accessKey:t})})}function deleteKey$7(e){return new actions_1$3.Action({deleteKey:new actions_1$3.DeleteKey({publicKey:e})})}function deleteAccount$5(e){return new actions_1$3.Action({deleteAccount:new actions_1$3.DeleteAccount({beneficiaryId:e})})}function signedDelegate$1({delegateAction:e,signature:t}){return new actions_1$3.Action({signedDelegate:new actions_1$3.SignedDelegate({delegateAction:e,signature:t})})}action_creators$1.actionCreators={addKey:addKey$7,createAccount:createAccount$5,deleteAccount:deleteAccount$5,deleteKey:deleteKey$7,deployContract:deployContract$9,fullAccessKey:fullAccessKey$5,functionCall:functionCall$b,functionCallAccessKey:functionCallAccessKey$5,signedDelegate:signedDelegate$1,stake:stake$5,transfer:transfer$5};var create_transaction$1={},schema$2={},cjs$3={},serialize$9={},types$6={};types$6.__esModule=!0,types$6.integers=void 0,types$6.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer$3={};buffer$3.__esModule=!0,buffer$3.DecodeBuffer=buffer$3.EncodeBuffer=void 0;var EncodeBuffer$3=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(t){if(this.buffer_size-this.offset<t){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+t);var n=new ArrayBuffer(this.buffer_size);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n,this.view=new DataView(n)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(t,n){var o=n.substring(1),c=parseInt(o)/8;this.resize_if_necessary(c);var a=n[0]==="f"?"setFloat".concat(o):n[0]==="i"?"setInt".concat(o):"setUint".concat(o);this.view[a](this.offset,t,!0),this.offset+=c},e.prototype.store_bytes=function(t){this.resize_if_necessary(t.length),new Uint8Array(this.buffer).set(new Uint8Array(t),this.offset),this.offset+=t.length},e}();buffer$3.EncodeBuffer=EncodeBuffer$3;var DecodeBuffer$3=function(){function e(t){this.offset=0,this.buffer_size=t.length,this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(t){var n=t.substring(1),o=parseInt(n)/8;this.assert_enough_buffer(o);var c=t[0]==="f"?"getFloat".concat(n):t[0]==="i"?"getInt".concat(n):"getUint".concat(n),a=this.view[c](this.offset,!0);return this.offset+=o,a},e.prototype.consume_bytes=function(t){this.assert_enough_buffer(t);var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n},e}();buffer$3.DecodeBuffer=DecodeBuffer$3;var utils$k={},__extends$3=commonjsGlobal$7&&commonjsGlobal$7.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(o[a]=c[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();utils$k.__esModule=!0,utils$k.validate_schema=utils$k.ErrorSchema=utils$k.expect_enum=utils$k.expect_same_size=utils$k.expect_bigint=utils$k.expect_type=utils$k.isArrayLike=void 0;var types_js_1$b=types$6;function isArrayLike$3(e){return Array.isArray(e)||!!e&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&e.length-1 in e)}utils$k.isArrayLike=isArrayLike$3;function expect_type$3(e,t,n){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(n.join(".")))}utils$k.expect_type=expect_type$3;function expect_bigint$3(e,t){var n=["number","string","bigint","boolean"].includes(typeof e),o=typeof e=="object"&&e!==null&&"toString"in e;if(!n&&!o)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$k.expect_bigint=expect_bigint$3;function expect_same_size$3(e,t,n){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(n.join(".")))}utils$k.expect_same_size=expect_same_size$3;function expect_enum$3(e,t){if(typeof e!="object"||e===null)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$k.expect_enum=expect_enum$3;var VALID_STRING_TYPES$3=types_js_1$b.integers.concat(["bool","string"]),VALID_OBJECT_KEYS$3=["option","enum","array","set","map","struct"],ErrorSchema$3=function(e){__extends$3(t,e);function t(n,o){var c="Invalid schema: ".concat(JSON.stringify(n)," expected ").concat(o);return e.call(this,c)||this}return t}(Error);utils$k.ErrorSchema=ErrorSchema$3;function validate_schema$3(e){if(!(typeof e=="string"&&VALID_STRING_TYPES$3.includes(e))){if(e&&typeof e=="object"){var t=Object.keys(e);if(t.length===1&&VALID_OBJECT_KEYS$3.includes(t[0])){var n=t[0];if(n==="option")return validate_schema$3(e[n]);if(n==="enum")return validate_enum_schema$3(e[n]);if(n==="array")return validate_array_schema$3(e[n]);if(n==="set")return validate_schema$3(e[n]);if(n==="map")return validate_map_schema$3(e[n]);if(n==="struct")return validate_struct_schema$3(e[n])}}throw new ErrorSchema$3(e,VALID_OBJECT_KEYS$3.join(", ")+" or "+VALID_STRING_TYPES$3.join(", "))}}utils$k.validate_schema=validate_schema$3;function validate_enum_schema$3(e){if(!Array.isArray(e))throw new ErrorSchema$3(e,"Array");for(var t=0,n=e;t<n.length;t++){var o=n[t];if(typeof o!="object"||!("struct"in o))throw new Error('Missing "struct" key in enum schema');if(typeof o.struct!="object"||Object.keys(o.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema$3({struct:o.struct})}}function validate_array_schema$3(e){if(typeof e!="object")throw new ErrorSchema$3(e,"{ type, len? }");if(e.len&&typeof e.len!="number")throw new Error("Invalid schema: ".concat(e));if("type"in e)return validate_schema$3(e.type);throw new ErrorSchema$3(e,"{ type, len? }")}function validate_map_schema$3(e){if(typeof e=="object"&&"key"in e&&"value"in e)validate_schema$3(e.key),validate_schema$3(e.value);else throw new ErrorSchema$3(e,"{ key, value }")}function validate_struct_schema$3(e){if(typeof e!="object")throw new ErrorSchema$3(e,"object");for(var t in e)validate_schema$3(e[t])}var __createBinding$a=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$a=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$a=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$a(t,e,n);return __setModuleDefault$a(t,e),t};serialize$9.__esModule=!0,serialize$9.BorshSerializer=void 0;var types_js_1$a=types$6,buffer_js_1$7=buffer$3,utils$j=__importStar$a(utils$k),BorshSerializer$3=function(){function e(t){this.encoded=new buffer_js_1$7.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=t}return e.prototype.encode=function(t,n){return this.encode_value(t,n),this.encoded.get_used_buffer()},e.prototype.encode_value=function(t,n){if(typeof n=="string"){if(types_js_1$a.integers.includes(n))return this.encode_integer(t,n);if(n==="string")return this.encode_string(t);if(n==="bool")return this.encode_boolean(t)}if(typeof n=="object"){if("option"in n)return this.encode_option(t,n);if("enum"in n)return this.encode_enum(t,n);if("array"in n)return this.encode_array(t,n);if("set"in n)return this.encode_set(t,n);if("map"in n)return this.encode_map(t,n);if("struct"in n)return this.encode_struct(t,n)}},e.prototype.encode_integer=function(t,n){var o=parseInt(n.substring(1));o<=32||n=="f64"?(this.checkTypes&&utils$j.expect_type(t,"number",this.fieldPath),this.encoded.store_value(t,n)):(this.checkTypes&&utils$j.expect_bigint(t,this.fieldPath),this.encode_bigint(BigInt(t),o))},e.prototype.encode_bigint=function(t,n){for(var o=n/8,c=new Uint8Array(o),a=0;a<o;a++)c[a]=Number(t&BigInt(255)),t=t>>BigInt(8);this.encoded.store_bytes(new Uint8Array(c))},e.prototype.encode_string=function(t){this.checkTypes&&utils$j.expect_type(t,"string",this.fieldPath);var n=t;this.encoded.store_value(n.length,"u32");for(var o=0;o<n.length;o++)this.encoded.store_value(n.charCodeAt(o),"u8")},e.prototype.encode_boolean=function(t){this.checkTypes&&utils$j.expect_type(t,"boolean",this.fieldPath),this.encoded.store_value(t?1:0,"u8")},e.prototype.encode_option=function(t,n){t==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(t,n.option))},e.prototype.encode_enum=function(t,n){this.checkTypes&&utils$j.expect_enum(t,this.fieldPath);for(var o=Object.keys(t)[0],c=0;c<n.enum.length;c++){var a=n.enum[c];if(o===Object.keys(a.struct)[0])return this.encoded.store_value(c,"u8"),this.encode_struct(t,a)}throw new Error("Enum key (".concat(o,") not found in enum schema: ").concat(JSON.stringify(n)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(t,n){if(utils$j.isArrayLike(t))return this.encode_arraylike(t,n);if(t instanceof ArrayBuffer)return this.encode_buffer(t,n);throw new Error("Expected Array-like not ".concat(typeof t,"(").concat(t,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(t,n){n.array.len?utils$j.expect_same_size(t.length,n.array.len,this.fieldPath):this.encoded.store_value(t.length,"u32");for(var o=0;o<t.length;o++)this.encode_value(t[o],n.array.type)},e.prototype.encode_buffer=function(t,n){n.array.len?utils$j.expect_same_size(t.byteLength,n.array.len,this.fieldPath):this.encoded.store_value(t.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(t))},e.prototype.encode_set=function(t,n){this.checkTypes&&utils$j.expect_type(t,"object",this.fieldPath);var o=t instanceof Set,c=o?Array.from(t.values()):Object.values(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.set)}},e.prototype.encode_map=function(t,n){this.checkTypes&&utils$j.expect_type(t,"object",this.fieldPath);var o=t instanceof Map,c=o?Array.from(t.keys()):Object.keys(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.map.key),this.encode_value(o?t.get(h):t[h],n.map.value)}},e.prototype.encode_struct=function(t,n){this.checkTypes&&utils$j.expect_type(t,"object",this.fieldPath);for(var o=0,c=Object.keys(n.struct);o<c.length;o++){var a=c[o];this.fieldPath.push(a),this.encode_value(t[a],n.struct[a]),this.fieldPath.pop()}},e}();serialize$9.BorshSerializer=BorshSerializer$3;var deserialize$7={};deserialize$7.__esModule=!0,deserialize$7.BorshDeserializer=void 0;var types_js_1$9=types$6,buffer_js_1$6=buffer$3,BorshDeserializer$3=function(){function e(t){this.buffer=new buffer_js_1$6.DecodeBuffer(t)}return e.prototype.decode=function(t){return this.decode_value(t)},e.prototype.decode_value=function(t){if(typeof t=="string"){if(types_js_1$9.integers.includes(t))return this.decode_integer(t);if(t==="string")return this.decode_string();if(t==="bool")return this.decode_boolean()}if(typeof t=="object"){if("option"in t)return this.decode_option(t);if("enum"in t)return this.decode_enum(t);if("array"in t)return this.decode_array(t);if("set"in t)return this.decode_set(t);if("map"in t)return this.decode_map(t);if("struct"in t)return this.decode_struct(t)}throw new Error("Unsupported type: ".concat(t))},e.prototype.decode_integer=function(t){var n=parseInt(t.substring(1));return n<=32||t=="f64"?this.buffer.consume_value(t):this.decode_bigint(n,t.startsWith("i"))},e.prototype.decode_bigint=function(t,n){n===void 0&&(n=!1);var o=t/8,c=new Uint8Array(this.buffer.consume_bytes(o)),a=c.reduceRight(function(u,h){return u+h.toString(16).padStart(2,"0")},"");return n&&c[o-1]?BigInt.asIntN(t,BigInt("0x".concat(a))):BigInt("0x".concat(a))},e.prototype.decode_string=function(){var t=this.decode_integer("u32"),n=new Uint8Array(this.buffer.consume_bytes(t));return String.fromCharCode.apply(null,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(t){var n=this.buffer.consume_value("u8");if(n===1)return this.decode_value(t.option);if(n!==0)throw new Error("Invalid option ".concat(n));return null},e.prototype.decode_enum=function(t){var n,o=this.buffer.consume_value("u8");if(o>t.enum.length)throw new Error("Enum option ".concat(o," is not available"));var c=t.enum[o].struct,a=Object.keys(c)[0];return n={},n[a]=this.decode_value(c[a]),n},e.prototype.decode_array=function(t){for(var n=[],o=t.array.len?t.array.len:this.decode_integer("u32"),c=0;c<o;++c)n.push(this.decode_value(t.array.type));return n},e.prototype.decode_set=function(t){for(var n=this.decode_integer("u32"),o=new Set,c=0;c<n;++c)o.add(this.decode_value(t.set));return o},e.prototype.decode_map=function(t){for(var n=this.decode_integer("u32"),o=new Map,c=0;c<n;++c){var a=this.decode_value(t.map.key),u=this.decode_value(t.map.value);o.set(a,u)}return o},e.prototype.decode_struct=function(t){var n={};for(var o in t.struct)n[o]=this.decode_value(t.struct[o]);return n},e}();deserialize$7.BorshDeserializer=BorshDeserializer$3;var __createBinding$9=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$9=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$9=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$9(t,e,n);return __setModuleDefault$9(t,e),t};cjs$3.__esModule=!0,cjs$3.deserialize=cjs$3.serialize=void 0;var serialize_js_1$3=serialize$9,deserialize_js_1$3=deserialize$7,utils$i=__importStar$9(utils$k);function serialize$8(e,t,n){n===void 0&&(n=!0),n&&utils$i.validate_schema(e);var o=new serialize_js_1$3.BorshSerializer(n);return o.encode(t,e)}cjs$3.serialize=serialize$8;function deserialize$6(e,t,n){n===void 0&&(n=!0),n&&utils$i.validate_schema(e);var o=new deserialize_js_1$3.BorshDeserializer(t);return o.decode(e)}cjs$3.deserialize=deserialize$6;var prefix$1={};Object.defineProperty(prefix$1,"__esModule",{value:!0}),prefix$1.DelegateActionPrefix=void 0;const types_1$n=lib$g,ACTIONABLE_MESSAGE_BASE$1=Math.pow(2,30),NEP$1={MetaTransactions:366};let NEPPrefix$1=class extends types_1$n.Assignable{},ActionableMessagePrefix$1=class extends NEPPrefix$1{constructor(e){super({prefix:ACTIONABLE_MESSAGE_BASE$1+e})}},DelegateActionPrefix$1=class extends ActionableMessagePrefix$1{constructor(){super(NEP$1.MetaTransactions)}};prefix$1.DelegateActionPrefix=DelegateActionPrefix$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SignedTransaction=e.Transaction=e.decodeSignedTransaction=e.decodeTransaction=e.encodeTransaction=e.encodeSignedDelegate=e.encodeDelegateAction=void 0;const t=lib$g,n=cjs$3,o=prefix$1;function c(w){return new Uint8Array([...(0,n.serialize)(e.SCHEMA.DelegateActionPrefix,new o.DelegateActionPrefix),...(0,n.serialize)(e.SCHEMA.DelegateAction,w)])}e.encodeDelegateAction=c;function a(w){return(0,n.serialize)(e.SCHEMA.SignedDelegate,w)}e.encodeSignedDelegate=a;function u(w){const O=w instanceof y?e.SCHEMA.SignedTransaction:e.SCHEMA.Transaction;return(0,n.serialize)(O,w)}e.encodeTransaction=u;function h(w){return new b((0,n.deserialize)(e.SCHEMA.Transaction,w))}e.decodeTransaction=h;function v(w){return new y((0,n.deserialize)(e.SCHEMA.SignedTransaction,w))}e.decodeSignedTransaction=v;class b extends t.Assignable{encode(){return u(this)}static decode(O){return h(O)}}e.Transaction=b;class y extends t.Assignable{encode(){return u(this)}static decode(O){return v(O)}}e.SignedTransaction=y,e.SCHEMA=new class{constructor(){this.Signature={struct:{keyType:"u8",data:{array:{type:"u8",len:64}}}},this.PublicKey={struct:{keyType:"u8",data:{array:{type:"u8",len:32}}}},this.FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}},this.FullAccessPermission={struct:{}},this.AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]},this.AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}},this.CreateAccount={struct:{}},this.DeployContract={struct:{code:{array:{type:"u8"}}}},this.FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}},this.Transfer={struct:{deposit:"u128"}},this.Stake={struct:{stake:"u128",publicKey:this.PublicKey}},this.AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}},this.DeleteKey={struct:{publicKey:this.PublicKey}},this.DeleteAccount={struct:{beneficiaryId:"string"}},this.DelegateActionPrefix={struct:{prefix:"u32"}},this.ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]},this.DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}},this.SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}},this.Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]},this.Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}},this.SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}}}}(schema$2),Object.defineProperty(create_transaction$1,"__esModule",{value:!0}),create_transaction$1.createTransaction=void 0;const schema_1$3=schema$2;function createTransaction$1(e,t,n,o,c,a){const u=typeof o=="bigint"?o:BigInt(o);return new schema_1$3.Transaction({signerId:e,publicKey:t,nonce:u,receiverId:n,actions:c,blockHash:a})}create_transaction$1.createTransaction=createTransaction$1;var delegate$1={};Object.defineProperty(delegate$1,"__esModule",{value:!0}),delegate$1.buildDelegateAction=delegate$1.DelegateAction=void 0;const types_1$m=lib$g,action_creators_1$1=action_creators$1,{addKey:addKey$6,createAccount:createAccount$4,deleteAccount:deleteAccount$4,deleteKey:deleteKey$6,deployContract:deployContract$8,functionCall:functionCall$a,stake:stake$4,transfer:transfer$4}=action_creators_1$1.actionCreators;let DelegateAction$1=class extends types_1$m.Assignable{};delegate$1.DelegateAction=DelegateAction$1;function buildDelegateAction$1({actions:e,maxBlockHeight:t,nonce:n,publicKey:o,receiverId:c,senderId:a}){return new DelegateAction$1({senderId:a,receiverId:c,actions:e.map(u=>{if(!u.type&&!u.params)return u;switch(u.type){case"AddKey":{const{publicKey:h,accessKey:v}=u.params;return addKey$6(h,v)}case"CreateAccount":return createAccount$4(u.params.createAccount);case"DeleteAccount":return deleteAccount$4(u.params.deleteAccount);case"DeleteKey":return deleteKey$6(u.params.publicKey);case"DeployContract":return deployContract$8(u.params.code);case"FunctionCall":{const{methodName:h,args:v,gas:b,deposit:y}=u.params;return functionCall$a(h,v,b,y)}case"Stake":return stake$4(u.params.stake,u.params.publicKey);case"Transfer":{const{deposit:h}=u.params;return transfer$4(h)}}throw new Error("Unrecognized action")}),nonce:n,maxBlockHeight:t,publicKey:o})}delegate$1.buildDelegateAction=buildDelegateAction$1;var sign$1={},sha256$1={},_sha2$1={},_assert$1={};Object.defineProperty(_assert$1,"__esModule",{value:!0}),_assert$1.output=_assert$1.exists=_assert$1.hash=_assert$1.bytes=_assert$1.bool=_assert$1.number=void 0;function number$1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}_assert$1.number=number$1;function bool$1(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}_assert$1.bool=bool$1;function isBytes$1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bytes$1(e,...t){if(!isBytes$1(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}_assert$1.bytes=bytes$1;function hash$1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(e.outputLen),number$1(e.blockLen)}_assert$1.hash=hash$1;function exists$1(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}_assert$1.exists=exists$1;function output$1(e,t){bytes$1(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}_assert$1.output=output$1;const assert$1={number:number$1,bool:bool$1,bytes:bytes$1,hash:hash$1,exists:exists$1,output:output$1};_assert$1.default=assert$1;var utils$h={},crypto$2={};Object.defineProperty(crypto$2,"__esModule",{value:!0}),crypto$2.crypto=void 0,crypto$2.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=crypto$2,n=Q=>new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength);e.u8=n;const o=Q=>new Uint32Array(Q.buffer,Q.byteOffset,Math.floor(Q.byteLength/4));e.u32=o;function c(Q){return Q instanceof Uint8Array||Q!=null&&typeof Q=="object"&&Q.constructor.name==="Uint8Array"}const a=Q=>new DataView(Q.buffer,Q.byteOffset,Q.byteLength);e.createView=a;const u=(Q,ne)=>Q<<32-ne|Q>>>ne;if(e.rotr=u,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const h=Array.from({length:256},(Q,ne)=>ne.toString(16).padStart(2,"0"));function v(Q){if(!c(Q))throw new Error("Uint8Array expected");let ne="";for(let fe=0;fe<Q.length;fe++)ne+=h[Q[fe]];return ne}e.bytesToHex=v;const b={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function y(Q){if(Q>=b._0&&Q<=b._9)return Q-b._0;if(Q>=b._A&&Q<=b._F)return Q-(b._A-10);if(Q>=b._a&&Q<=b._f)return Q-(b._a-10)}function w(Q){if(typeof Q!="string")throw new Error("hex string expected, got "+typeof Q);const ne=Q.length,fe=ne/2;if(ne%2)throw new Error("padded hex string expected, got unpadded hex of length "+ne);const l=new Uint8Array(fe);for(let p=0,m=0;p<fe;p++,m+=2){const _=y(Q.charCodeAt(m)),A=y(Q.charCodeAt(m+1));if(_===void 0||A===void 0){const I=Q[m]+Q[m+1];throw new Error('hex string expected, got non-hex character "'+I+'" at index '+m)}l[p]=_*16+A}return l}e.hexToBytes=w;const O=async()=>{};e.nextTick=O;async function P(Q,ne,fe){let l=Date.now();for(let p=0;p<Q;p++){fe(p);const m=Date.now()-l;m>=0&&m<ne||(await(0,e.nextTick)(),l+=m)}}e.asyncLoop=P;function C(Q){if(typeof Q!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Q}`);return new Uint8Array(new TextEncoder().encode(Q))}e.utf8ToBytes=C;function x(Q){if(typeof Q=="string"&&(Q=C(Q)),!c(Q))throw new Error(`expected Uint8Array, got ${typeof Q}`);return Q}e.toBytes=x;function D(...Q){let ne=0;for(let l=0;l<Q.length;l++){const p=Q[l];if(!c(p))throw new Error("Uint8Array expected");ne+=p.length}const fe=new Uint8Array(ne);for(let l=0,p=0;l<Q.length;l++){const m=Q[l];fe.set(m,p),p+=m.length}return fe}e.concatBytes=D;class k{clone(){return this._cloneInto()}}e.Hash=k;const B={}.toString;function q(Q,ne){if(ne!==void 0&&B.call(ne)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(Q,ne)}e.checkOpts=q;function V(Q){const ne=l=>Q().update(x(l)).digest(),fe=Q();return ne.outputLen=fe.outputLen,ne.blockLen=fe.blockLen,ne.create=()=>Q(),ne}e.wrapConstructor=V;function ee(Q){const ne=(l,p)=>Q(p).update(x(l)).digest(),fe=Q({});return ne.outputLen=fe.outputLen,ne.blockLen=fe.blockLen,ne.create=l=>Q(l),ne}e.wrapConstructorWithOpts=ee;function te(Q){const ne=(l,p)=>Q(p).update(x(l)).digest(),fe=Q({});return ne.outputLen=fe.outputLen,ne.blockLen=fe.blockLen,ne.create=l=>Q(l),ne}e.wrapXOFConstructorWithOpts=te;function ce(Q=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(Q));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=ce}(utils$h),Object.defineProperty(_sha2$1,"__esModule",{value:!0}),_sha2$1.SHA2=void 0;const _assert_js_1$1=_assert$1,utils_js_1$3=utils$h;function setBigUint64$1(e,t,n,o){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,o);const c=BigInt(32),a=BigInt(4294967295),u=Number(n>>c&a),h=Number(n&a),v=o?4:0,b=o?0:4;e.setUint32(t+v,u,o),e.setUint32(t+b,h,o)}let SHA2$1=class extends utils_js_1$3.Hash{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,utils_js_1$3.createView)(this.buffer)}update(e){(0,_assert_js_1$1.exists)(this);const{view:t,buffer:n,blockLen:o}=this;e=(0,utils_js_1$3.toBytes)(e);const c=e.length;for(let a=0;a<c;){const u=Math.min(o-this.pos,c-a);if(u===o){const h=(0,utils_js_1$3.createView)(e);for(;o<=c-a;a+=o)this.process(h,a);continue}n.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,_assert_js_1$1.exists)(this),(0,_assert_js_1$1.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:c}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let y=a;y<o;y++)t[y]=0;setBigUint64$1(n,o-8,BigInt(this.length*8),c),this.process(n,0);const u=(0,utils_js_1$3.createView)(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const v=h/4,b=this.get();if(v>b.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<v;y++)u.setUint32(4*y,b[y],c)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:o,finished:c,destroyed:a,pos:u}=this;return e.length=o,e.pos=u,e.finished=c,e.destroyed=a,o%t&&e.buffer.set(n),e}};_sha2$1.SHA2=SHA2$1,Object.defineProperty(sha256$1,"__esModule",{value:!0}),sha256$1.sha224=sha256$1.sha256=void 0;const _sha2_js_1$1=_sha2$1,utils_js_1$2=utils$h,Chi$1=(e,t,n)=>e&t^~e&n,Maj$1=(e,t,n)=>e&t^e&n^t&n,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV$1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);let SHA256$1=class extends _sha2_js_1$1.SHA2{constructor(){super(64,32,8,!1),this.A=IV$1[0]|0,this.B=IV$1[1]|0,this.C=IV$1[2]|0,this.D=IV$1[3]|0,this.E=IV$1[4]|0,this.F=IV$1[5]|0,this.G=IV$1[6]|0,this.H=IV$1[7]|0}get(){const{A:e,B:t,C:n,D:o,E:c,F:a,G:u,H:h}=this;return[e,t,n,o,c,a,u,h]}set(e,t,n,o,c,a,u,h){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=c|0,this.F=a|0,this.G=u|0,this.H=h|0}process(e,t){for(let y=0;y<16;y++,t+=4)SHA256_W$1[y]=e.getUint32(t,!1);for(let y=16;y<64;y++){const w=SHA256_W$1[y-15],O=SHA256_W$1[y-2],P=(0,utils_js_1$2.rotr)(w,7)^(0,utils_js_1$2.rotr)(w,18)^w>>>3,C=(0,utils_js_1$2.rotr)(O,17)^(0,utils_js_1$2.rotr)(O,19)^O>>>10;SHA256_W$1[y]=C+SHA256_W$1[y-7]+P+SHA256_W$1[y-16]|0}let{A:n,B:o,C:c,D:a,E:u,F:h,G:v,H:b}=this;for(let y=0;y<64;y++){const w=(0,utils_js_1$2.rotr)(u,6)^(0,utils_js_1$2.rotr)(u,11)^(0,utils_js_1$2.rotr)(u,25),O=b+w+Chi$1(u,h,v)+SHA256_K$1[y]+SHA256_W$1[y]|0,P=((0,utils_js_1$2.rotr)(n,2)^(0,utils_js_1$2.rotr)(n,13)^(0,utils_js_1$2.rotr)(n,22))+Maj$1(n,o,c)|0;b=v,v=h,h=u,u=a+O|0,a=c,c=o,o=n,n=O+P|0}n=n+this.A|0,o=o+this.B|0,c=c+this.C|0,a=a+this.D|0,u=u+this.E|0,h=h+this.F|0,v=v+this.G|0,b=b+this.H|0,this.set(n,o,c,a,u,h,v,b)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},SHA224$1=class extends SHA256$1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};sha256$1.sha256=(0,utils_js_1$2.wrapConstructor)(()=>new SHA256$1),sha256$1.sha224=(0,utils_js_1$2.wrapConstructor)(()=>new SHA224$1);var signature$1={};Object.defineProperty(signature$1,"__esModule",{value:!0}),signature$1.Signature=void 0;const types_1$l=lib$g;let Signature$1=class extends types_1$l.Assignable{};signature$1.Signature=Signature$1;var __awaiter$E=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(sign$1,"__esModule",{value:!0}),sign$1.signDelegateAction=sign$1.signTransaction=void 0;const sha256_1$3=sha256$1,actions_1$2=actions$1,create_transaction_1$1=create_transaction$1,schema_1$2=schema$2,signature_1$1=signature$1;function signTransactionObject$1(e,t,n,o){return __awaiter$E(this,void 0,void 0,function*(){const c=(0,schema_1$2.encodeTransaction)(e),a=new Uint8Array((0,sha256_1$3.sha256)(c)),u=yield t.signMessage(c,n,o),h=new schema_1$2.SignedTransaction({transaction:e,signature:new signature_1$1.Signature({keyType:e.publicKey.keyType,data:u.signature})});return[a,h]})}function signTransaction$1(...e){return __awaiter$E(this,void 0,void 0,function*(){if(e[0].constructor===schema_1$2.Transaction){const[t,n,o,c]=e;return signTransactionObject$1(t,n,o,c)}else{const[t,n,o,c,a,u,h]=e,v=yield a.getPublicKey(u,h),b=(0,create_transaction_1$1.createTransaction)(u,v,t,n,o,c);return signTransactionObject$1(b,a,u,h)}})}sign$1.signTransaction=signTransaction$1;function signDelegateAction$1({delegateAction:e,signer:t}){return __awaiter$E(this,void 0,void 0,function*(){const n=(0,schema_1$2.encodeDelegateAction)(e),o=yield t.sign(n),c=new actions_1$2.SignedDelegate({delegateAction:e,signature:new signature_1$1.Signature({keyType:e.publicKey.keyType,data:o})});return{hash:new Uint8Array((0,sha256_1$3.sha256)(n)),signedDelegateAction:c}})}sign$1.signDelegateAction=signDelegateAction$1,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(action_creators$1,e),n(actions$1,e),n(create_transaction$1,e),n(delegate$1,e),n(schema$2,e),n(sign$1,e),n(signature$1,e)}(lib$d);var provider$3={};Object.defineProperty(provider$3,"__esModule",{value:!0}),provider$3.Provider=void 0;let Provider$1=class{};provider$3.Provider=Provider$1;var fetch_json$1={},httpErrors$1={exports:{}};/*!
* depd
* Copyright(c) 2015 Douglas Christopher Wilson
* MIT Licensed
*/var browser$3=depd$1;function depd$1(e){if(!e)throw new TypeError("argument namespace is required");function t(n){}return t._file=void 0,t._ignored=!0,t._namespace=e,t._traced=!1,t._warned=Object.create(null),t.function=wrapfunction$1,t.property=wrapproperty$1,t}function wrapfunction$1(e,t){if(typeof e!="function")throw new TypeError("argument fn must be a function");return e}function wrapproperty$1(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(e,t);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable")}var setprototypeof$1=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf$1:mixinProperties$1);function setProtoOf$1(e,t){return e.__proto__=t,e}function mixinProperties$1(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser$1.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits_browserExports$1=inherits_browser$1.exports;/*!
* toidentifier
* Copyright(c) 2016 Douglas Christopher Wilson
* MIT Licensed
*/var toidentifier$1=toIdentifier$1;function toIdentifier$1(e){return e.split(" ").map(function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}/*!
* http-errors
* Copyright(c) 2014 Jonathan Ong
* Copyright(c) 2016 Douglas Christopher Wilson
* MIT Licensed
*/(function(e){var t=browser$3("http-errors"),n=setprototypeof$1,o=statuses,c=inherits_browserExports$1,a=toidentifier$1;e.exports=h,e.exports.HttpError=v(),O(e.exports,o.codes,e.exports.HttpError);function u(P){return+(String(P).charAt(0)+"00")}function h(){for(var P,C,x=500,D={},k=0;k<arguments.length;k++){var B=arguments[k];if(B instanceof Error){P=B,x=P.status||P.statusCode||x;continue}switch(typeof B){case"string":C=B;break;case"number":x=B;break;case"object":D=B;break}}(typeof x!="number"||!o[x]&&(x<400||x>=600))&&(x=500);var q=h[x]||h[u(x)];P||(P=q?new q(C):new Error(C||o[x]),Error.captureStackTrace(P,h)),(!q||!(P instanceof q)||P.status!==x)&&(P.expose=x<500,P.status=P.statusCode=x);for(var V in D)V!=="status"&&V!=="statusCode"&&(P[V]=D[V]);return P}function v(){function P(){throw new TypeError("cannot construct abstract class")}return c(P,Error),P}function b(P,C,x){var D=C.match(/Error$/)?C:C+"Error";function k(B){var q=B??o[x],V=new Error(q);return Error.captureStackTrace(V,k),n(V,k.prototype),Object.defineProperty(V,"message",{enumerable:!0,configurable:!0,value:q,writable:!0}),Object.defineProperty(V,"name",{enumerable:!1,configurable:!0,value:D,writable:!0}),V}return c(k,P),w(k,D),k.prototype.status=x,k.prototype.statusCode=x,k.prototype.expose=!0,k}function y(P,C,x){var D=C.match(/Error$/)?C:C+"Error";function k(B){var q=B??o[x],V=new Error(q);return Error.captureStackTrace(V,k),n(V,k.prototype),Object.defineProperty(V,"message",{enumerable:!0,configurable:!0,value:q,writable:!0}),Object.defineProperty(V,"name",{enumerable:!1,configurable:!0,value:D,writable:!0}),V}return c(k,P),w(k,D),k.prototype.status=x,k.prototype.statusCode=x,k.prototype.expose=!1,k}function w(P,C){var x=Object.getOwnPropertyDescriptor(P,"name");x&&x.configurable&&(x.value=C,Object.defineProperty(P,"name",x))}function O(P,C,x){C.forEach(function(D){var k,B=a(o[D]);switch(u(D)){case 400:k=b(x,B,D);break;case 500:k=y(x,B,D);break}k&&(P[D]=k,P[B]=k)}),P["I'mateapot"]=t.function(P.ImATeapot,`"I'mateapot"; use "ImATeapot" instead`)}})(httpErrors$1);var httpErrorsExports$1=httpErrors$1.exports,fetch$2={},browser$2={exports:{}},hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(e,t){var n=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof o<"u")return o;throw new Error("unable to locate global object")},o=n();e.exports=t=o.fetch,o.fetch&&(t.default=o.fetch.bind(o)),t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response}(browser$2,browser$2.exports)),browser$2.exports}var hasRequiredFetch$1;function requireFetch$1(){if(hasRequiredFetch$1)return fetch$2;hasRequiredFetch$1=1;var e=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(fetch$2,"__esModule",{value:!0});const t=e(requireBrowser$1()),n=e(requireStreamHttp()),o=e(requireHttpsBrowserify()),c=new n.default.Agent({keepAlive:!0}),a=new o.default.Agent({keepAlive:!0});function u(v){return v.protocol==="http:"?c:a}function h(v,b){return(0,t.default)(v,Object.assign({agent:u(new URL(v.toString()))},b))}return fetch$2.default=h,fetch$2}var __createBinding$8=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$8=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$8=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$8(t,e,n);return __setModuleDefault$8(t,e),t},__awaiter$D=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$e=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fetch_json$1,"__esModule",{value:!0}),fetch_json$1.fetchJson=void 0;const types_1$k=lib$g,utils_1$p=lib$h,http_errors_1$1=__importDefault$e(httpErrorsExports$1),exponential_backoff_1$3=exponentialBackoff$3,START_WAIT_TIME_MS$1=1e3,BACKOFF_MULTIPLIER$1=1.5,RETRY_NUMBER$1=10;function fetchJson$1(e,t){return __awaiter$D(this,void 0,void 0,function*(){let n={url:null};typeof e=="string"?n.url=e:n=e;const o=yield(0,exponential_backoff_1$3.exponentialBackoff)(START_WAIT_TIME_MS$1,RETRY_NUMBER$1,BACKOFF_MULTIPLIER$1,()=>__awaiter$D(this,void 0,void 0,function*(){var c;try{const a=yield((c=commonjsGlobal$7.fetch)!==null&&c!==void 0?c:(yield Promise.resolve().then(()=>__importStar$8(requireFetch$1()))).default)(n.url,{method:t?"POST":"GET",body:t||void 0,headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"application/json"})});if(!a.ok){if(a.status===503)return utils_1$p.Logger.warn(`Retrying HTTP request for ${n.url} as it's not available now`),null;if(a.status===408)return utils_1$p.Logger.warn(`Retrying HTTP request for ${n.url} as the previous connection was unused for some time`),null;throw(0,http_errors_1$1.default)(a.status,yield a.text())}return a}catch(a){if(a.toString().includes("FetchError")||a.toString().includes("Failed to fetch"))return utils_1$p.Logger.warn(`Retrying HTTP request for ${n.url} because of error: ${a}`),null;throw a}}));if(!o)throw new types_1$k.TypedError(`Exceeded ${RETRY_NUMBER$1} attempts for ${n.url}.`,"RetriesExceeded");return yield o.json()})}fetch_json$1.fetchJson=fetchJson$1;var __awaiter$C=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$5=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(jsonRpcProvider$3,"__esModule",{value:!0}),jsonRpcProvider$3.JsonRpcProvider=void 0;const utils_1$o=lib$h,types_1$j=lib$g,transactions_1$b=lib$d,exponential_backoff_1$2=exponentialBackoff$3,provider_1$2=provider$3,fetch_json_1$1=fetch_json$1,REQUEST_RETRY_NUMBER$1=12,REQUEST_RETRY_WAIT$1=500,REQUEST_RETRY_WAIT_BACKOFF$1=1.5;let _nextId$1=123,JsonRpcProvider$1=class extends provider_1$2.Provider{constructor(e,t){super(),this.connection=e||{url:""};const n={retries:REQUEST_RETRY_NUMBER$1,wait:REQUEST_RETRY_WAIT$1,backoff:REQUEST_RETRY_WAIT_BACKOFF$1};this.options=Object.assign({},n,t)}status(){return __awaiter$C(this,void 0,void 0,function*(){return this.sendJsonRpc("status",[])})}sendTransactionUntil(e,t){return __awaiter$C(this,void 0,void 0,function*(){const n=(0,transactions_1$b.encodeTransaction)(e);return this.sendJsonRpc("send_tx",{signed_tx_base64:Buffer$E.from(n).toString("base64"),wait_until:t})})}sendTransaction(e){return __awaiter$C(this,void 0,void 0,function*(){return this.sendTransactionUntil(e,"EXECUTED_OPTIMISTIC")})}sendTransactionAsync(e){return __awaiter$C(this,void 0,void 0,function*(){return this.sendTransactionUntil(e,"NONE")})}txStatus(e,t,n="EXECUTED_OPTIMISTIC"){return __awaiter$C(this,void 0,void 0,function*(){return typeof e=="string"?this.txStatusString(e,t,n):this.txStatusUint8Array(e,t,n)})}txStatusUint8Array(e,t,n){return __awaiter$C(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",{tx_hash:(0,utils_1$o.baseEncode)(e),sender_account_id:t,wait_until:n})})}txStatusString(e,t,n){return __awaiter$C(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",{tx_hash:e,sender_account_id:t,wait_until:n})})}txStatusReceipts(e,t,n="EXECUTED_OPTIMISTIC"){return __awaiter$C(this,void 0,void 0,function*(){return typeof e=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:e,sender_account_id:t,wait_until:n}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,utils_1$o.baseEncode)(e),sender_account_id:t,wait_until:n})})}query(...e){return __awaiter$C(this,void 0,void 0,function*(){let t;if(e.length===1){const n=e[0],{block_id:o,blockId:c}=n,a=__rest$5(n,["block_id","blockId"]);t=yield this.sendJsonRpc("query",Object.assign(Object.assign({},a),{block_id:o||c}))}else{const[n,o]=e;t=yield this.sendJsonRpc("query",[n,o])}if(t&&t.error)throw new types_1$j.TypedError(`Querying failed: ${t.error}.
${JSON.stringify(t,null,2)}`,(0,utils_1$o.getErrorTypeFromErrorMessage)(t.error,t.error.name));return t})}block(e){return __awaiter$C(this,void 0,void 0,function*(){const{finality:t}=e,{blockId:n}=e;return this.sendJsonRpc("block",{block_id:n,finality:t})})}blockChanges(e){return __awaiter$C(this,void 0,void 0,function*(){const{finality:t}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:n,finality:t})})}chunk(e){return __awaiter$C(this,void 0,void 0,function*(){return this.sendJsonRpc("chunk",[e])})}validators(e){return __awaiter$C(this,void 0,void 0,function*(){return this.sendJsonRpc("validators",[e])})}experimental_protocolConfig(e){return __awaiter$C(this,void 0,void 0,function*(){const t=e,{blockId:n}=t,o=__rest$5(t,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},o),{block_id:n}))})}lightClientProof(e){return __awaiter$C(this,void 0,void 0,function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",e)})}nextLightClientBlock(e){return __awaiter$C(this,void 0,void 0,function*(){return yield this.sendJsonRpc("next_light_client_block",e)})}accessKeyChanges(e,t){return __awaiter$C(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:e,block_id:o,finality:n})})}singleAccessKeyChanges(e,t){return __awaiter$C(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:e,block_id:o,finality:n})})}accountChanges(e,t){return __awaiter$C(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:e,block_id:o,finality:n})})}contractStateChanges(e,t,n=""){return __awaiter$C(this,void 0,void 0,function*(){const{finality:o}=t,{blockId:c}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:e,key_prefix_base64:n,block_id:c,finality:o})})}contractCodeChanges(e,t){return __awaiter$C(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:e,block_id:o,finality:n})})}gasPrice(e){return __awaiter$C(this,void 0,void 0,function*(){return yield this.sendJsonRpc("gas_price",[e])})}sendJsonRpc(e,t){return __awaiter$C(this,void 0,void 0,function*(){const n=yield(0,exponential_backoff_1$2.exponentialBackoff)(this.options.wait,this.options.retries,this.options.backoff,()=>__awaiter$C(this,void 0,void 0,function*(){var c;try{const a={method:e,params:t,id:_nextId$1++,jsonrpc:"2.0"},u=yield(0,fetch_json_1$1.fetchJson)(this.connection,JSON.stringify(a));if(u.error){if(typeof u.error.data=="object")throw typeof u.error.data.error_message=="string"&&typeof u.error.data.error_type=="string"?new types_1$j.TypedError(u.error.data.error_message,u.error.data.error_type):(0,utils_1$o.parseRpcError)(u.error.data);{const h=`[${u.error.code}] ${u.error.message}: ${u.error.data}`;if(u.error.data==="Timeout"||h.includes("Timeout error")||h.includes("query has timed out"))throw new types_1$j.TypedError(h,"TimeoutError");const v=(0,utils_1$o.getErrorTypeFromErrorMessage)(u.error.data,"");throw v?new types_1$j.TypedError((0,utils_1$o.formatError)(v,t),v):new types_1$j.TypedError(h,u.error.name)}}else if(typeof((c=u.result)===null||c===void 0?void 0:c.error)=="string"){const h=(0,utils_1$o.getErrorTypeFromErrorMessage)(u.result.error,"");if(h)throw new utils_1$o.ServerError((0,utils_1$o.formatError)(h,t),h)}return u}catch(a){if(a.type==="TimeoutError")return utils_1$o.Logger.warn(`Retrying request to ${e} as it has timed out`,t),null;throw a}})),{result:o}=n;if(typeof o>"u")throw new types_1$j.TypedError(`Exceeded ${this.options.retries} attempts for request to ${e}.`,"RetriesExceeded");return o})}};jsonRpcProvider$3.JsonRpcProvider=JsonRpcProvider$1;var failoverRpcProvider$1={},__awaiter$B=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(failoverRpcProvider$1,"__esModule",{value:!0}),failoverRpcProvider$1.FailoverRpcProvider=void 0;const utils_1$n=lib$h,types_1$i=lib$g,provider_1$1=provider$3;class FailoverRpcProvider extends provider_1$1.Provider{constructor(t){if(super(),t.length===0)throw new Error("At least one provider must be specified");this.providers=t,this.currentProviderIndex=0}switchToNextProvider(){this.providers.length!==1&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,utils_1$n.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){const t=this.providers[this.currentProviderIndex];if(!t)throw new Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return t}withBackoff(t){return __awaiter$B(this,void 0,void 0,function*(){for(let n=0;n<this.providers.length;n++)try{const o=yield t(this.currentProvider);if(o)return o}catch{this.switchToNextProvider()}throw new types_1$i.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")})}status(){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(t=>t.status())})}sendTransactionUntil(t,n){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(o=>o.sendTransactionUntil(t,n))})}sendTransaction(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.sendTransaction(t))})}sendTransactionAsync(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.sendTransactionAsync(t))})}txStatus(t,n,o){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(c=>c.txStatus(t,n,o))})}txStatusReceipts(t,n,o){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(c=>c.txStatusReceipts(t,n,o))})}query(t,n){return __awaiter$B(this,void 0,void 0,function*(){return n?this.withBackoff(o=>o.query(t,n)):this.withBackoff(o=>o.query(t))})}block(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.block(t))})}blockChanges(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.blockChanges(t))})}chunk(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.chunk(t))})}validators(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.validators(t))})}experimental_protocolConfig(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.experimental_protocolConfig(t))})}lightClientProof(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.lightClientProof(t))})}nextLightClientBlock(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.nextLightClientBlock(t))})}accessKeyChanges(t,n){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(o=>o.accessKeyChanges(t,n))})}singleAccessKeyChanges(t,n){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(o=>o.singleAccessKeyChanges(t,n))})}accountChanges(t,n){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(o=>o.accountChanges(t,n))})}contractStateChanges(t,n,o=""){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(c=>c.contractStateChanges(t,n,o))})}contractCodeChanges(t,n){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(o=>o.contractCodeChanges(t,n))})}gasPrice(t){return __awaiter$B(this,void 0,void 0,function*(){return this.withBackoff(n=>n.gasPrice(t))})}}failoverRpcProvider$1.FailoverRpcProvider=FailoverRpcProvider,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=e.Provider=e.FailoverRpcProvider=e.JsonRpcProvider=e.exponentialBackoff=void 0;var t=exponentialBackoff$3;Object.defineProperty(e,"exponentialBackoff",{enumerable:!0,get:function(){return t.exponentialBackoff}});var n=jsonRpcProvider$3;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}});var o=failoverRpcProvider$1;Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return o.FailoverRpcProvider}});var c=provider$3;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return c.Provider}});var a=fetch_json$1;Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return a.fetchJson}})}(lib$e),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=e.Provider=e.getTransactionLastResult=void 0;var t=lib$h;Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}});var n=lib$e;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return n.Provider}});var o=lib$g;Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return o.IdType}}),Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return o.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return o.FinalExecutionStatusBasic}})}(provider$4);var jsonRpcProvider$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=e.TypedError=e.ErrorContext=void 0;var t=lib$g;Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return t.ErrorContext}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return t.TypedError}});var n=lib$e;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}})})(jsonRpcProvider$2);var failoverRpcProvider={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FailoverRpcProvider=void 0;var t=lib$e;Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return t.FailoverRpcProvider}})})(failoverRpcProvider),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.getTransactionLastResult=e.FinalExecutionStatusBasic=e.FailoverRpcProvider=e.JsonRpcProvider=e.Provider=void 0;const t=provider$4;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return t.Provider}}),Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return t.FinalExecutionStatusBasic}});const n=jsonRpcProvider$2;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return n.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return n.ErrorContext}});const o=failoverRpcProvider;Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return o.FailoverRpcProvider}})}(providers$1);var utils$g={},key_pair$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyType=e.KeyPairEd25519=e.KeyPair=void 0;var t=lib$i;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return t.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return t.KeyPairEd25519}}),Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}}),Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return t.PublicKey}})})(key_pair$2);var serialize$7={},cjs$2={},serialize$6={},types$5={};types$5.__esModule=!0,types$5.integers=void 0,types$5.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer$2={};buffer$2.__esModule=!0,buffer$2.DecodeBuffer=buffer$2.EncodeBuffer=void 0;var EncodeBuffer$2=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(t){if(this.buffer_size-this.offset<t){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+t);var n=new ArrayBuffer(this.buffer_size);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n,this.view=new DataView(n)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(t,n){var o=n.substring(1),c=parseInt(o)/8;this.resize_if_necessary(c);var a=n[0]==="f"?"setFloat".concat(o):n[0]==="i"?"setInt".concat(o):"setUint".concat(o);this.view[a](this.offset,t,!0),this.offset+=c},e.prototype.store_bytes=function(t){this.resize_if_necessary(t.length),new Uint8Array(this.buffer).set(new Uint8Array(t),this.offset),this.offset+=t.length},e}();buffer$2.EncodeBuffer=EncodeBuffer$2;var DecodeBuffer$2=function(){function e(t){this.offset=0,this.buffer_size=t.length,this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(t){var n=t.substring(1),o=parseInt(n)/8;this.assert_enough_buffer(o);var c=t[0]==="f"?"getFloat".concat(n):t[0]==="i"?"getInt".concat(n):"getUint".concat(n),a=this.view[c](this.offset,!0);return this.offset+=o,a},e.prototype.consume_bytes=function(t){this.assert_enough_buffer(t);var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n},e}();buffer$2.DecodeBuffer=DecodeBuffer$2;var utils$f={},__extends$2=commonjsGlobal$7&&commonjsGlobal$7.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(o[a]=c[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();utils$f.__esModule=!0,utils$f.validate_schema=utils$f.ErrorSchema=utils$f.expect_enum=utils$f.expect_same_size=utils$f.expect_bigint=utils$f.expect_type=utils$f.isArrayLike=void 0;var types_js_1$8=types$5;function isArrayLike$2(e){return Array.isArray(e)||!!e&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&e.length-1 in e)}utils$f.isArrayLike=isArrayLike$2;function expect_type$2(e,t,n){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(n.join(".")))}utils$f.expect_type=expect_type$2;function expect_bigint$2(e,t){var n=["number","string","bigint","boolean"].includes(typeof e),o=typeof e=="object"&&e!==null&&"toString"in e;if(!n&&!o)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$f.expect_bigint=expect_bigint$2;function expect_same_size$2(e,t,n){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(n.join(".")))}utils$f.expect_same_size=expect_same_size$2;function expect_enum$2(e,t){if(typeof e!="object"||e===null)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$f.expect_enum=expect_enum$2;var VALID_STRING_TYPES$2=types_js_1$8.integers.concat(["bool","string"]),VALID_OBJECT_KEYS$2=["option","enum","array","set","map","struct"],ErrorSchema$2=function(e){__extends$2(t,e);function t(n,o){var c="Invalid schema: ".concat(JSON.stringify(n)," expected ").concat(o);return e.call(this,c)||this}return t}(Error);utils$f.ErrorSchema=ErrorSchema$2;function validate_schema$2(e){if(!(typeof e=="string"&&VALID_STRING_TYPES$2.includes(e))){if(e&&typeof e=="object"){var t=Object.keys(e);if(t.length===1&&VALID_OBJECT_KEYS$2.includes(t[0])){var n=t[0];if(n==="option")return validate_schema$2(e[n]);if(n==="enum")return validate_enum_schema$2(e[n]);if(n==="array")return validate_array_schema$2(e[n]);if(n==="set")return validate_schema$2(e[n]);if(n==="map")return validate_map_schema$2(e[n]);if(n==="struct")return validate_struct_schema$2(e[n])}}throw new ErrorSchema$2(e,VALID_OBJECT_KEYS$2.join(", ")+" or "+VALID_STRING_TYPES$2.join(", "))}}utils$f.validate_schema=validate_schema$2;function validate_enum_schema$2(e){if(!Array.isArray(e))throw new ErrorSchema$2(e,"Array");for(var t=0,n=e;t<n.length;t++){var o=n[t];if(typeof o!="object"||!("struct"in o))throw new Error('Missing "struct" key in enum schema');if(typeof o.struct!="object"||Object.keys(o.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema$2({struct:o.struct})}}function validate_array_schema$2(e){if(typeof e!="object")throw new ErrorSchema$2(e,"{ type, len? }");if(e.len&&typeof e.len!="number")throw new Error("Invalid schema: ".concat(e));if("type"in e)return validate_schema$2(e.type);throw new ErrorSchema$2(e,"{ type, len? }")}function validate_map_schema$2(e){if(typeof e=="object"&&"key"in e&&"value"in e)validate_schema$2(e.key),validate_schema$2(e.value);else throw new ErrorSchema$2(e,"{ key, value }")}function validate_struct_schema$2(e){if(typeof e!="object")throw new ErrorSchema$2(e,"object");for(var t in e)validate_schema$2(e[t])}var __createBinding$7=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$7=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$7=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$7(t,e,n);return __setModuleDefault$7(t,e),t};serialize$6.__esModule=!0,serialize$6.BorshSerializer=void 0;var types_js_1$7=types$5,buffer_js_1$5=buffer$2,utils$e=__importStar$7(utils$f),BorshSerializer$2=function(){function e(t){this.encoded=new buffer_js_1$5.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=t}return e.prototype.encode=function(t,n){return this.encode_value(t,n),this.encoded.get_used_buffer()},e.prototype.encode_value=function(t,n){if(typeof n=="string"){if(types_js_1$7.integers.includes(n))return this.encode_integer(t,n);if(n==="string")return this.encode_string(t);if(n==="bool")return this.encode_boolean(t)}if(typeof n=="object"){if("option"in n)return this.encode_option(t,n);if("enum"in n)return this.encode_enum(t,n);if("array"in n)return this.encode_array(t,n);if("set"in n)return this.encode_set(t,n);if("map"in n)return this.encode_map(t,n);if("struct"in n)return this.encode_struct(t,n)}},e.prototype.encode_integer=function(t,n){var o=parseInt(n.substring(1));o<=32||n=="f64"?(this.checkTypes&&utils$e.expect_type(t,"number",this.fieldPath),this.encoded.store_value(t,n)):(this.checkTypes&&utils$e.expect_bigint(t,this.fieldPath),this.encode_bigint(BigInt(t),o))},e.prototype.encode_bigint=function(t,n){for(var o=n/8,c=new Uint8Array(o),a=0;a<o;a++)c[a]=Number(t&BigInt(255)),t=t>>BigInt(8);this.encoded.store_bytes(new Uint8Array(c))},e.prototype.encode_string=function(t){this.checkTypes&&utils$e.expect_type(t,"string",this.fieldPath);var n=t;this.encoded.store_value(n.length,"u32");for(var o=0;o<n.length;o++)this.encoded.store_value(n.charCodeAt(o),"u8")},e.prototype.encode_boolean=function(t){this.checkTypes&&utils$e.expect_type(t,"boolean",this.fieldPath),this.encoded.store_value(t?1:0,"u8")},e.prototype.encode_option=function(t,n){t==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(t,n.option))},e.prototype.encode_enum=function(t,n){this.checkTypes&&utils$e.expect_enum(t,this.fieldPath);for(var o=Object.keys(t)[0],c=0;c<n.enum.length;c++){var a=n.enum[c];if(o===Object.keys(a.struct)[0])return this.encoded.store_value(c,"u8"),this.encode_struct(t,a)}throw new Error("Enum key (".concat(o,") not found in enum schema: ").concat(JSON.stringify(n)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(t,n){if(utils$e.isArrayLike(t))return this.encode_arraylike(t,n);if(t instanceof ArrayBuffer)return this.encode_buffer(t,n);throw new Error("Expected Array-like not ".concat(typeof t,"(").concat(t,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(t,n){n.array.len?utils$e.expect_same_size(t.length,n.array.len,this.fieldPath):this.encoded.store_value(t.length,"u32");for(var o=0;o<t.length;o++)this.encode_value(t[o],n.array.type)},e.prototype.encode_buffer=function(t,n){n.array.len?utils$e.expect_same_size(t.byteLength,n.array.len,this.fieldPath):this.encoded.store_value(t.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(t))},e.prototype.encode_set=function(t,n){this.checkTypes&&utils$e.expect_type(t,"object",this.fieldPath);var o=t instanceof Set,c=o?Array.from(t.values()):Object.values(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.set)}},e.prototype.encode_map=function(t,n){this.checkTypes&&utils$e.expect_type(t,"object",this.fieldPath);var o=t instanceof Map,c=o?Array.from(t.keys()):Object.keys(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.map.key),this.encode_value(o?t.get(h):t[h],n.map.value)}},e.prototype.encode_struct=function(t,n){this.checkTypes&&utils$e.expect_type(t,"object",this.fieldPath);for(var o=0,c=Object.keys(n.struct);o<c.length;o++){var a=c[o];this.fieldPath.push(a),this.encode_value(t[a],n.struct[a]),this.fieldPath.pop()}},e}();serialize$6.BorshSerializer=BorshSerializer$2;var deserialize$5={};deserialize$5.__esModule=!0,deserialize$5.BorshDeserializer=void 0;var types_js_1$6=types$5,buffer_js_1$4=buffer$2,BorshDeserializer$2=function(){function e(t){this.buffer=new buffer_js_1$4.DecodeBuffer(t)}return e.prototype.decode=function(t){return this.decode_value(t)},e.prototype.decode_value=function(t){if(typeof t=="string"){if(types_js_1$6.integers.includes(t))return this.decode_integer(t);if(t==="string")return this.decode_string();if(t==="bool")return this.decode_boolean()}if(typeof t=="object"){if("option"in t)return this.decode_option(t);if("enum"in t)return this.decode_enum(t);if("array"in t)return this.decode_array(t);if("set"in t)return this.decode_set(t);if("map"in t)return this.decode_map(t);if("struct"in t)return this.decode_struct(t)}throw new Error("Unsupported type: ".concat(t))},e.prototype.decode_integer=function(t){var n=parseInt(t.substring(1));return n<=32||t=="f64"?this.buffer.consume_value(t):this.decode_bigint(n,t.startsWith("i"))},e.prototype.decode_bigint=function(t,n){n===void 0&&(n=!1);var o=t/8,c=new Uint8Array(this.buffer.consume_bytes(o)),a=c.reduceRight(function(u,h){return u+h.toString(16).padStart(2,"0")},"");return n&&c[o-1]?BigInt.asIntN(t,BigInt("0x".concat(a))):BigInt("0x".concat(a))},e.prototype.decode_string=function(){var t=this.decode_integer("u32"),n=new Uint8Array(this.buffer.consume_bytes(t));return String.fromCharCode.apply(null,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(t){var n=this.buffer.consume_value("u8");if(n===1)return this.decode_value(t.option);if(n!==0)throw new Error("Invalid option ".concat(n));return null},e.prototype.decode_enum=function(t){var n,o=this.buffer.consume_value("u8");if(o>t.enum.length)throw new Error("Enum option ".concat(o," is not available"));var c=t.enum[o].struct,a=Object.keys(c)[0];return n={},n[a]=this.decode_value(c[a]),n},e.prototype.decode_array=function(t){for(var n=[],o=t.array.len?t.array.len:this.decode_integer("u32"),c=0;c<o;++c)n.push(this.decode_value(t.array.type));return n},e.prototype.decode_set=function(t){for(var n=this.decode_integer("u32"),o=new Set,c=0;c<n;++c)o.add(this.decode_value(t.set));return o},e.prototype.decode_map=function(t){for(var n=this.decode_integer("u32"),o=new Map,c=0;c<n;++c){var a=this.decode_value(t.map.key),u=this.decode_value(t.map.value);o.set(a,u)}return o},e.prototype.decode_struct=function(t){var n={};for(var o in t.struct)n[o]=this.decode_value(t.struct[o]);return n},e}();deserialize$5.BorshDeserializer=BorshDeserializer$2;var __createBinding$6=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$6=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$6=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$6(t,e,n);return __setModuleDefault$6(t,e),t};cjs$2.__esModule=!0,cjs$2.deserialize=cjs$2.serialize=void 0;var serialize_js_1$2=serialize$6,deserialize_js_1$2=deserialize$5,utils$d=__importStar$6(utils$f);function serialize$5(e,t,n){n===void 0&&(n=!0),n&&utils$d.validate_schema(e);var o=new serialize_js_1$2.BorshSerializer(n);return o.encode(t,e)}cjs$2.serialize=serialize$5;function deserialize$4(e,t,n){n===void 0&&(n=!0),n&&utils$d.validate_schema(e);var o=new deserialize_js_1$2.BorshDeserializer(t);return o.decode(e)}cjs$2.deserialize=deserialize$4,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.base_decode=e.base_encode=e.deserialize=e.serialize=void 0;var t=cjs$2;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return t.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return t.deserialize}});var n=lib$h;Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return n.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return n.baseDecode}})}(serialize$7);var web$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=void 0;var t=lib$e;Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return t.fetchJson}})})(web$1);var enums$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Enum=e.Assignable=void 0;var t=lib$g;Object.defineProperty(e,"Assignable",{enumerable:!0,get:function(){return t.Assignable}});class n{constructor(c){if(Object.keys(c).length!==1)throw new Error("Enum can only take single value");Object.keys(c).map(a=>{this[a]=c[a],this.enum=a})}}e.Enum=n})(enums$1);var format$6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION_EXP=e.NEAR_NOMINATION=void 0;var t=lib$h;Object.defineProperty(e,"NEAR_NOMINATION",{enumerable:!0,get:function(){return t.NEAR_NOMINATION}}),Object.defineProperty(e,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return t.NEAR_NOMINATION_EXP}}),Object.defineProperty(e,"formatNearAmount",{enumerable:!0,get:function(){return t.formatNearAmount}}),Object.defineProperty(e,"parseNearAmount",{enumerable:!0,get:function(){return t.parseNearAmount}})})(format$6);var rpc_errors$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=void 0;var t=lib$h;Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return t.parseRpcError}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return t.parseResultError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return t.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return t.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return t.ServerError}})})(rpc_errors$2);var errors$6={},lib$c={},account$3={},utils$c={},__awaiter$A=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(utils$c,"__esModule",{value:!0}),utils$c.viewFunction=utils$c.viewState=utils$c.encodeJSContractArgs=utils$c.validateArgs=void 0;const types_1$h=lib$g,utils_1$m=lib$h;function parseJsonFromRawResponse$1(e){return JSON.parse(Buffer$E.from(e).toString())}function bytesJsonStringify$1(e){return Buffer$E.from(JSON.stringify(e))}function validateArgs(e){if(!(e.byteLength!==void 0&&e.byteLength===e.length)&&(Array.isArray(e)||typeof e!="object"))throw new types_1$h.PositionalArgsError}utils$c.validateArgs=validateArgs;function encodeJSContractArgs(e,t,n){return Buffer$E.concat([Buffer$E.from(e),Buffer$E.from([0]),Buffer$E.from(t),Buffer$E.from([0]),Buffer$E.from(n)])}utils$c.encodeJSContractArgs=encodeJSContractArgs;function viewState(e,t,n,o={finality:"optimistic"}){return __awaiter$A(this,void 0,void 0,function*(){const{values:c}=yield e.provider.query(Object.assign(Object.assign({request_type:"view_state"},o),{account_id:t,prefix_base64:Buffer$E.from(n).toString("base64")}));return c.map(({key:a,value:u})=>({key:Buffer$E.from(a,"base64"),value:Buffer$E.from(u,"base64")}))})}utils$c.viewState=viewState;function viewFunction(e,{contractId:t,methodName:n,args:o={},parse:c=parseJsonFromRawResponse$1,stringify:a=bytesJsonStringify$1,jsContract:u=!1,blockQuery:h={finality:"optimistic"}}){return __awaiter$A(this,void 0,void 0,function*(){let v;validateArgs(o),u?v=encodeJSContractArgs(t,n,Object.keys(o).length>0?JSON.stringify(o):""):v=a(o);const b=yield e.provider.query(Object.assign(Object.assign({request_type:"call_function"},h),{account_id:u?e.jsvmAccountId:t,method_name:u?"view_js_contract":n,args_base64:v.toString("base64")}));return b.logs&&(0,utils_1$m.printTxOutcomeLogs)({contractId:t,logs:b.logs}),b.result&&b.result.length>0&&c(Buffer$E.from(b.result))})}utils$c.viewFunction=viewFunction;var __awaiter$z=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account$3,"__esModule",{value:!0}),account$3.Account=void 0;const crypto_1$d=lib$i,providers_1$7=lib$e,transactions_1$a=lib$d,types_1$g=lib$g,utils_1$l=lib$h,utils_2$2=utils$c,{addKey:addKey$5,createAccount:createAccount$3,deleteAccount:deleteAccount$3,deleteKey:deleteKey$5,deployContract:deployContract$7,fullAccessKey:fullAccessKey$4,functionCall:functionCall$9,functionCallAccessKey:functionCallAccessKey$4,stake:stake$3,transfer:transfer$3}=transactions_1$a.actionCreators,TX_NONCE_RETRY_NUMBER$1=12,TX_NONCE_RETRY_WAIT$1=500,TX_NONCE_RETRY_WAIT_BACKOFF$1=1.5;let Account$1=class cr{constructor(t,n){this.accessKeyByPublicKeyCache={},this.connection=t,this.accountId=n}getConnection(){return this.connection}state(){return __awaiter$z(this,void 0,void 0,function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})})}signTransaction(t,n){return __awaiter$z(this,void 0,void 0,function*(){const o=yield this.findAccessKey(t,n);if(!o)throw new types_1$g.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:c}=o,a=(yield this.connection.provider.block({finality:"final"})).header.hash,u=c.nonce+BigInt(1);return yield(0,transactions_1$a.signTransaction)(t,u,n,(0,utils_1$l.baseDecode)(a),this.connection.signer,this.accountId,this.connection.networkId)})}signAndSendTransaction({receiverId:t,actions:n,returnError:o}){return __awaiter$z(this,void 0,void 0,function*(){let c,a;const u=yield(0,providers_1$7.exponentialBackoff)(TX_NONCE_RETRY_WAIT$1,TX_NONCE_RETRY_NUMBER$1,TX_NONCE_RETRY_WAIT_BACKOFF$1,()=>__awaiter$z(this,void 0,void 0,function*(){[c,a]=yield this.signTransaction(t,n);const h=a.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(a)}catch(v){if(v.type==="InvalidNonce")return utils_1$l.Logger.warn(`Retrying transaction ${t}:${(0,utils_1$l.baseEncode)(c)} with new nonce.`),delete this.accessKeyByPublicKeyCache[h.toString()],null;if(v.type==="Expired")return utils_1$l.Logger.warn(`Retrying transaction ${t}:${(0,utils_1$l.baseEncode)(c)} due to expired block hash`),null;throw v.context=new types_1$g.ErrorContext((0,utils_1$l.baseEncode)(c)),v}}));if(!u)throw new types_1$g.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,utils_1$l.printTxOutcomeLogsAndFailures)({contractId:a.transaction.receiverId,outcome:u}),!o&&typeof u.status=="object"&&typeof u.status.Failure=="object"&&u.status.Failure!==null)throw u.status.Failure.error_message&&u.status.Failure.error_type?new types_1$g.TypedError(`Transaction ${u.transaction_outcome.id} failed. ${u.status.Failure.error_message}`,u.status.Failure.error_type):(0,utils_1$l.parseResultError)(u);return u})}findAccessKey(t,n){return __awaiter$z(this,void 0,void 0,function*(){const o=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!o)throw new types_1$g.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const c=this.accessKeyByPublicKeyCache[o.toString()];if(c!==void 0)return{publicKey:o,accessKey:c};try{const a=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:o.toString(),finality:"optimistic"}),u=Object.assign(Object.assign({},a),{nonce:BigInt(a.nonce||0)});return this.accessKeyByPublicKeyCache[o.toString()]?{publicKey:o,accessKey:this.accessKeyByPublicKeyCache[o.toString()]}:(this.accessKeyByPublicKeyCache[o.toString()]=u,{publicKey:o,accessKey:u})}catch(a){if(a.type=="AccessKeyDoesNotExist")return null;throw a}})}createAndDeployContract(t,n,o,c){return __awaiter$z(this,void 0,void 0,function*(){const a=fullAccessKey$4();return yield this.signAndSendTransaction({receiverId:t,actions:[createAccount$3(),transfer$3(c),addKey$5(crypto_1$d.PublicKey.from(n),a),deployContract$7(o)]}),new cr(this.connection,t)})}sendMoney(t,n){return __awaiter$z(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:t,actions:[transfer$3(n)]})})}createAccount(t,n,o){return __awaiter$z(this,void 0,void 0,function*(){const c=fullAccessKey$4();return this.signAndSendTransaction({receiverId:t,actions:[createAccount$3(),transfer$3(o),addKey$5(crypto_1$d.PublicKey.from(n),c)]})})}deleteAccount(t){return __awaiter$z(this,void 0,void 0,function*(){return utils_1$l.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteAccount$3(t)]})})}deployContract(t){return __awaiter$z(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deployContract$7(t)]})})}encodeJSContractArgs(t,n,o){return Buffer$E.concat([Buffer$E.from(t),Buffer$E.from([0]),Buffer$E.from(n),Buffer$E.from([0]),Buffer$E.from(o)])}functionCall({contractId:t,methodName:n,args:o={},gas:c=utils_1$l.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:a,walletMeta:u,walletCallbackUrl:h,stringify:v,jsContract:b}){return __awaiter$z(this,void 0,void 0,function*(){this.validateArgs(o);let y;if(b)y=["call_js_contract",this.encodeJSContractArgs(t,n,JSON.stringify(o)),c,a,null,!0];else{const w=v===void 0?transactions_1$a.stringifyJsonOrBytes:v;y=[n,o,c,a,w,!1]}return this.signAndSendTransaction({receiverId:b?this.connection.jsvmAccountId:t,actions:[functionCall$9.apply(void 0,y)],walletMeta:u,walletCallbackUrl:h})})}addKey(t,n,o,c){return __awaiter$z(this,void 0,void 0,function*(){o||(o=[]),Array.isArray(o)||(o=[o]);let a;return n?a=functionCallAccessKey$4(n,o,c):a=fullAccessKey$4(),this.signAndSendTransaction({receiverId:this.accountId,actions:[addKey$5(crypto_1$d.PublicKey.from(t),a)]})})}deleteKey(t){return __awaiter$z(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteKey$5(crypto_1$d.PublicKey.from(t))]})})}stake(t,n){return __awaiter$z(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[stake$3(n,crypto_1$d.PublicKey.from(t))]})})}signedDelegate({actions:t,blockHeightTtl:n,receiverId:o}){return __awaiter$z(this,void 0,void 0,function*(){const{provider:c,signer:a}=this.connection,{header:u}=yield c.block({finality:"final"}),{accessKey:h,publicKey:v}=yield this.findAccessKey(null,null),b=(0,transactions_1$a.buildDelegateAction)({actions:t,maxBlockHeight:BigInt(u.height)+BigInt(n),nonce:BigInt(h.nonce)+BigInt(1),publicKey:v,receiverId:o,senderId:this.accountId}),{signedDelegateAction:y}=yield(0,transactions_1$a.signDelegateAction)({delegateAction:b,signer:{sign:w=>__awaiter$z(this,void 0,void 0,function*(){const{signature:O}=yield a.signMessage(w,b.senderId,this.connection.networkId);return O})}});return y})}validateArgs(t){if(!(t.byteLength!==void 0&&t.byteLength===t.length)&&(Array.isArray(t)||typeof t!="object"))throw new types_1$g.PositionalArgsError}viewFunction(t){return __awaiter$z(this,void 0,void 0,function*(){return yield(0,utils_2$2.viewFunction)(this.connection,t)})}viewState(t,n={finality:"optimistic"}){return __awaiter$z(this,void 0,void 0,function*(){return yield(0,utils_2$2.viewState)(this.connection,this.accountId,t,n)})}getAccessKeys(){var t;return __awaiter$z(this,void 0,void 0,function*(){const n=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(t=n==null?void 0:n.keys)===null||t===void 0?void 0:t.map(o=>Object.assign(Object.assign({},o),{access_key:Object.assign(Object.assign({},o.access_key),{nonce:BigInt(o.access_key.nonce)})}))})}getAccountDetails(){return __awaiter$z(this,void 0,void 0,function*(){return{authorizedApps:(yield this.getAccessKeys()).filter(t=>t.access_key.permission!=="FullAccess").map(t=>{const n=t.access_key.permission;return{contractId:n.FunctionCall.receiver_id,amount:n.FunctionCall.allowance,publicKey:t.public_key}})}})}getAccountBalance(){return __awaiter$z(this,void 0,void 0,function*(){const t=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),n=yield this.state(),o=BigInt(t.runtime_config.storage_amount_per_byte),c=BigInt(n.storage_usage)*o,a=BigInt(n.locked),u=BigInt(n.amount)+a,h=u-(a>c?a:c);return{total:u.toString(),stateStaked:c.toString(),staked:a.toString(),available:h.toString()}})}getActiveDelegatedStakeBalance(){return __awaiter$z(this,void 0,void 0,function*(){const t=yield this.connection.provider.block({finality:"final"}),n=t.header.hash,o=t.header.epoch_id,{current_validators:c,next_validators:a,current_proposals:u}=yield this.connection.provider.validators(o),h=new Set;[...c,...a,...u].forEach(O=>h.add(O.account_id));const v=[...h],b=v.map(O=>this.viewFunction({contractId:O,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:n}})),y=yield Promise.allSettled(b);if(y.some(O=>O.status==="rejected"&&O.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const w=y.reduce((O,P,C)=>{const x=v[C];if(P.status==="fulfilled"){const D=BigInt(P.value);if(D!==BigInt(0))return Object.assign(Object.assign({},O),{stakedValidators:[...O.stakedValidators,{validatorId:x,amount:D.toString()}],total:O.total+D})}return P.status==="rejected"?Object.assign(Object.assign({},O),{failedValidators:[...O.failedValidators,{validatorId:x,error:P.reason}]}):O},{stakedValidators:[],failedValidators:[],total:BigInt(0)});return Object.assign(Object.assign({},w),{total:w.total.toString()})})}};account$3.Account=Account$1;var account_2fa$1={},account_multisig$3={},constants$3={};Object.defineProperty(constants$3,"__esModule",{value:!0}),constants$3.MULTISIG_CONFIRM_METHODS=constants$3.MULTISIG_CHANGE_METHODS=constants$3.MULTISIG_DEPOSIT=constants$3.MULTISIG_GAS=constants$3.MULTISIG_ALLOWANCE=constants$3.MULTISIG_STORAGE_KEY=void 0;const utils_1$k=lib$h;constants$3.MULTISIG_STORAGE_KEY="__multisigRequest",constants$3.MULTISIG_ALLOWANCE=BigInt((0,utils_1$k.parseNearAmount)("1")),constants$3.MULTISIG_GAS=BigInt("100000000000000"),constants$3.MULTISIG_DEPOSIT=BigInt("0"),constants$3.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],constants$3.MULTISIG_CONFIRM_METHODS=["confirm"];var types$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=void 0,function(t){t.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",t.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",t.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",t.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",t.METHOD_NOT_FOUND="Contract method is not found"}(e.MultisigDeleteRequestRejectionError||(e.MultisigDeleteRequestRejectionError={})),function(t){t[t.INVALID_STATE=0]="INVALID_STATE",t[t.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",t[t.VALID_STATE=2]="VALID_STATE",t[t.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(e.MultisigStateStatus||(e.MultisigStateStatus={}))})(types$4);var __awaiter$y=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account_multisig$3,"__esModule",{value:!0}),account_multisig$3.AccountMultisig=void 0;const transactions_1$9=lib$d,utils_1$j=lib$h,account_1$2=account$3,constants_1$5=constants$3,types_1$f=types$4,{deployContract:deployContract$6,functionCall:functionCall$8}=transactions_1$9.actionCreators;var MultisigCodeStatus$1;(function(e){e[e.INVALID_CODE=0]="INVALID_CODE",e[e.VALID_CODE=1]="VALID_CODE",e[e.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(MultisigCodeStatus$1||(MultisigCodeStatus$1={}));const storageFallback$1={[constants_1$5.MULTISIG_STORAGE_KEY]:null};let AccountMultisig$1=class extends account_1$2.Account{constructor(e,t,n){super(e,t),this.storage=n.storage,this.onAddRequestResult=n.onAddRequestResult}signAndSendTransactionWithAccount(e,t){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$y(this,void 0,void 0,function*(){return n.signAndSendTransaction.call(this,{receiverId:e,actions:t})})}signAndSendTransaction({receiverId:e,actions:t}){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$y(this,void 0,void 0,function*(){const{accountId:o}=this,c=Buffer$E.from(JSON.stringify({request:{receiver_id:e,actions:convertActions$1(t,o,e)}}));let a;try{a=yield n.signAndSendTransaction.call(this,{receiverId:o,actions:[functionCall$8("add_request_and_confirm",c,constants_1$5.MULTISIG_GAS,constants_1$5.MULTISIG_DEPOSIT)]})}catch(h){if(h.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:e,actions:t});throw h}if(!a.status)throw new Error("Request failed");const u=Object.assign({},a.status);if(!u.SuccessValue||typeof u.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:o,actions:t,requestId:parseInt(Buffer$E.from(u.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(a)),this.deleteUnconfirmedRequests(),a})}checkMultisigCodeAndStateStatus(e){const t=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$y(this,void 0,void 0,function*(){const n=e?MultisigCodeStatus$1.UNKNOWN_CODE:MultisigCodeStatus$1.VALID_CODE;try{return e?yield t.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[deployContract$6(e),functionCall$8("delete_request",{request_id:4294967295},constants_1$5.MULTISIG_GAS,constants_1$5.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(4294967295),{codeStatus:MultisigCodeStatus$1.VALID_CODE,stateStatus:types_1$f.MultisigStateStatus.VALID_STATE}}catch(o){if(new RegExp(types_1$f.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(o&&o.kind&&o.kind.ExecutionError))return{codeStatus:n,stateStatus:types_1$f.MultisigStateStatus.INVALID_STATE};if(new RegExp(types_1$f.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(o&&o.kind&&o.kind.ExecutionError))return{codeStatus:n,stateStatus:types_1$f.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(types_1$f.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(o&&o.kind&&o.kind.ExecutionError))return{codeStatus:n,stateStatus:types_1$f.MultisigStateStatus.VALID_STATE};if(new RegExp(types_1$f.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(o&&o.message))return{codeStatus:MultisigCodeStatus$1.INVALID_CODE,stateStatus:types_1$f.MultisigStateStatus.UNKNOWN_STATE};throw o}})}deleteRequest(e){return super.signAndSendTransaction({receiverId:this.accountId,actions:[functionCall$8("delete_request",{request_id:e},constants_1$5.MULTISIG_GAS,constants_1$5.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return __awaiter$y(this,void 0,void 0,function*(){const e=yield this.getRequestIds();e.length&&(yield Promise.all(e.map(t=>this.deleteRequest(t))))})}deleteUnconfirmedRequests(){const e=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$y(this,void 0,void 0,function*(){const t=yield this.getRequestIds(),{requestId:n}=this.getRequest();for(const o of t)if(o!=n)try{yield e.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[functionCall$8("delete_request",{request_id:o},constants_1$5.MULTISIG_GAS,constants_1$5.MULTISIG_DEPOSIT)]})}catch{utils_1$j.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}})}getRequestIds(){return __awaiter$y(this,void 0,void 0,function*(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(constants_1$5.MULTISIG_STORAGE_KEY)||"{}"):storageFallback$1[constants_1$5.MULTISIG_STORAGE_KEY]}setRequest(e){if(this.storage)return this.storage.setItem(constants_1$5.MULTISIG_STORAGE_KEY,JSON.stringify(e));storageFallback$1[constants_1$5.MULTISIG_STORAGE_KEY]=e}};account_multisig$3.AccountMultisig=AccountMultisig$1;const convertPKForContract$1=e=>e.toString().replace("ed25519:",""),convertActions$1=(e,t,n)=>e.map(o=>{const c=o.enum,{gas:a,publicKey:u,methodName:h,args:v,deposit:b,accessKey:y,code:w}=o[c],O={type:c[0].toUpperCase()+c.substr(1),gas:a&&a.toString()||void 0,public_key:u&&convertPKForContract$1(u)||void 0,method_name:h,args:v&&Buffer$E.from(v).toString("base64")||void 0,code:w&&Buffer$E.from(w).toString("base64")||void 0,amount:b&&b.toString()||void 0,deposit:b&&b.toString()||"0",permission:void 0};if(y&&(n===t&&y.permission.enum!=="fullAccess"&&(O.permission={receiver_id:t,allowance:constants_1$5.MULTISIG_ALLOWANCE.toString(),method_names:constants_1$5.MULTISIG_CHANGE_METHODS}),y.permission.enum==="functionCall")){const{receiverId:P,methodNames:C,allowance:x}=y.permission.functionCall;O.permission={receiver_id:P,allowance:x&&x.toString()||void 0,method_names:C}}return O});var __awaiter$x=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account_2fa$1,"__esModule",{value:!0}),account_2fa$1.Account2FA=void 0;const crypto_1$c=lib$i,types_1$e=lib$g,providers_1$6=lib$e,transactions_1$8=lib$d,utils_1$i=lib$h,account_multisig_1$1=account_multisig$3,constants_1$4=constants$3,types_2$1=types$4,{addKey:addKey$4,deleteKey:deleteKey$4,deployContract:deployContract$5,fullAccessKey:fullAccessKey$3,functionCall:functionCall$7,functionCallAccessKey:functionCallAccessKey$3}=transactions_1$8.actionCreators;let Account2FA$1=class extends account_multisig_1$1.AccountMultisig{constructor(e,t,n){super(e,t,n),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=n.helperUrl||this.helperUrl,this.storage=n.storage,this.sendCode=n.sendCode||this.sendCodeDefault,this.getCode=n.getCode||this.getCodeDefault,this.verifyCode=n.verifyCode||this.verifyCodeDefault,this.onConfirmResult=n.onConfirmResult}signAndSendTransaction({receiverId:e,actions:t}){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$x(this,void 0,void 0,function*(){yield n.signAndSendTransaction.call(this,{receiverId:e,actions:t}),yield this.sendCode();const o=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(o)),o})}deployMultisig(e){const t=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return __awaiter$x(this,void 0,void 0,function*(){const{accountId:n}=this,o=(yield this.getRecoveryMethods()).data.filter(({kind:y,publicKey:w})=>(y==="phrase"||y==="ledger")&&w!==null).map(y=>y.publicKey),c=(yield this.getAccessKeys()).filter(({public_key:y,access_key:{permission:w}})=>w==="FullAccess"&&!o.includes(y)).map(y=>y.public_key).map(toPK$1),a=toPK$1((yield this.postSignedJson("/2fa/getAccessKey",{accountId:n})).publicKey),u=Buffer$E.from(JSON.stringify({num_confirmations:2})),h=[...c.map(y=>deleteKey$4(y)),...c.map(y=>addKey$4(y,functionCallAccessKey$3(n,constants_1$4.MULTISIG_CHANGE_METHODS,null))),addKey$4(a,functionCallAccessKey$3(n,constants_1$4.MULTISIG_CONFIRM_METHODS,null)),deployContract$5(e)],v=h.concat(functionCall$7("new",u,constants_1$4.MULTISIG_GAS,constants_1$4.MULTISIG_DEPOSIT));utils_1$i.Logger.log("deploying multisig contract for",n);const{stateStatus:b}=yield this.checkMultisigCodeAndStateStatus(e);switch(b){case types_2$1.MultisigStateStatus.STATE_NOT_INITIALIZED:return yield t.signAndSendTransactionWithAccount.call(this,n,v);case types_2$1.MultisigStateStatus.VALID_STATE:return yield t.signAndSendTransactionWithAccount.call(this,n,h);case types_2$1.MultisigStateStatus.INVALID_STATE:throw new types_1$e.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new types_1$e.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}})}disableWithFAK({contractBytes:e,cleanupContractBytes:t}){return __awaiter$x(this,void 0,void 0,function*(){let n=[];t&&(yield this.deleteAllRequests().catch(u=>u),n=yield this.get2faDisableCleanupActions(t));const o=yield this.get2faDisableKeyConversionActions(),c=[...n,...o,deployContract$5(e)],a=yield this.findAccessKey(this.accountId,c);if(a&&a.accessKey&&a.accessKey.permission!=="FullAccess")throw new types_1$e.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,c)})}get2faDisableCleanupActions(e){return __awaiter$x(this,void 0,void 0,function*(){const t=yield this.viewState("").catch(o=>{const c=o.cause&&o.cause.name;if(c=="NO_CONTRACT_CODE")return[];throw c=="TOO_LARGE_CONTRACT_STATE"?new types_1$e.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):o}),n=t.map(({key:o})=>o.toString("base64"));return t.length?[deployContract$5(e),functionCall$7("clean",{keys:n},constants_1$4.MULTISIG_GAS,BigInt("0"))]:[]})}get2faDisableKeyConversionActions(){return __awaiter$x(this,void 0,void 0,function*(){const{accountId:e}=this,t=(yield this.getAccessKeys()).filter(({access_key:o})=>o.permission!=="FullAccess").filter(({access_key:o})=>{const c=o.permission.FunctionCall;return c.receiver_id===e&&c.method_names.length===4&&c.method_names.includes("add_request_and_confirm")}),n=crypto_1$c.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:e})).publicKey);return[deleteKey$4(n),...t.map(({public_key:o})=>deleteKey$4(crypto_1$c.PublicKey.from(o))),...t.map(({public_key:o})=>addKey$4(crypto_1$c.PublicKey.from(o),fullAccessKey$3()))]})}disable(e,t){return __awaiter$x(this,void 0,void 0,function*(){const{stateStatus:n}=yield this.checkMultisigCodeAndStateStatus();if(n!==types_2$1.MultisigStateStatus.VALID_STATE&&n!==types_2$1.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new types_1$e.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let o;yield this.deleteAllRequests().catch(a=>o=a);const c=[...yield this.get2faDisableCleanupActions(t).catch(a=>{throw a.type==="ContractHasExistingState"&&o||a}),...yield this.get2faDisableKeyConversionActions(),deployContract$5(e)];return utils_1$i.Logger.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:c})})}sendCodeDefault(){return __awaiter$x(this,void 0,void 0,function*(){const{accountId:e}=this,{requestId:t}=this.getRequest(),n=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:e,method:n,requestId:t}),t})}getCodeDefault(){return __awaiter$x(this,void 0,void 0,function*(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')})}promptAndVerify(){return __awaiter$x(this,void 0,void 0,function*(){const e=yield this.get2faMethod(),t=yield this.getCode(e);try{return yield this.verifyCode(t)}catch(n){if(utils_1$i.Logger.warn("Error validating security code:",n),n.toString().includes("invalid 2fa code provided")||n.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw n}})}verifyCodeDefault(e){return __awaiter$x(this,void 0,void 0,function*(){const{accountId:t}=this,n=this.getRequest();if(!n)throw new Error("no request pending");const{requestId:o}=n;return yield this.postSignedJson("/2fa/verify",{accountId:t,securityCode:e,requestId:o})})}getRecoveryMethods(){return __awaiter$x(this,void 0,void 0,function*(){const{accountId:e}=this;return{accountId:e,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:e})}})}get2faMethod(){return __awaiter$x(this,void 0,void 0,function*(){let{data:e}=yield this.getRecoveryMethods();if(e&&e.length&&(e=e.find(o=>o.kind.indexOf("2fa-")===0)),!e)return null;const{kind:t,detail:n}=e;return{kind:t,detail:n}})}signatureFor(){return __awaiter$x(this,void 0,void 0,function*(){const{accountId:e}=this,t=(yield this.connection.provider.block({finality:"final"})).header.height.toString(),n=yield this.connection.signer.signMessage(Buffer$E.from(t),e,this.connection.networkId),o=Buffer$E.from(n.signature).toString("base64");return{blockNumber:t,blockNumberSignature:o}})}postSignedJson(e,t){return __awaiter$x(this,void 0,void 0,function*(){return yield(0,providers_1$6.fetchJson)(this.helperUrl+e,JSON.stringify(Object.assign(Object.assign({},t),yield this.signatureFor())))})}};account_2fa$1.Account2FA=Account2FA$1;const toPK$1=e=>crypto_1$c.PublicKey.from(e);var account_creator$3={},__awaiter$w=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account_creator$3,"__esModule",{value:!0}),account_creator$3.UrlAccountCreator=account_creator$3.LocalAccountCreator=account_creator$3.AccountCreator=void 0;const providers_1$5=lib$e;let AccountCreator$1=class{};account_creator$3.AccountCreator=AccountCreator$1;let LocalAccountCreator$1=class extends AccountCreator$1{constructor(e,t){super(),this.masterAccount=e,this.initialBalance=t}createAccount(e,t){return __awaiter$w(this,void 0,void 0,function*(){yield this.masterAccount.createAccount(e,t,this.initialBalance)})}};account_creator$3.LocalAccountCreator=LocalAccountCreator$1;let UrlAccountCreator$1=class extends AccountCreator$1{constructor(e,t){super(),this.connection=e,this.helperUrl=t}createAccount(e,t){return __awaiter$w(this,void 0,void 0,function*(){yield(0,providers_1$5.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:e,newAccountPublicKey:t.toString()}))})}};account_creator$3.UrlAccountCreator=UrlAccountCreator$1;var connection$3={},lib$b={},in_memory_signer$1={},signer$3={};Object.defineProperty(signer$3,"__esModule",{value:!0}),signer$3.Signer=void 0;let Signer$1=class{};signer$3.Signer=Signer$1;var __awaiter$v=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(in_memory_signer$1,"__esModule",{value:!0}),in_memory_signer$1.InMemorySigner=void 0;const crypto_1$b=lib$i,keystores_1$2=lib$j,sha256_1$2=sha256$1,signer_1$1=signer$3;let InMemorySigner$1=class ur extends signer_1$1.Signer{constructor(t){super(),this.keyStore=t}static fromKeyPair(t,n,o){return __awaiter$v(this,void 0,void 0,function*(){const c=new keystores_1$2.InMemoryKeyStore;return yield c.setKey(t,n,o),new ur(c)})}createKey(t,n){return __awaiter$v(this,void 0,void 0,function*(){const o=crypto_1$b.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(n,t,o),o.getPublicKey()})}getPublicKey(t,n){return __awaiter$v(this,void 0,void 0,function*(){const o=yield this.keyStore.getKey(n,t);return o===null?null:o.getPublicKey()})}signMessage(t,n,o){return __awaiter$v(this,void 0,void 0,function*(){const c=new Uint8Array((0,sha256_1$2.sha256)(t));if(!n)throw new Error("InMemorySigner requires provided account id");const a=yield this.keyStore.getKey(o,n);if(a===null)throw new Error(`Key for ${n} not found in ${o}`);return a.sign(c)})}toString(){return`InMemorySigner(${this.keyStore})`}};in_memory_signer$1.InMemorySigner=InMemorySigner$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=in_memory_signer$1;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}});var n=signer$3;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return n.Signer}})}(lib$b),Object.defineProperty(connection$3,"__esModule",{value:!0}),connection$3.Connection=void 0;const signers_1$1=lib$b,providers_1$4=lib$e;function getProvider$1(e){switch(e.type){case void 0:return e;case"JsonRpcProvider":return new providers_1$4.JsonRpcProvider(Object.assign({},e.args));case"FailoverRpcProvider":{const t=((e==null?void 0:e.args)||[]).map(n=>new providers_1$4.JsonRpcProvider(n));return new providers_1$4.FailoverRpcProvider(t)}default:throw new Error(`Unknown provider type ${e.type}`)}}function getSigner$1(e){switch(e.type){case void 0:return e;case"InMemorySigner":return new signers_1$1.InMemorySigner(e.keyStore);default:throw new Error(`Unknown signer type ${e.type}`)}}let Connection$1=class lr{constructor(t,n,o,c){this.networkId=t,this.provider=n,this.signer=o,this.jsvmAccountId=c}getConnection(){return this}static fromConfig(t){const n=getProvider$1(t.provider),o=getSigner$1(t.signer);return new lr(t.networkId,n,o,t.jsvmAccountId)}};connection$3.Connection=Connection$1;var contract$3={},localViewExecution$1={},storage$1={};Object.defineProperty(storage$1,"__esModule",{value:!0}),storage$1.Storage=void 0;const lru_map_1$1=lruExports;let Storage$1=class fr{constructor(t={max:fr.MAX_ELEMENTS}){this.cache=new lru_map_1$1.LRUMap(t.max),this.blockHeights=new Map}load(t){if(!("blockId"in t))return;let n=t.blockId;return n.toString().length==44&&(n=this.blockHeights.get(n.toString())),this.cache.get(n)}save(t,{blockHeight:n,blockTimestamp:o,contractCode:c,contractState:a}){this.blockHeights.set(t,n),this.cache.set(n,{blockHeight:n,blockTimestamp:o,contractCode:c,contractState:a})}};storage$1.Storage=Storage$1,Storage$1.MAX_ELEMENTS=100;var runtime$1={},__awaiter$u=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$4=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(runtime$1,"__esModule",{value:!0}),runtime$1.Runtime=void 0;const crypto_1$a=requireCryptoBrowserify(),notImplemented$1=e=>()=>{throw new Error("method not implemented: "+e)},prohibitedInView$1=e=>()=>{throw new Error("method not available for view calls: "+e)};let Runtime$1=class{constructor(e){var{contractCode:t}=e,n=__rest$4(e,["contractCode"]);this.context=n,this.wasm=this.prepareWASM(Buffer$E.from(t,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=Buffer$E.from([])}readUTF16CStr(e){const t=[],n=new Uint16Array(this.memory.buffer);let o=Number(e)/2;for(;n[o]!=0;)t.push(n[o]),o++;return Buffer$E.from(Uint16Array.from(t).buffer).toString("ucs2")}readUTF8CStr(e,t){const n=[],o=new Uint8Array(this.memory.buffer);let c=Number(t);for(let a=0;a<e&&o[c]!=0;a++)n.push(o[c]),c++;return Buffer$E.from(n).toString("utf8")}storageRead(e,t){const n=Buffer$E.from(new Uint8Array(this.memory.buffer,Number(t),Number(e))),o=this.context.contractState.filter(c=>Buffer$E.compare(c.key,n)===0).map(c=>c.value);return o.length===0?null:o.length>1?o:o[0]}prepareWASM(e){const t=[];if(e.subarray(0,4).toString("utf8")!=="\0asm")throw new Error("Invalid magic number");const n=e.readUInt32LE(4);if(n!=1)throw new Error("Invalid version: "+n);let o=8;t.push(e.subarray(0,o));function c(){let b=0,y=0,w;do w=e[o++],b|=(w&127)<<y,y+=7;while(w&128);return b}function a(){const b=e[o++]&1,y=c(),w=b?c():null;return{initial:y,max:w}}function u(){const b=c(),y=e.subarray(o,o+b);return o+=b,y.toString("utf8")}function h(b){const y=[];do{let w=b&127;b>>=7,b!==0&&(w|=128),y.push(w)}while(b!==0);return Buffer$E.from(y)}function v(b){const y=Buffer$E.from(b,"utf8");return Buffer$E.concat([h(y.length),y])}do{const b=o,y=e.readUInt8(o);o++;const w=c(),O=o+w;if(y==5)t.push(Buffer$E.from([5,1,0]));else if(y==2){const P=[],C=c();for(let k=0;k<C;k++){const B=o;u(),u();const q=e.readUInt8(o);o++;let V=!1;switch(q){case 0:c();break;case 1:o++,a();break;case 2:a(),V=!0;break;case 3:o++,o++;break;default:throw new Error("Invalid import kind: "+q)}V||P.push(e.subarray(B,o))}const x=Buffer$E.concat([v("env"),v("memory"),Buffer$E.from([2]),Buffer$E.from([0]),h(1)]);P.push(x);const D=Buffer$E.concat([h(P.length),...P]);t.push(Buffer$E.concat([Buffer$E.from([2]),h(D.length),D]))}else if(y==7){const P=[],C=c();for(let D=0;D<C;D++){const k=o;u();const B=e.readUInt8(o);o++,c(),B!==2&&P.push(e.subarray(k,o))}const x=Buffer$E.concat([h(P.length),...P]);t.push(Buffer$E.concat([Buffer$E.from([7]),h(x.length),x]))}else t.push(e.subarray(b,O));o=O}while(o<e.length);return Buffer$E.concat(t)}getRegisterLength(e){return BigInt(this.registers[e.toString()]?this.registers[e.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(e,t){new Uint8Array(this.memory.buffer).set(this.registers[e.toString()]||Buffer$E.from([]),Number(t))}getCurrentAccountId(e){this.registers[e.toString()]=Buffer$E.from(this.context.contractId)}inputMethodArgs(e){this.registers[e.toString()]=Buffer$E.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(e,t,n){const o=new Uint8Array(this.memory.buffer,Number(t),Number(e)),c=(0,crypto_1$a.createHash)("sha256");c.update(o),this.registers[n.toString()]=c.digest()}returnValue(e,t){this.result=Buffer$E.from(new Uint8Array(this.memory.buffer,Number(t),Number(e)))}panic(e){throw new Error("panic: "+e)}abort(e,t,n,o){const c=this.readUTF16CStr(e),a=this.readUTF16CStr(t),u=`${c} ${a}:${n}:${o}`;throw!c||!a?new Error("abort: String encoding is bad UTF-16 sequence."):new Error("abort: "+u)}appendToLog(e,t){this.logs.push(this.readUTF8CStr(e,t))}readStorage(e,t,n){const o=this.storageRead(e,t);return o==null?BigInt(0):(this.registers[n]=o,BigInt(1))}hasStorageKey(e,t){return this.storageRead(e,t)==null?BigInt(0):BigInt(1)}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(e,t)=>this.panic(this.readUTF8CStr(e,t)),epoch_height:notImplemented$1("epoch_height"),storage_usage:notImplemented$1("storage_usage"),account_balance:notImplemented$1("account_balance"),account_locked_balance:notImplemented$1("account_locked_balance"),random_seed:notImplemented$1("random_seed"),ripemd160:notImplemented$1("ripemd160"),keccak256:notImplemented$1("keccak256"),keccak512:notImplemented$1("keccak512"),ecrecover:notImplemented$1("ecrecover"),validator_stake:notImplemented$1("validator_stake"),validator_total_stake:notImplemented$1("validator_total_stake"),write_register:prohibitedInView$1("write_register"),signer_account_id:prohibitedInView$1("signer_account_id"),signer_account_pk:prohibitedInView$1("signer_account_pk"),predecessor_account_id:prohibitedInView$1("predecessor_account_id"),attached_deposit:prohibitedInView$1("attached_deposit"),prepaid_gas:prohibitedInView$1("prepaid_gas"),used_gas:prohibitedInView$1("used_gas"),promise_create:prohibitedInView$1("promise_create"),promise_then:prohibitedInView$1("promise_then"),promise_and:prohibitedInView$1("promise_and"),promise_batch_create:prohibitedInView$1("promise_batch_create"),promise_batch_then:prohibitedInView$1("promise_batch_then"),promise_batch_action_create_account:prohibitedInView$1("promise_batch_action_create_account"),promise_batch_action_deploy_contract:prohibitedInView$1("promise_batch_action_deploy_contract"),promise_batch_action_function_call:prohibitedInView$1("promise_batch_action_function_call"),promise_batch_action_function_call_weight:prohibitedInView$1("promise_batch_action_function_call_weight"),promise_batch_action_transfer:prohibitedInView$1("promise_batch_action_transfer"),promise_batch_action_stake:prohibitedInView$1("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:prohibitedInView$1("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:prohibitedInView$1("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:prohibitedInView$1("promise_batch_action_delete_key"),promise_batch_action_delete_account:prohibitedInView$1("promise_batch_action_delete_account"),promise_results_count:prohibitedInView$1("promise_results_count"),promise_result:prohibitedInView$1("promise_result"),promise_return:prohibitedInView$1("promise_return"),storage_write:prohibitedInView$1("storage_write"),storage_remove:prohibitedInView$1("storage_remove")}}execute(e){return __awaiter$u(this,void 0,void 0,function*(){const t=yield WebAssembly.compile(this.wasm),n=(yield WebAssembly.instantiate(t,{env:Object.assign(Object.assign({},this.getHostImports()),{memory:this.memory})})).exports[e];if(n==null)throw new Error(`Contract method '${e}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return n(),{result:this.result,logs:this.logs}})}};runtime$1.Runtime=Runtime$1;var __awaiter$t=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$3=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(localViewExecution$1,"__esModule",{value:!0}),localViewExecution$1.LocalViewExecution=void 0;const utils_1$h=lib$h,storage_1$1=storage$1,runtime_1$1=runtime$1,utils_2$1=utils$c;let LocalViewExecution$1=class{constructor(e){this.connection=e.getConnection(),this.storage=new storage_1$1.Storage}fetchContractCode(e,t){return __awaiter$t(this,void 0,void 0,function*(){return(yield this.connection.provider.query(Object.assign({request_type:"view_code",account_id:e},t))).code_base64})}fetchContractState(e,t){return __awaiter$t(this,void 0,void 0,function*(){return(0,utils_2$1.viewState)(this.connection,e,"",t)})}fetch(e,t){return __awaiter$t(this,void 0,void 0,function*(){const n=yield this.connection.provider.block(t),o=n.header.hash,c=n.header.height,a=n.header.timestamp,u=yield this.fetchContractCode(e,t),h=yield this.fetchContractState(e,t);return{blockHash:o,blockHeight:c,blockTimestamp:a,contractCode:u,contractState:h}})}loadOrFetch(e,t){return __awaiter$t(this,void 0,void 0,function*(){const n=this.storage.load(t);if(n)return n;const o=yield this.fetch(e,t),{blockHash:c}=o,a=__rest$3(o,["blockHash"]);return this.storage.save(c,a),a})}viewFunction(e){var{contractId:t,methodName:n,args:o={},blockQuery:c={finality:"optimistic"}}=e;return __rest$3(e,["contractId","methodName","args","blockQuery"]),__awaiter$t(this,void 0,void 0,function*(){const a=JSON.stringify(o),{contractCode:u,contractState:h,blockHeight:v,blockTimestamp:b}=yield this.loadOrFetch(t,c),y=new runtime_1$1.Runtime({contractId:t,contractCode:u,contractState:h,blockHeight:v,blockTimestamp:b,methodArgs:a}),{result:w,logs:O}=yield y.execute(n);return O&&(0,utils_1$h.printTxOutcomeLogs)({contractId:t,logs:O}),JSON.parse(Buffer$E.from(w).toString())})}};localViewExecution$1.LocalViewExecution=LocalViewExecution$1;var isMyJsonValid={exports:{}};function isProperty$2(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}var isProperty_1=isProperty$2,isProperty$1=isProperty_1,gen=function(e,t){return isProperty$1(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};gen.valid=isProperty$1,gen.property=function(e){return isProperty$1(e)?e:JSON.stringify(e)};for(var generateObjectProperty=gen,util$1=util$8,isProperty=isProperty_1,INDENT_START=/[\{\[]/,INDENT_END=/[\}\]]/,RESERVED=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],RESERVED_MAP={},i=0;i<RESERVED.length;i++)RESERVED_MAP[RESERVED[i]]=!0;var isVariable=function(e){return isProperty(e)&&!RESERVED_MAP.hasOwnProperty(e)},formats$1={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},genfun=function(){var e=[],t=0,n={},o=function(u){for(var h="";h.length<t*2;)h+="  ";e.push(h+u)},c=function(u){if(INDENT_END.test(u.trim()[0])&&INDENT_START.test(u[u.length-1])){t--,o(u),t++;return}if(INDENT_START.test(u[u.length-1])){o(u),t++;return}if(INDENT_END.test(u.trim()[0])){t--,o(u);return}o(u)},a=function(u){if(!u)return a;if(arguments.length===1&&u.indexOf(`
`)>-1)for(var h=u.trim().split(`
`),v=0;v<h.length;v++)c(h[v].trim());else c(util$1.format.apply(util$1,arguments));return a};return a.scope={},a.formats=formats$1,a.sym=function(u){return(!u||!isVariable(u))&&(u="tmp"),n[u]||(n[u]=0),u+(n[u]++||"")},a.property=function(u,h){return arguments.length===1&&(h=u,u=""),h=h+"",isProperty(h)?u?u+"."+h:h:u?u+"["+JSON.stringify(h)+"]":JSON.stringify(h)},a.toString=function(){return e.join(`
`)},a.toFunction=function(u){u||(u={});var h="return ("+a.toString()+")";Object.keys(a.scope).forEach(function(y){u[y]||(u[y]=a.scope[y])});var v=Object.keys(u).map(function(y){return y}),b=v.map(function(y){return u[y]});return Function.apply(null,v.concat(h)).apply(null,b)},arguments.length&&a.apply(null,arguments),a};genfun.formats=formats$1;var generateFunction=genfun,jsonpointer={},hasExcape=/~/,escapeMatcher=/~[01]/g;function escapeReplacer(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function untilde(e){return hasExcape.test(e)?e.replace(escapeMatcher,escapeReplacer):e}function setter(e,t,n){for(var o,c,a=1,u=t.length;a<u;){if(t[a]==="constructor"||t[a]==="prototype"||t[a]==="__proto__")return e;if(o=untilde(t[a++]),c=u>a,typeof e[o]>"u"&&(Array.isArray(e)&&o==="-"&&(o=e.length),c&&(t[a]!==""&&t[a]<1/0||t[a]==="-"?e[o]=[]:e[o]={})),!c)break;e=e[o]}var h=e[o];return n===void 0?delete e[o]:e[o]=n,h}function compilePointer(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function get$4(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=compilePointer(t);var n=t.length;if(n===1)return e;for(var o=1;o<n;){if(e=e[untilde(t[o++])],n===o)return e;if(typeof e!="object"||e===null)return}}function set$5(e,t,n){if(typeof e!="object")throw new Error("Invalid input object.");if(t=compilePointer(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return setter(e,t,n)}function compile$1(e){var t=compilePointer(e);return{get:function(n){return get$4(n,t)},set:function(n,o){return set$5(n,t,o)}}}jsonpointer.get=get$4,jsonpointer.set=set$5,jsonpointer.compile=compile$1;var formats={},isMyIpValid={exports:{}};(function(e){var t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n=/\/\d{1,3}(?=%|$)/,o=/\//,c=/%.*$/,a=/([^0-9a-f:/%])/i,u=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function h(y){if(!t.test(y))return!1;var w=y.split(".");if(w.length!==4||w[0][0]==="0"&&w[0].length>1||w[1][0]==="0"&&w[1].length>1||w[2][0]==="0"&&w[2].length>1||w[3][0]==="0"&&w[3].length>1)return!1;var O=Number(w[0]),P=Number(w[1]),C=Number(w[2]),x=Number(w[3]);return O>=0&&O<256&&P>=0&&P<256&&C>=0&&C<256&&x>=0&&x<256}function v(y){var w=y.replace(n,""),O=y.length!==w.length;if(O||!O&&o.test(y))return!1;var P=w.replace(c,""),C=P.lastIndexOf(":");if(C===-1)return!1;var x=P.substring(C+1),D=h(x),k=D?P.substring(0,C+1)+"1234:5678":P;if(a.test(k)||u.test(k))return!1;var B=k.split("::");if(B.length>2)return!1;if(B.length===2){var q=B[0]===""?[]:B[0].split(":"),V=B[1]===""?[]:B[1].split(":"),ee=8-(q.length+V.length);if(ee<=0)return!1}else if(k.split(":").length!==8)return!1;return!0}function b(y){return h(y)||v(y)}e.exports=function(y){if(y||(y={}),y.version===4)return h;if(y.version===6)return v;if(y.version==null)return b;throw new Error("Unknown version: "+y.version)},e.exports.__all_regexes__=[t,n,o,c,a,u]})(isMyIpValid);var isMyIpValidExports=isMyIpValid.exports;(function(e){var t=isMyIpValidExports,n=/\s/,o=/^[a-zA-Z0-9.-]+$/,c=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,a=/^\+[0-9][0-9 ]{5,27}[0-9]$/,u=/ {2}/,h=/ /g;e["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,e.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,e.time=/^\d{2}:\d{2}:\d{2}$/,e.email=function(v){return v.indexOf("@")!==-1&&!n.test(v)},e["ip-address"]=e.ipv4=t({version:4}),e.ipv6=t({version:6}),e.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,e.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,e.hostname=function(v){if(!o.test(v))return!1;for(var b=v.split("."),y=0;y<b.length;y++)if(!c.test(b[y]))return!1;return!0},e.alpha=/^[a-zA-Z]+$/,e.alphanumeric=/^[a-zA-Z0-9]+$/,e.style=/.:\s*[^;]/g,e.phone=function(v){if(!a.test(v)||u.test(v))return!1;var b=v.substring(1).replace(h,"").length;return b>=7&&b<=15},e["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/})(formats),isMyJsonValid.exports,function(e){var t=generateObjectProperty,n=generateFunction,o=jsonpointer,c=requireImmutable(),a=formats,u=function(O,P,C){var x=function(ee){return ee&&ee.id===C?ee:typeof ee!="object"||!ee?null:Object.keys(ee).reduce(function(te,ce){return te||x(ee[ce])},null)},D=x(O);if(D)return D;C=C.replace(/^#/,""),C=C.replace(/\/$/,"");try{return o.get(O,decodeURI(C))}catch{var k=C.indexOf("#"),B;if(k!==0)if(k===-1)B=P[C];else{var q=C.slice(0,k);B=P[q];var V=C.slice(k).replace(/^#/,"");try{return o.get(B,V)}catch{}}else B=P[C];return B||null}},h={};h.any=function(){return"true"},h.null=function(O){return O+" === null"},h.boolean=function(O){return"typeof "+O+' === "boolean"'},h.array=function(O){return"Array.isArray("+O+")"},h.object=function(O){return"typeof "+O+' === "object" && '+O+" && !Array.isArray("+O+")"},h.number=function(O){return"typeof "+O+' === "number" && isFinite('+O+")"},h.integer=function(O){return"typeof "+O+' === "number" && (Math.floor('+O+") === "+O+" || "+O+" > 9007199254740992 || "+O+" < -9007199254740992)"},h.string=function(O){return"typeof "+O+' === "string"'};var v=function(O,P){P=Math.min(P===-1?O.length:P,O.length);for(var C=[],x=0;x<P;x++)C.push(typeof O[x]=="object"?JSON.stringify(O[x]):O[x]);for(var x=1;x<C.length;x++)if(C.indexOf(C[x])!==x)return!1;return!0},b=function(O,P){var C,x=(P|0)!==P?Math.pow(10,P.toString().split(".").pop().length):1;if(x>1){var D=(O|0)!==O?Math.pow(10,O.toString().split(".").pop().length):1;D>x?C=!0:C=Math.round(x*O)%(x*P)}else C=O%P;return!C},y=function(O,P,C){return C>-1&&P.length>C?!0:O.test(P)},w=function(O,P,C,x,D){var k=D?c(a,D.formats):a,B={unique:v,formats:k,isMultipleOf:b,testLimitedRegex:y},q=D?!!D.verbose:!1,V=D&&D.greedy!==void 0?D.greedy:!1,ee={},te=[],ce=function(A){var I=A+(ee[A]=(ee[A]||0)+1);return te.push(I),I},Q=function(A){var I=JSON.stringify(A);try{for(var T=/\[([^\[\]"]+)\]/;T.test(I);)I=I.replace(T,S);return I}catch{return JSON.stringify(A)}function S(d,E){if(te.indexOf(E)===-1)throw new Error("Unreplaceable");return'." + '+E+' + "'}},ne={},fe=function(A){if(ne[A])return ne[A];var I=ce("pattern");return B[I]=new RegExp(A),ne[A]=I,I},l=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],p=function(){var A=l.shift();return l.push(A+A[0]),te.push(A),A},m=function(A,I,T,S,d){var E=I.properties,M=I.type,U=!1;Array.isArray(I.items)&&(E={},I.items.forEach(function(Se,Pe){E[Pe]=Se}),M="array",U=!0);var F=0,N=function(Se,Pe,nt){_("errors++"),T===!0&&(_("if (validate.errors === null) validate.errors = []"),q?_("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",Q(Pe||A),JSON.stringify(Se),nt||A,JSON.stringify(M),JSON.stringify(d)):_("validate.errors.push({field:%s,message:%s})",Q(Pe||A),JSON.stringify(Se)))};I.required===!0?(F++,_("if (%s === undefined) {",A),N("is required"),_("} else {")):(F++,_("if (%s !== undefined) {",A));var L=[].concat(M).map(function(Se){if(Se&&!h.hasOwnProperty(Se))throw new Error("Unknown type: "+Se);return h[Se||"any"](A)}).join(" || ")||"true";if(L!=="true"&&(F++,_("if (!(%s)) {",L),N("is the wrong type"),_("} else {")),U){if(I.additionalItems===!1)_("if (%s.length > %d) {",A,I.items.length),N("has additional items"),_("}");else if(I.additionalItems){var H=p();_("for (var %s = %d; %s < %s.length; %s++) {",H,I.items.length,H,A,H),m(A+"["+H+"]",I.additionalItems,T,S,d.concat("additionalItems")),_("}")}}if(I.format&&k[I.format]){M!=="string"&&a[I.format]&&_("if (%s) {",h.string(A));var Y=ce("format");B[Y]=k[I.format],typeof B[Y]=="function"?_("if (!%s(%s)) {",Y,A):_("if (!testLimitedRegex(%s, %s, %d)) {",Y,A,typeof I.maxLength>"u"?-1:I.maxLength),N("must be "+I.format+" format"),_("}"),M!=="string"&&a[I.format]&&_("}")}if(Array.isArray(I.required)){var Y=ce("missing");_("var %s = 0",Y);var Z=function(Pe){var nt=t(A,Pe);_("if (%s === undefined) {",nt),N("is required",nt),_("%s++",Y),_("}")};_("if ((%s)) {",M!=="object"?h.object(A):"true"),I.required.map(Z),_("}"),V||(_("if (%s === 0) {",Y),F++)}if(I.uniqueItems&&(M!=="array"&&_("if (%s) {",h.array(A)),_("if (!(unique(%s, %d))) {",A,I.maxItems||-1),N("must be unique"),_("}"),M!=="array"&&_("}")),I.enum){var de=I.enum.some(function(Se){return typeof Se=="object"}),he=de?function(Se){return"JSON.stringify("+A+") !== JSON.stringify("+JSON.stringify(Se)+")"}:function(Se){return A+" !== "+JSON.stringify(Se)};_("if (%s) {",I.enum.map(he).join(" && ")||"false"),N("must be an enum value"),_("}")}if(I.dependencies&&(M!=="object"&&_("if (%s) {",h.object(A)),Object.keys(I.dependencies).forEach(function(Se){var Pe=I.dependencies[Se];typeof Pe=="string"&&(Pe=[Pe]);var nt=function(Me){return t(A,Me)+" !== undefined"};Array.isArray(Pe)&&(_("if (%s !== undefined && !(%s)) {",t(A,Se),Pe.map(nt).join(" && ")||"true"),N("dependencies not set"),_("}")),typeof Pe=="object"&&(_("if (%s !== undefined) {",t(A,Se)),m(A,Pe,T,S,d.concat(["dependencies",Se])),_("}"))}),M!=="object"&&_("}")),I.additionalProperties||I.additionalProperties===!1){M!=="object"&&_("if (%s) {",h.object(A));var H=p(),re=ce("keys"),ae=function(Pe){return re+"["+H+"] !== "+JSON.stringify(Pe)},be=function(Pe){return"!"+fe(Pe)+".test("+re+"["+H+"])"},ye=Object.keys(E||{}).map(ae).concat(Object.keys(I.patternProperties||{}).map(be)).join(" && ")||"true";_("var %s = Object.keys(%s)",re,A)("for (var %s = 0; %s < %s.length; %s++) {",H,H,re,H)("if (%s) {",ye),I.additionalProperties===!1?(S&&_("delete %s",A+"["+re+"["+H+"]]"),N("has additional properties",null,JSON.stringify(A+".")+" + "+re+"["+H+"]")):m(A+"["+re+"["+H+"]]",I.additionalProperties,T,S,d.concat(["additionalProperties"])),_("}")("}"),M!=="object"&&_("}")}if(I.$ref){var we=u(C,D&&D.schemas||{},I.$ref);if(we){var Te=P[I.$ref];Te||(P[I.$ref]=function(Pe){return Te(Pe)},Te=w(we,P,C,!1,D));var Y=ce("ref");B[Y]=Te,_("if (!(%s(%s))) {",Y,A),N("referenced schema does not match"),_("}")}}if(I.not){var ve=ce("prev");_("var %s = errors",ve),m(A,I.not,!1,S,d.concat("not")),_("if (%s === errors) {",ve),N("negative schema matches"),_("} else {")("errors = %s",ve)("}")}if(I.items&&!U){M!=="array"&&_("if (%s) {",h.array(A));var H=p();_("for (var %s = 0; %s < %s.length; %s++) {",H,H,A,H),m(A+"["+H+"]",I.items,T,S,d.concat("items")),_("}"),M!=="array"&&_("}")}if(I.patternProperties){M!=="object"&&_("if (%s) {",h.object(A));var re=ce("keys"),H=p();_("var %s = Object.keys(%s)",re,A)("for (var %s = 0; %s < %s.length; %s++) {",H,H,re,H),Object.keys(I.patternProperties).forEach(function(nt){var Me=fe(nt);_("if (%s.test(%s)) {",Me,re+"["+H+"]"),m(A+"["+re+"["+H+"]]",I.patternProperties[nt],T,S,d.concat(["patternProperties",nt])),_("}")}),_("}"),M!=="object"&&_("}")}if(I.pattern){var Ce=fe(I.pattern);M!=="string"&&_("if (%s) {",h.string(A)),_("if (!(testLimitedRegex(%s, %s, %d))) {",Ce,A,typeof I.maxLength>"u"?-1:I.maxLength),N("pattern mismatch"),_("}"),M!=="string"&&_("}")}if(I.allOf&&I.allOf.forEach(function(Se,Pe){m(A,Se,T,S,d.concat(["allOf",Pe]))}),I.anyOf&&I.anyOf.length){var ve=ce("prev");I.anyOf.forEach(function(Pe,nt){nt===0?_("var %s = errors",ve):_("if (errors !== %s) {",ve)("errors = %s",ve),m(A,Pe,!1,!1,d)}),I.anyOf.forEach(function(Pe,nt){nt&&_("}")}),_("if (%s !== errors) {",ve),N("no schemas match"),_("}")}if(I.oneOf&&I.oneOf.length){var ve=ce("prev"),Oe=ce("passes");_("var %s = errors",ve)("var %s = 0",Oe),I.oneOf.forEach(function(Pe,nt){m(A,Pe,!1,!1,d),_("if (%s === errors) {",ve)("%s++",Oe)("} else {")("errors = %s",ve)("}")}),_("if (%s !== 1) {",Oe),N("no (or more than one) schemas match"),_("}")}for(I.multipleOf!==void 0&&(M!=="number"&&M!=="integer"&&_("if (%s) {",h.number(A)),_("if (!isMultipleOf(%s, %d)) {",A,I.multipleOf),N("has a remainder"),_("}"),M!=="number"&&M!=="integer"&&_("}")),I.maxProperties!==void 0&&(M!=="object"&&_("if (%s) {",h.object(A)),_("if (Object.keys(%s).length > %d) {",A,I.maxProperties),N("has more properties than allowed"),_("}"),M!=="object"&&_("}")),I.minProperties!==void 0&&(M!=="object"&&_("if (%s) {",h.object(A)),_("if (Object.keys(%s).length < %d) {",A,I.minProperties),N("has less properties than allowed"),_("}"),M!=="object"&&_("}")),I.maxItems!==void 0&&(M!=="array"&&_("if (%s) {",h.array(A)),_("if (%s.length > %d) {",A,I.maxItems),N("has more items than allowed"),_("}"),M!=="array"&&_("}")),I.minItems!==void 0&&(M!=="array"&&_("if (%s) {",h.array(A)),_("if (%s.length < %d) {",A,I.minItems),N("has less items than allowed"),_("}"),M!=="array"&&_("}")),I.maxLength!==void 0&&(M!=="string"&&_("if (%s) {",h.string(A)),_("if (%s.length > %d) {",A,I.maxLength),N("has longer length than allowed"),_("}"),M!=="string"&&_("}")),I.minLength!==void 0&&(M!=="string"&&_("if (%s) {",h.string(A)),_("if (%s.length < %d) {",A,I.minLength),N("has less length than allowed"),_("}"),M!=="string"&&_("}")),I.minimum!==void 0&&(M!=="number"&&M!=="integer"&&_("if (%s) {",h.number(A)),_("if (%s %s %d) {",A,I.exclusiveMinimum?"<=":"<",I.minimum),N("is less than minimum"),_("}"),M!=="number"&&M!=="integer"&&_("}")),I.maximum!==void 0&&(M!=="number"&&M!=="integer"&&_("if (%s) {",h.number(A)),_("if (%s %s %d) {",A,I.exclusiveMaximum?">=":">",I.maximum),N("is more than maximum"),_("}"),M!=="number"&&M!=="integer"&&_("}")),E&&Object.keys(E).forEach(function(Se){Array.isArray(M)&&M.indexOf("null")!==-1&&_("if (%s !== null) {",A),m(t(A,Se),E[Se],T,S,d.concat(U?Se:["properties",Se])),Array.isArray(M)&&M.indexOf("null")!==-1&&_("}")});F--;)_("}")},_=n("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return m("data",O,x,D&&D.filter,[]),_("return errors === 0")("}"),_=_.toFunction(B),_.errors=null,Object.defineProperty&&Object.defineProperty(_,"error",{get:function(){return _.errors?_.errors.map(function(A){return A.field+" "+A.message}).join(`
`):""}}),_.toJSON=function(){return O},_};e.exports=function(O,P){return typeof O=="string"&&(O=JSON.parse(O)),w(O,{},O,!0,P)},e.exports.filter=function(O,P){var C=e.exports(O,c(P,{filter:!0}));return function(x){return C(x),x}}}(isMyJsonValid);var isMyJsonValidExports=isMyJsonValid.exports,errors$5={};Object.defineProperty(errors$5,"__esModule",{value:!0}),errors$5.ConflictingOptions=errors$5.ArgumentSchemaError=errors$5.UnknownArgumentError=errors$5.UnsupportedSerializationError=void 0;let UnsupportedSerializationError$1=class extends Error{constructor(e,t){super(`Contract method '${e}' is using an unsupported serialization type ${t}`)}};errors$5.UnsupportedSerializationError=UnsupportedSerializationError$1;let UnknownArgumentError$1=class extends Error{constructor(e,t){super(`Unrecognized argument '${e}', expected '${JSON.stringify(t)}'`)}};errors$5.UnknownArgumentError=UnknownArgumentError$1;let ArgumentSchemaError$1=class extends Error{constructor(e,t){super(`Argument '${e}' does not conform to the specified ABI schema: '${JSON.stringify(t)}'`)}};errors$5.ArgumentSchemaError=ArgumentSchemaError$1;let ConflictingOptions$1=class extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}};errors$5.ConflictingOptions=ConflictingOptions$1;var __awaiter$s=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$d=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(contract$3,"__esModule",{value:!0}),contract$3.Contract=void 0;const utils_1$g=lib$h,types_1$d=lib$g,local_view_execution_1$1=localViewExecution$1,is_my_json_valid_1=__importDefault$d(isMyJsonValidExports),depd_1$2=__importDefault$d(browser$a),near_abi_1$1=lib$y,account_1$1=account$3,errors_1$5=errors$5,utils_2=utils$c;function nameFunction$1(e,t){return{[e](...n){return t(...n)}}[e]}function validateArguments$1(e,t,n){var o;if(!isObject$d(e))return;if(t.params&&t.params.serialization_type!==near_abi_1$1.AbiSerializationType.Json)throw new errors_1$5.UnsupportedSerializationError(t.name,t.params.serialization_type);if(t.result&&t.result.serialization_type!==near_abi_1$1.AbiSerializationType.Json)throw new errors_1$5.UnsupportedSerializationError(t.name,t.result.serialization_type);const c=((o=t.params)===null||o===void 0?void 0:o.args)||[];for(const a of c){const u=e[a.name],h=a.type_schema;h.definitions=n.body.root_schema.definitions;const v=(0,is_my_json_valid_1.default)(h);if(!v(u))throw new errors_1$5.ArgumentSchemaError(a.name,v.errors)}for(const a of Object.keys(e))if(!c.find(u=>u.name===a))throw new errors_1$5.UnknownArgumentError(a,c.map(u=>u.name))}const isUint8Array$1=e=>e&&e.byteLength!==void 0&&e.byteLength===e.length,isObject$d=e=>Object.prototype.toString.call(e)==="[object Object]";let Contract$1=class{constructor(e,t,n){this.connection=e.getConnection(),e instanceof account_1$1.Account&&((0,depd_1$2.default)("new Contract(account, contractId, options)")("use `new Contract(connection, contractId, options)` instead"),this.account=e),this.contractId=t,this.lve=new local_view_execution_1$1.LocalViewExecution(e);const{viewMethods:o=[],changeMethods:c=[],abi:a,useLocalViewExecution:u}=n;let h=o.map(b=>({name:b,abi:null})),v=c.map(b=>({name:b,abi:null}));if(a){if(h.length>0||v.length>0)throw new errors_1$5.ConflictingOptions;h=a.body.functions.filter(b=>b.kind===near_abi_1$1.AbiFunctionKind.View).map(b=>({name:b.name,abi:b})),v=a.body.functions.filter(b=>b.kind===near_abi_1$1.AbiFunctionKind.Call).map(b=>({name:b.name,abi:b}))}h.forEach(({name:b,abi:y})=>{Object.defineProperty(this,b,{writable:!1,enumerable:!0,value:nameFunction$1(b,(w={},O={},...P)=>__awaiter$s(this,void 0,void 0,function*(){if(P.length||!(isObject$d(w)||isUint8Array$1(w))||!isObject$d(O))throw new types_1$d.PositionalArgsError;if(y&&validateArguments$1(w,y,a),u)try{return yield this.lve.viewFunction(Object.assign({contractId:this.contractId,methodName:b,args:w},O))}catch(C){utils_1$g.Logger.warn(`Local view execution failed with: "${C.message}"`),utils_1$g.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction(Object.assign({contractId:this.contractId,methodName:b,args:w},O)):(0,utils_2.viewFunction)(this.connection,Object.assign({contractId:this.contractId,methodName:b,args:w},O))}))})}),v.forEach(({name:b,abi:y})=>{Object.defineProperty(this,b,{writable:!1,enumerable:!0,value:nameFunction$1(b,(...w)=>__awaiter$s(this,void 0,void 0,function*(){if(w.length&&(w.length>3||!(isObject$d(w[0])||isUint8Array$1(w[0]))))throw new types_1$d.PositionalArgsError;return(w.length>1||!(w[0]&&w[0].args))&&((0,depd_1$2.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),w[0]={args:w[0],gas:w[1],amount:w[2]}),y&&validateArguments$1(w[0].args,y,a),this._changeMethod(Object.assign({methodName:b},w[0]))}))})})}_changeMethod({signerAccount:e,args:t,methodName:n,gas:o,amount:c,meta:a,callbackUrl:u}){return __awaiter$s(this,void 0,void 0,function*(){validateBNLike$1({gas:o,amount:c});const h=this.account||e;if(!h)throw new Error("signerAccount must be specified");const v=yield h.functionCall({contractId:this.contractId,methodName:n,args:t,gas:o,attachedDeposit:c,walletMeta:a,walletCallbackUrl:u});return(0,utils_1$g.getTransactionLastResult)(v)})}};contract$3.Contract=Contract$1;function validateBNLike$1(e){const t="number, decimal string or BigInt";for(const n of Object.keys(e)){const o=e[n];if(o&&typeof o!="bigint"&&isNaN(o))throw new types_1$d.ArgumentTypeError(n,t,o)}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=e.Contract=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.Connection=e.AccountMultisig=e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=e.Account2FA=e.Account=void 0;var t=account$3;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}});var n=account_2fa$1;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return n.Account2FA}});var o=account_creator$3;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return o.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return o.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return o.UrlAccountCreator}});var c=account_multisig$3;Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return c.AccountMultisig}});var a=connection$3;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return a.Connection}});var u=constants$3;Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return u.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return u.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return u.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return u.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return u.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return u.MULTISIG_CONFIRM_METHODS}});var h=contract$3;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return h.Contract}});var v=errors$5;Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return v.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return v.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return v.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return v.UnsupportedSerializationError}});var b=types$4;Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return b.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return b.MultisigStateStatus}})})(lib$c),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.TypedError=e.PositionalArgsError=e.ErrorContext=e.ArgumentTypeError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=void 0;var t=lib$c;Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return t.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return t.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return t.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return t.UnsupportedSerializationError}});var n=lib$g;Object.defineProperty(e,"ArgumentTypeError",{enumerable:!0,get:function(){return n.ArgumentTypeError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return n.ErrorContext}}),Object.defineProperty(e,"PositionalArgsError",{enumerable:!0,get:function(){return n.PositionalArgsError}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return n.TypedError}});var o=lib$h;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return o.logWarning}})}(errors$6);var logger$3={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var t=lib$h;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return t.Logger}})})(logger$3),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(P,C,x,D){D===void 0&&(D=x);var k=Object.getOwnPropertyDescriptor(C,x);(!k||("get"in k?!C.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return C[x]}}),Object.defineProperty(P,D,k)}:function(P,C,x,D){D===void 0&&(D=x),P[D]=C[x]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(P,C){Object.defineProperty(P,"default",{enumerable:!0,value:C})}:function(P,C){P.default=C}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(P){if(P&&P.__esModule)return P;var C={};if(P!=null)for(var x in P)x!=="default"&&Object.prototype.hasOwnProperty.call(P,x)&&t(C,P,x);return n(C,P),C};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.logWarning=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.web=e.serialize=e.key_pair=void 0;const c=o(key_pair$2);e.key_pair=c;const a=o(serialize$7);e.serialize=a;const u=o(web$1);e.web=u;const h=o(enums$1);e.enums=h;const v=o(format$6);e.format=v;const b=o(rpc_errors$2);e.rpc_errors=b;const y=key_pair$2;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return y.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return y.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return y.KeyPairEd25519}});const w=errors$6;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return w.logWarning}});const O=logger$3;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return O.Logger}})}(utils$g);var transaction$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.transfer=e.stake=e.functionCallAccessKey=e.functionCall=e.fullAccessKey=e.deployContract=e.deleteKey=e.deleteAccount=e.createAccount=e.addKey=e.encodeTransaction=e.encodeDelegateAction=e.encodeSignedDelegate=e.Transaction=e.SignedTransaction=e.Signature=e.signTransaction=e.createTransaction=e.SCHEMA=e.Transfer=e.Stake=e.FunctionCallPermission=e.FunctionCall=e.FullAccessPermission=e.DeployContract=e.DeleteKey=e.DeleteAccount=e.CreateAccount=e.AddKey=e.AccessKeyPermission=e.AccessKey=e.Action=e.stringifyJsonOrBytes=void 0;var t=lib$d;Object.defineProperty(e,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return t.stringifyJsonOrBytes}}),Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(e,"AccessKey",{enumerable:!0,get:function(){return t.AccessKey}}),Object.defineProperty(e,"AccessKeyPermission",{enumerable:!0,get:function(){return t.AccessKeyPermission}}),Object.defineProperty(e,"AddKey",{enumerable:!0,get:function(){return t.AddKey}}),Object.defineProperty(e,"CreateAccount",{enumerable:!0,get:function(){return t.CreateAccount}}),Object.defineProperty(e,"DeleteAccount",{enumerable:!0,get:function(){return t.DeleteAccount}}),Object.defineProperty(e,"DeleteKey",{enumerable:!0,get:function(){return t.DeleteKey}}),Object.defineProperty(e,"DeployContract",{enumerable:!0,get:function(){return t.DeployContract}}),Object.defineProperty(e,"FullAccessPermission",{enumerable:!0,get:function(){return t.FullAccessPermission}}),Object.defineProperty(e,"FunctionCall",{enumerable:!0,get:function(){return t.FunctionCall}}),Object.defineProperty(e,"FunctionCallPermission",{enumerable:!0,get:function(){return t.FunctionCallPermission}}),Object.defineProperty(e,"Stake",{enumerable:!0,get:function(){return t.Stake}}),Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return t.Transfer}}),Object.defineProperty(e,"SCHEMA",{enumerable:!0,get:function(){return t.SCHEMA}}),Object.defineProperty(e,"createTransaction",{enumerable:!0,get:function(){return t.createTransaction}}),Object.defineProperty(e,"signTransaction",{enumerable:!0,get:function(){return t.signTransaction}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return t.Signature}}),Object.defineProperty(e,"SignedTransaction",{enumerable:!0,get:function(){return t.SignedTransaction}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return t.Transaction}}),Object.defineProperty(e,"encodeSignedDelegate",{enumerable:!0,get:function(){return t.encodeSignedDelegate}}),Object.defineProperty(e,"encodeDelegateAction",{enumerable:!0,get:function(){return t.encodeDelegateAction}}),Object.defineProperty(e,"encodeTransaction",{enumerable:!0,get:function(){return t.encodeTransaction}});const n=lib$d,o=(P,C)=>n.actionCreators.addKey(P,C);e.addKey=o;const c=()=>n.actionCreators.createAccount();e.createAccount=c;const a=P=>n.actionCreators.deleteAccount(P);e.deleteAccount=a;const u=P=>n.actionCreators.deleteKey(P);e.deleteKey=u;const h=P=>n.actionCreators.deployContract(P);e.deployContract=h;const v=()=>n.actionCreators.fullAccessKey();e.fullAccessKey=v;const b=(P,C,x,D,k,B)=>n.actionCreators.functionCall(P,C,x,D,k,B);e.functionCall=b;const y=(P,C,x)=>n.actionCreators.functionCallAccessKey(P,C,x);e.functionCallAccessKey=y;const w=(P,C)=>n.actionCreators.stake(P,C);e.stake=w;const O=P=>n.actionCreators.transfer(P);e.transfer=O})(transaction$1);var validators$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findSeatPrice=e.diffEpochValidators=void 0;var t=lib$h;Object.defineProperty(e,"diffEpochValidators",{enumerable:!0,get:function(){return t.diffEpochValidators}}),Object.defineProperty(e,"findSeatPrice",{enumerable:!0,get:function(){return t.findSeatPrice}})})(validators$2);var account$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;var t=lib$c;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}})})(account$2);var account_multisig$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.AccountMultisig=e.Account2FA=void 0;var t=lib$c;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return t.Account2FA}}),Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return t.AccountMultisig}}),Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return t.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return t.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return t.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return t.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return t.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return t.MultisigStateStatus}})})(account_multisig$2);var account_creator$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=void 0;var t=lib$c;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return t.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return t.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return t.UrlAccountCreator}})})(account_creator$2);var connection$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;var t=lib$c;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return t.Connection}})})(connection$2);var signer$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=lib$b;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}}),Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return t.Signer}})})(signer$2);var contract$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Contract=void 0;var t=lib$c;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return t.Contract}})})(contract$2);var near$3={},lib$a={},near$2={},__awaiter$r=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(near$2,"__esModule",{value:!0}),near$2.Near=void 0;const accounts_1$3=lib$c;let Near$1=class{constructor(e){var t;if(this.config=e,this.connection=accounts_1$3.Connection.fromConfig({networkId:e.networkId,provider:e.provider||{type:"JsonRpcProvider",args:{url:e.nodeUrl,headers:e.headers}},signer:e.signer||{type:"InMemorySigner",keyStore:e.keyStore||((t=e.deps)===null||t===void 0?void 0:t.keyStore)},jsvmAccountId:e.jsvmAccountId||`jsvm.${e.networkId}`}),e.masterAccount){const n=e.initialBalance?BigInt(e.initialBalance):BigInt("500000000000000000000000000");this.accountCreator=new accounts_1$3.LocalAccountCreator(new accounts_1$3.Account(this.connection,e.masterAccount),n)}else e.helperUrl?this.accountCreator=new accounts_1$3.UrlAccountCreator(this.connection,e.helperUrl):this.accountCreator=null}account(e){return __awaiter$r(this,void 0,void 0,function*(){return new accounts_1$3.Account(this.connection,e)})}createAccount(e,t){return __awaiter$r(this,void 0,void 0,function*(){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(e,t),new accounts_1$3.Account(this.connection,e)})}};near$2.Near=Near$1;var wallet_account$1={},cjs$1={},serialize$4={},types$3={};types$3.__esModule=!0,types$3.integers=void 0,types$3.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer$1={};buffer$1.__esModule=!0,buffer$1.DecodeBuffer=buffer$1.EncodeBuffer=void 0;var EncodeBuffer$1=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(t){if(this.buffer_size-this.offset<t){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+t);var n=new ArrayBuffer(this.buffer_size);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n,this.view=new DataView(n)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(t,n){var o=n.substring(1),c=parseInt(o)/8;this.resize_if_necessary(c);var a=n[0]==="f"?"setFloat".concat(o):n[0]==="i"?"setInt".concat(o):"setUint".concat(o);this.view[a](this.offset,t,!0),this.offset+=c},e.prototype.store_bytes=function(t){this.resize_if_necessary(t.length),new Uint8Array(this.buffer).set(new Uint8Array(t),this.offset),this.offset+=t.length},e}();buffer$1.EncodeBuffer=EncodeBuffer$1;var DecodeBuffer$1=function(){function e(t){this.offset=0,this.buffer_size=t.length,this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(t){var n=t.substring(1),o=parseInt(n)/8;this.assert_enough_buffer(o);var c=t[0]==="f"?"getFloat".concat(n):t[0]==="i"?"getInt".concat(n):"getUint".concat(n),a=this.view[c](this.offset,!0);return this.offset+=o,a},e.prototype.consume_bytes=function(t){this.assert_enough_buffer(t);var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n},e}();buffer$1.DecodeBuffer=DecodeBuffer$1;var utils$b={},__extends$1=commonjsGlobal$7&&commonjsGlobal$7.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(o[a]=c[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();utils$b.__esModule=!0,utils$b.validate_schema=utils$b.ErrorSchema=utils$b.expect_enum=utils$b.expect_same_size=utils$b.expect_bigint=utils$b.expect_type=utils$b.isArrayLike=void 0;var types_js_1$5=types$3;function isArrayLike$1(e){return Array.isArray(e)||!!e&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&e.length-1 in e)}utils$b.isArrayLike=isArrayLike$1;function expect_type$1(e,t,n){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(n.join(".")))}utils$b.expect_type=expect_type$1;function expect_bigint$1(e,t){var n=["number","string","bigint","boolean"].includes(typeof e),o=typeof e=="object"&&e!==null&&"toString"in e;if(!n&&!o)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$b.expect_bigint=expect_bigint$1;function expect_same_size$1(e,t,n){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(n.join(".")))}utils$b.expect_same_size=expect_same_size$1;function expect_enum$1(e,t){if(typeof e!="object"||e===null)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$b.expect_enum=expect_enum$1;var VALID_STRING_TYPES$1=types_js_1$5.integers.concat(["bool","string"]),VALID_OBJECT_KEYS$1=["option","enum","array","set","map","struct"],ErrorSchema$1=function(e){__extends$1(t,e);function t(n,o){var c="Invalid schema: ".concat(JSON.stringify(n)," expected ").concat(o);return e.call(this,c)||this}return t}(Error);utils$b.ErrorSchema=ErrorSchema$1;function validate_schema$1(e){if(!(typeof e=="string"&&VALID_STRING_TYPES$1.includes(e))){if(e&&typeof e=="object"){var t=Object.keys(e);if(t.length===1&&VALID_OBJECT_KEYS$1.includes(t[0])){var n=t[0];if(n==="option")return validate_schema$1(e[n]);if(n==="enum")return validate_enum_schema$1(e[n]);if(n==="array")return validate_array_schema$1(e[n]);if(n==="set")return validate_schema$1(e[n]);if(n==="map")return validate_map_schema$1(e[n]);if(n==="struct")return validate_struct_schema$1(e[n])}}throw new ErrorSchema$1(e,VALID_OBJECT_KEYS$1.join(", ")+" or "+VALID_STRING_TYPES$1.join(", "))}}utils$b.validate_schema=validate_schema$1;function validate_enum_schema$1(e){if(!Array.isArray(e))throw new ErrorSchema$1(e,"Array");for(var t=0,n=e;t<n.length;t++){var o=n[t];if(typeof o!="object"||!("struct"in o))throw new Error('Missing "struct" key in enum schema');if(typeof o.struct!="object"||Object.keys(o.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema$1({struct:o.struct})}}function validate_array_schema$1(e){if(typeof e!="object")throw new ErrorSchema$1(e,"{ type, len? }");if(e.len&&typeof e.len!="number")throw new Error("Invalid schema: ".concat(e));if("type"in e)return validate_schema$1(e.type);throw new ErrorSchema$1(e,"{ type, len? }")}function validate_map_schema$1(e){if(typeof e=="object"&&"key"in e&&"value"in e)validate_schema$1(e.key),validate_schema$1(e.value);else throw new ErrorSchema$1(e,"{ key, value }")}function validate_struct_schema$1(e){if(typeof e!="object")throw new ErrorSchema$1(e,"object");for(var t in e)validate_schema$1(e[t])}var __createBinding$5=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$5=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$5=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$5(t,e,n);return __setModuleDefault$5(t,e),t};serialize$4.__esModule=!0,serialize$4.BorshSerializer=void 0;var types_js_1$4=types$3,buffer_js_1$3=buffer$1,utils$a=__importStar$5(utils$b),BorshSerializer$1=function(){function e(t){this.encoded=new buffer_js_1$3.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=t}return e.prototype.encode=function(t,n){return this.encode_value(t,n),this.encoded.get_used_buffer()},e.prototype.encode_value=function(t,n){if(typeof n=="string"){if(types_js_1$4.integers.includes(n))return this.encode_integer(t,n);if(n==="string")return this.encode_string(t);if(n==="bool")return this.encode_boolean(t)}if(typeof n=="object"){if("option"in n)return this.encode_option(t,n);if("enum"in n)return this.encode_enum(t,n);if("array"in n)return this.encode_array(t,n);if("set"in n)return this.encode_set(t,n);if("map"in n)return this.encode_map(t,n);if("struct"in n)return this.encode_struct(t,n)}},e.prototype.encode_integer=function(t,n){var o=parseInt(n.substring(1));o<=32||n=="f64"?(this.checkTypes&&utils$a.expect_type(t,"number",this.fieldPath),this.encoded.store_value(t,n)):(this.checkTypes&&utils$a.expect_bigint(t,this.fieldPath),this.encode_bigint(BigInt(t),o))},e.prototype.encode_bigint=function(t,n){for(var o=n/8,c=new Uint8Array(o),a=0;a<o;a++)c[a]=Number(t&BigInt(255)),t=t>>BigInt(8);this.encoded.store_bytes(new Uint8Array(c))},e.prototype.encode_string=function(t){this.checkTypes&&utils$a.expect_type(t,"string",this.fieldPath);var n=t;this.encoded.store_value(n.length,"u32");for(var o=0;o<n.length;o++)this.encoded.store_value(n.charCodeAt(o),"u8")},e.prototype.encode_boolean=function(t){this.checkTypes&&utils$a.expect_type(t,"boolean",this.fieldPath),this.encoded.store_value(t?1:0,"u8")},e.prototype.encode_option=function(t,n){t==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(t,n.option))},e.prototype.encode_enum=function(t,n){this.checkTypes&&utils$a.expect_enum(t,this.fieldPath);for(var o=Object.keys(t)[0],c=0;c<n.enum.length;c++){var a=n.enum[c];if(o===Object.keys(a.struct)[0])return this.encoded.store_value(c,"u8"),this.encode_struct(t,a)}throw new Error("Enum key (".concat(o,") not found in enum schema: ").concat(JSON.stringify(n)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(t,n){if(utils$a.isArrayLike(t))return this.encode_arraylike(t,n);if(t instanceof ArrayBuffer)return this.encode_buffer(t,n);throw new Error("Expected Array-like not ".concat(typeof t,"(").concat(t,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(t,n){n.array.len?utils$a.expect_same_size(t.length,n.array.len,this.fieldPath):this.encoded.store_value(t.length,"u32");for(var o=0;o<t.length;o++)this.encode_value(t[o],n.array.type)},e.prototype.encode_buffer=function(t,n){n.array.len?utils$a.expect_same_size(t.byteLength,n.array.len,this.fieldPath):this.encoded.store_value(t.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(t))},e.prototype.encode_set=function(t,n){this.checkTypes&&utils$a.expect_type(t,"object",this.fieldPath);var o=t instanceof Set,c=o?Array.from(t.values()):Object.values(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.set)}},e.prototype.encode_map=function(t,n){this.checkTypes&&utils$a.expect_type(t,"object",this.fieldPath);var o=t instanceof Map,c=o?Array.from(t.keys()):Object.keys(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.map.key),this.encode_value(o?t.get(h):t[h],n.map.value)}},e.prototype.encode_struct=function(t,n){this.checkTypes&&utils$a.expect_type(t,"object",this.fieldPath);for(var o=0,c=Object.keys(n.struct);o<c.length;o++){var a=c[o];this.fieldPath.push(a),this.encode_value(t[a],n.struct[a]),this.fieldPath.pop()}},e}();serialize$4.BorshSerializer=BorshSerializer$1;var deserialize$3={};deserialize$3.__esModule=!0,deserialize$3.BorshDeserializer=void 0;var types_js_1$3=types$3,buffer_js_1$2=buffer$1,BorshDeserializer$1=function(){function e(t){this.buffer=new buffer_js_1$2.DecodeBuffer(t)}return e.prototype.decode=function(t){return this.decode_value(t)},e.prototype.decode_value=function(t){if(typeof t=="string"){if(types_js_1$3.integers.includes(t))return this.decode_integer(t);if(t==="string")return this.decode_string();if(t==="bool")return this.decode_boolean()}if(typeof t=="object"){if("option"in t)return this.decode_option(t);if("enum"in t)return this.decode_enum(t);if("array"in t)return this.decode_array(t);if("set"in t)return this.decode_set(t);if("map"in t)return this.decode_map(t);if("struct"in t)return this.decode_struct(t)}throw new Error("Unsupported type: ".concat(t))},e.prototype.decode_integer=function(t){var n=parseInt(t.substring(1));return n<=32||t=="f64"?this.buffer.consume_value(t):this.decode_bigint(n,t.startsWith("i"))},e.prototype.decode_bigint=function(t,n){n===void 0&&(n=!1);var o=t/8,c=new Uint8Array(this.buffer.consume_bytes(o)),a=c.reduceRight(function(u,h){return u+h.toString(16).padStart(2,"0")},"");return n&&c[o-1]?BigInt.asIntN(t,BigInt("0x".concat(a))):BigInt("0x".concat(a))},e.prototype.decode_string=function(){var t=this.decode_integer("u32"),n=new Uint8Array(this.buffer.consume_bytes(t));return String.fromCharCode.apply(null,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(t){var n=this.buffer.consume_value("u8");if(n===1)return this.decode_value(t.option);if(n!==0)throw new Error("Invalid option ".concat(n));return null},e.prototype.decode_enum=function(t){var n,o=this.buffer.consume_value("u8");if(o>t.enum.length)throw new Error("Enum option ".concat(o," is not available"));var c=t.enum[o].struct,a=Object.keys(c)[0];return n={},n[a]=this.decode_value(c[a]),n},e.prototype.decode_array=function(t){for(var n=[],o=t.array.len?t.array.len:this.decode_integer("u32"),c=0;c<o;++c)n.push(this.decode_value(t.array.type));return n},e.prototype.decode_set=function(t){for(var n=this.decode_integer("u32"),o=new Set,c=0;c<n;++c)o.add(this.decode_value(t.set));return o},e.prototype.decode_map=function(t){for(var n=this.decode_integer("u32"),o=new Map,c=0;c<n;++c){var a=this.decode_value(t.map.key),u=this.decode_value(t.map.value);o.set(a,u)}return o},e.prototype.decode_struct=function(t){var n={};for(var o in t.struct)n[o]=this.decode_value(t.struct[o]);return n},e}();deserialize$3.BorshDeserializer=BorshDeserializer$1;var __createBinding$4=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$4=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$4=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$4(t,e,n);return __setModuleDefault$4(t,e),t};cjs$1.__esModule=!0,cjs$1.deserialize=cjs$1.serialize=void 0;var serialize_js_1$1=serialize$4,deserialize_js_1$1=deserialize$3,utils$9=__importStar$4(utils$b);function serialize$3(e,t,n){n===void 0&&(n=!0),n&&utils$9.validate_schema(e);var o=new serialize_js_1$1.BorshSerializer(n);return o.encode(t,e)}cjs$1.serialize=serialize$3;function deserialize$2(e,t,n){n===void 0&&(n=!0),n&&utils$9.validate_schema(e);var o=new deserialize_js_1$1.BorshDeserializer(t);return o.decode(e)}cjs$1.deserialize=deserialize$2;var __awaiter$q=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(wallet_account$1,"__esModule",{value:!0}),wallet_account$1.ConnectedWalletAccount=wallet_account$1.WalletConnection=void 0;const accounts_1$2=lib$c,crypto_1$9=lib$i,utils_1$f=lib$h,transactions_1$7=lib$d,borsh_1$2=cjs$1,LOGIN_WALLET_URL_SUFFIX$1="/login/",MULTISIG_HAS_METHOD$2="add_request_and_confirm",LOCAL_STORAGE_KEY_SUFFIX$2="_wallet_auth_key",PENDING_ACCESS_KEY_PREFIX$1="pending_key";let WalletConnection$1=class{constructor(e,t){if(typeof t!="string")throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if(typeof window>"u")return new Proxy(this,{get(c,a){return a==="isSignedIn"?()=>!1:a==="getAccountId"?()=>"":c[a]&&typeof c[a]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:c[a]}});this._near=e;const n=t+LOCAL_STORAGE_KEY_SUFFIX$2,o=JSON.parse(window.localStorage.getItem(n));this._networkId=e.config.networkId,this._walletBaseUrl=e.config.walletUrl,t=t||e.config.contractName||"default",this._keyStore=e.connection.signer.keyStore,this._authData=o||{allKeys:[]},this._authDataKey=n,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return __awaiter$q(this,void 0,void 0,function*(){return this._completeSignInPromise?(yield this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()})}getAccountId(){return this._authData.accountId||""}requestSignInUrl({contractId:e,methodNames:t,successUrl:n,failureUrl:o}){return __awaiter$q(this,void 0,void 0,function*(){const c=new URL(window.location.href),a=new URL(this._walletBaseUrl+LOGIN_WALLET_URL_SUFFIX$1);if(a.searchParams.set("success_url",n||c.href),a.searchParams.set("failure_url",o||c.href),e){yield(yield this._near.account(e)).state(),a.searchParams.set("contract_id",e);const u=crypto_1$9.KeyPair.fromRandom("ed25519");a.searchParams.set("public_key",u.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,PENDING_ACCESS_KEY_PREFIX$1+u.getPublicKey(),u)}return t&&t.forEach(u=>{a.searchParams.append("methodNames",u)}),a.toString()})}requestSignIn(e){return __awaiter$q(this,void 0,void 0,function*(){const t=yield this.requestSignInUrl(e);window.location.assign(t)})}requestSignTransactionsUrl({transactions:e,meta:t,callbackUrl:n}){const o=new URL(window.location.href),c=new URL("sign",this._walletBaseUrl);return c.searchParams.set("transactions",e.map(a=>(0,borsh_1$2.serialize)(transactions_1$7.SCHEMA.Transaction,a)).map(a=>Buffer$E.from(a).toString("base64")).join(",")),c.searchParams.set("callbackUrl",n||o.href),t&&c.searchParams.set("meta",t),c.toString()}requestSignTransactions(e){const t=this.requestSignTransactionsUrl(e);window.location.assign(t)}_completeSignInWithAccessKey(){return __awaiter$q(this,void 0,void 0,function*(){const e=new URL(window.location.href),t=e.searchParams.get("public_key")||"",n=(e.searchParams.get("all_keys")||"").split(","),o=e.searchParams.get("account_id")||"";if(o){const c={accountId:o,allKeys:n};window.localStorage.setItem(this._authDataKey,JSON.stringify(c)),t&&(yield this._moveKeyFromTempToPermanent(o,t)),this._authData=c}e.searchParams.delete("public_key"),e.searchParams.delete("all_keys"),e.searchParams.delete("account_id"),e.searchParams.delete("meta"),e.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,e.toString())})}_moveKeyFromTempToPermanent(e,t){return __awaiter$q(this,void 0,void 0,function*(){const n=yield this._keyStore.getKey(this._networkId,PENDING_ACCESS_KEY_PREFIX$1+t);yield this._keyStore.setKey(this._networkId,e,n),yield this._keyStore.removeKey(this._networkId,PENDING_ACCESS_KEY_PREFIX$1+t)})}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new ConnectedWalletAccount$1(this,this._near.connection,this._authData.accountId)),this._connectedAccount}};wallet_account$1.WalletConnection=WalletConnection$1;let ConnectedWalletAccount$1=class extends accounts_1$2.Account{constructor(e,t,n){super(t,n),this.walletConnection=e}signAndSendTransaction({receiverId:e,actions:t,walletMeta:n,walletCallbackUrl:o=window.location.href}){const c=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$q(this,void 0,void 0,function*(){const a=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let u=yield this.accessKeyForTransaction(e,t,a);if(!u)throw new Error(`Cannot find matching key for transaction sent to ${e}`);if(a&&a.toString()===u.public_key)try{return yield c.signAndSendTransaction.call(this,{receiverId:e,actions:t})}catch(O){if(O.type==="NotEnoughAllowance")u=yield this.accessKeyForTransaction(e,t);else throw O}const h=yield this.connection.provider.block({finality:"final"}),v=(0,utils_1$f.baseDecode)(h.header.hash),b=crypto_1$9.PublicKey.from(u.public_key),y=u.access_key.nonce+BigInt(1),w=(0,transactions_1$7.createTransaction)(this.accountId,b,e,y,t,v);return yield this.walletConnection.requestSignTransactions({transactions:[w],meta:n,callbackUrl:o}),new Promise((O,P)=>{setTimeout(()=>{P(new Error("Failed to redirect to sign transaction"))},1e3)})})}accessKeyMatchesTransaction(e,t,n){return __awaiter$q(this,void 0,void 0,function*(){const{access_key:{permission:o}}=e;if(o==="FullAccess")return!0;if(o.FunctionCall){const{receiver_id:c,method_names:a}=o.FunctionCall;if(c===this.accountId&&a.includes(MULTISIG_HAS_METHOD$2))return!0;if(c===t){if(n.length!==1)return!1;const[{functionCall:u}]=n;return u&&(!u.deposit||u.deposit.toString()==="0")&&(a.length===0||a.includes(u.methodName))}}return!1})}accessKeyForTransaction(e,t,n){return __awaiter$q(this,void 0,void 0,function*(){const o=yield this.getAccessKeys();if(n){const a=o.find(u=>u.public_key.toString()===n.toString());if(a&&(yield this.accessKeyMatchesTransaction(a,e,t)))return a}const c=this.walletConnection._authData.allKeys;for(const a of o)if(c.indexOf(a.public_key)!==-1&&(yield this.accessKeyMatchesTransaction(a,e,t)))return a;return null})}};wallet_account$1.ConnectedWalletAccount=ConnectedWalletAccount$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=void 0;var t=near$2;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}});var n=wallet_account$1;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return n.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return n.WalletConnection}})}(lib$a),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Near=void 0;var t=lib$a;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}})}(near$3);var walletAccount$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=void 0;var t=lib$a;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return t.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return t.WalletConnection}})})(walletAccount$1),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(k,B,q,V){V===void 0&&(V=q);var ee=Object.getOwnPropertyDescriptor(B,q);(!ee||("get"in ee?!B.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return B[q]}}),Object.defineProperty(k,V,ee)}:function(k,B,q,V){V===void 0&&(V=q),k[V]=B[q]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(k,B){Object.defineProperty(k,"default",{enumerable:!0,value:B})}:function(k,B){k.default=B}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(k){if(k&&k.__esModule)return k;var B={};if(k!=null)for(var q in k)q!=="default"&&Object.prototype.hasOwnProperty.call(k,q)&&t(B,k,q);return n(B,k),B};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=e.KeyPair=e.Signer=e.InMemorySigner=e.Contract=e.Connection=e.Account=e.multisig=e.validators=e.transactions=e.utils=e.providers=e.accountCreator=void 0;const c=o(providers$1);e.providers=c;const a=o(utils$g);e.utils=a;const u=o(transaction$1);e.transactions=u;const h=o(validators$2);e.validators=h;const v=account$2;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return v.Account}});const b=o(account_multisig$2);e.multisig=b;const y=o(account_creator$2);e.accountCreator=y;const w=connection$2;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return w.Connection}});const O=signer$2;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return O.Signer}}),Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return O.InMemorySigner}});const P=contract$2;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return P.Contract}});const C=key_pair$2;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return C.KeyPair}});const x=near$3;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return x.Near}});const D=walletAccount$1;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return D.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return D.WalletConnection}})}(commonIndex$1);var browserConnect$1={},__awaiter$p=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(browserConnect$1,"__esModule",{value:!0}),browserConnect$1.connect=void 0;const near_1$1=near$3;function connect$1(e){return __awaiter$p(this,void 0,void 0,function*(){return new near_1$1.Near(e)})}browserConnect$1.connect=connect$1,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(a,u,h,v){v===void 0&&(v=h);var b=Object.getOwnPropertyDescriptor(u,h);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(a,v,b)}:function(a,u,h,v){v===void 0&&(v=h),a[v]=u[h]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var h in a)h!=="default"&&Object.prototype.hasOwnProperty.call(a,h)&&t(u,a,h);return n(u,a),u},c=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(a,u){for(var h in a)h!=="default"&&!Object.prototype.hasOwnProperty.call(u,h)&&t(u,a,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.keyStores=void 0,e.keyStores=o(browserIndex$3),c(commonIndex$1,e),c(browserConnect$1,e)}(browserIndex$4);const browserIndex$2=getDefaultExportFromCjs$1(browserIndex$4),nearAPI$1=_mergeNamespaces({__proto__:null,default:browserIndex$2},[browserIndex$4]),{transactions,utils:utils$8}=nearAPI$1,getAccessKey=e=>{if(e==="FullAccess")return transactions.fullAccessKey();const{receiverId:t,methodNames:n=[]}=e,o=e.allowance?BigInt(e.allowance):void 0;return transactions.functionCallAccessKey(t,n,o)},createAction$1=e=>{switch(e.type){case"CreateAccount":return transactions.createAccount();case"DeployContract":{const{code:t}=e.params;return transactions.deployContract(t)}case"FunctionCall":{const{methodName:t,args:n,gas:o,deposit:c}=e.params;return transactions.functionCall(t,n,BigInt(o),BigInt(c))}case"Transfer":{const{deposit:t}=e.params;return transactions.transfer(BigInt(t))}case"Stake":{const{stake:t,publicKey:n}=e.params;return transactions.stake(BigInt(t),utils$8.PublicKey.from(n))}case"AddKey":{const{publicKey:t,accessKey:n}=e.params;return transactions.addKey(utils$8.PublicKey.from(t),getAccessKey(n.permission))}case"DeleteKey":{const{publicKey:t}=e.params;return transactions.deleteKey(utils$8.PublicKey.from(t))}case"DeleteAccount":{const{beneficiaryId:t}=e.params;return transactions.deleteAccount(t)}default:throw new Error("Invalid action type")}};var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$u<"u"?global$u:typeof self<"u"?self:{},fails$8$2=function(e){try{return!!e()}catch{return!0}},toString$a={}.toString,classofRaw$1$2=function(e){return toString$a.call(e).slice(8,-1)},fails$7$2=fails$8$2,classof$5$1=classofRaw$1$2,split$2="".split,indexedObject$2=fails$7$2(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return classof$5$1(e)=="String"?split$2.call(e,""):Object(e)}:Object,requireObjectCoercible$2$2=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},IndexedObject$3=indexedObject$2,requireObjectCoercible$1$2=requireObjectCoercible$2$2,toIndexedObject$4$1=function(e){return IndexedObject$3(requireObjectCoercible$1$2(e))},check$2=function(e){return e&&e.Math==Math&&e},global$i$1=check$2(typeof globalThis=="object"&&globalThis)||check$2(typeof window=="object"&&window)||check$2(typeof self=="object"&&self)||check$2(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||Function("return this")(),shared$2$2={exports:{}},fails$6$2=fails$8$2,descriptors$2=!fails$6$2(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),objectDefineProperty$2={},isObject$7$1=function(e){return typeof e=="object"?e!==null:typeof e=="function"},global$h$1=global$i$1,isObject$6$1=isObject$7$1,document$2$1=global$h$1.document,EXISTS$3=isObject$6$1(document$2$1)&&isObject$6$1(document$2$1.createElement),documentCreateElement$1$1=function(e){return EXISTS$3?document$2$1.createElement(e):{}},DESCRIPTORS$5$2=descriptors$2,fails$5$2=fails$8$2,createElement$1$1=documentCreateElement$1$1,ie8DomDefine$2=!DESCRIPTORS$5$2&&!fails$5$2(function(){return Object.defineProperty(createElement$1$1("div"),"a",{get:function(){return 7}}).a!=7}),isObject$5$2=isObject$7$1,anObject$b$1=function(e){if(!isObject$5$2(e))throw TypeError(String(e)+" is not an object");return e},isObject$4$2=isObject$7$1,toPrimitive$2$1=function(e,t){if(!isObject$4$2(e))return e;var n,o;if(t&&typeof(n=e.toString)=="function"&&!isObject$4$2(o=n.call(e))||typeof(n=e.valueOf)=="function"&&!isObject$4$2(o=n.call(e))||!t&&typeof(n=e.toString)=="function"&&!isObject$4$2(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")},DESCRIPTORS$4$2=descriptors$2,IE8_DOM_DEFINE$1$2=ie8DomDefine$2,anObject$a$1=anObject$b$1,toPrimitive$1$2=toPrimitive$2$1,nativeDefineProperty=Object.defineProperty;objectDefineProperty$2.f=DESCRIPTORS$4$2?nativeDefineProperty:function e(t,n,o){if(anObject$a$1(t),n=toPrimitive$1$2(n,!0),anObject$a$1(o),IE8_DOM_DEFINE$1$2)try{return nativeDefineProperty(t,n,o)}catch{}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(t[n]=o.value),t};var createPropertyDescriptor$3$1=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},DESCRIPTORS$3$2=descriptors$2,definePropertyModule$4$1=objectDefineProperty$2,createPropertyDescriptor$2$2=createPropertyDescriptor$3$1,createNonEnumerableProperty$7=DESCRIPTORS$3$2?function(e,t,n){return definePropertyModule$4$1.f(e,t,createPropertyDescriptor$2$2(1,n))}:function(e,t,n){return e[t]=n,e},global$g$1=global$i$1,createNonEnumerableProperty$6=createNonEnumerableProperty$7,setGlobal$3=function(e,t){try{createNonEnumerableProperty$6(global$g$1,e,t)}catch{global$g$1[e]=t}return t},global$f$1=global$i$1,setGlobal$2=setGlobal$3,SHARED$2="__core-js_shared__",store$3$2=global$f$1[SHARED$2]||setGlobal$2(SHARED$2,{}),sharedStore$2=store$3$2,store$2$2=sharedStore$2;(shared$2$2.exports=function(e,t){return store$2$2[e]||(store$2$2[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"});var hasOwnProperty$2={}.hasOwnProperty,has$9=function(e,t){return hasOwnProperty$2.call(e,t)},id$3=0,postfix$2=Math.random(),uid$2$2=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++id$3+postfix$2).toString(36)},fails$4$2=fails$8$2,nativeSymbol$2=!!Object.getOwnPropertySymbols&&!fails$4$2(function(){return!String(Symbol())}),NATIVE_SYMBOL$1$2=nativeSymbol$2,useSymbolAsUid$2=NATIVE_SYMBOL$1$2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",global$e$1=global$i$1,shared$1$2=shared$2$2.exports,has$8=has$9,uid$1$2=uid$2$2,NATIVE_SYMBOL$4=nativeSymbol$2,USE_SYMBOL_AS_UID$3=useSymbolAsUid$2,WellKnownSymbolsStore$2=shared$1$2("wks"),Symbol$1$2=global$e$1.Symbol,createWellKnownSymbol$2=USE_SYMBOL_AS_UID$3?Symbol$1$2:Symbol$1$2&&Symbol$1$2.withoutSetter||uid$1$2,wellKnownSymbol$d$1=function(e){return has$8(WellKnownSymbolsStore$2,e)||(NATIVE_SYMBOL$4&&has$8(Symbol$1$2,e)?WellKnownSymbolsStore$2[e]=Symbol$1$2[e]:WellKnownSymbolsStore$2[e]=createWellKnownSymbol$2("Symbol."+e)),WellKnownSymbolsStore$2[e]},ceil$2=Math.ceil,floor$3=Math.floor,toInteger$2=function(e){return isNaN(e=+e)?0:(e>0?floor$3:ceil$2)(e)},toInteger$1=toInteger$2,min$1$2=Math.min,toLength$2$1=function(e){return e>0?min$1$2(toInteger$1(e),9007199254740991):0},toInteger=toInteger$2,max$3=Math.max,min$3=Math.min,toAbsoluteIndex$1$2=function(e,t){var n=toInteger(e);return n<0?max$3(n+t,0):min$3(n,t)},toIndexedObject$3$2=toIndexedObject$4$1,toLength$1$2=toLength$2$1,toAbsoluteIndex$4=toAbsoluteIndex$1$2,createMethod$3=function(e){return function(t,n,o){var c=toIndexedObject$3$2(t),a=toLength$1$2(c.length),u=toAbsoluteIndex$4(o,a),h;if(e&&n!=n){for(;a>u;)if(h=c[u++],h!=h)return!0}else for(;a>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}},arrayIncludes$2={includes:createMethod$3(!0),indexOf:createMethod$3(!1)},hiddenKeys$4$1={},has$7=has$9,toIndexedObject$2$2=toIndexedObject$4$1,indexOf$2=arrayIncludes$2.indexOf,hiddenKeys$3$2=hiddenKeys$4$1,objectKeysInternal$2=function(e,t){var n=toIndexedObject$2$2(e),o=0,c=[],a;for(a in n)!has$7(hiddenKeys$3$2,a)&&has$7(n,a)&&c.push(a);for(;t.length>o;)has$7(n,a=t[o++])&&(~indexOf$2(c,a)||c.push(a));return c},enumBugKeys$3$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$2=objectKeysInternal$2,enumBugKeys$2$2=enumBugKeys$3$1,objectKeys$1$2=Object.keys||function e(t){return internalObjectKeys$1$2(t,enumBugKeys$2$2)},DESCRIPTORS$2$2=descriptors$2,definePropertyModule$3$1=objectDefineProperty$2,anObject$9$1=anObject$b$1,objectKeys$3=objectKeys$1$2,objectDefineProperties$1=DESCRIPTORS$2$2?Object.defineProperties:function e(t,n){anObject$9$1(t);for(var o=objectKeys$3(n),c=o.length,a=0,u;c>a;)definePropertyModule$3$1.f(t,u=o[a++],n[u]);return t},global$d$1=global$i$1,path$1=global$d$1,path=path$1,global$c$1=global$i$1,aFunction$5=function(e){return typeof e=="function"?e:void 0},getBuiltIn$5$1=function(e,t){return arguments.length<2?aFunction$5(path[e])||aFunction$5(global$c$1[e]):path[e]&&path[e][t]||global$c$1[e]&&global$c$1[e][t]},getBuiltIn$4$1=getBuiltIn$5$1,html$2$1=getBuiltIn$4$1("document","documentElement"),shared$5=shared$2$2.exports,uid$4=uid$2$2,keys$2=shared$5("keys"),sharedKey$3$1=function(e){return keys$2[e]||(keys$2[e]=uid$4(e))},anObject$8$1=anObject$b$1,defineProperties=objectDefineProperties$1,enumBugKeys$1$2=enumBugKeys$3$1,hiddenKeys$2$2=hiddenKeys$4$1,html$1$1=html$2$1,documentCreateElement$3=documentCreateElement$1$1,sharedKey$2$1=sharedKey$3$1,GT$1=">",LT$1="<",PROTOTYPE$1="prototype",SCRIPT$1="script",IE_PROTO$1=sharedKey$2$1("IE_PROTO"),EmptyConstructor$1=function(){},scriptTag$1=function(e){return LT$1+SCRIPT$1+GT$1+e+LT$1+"/"+SCRIPT$1+GT$1},NullProtoObjectViaActiveX$1=function(e){e.write(scriptTag$1("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame$1=function(){var e=documentCreateElement$3("iframe"),t="java"+SCRIPT$1+":",n;return e.style.display="none",html$1$1.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(scriptTag$1("document.F=Object")),n.close(),n.F},activeXDocument$1,NullProtoObject$1=function(){try{activeXDocument$1=document.domain&&new ActiveXObject("htmlfile")}catch{}NullProtoObject$1=activeXDocument$1?NullProtoObjectViaActiveX$1(activeXDocument$1):NullProtoObjectViaIFrame$1();for(var e=enumBugKeys$1$2.length;e--;)delete NullProtoObject$1[PROTOTYPE$1][enumBugKeys$1$2[e]];return NullProtoObject$1()};hiddenKeys$2$2[IE_PROTO$1]=!0;var objectCreate$1=Object.create||function e(t,n){var o;return t!==null?(EmptyConstructor$1[PROTOTYPE$1]=anObject$8$1(t),o=new EmptyConstructor$1,EmptyConstructor$1[PROTOTYPE$1]=null,o[IE_PROTO$1]=t):o=NullProtoObject$1(),n===void 0?o:defineProperties(o,n)},wellKnownSymbol$c$1=wellKnownSymbol$d$1,create$1=objectCreate$1,definePropertyModule$2$2=objectDefineProperty$2,UNSCOPABLES$1=wellKnownSymbol$c$1("unscopables"),ArrayPrototype$1$1=Array.prototype;ArrayPrototype$1$1[UNSCOPABLES$1]==null&&definePropertyModule$2$2.f(ArrayPrototype$1$1,UNSCOPABLES$1,{configurable:!0,value:create$1(null)});var addToUnscopables$1$1=function(e){ArrayPrototype$1$1[UNSCOPABLES$1][e]=!0},iterators$1={},store$1$2=sharedStore$2,functionToString$2=Function.toString;typeof store$1$2.inspectSource!="function"&&(store$1$2.inspectSource=function(e){return functionToString$2.call(e)});var inspectSource$3$1=store$1$2.inspectSource,global$b$1=global$i$1,inspectSource$2$2=inspectSource$3$1,WeakMap$1$2=global$b$1.WeakMap,nativeWeakMap$2=typeof WeakMap$1$2=="function"&&/native code/.test(inspectSource$2$2(WeakMap$1$2)),NATIVE_WEAK_MAP$2=nativeWeakMap$2,global$a$2=global$i$1,isObject$3$2=isObject$7$1,createNonEnumerableProperty$5=createNonEnumerableProperty$7,objectHas=has$9,sharedKey$1$2=sharedKey$3$1,hiddenKeys$1$2=hiddenKeys$4$1,WeakMap$4=global$a$2.WeakMap,set$1$1,get$3,has$6,enforce$2=function(e){return has$6(e)?get$3(e):set$1$1(e,{})},getterFor$2=function(e){return function(t){var n;if(!isObject$3$2(t)||(n=get$3(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(NATIVE_WEAK_MAP$2){var store$5=new WeakMap$4,wmget$2=store$5.get,wmhas$2=store$5.has,wmset$2=store$5.set;set$1$1=function(e,t){return wmset$2.call(store$5,e,t),t},get$3=function(e){return wmget$2.call(store$5,e)||{}},has$6=function(e){return wmhas$2.call(store$5,e)}}else{var STATE$2=sharedKey$1$2("state");hiddenKeys$1$2[STATE$2]=!0,set$1$1=function(e,t){return createNonEnumerableProperty$5(e,STATE$2,t),t},get$3=function(e){return objectHas(e,STATE$2)?e[STATE$2]:{}},has$6=function(e){return objectHas(e,STATE$2)}}var internalState$2={set:set$1$1,get:get$3,has:has$6,enforce:enforce$2,getterFor:getterFor$2},objectGetOwnPropertyDescriptor$2={},objectPropertyIsEnumerable$2={},nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2$1=Object.getOwnPropertyDescriptor,NASHORN_BUG$2=getOwnPropertyDescriptor$2$1&&!nativePropertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable$2.f=NASHORN_BUG$2?function e(t){var n=getOwnPropertyDescriptor$2$1(this,t);return!!n&&n.enumerable}:nativePropertyIsEnumerable;var DESCRIPTORS$1$2=descriptors$2,propertyIsEnumerableModule$3=objectPropertyIsEnumerable$2,createPropertyDescriptor$1$2=createPropertyDescriptor$3$1,toIndexedObject$1$2=toIndexedObject$4$1,toPrimitive$3=toPrimitive$2$1,has$5=has$9,IE8_DOM_DEFINE$3=ie8DomDefine$2,nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$2.f=DESCRIPTORS$1$2?nativeGetOwnPropertyDescriptor:function e(t,n){if(t=toIndexedObject$1$2(t),n=toPrimitive$3(n,!0),IE8_DOM_DEFINE$3)try{return nativeGetOwnPropertyDescriptor(t,n)}catch{}if(has$5(t,n))return createPropertyDescriptor$1$2(!propertyIsEnumerableModule$3.f.call(t,n),t[n])};var redefine$5={exports:{}},global$9$2=global$i$1,createNonEnumerableProperty$4=createNonEnumerableProperty$7,has$4=has$9,setGlobal$1=setGlobal$3,inspectSource$1$2=inspectSource$3$1,InternalStateModule$2$1=internalState$2,getInternalState$2=InternalStateModule$2$1.get,enforceInternalState$2=InternalStateModule$2$1.enforce,TEMPLATE$2=String(String).split("String");(redefine$5.exports=function(e,t,n,o){var c=o?!!o.unsafe:!1,a=o?!!o.enumerable:!1,u=o?!!o.noTargetGet:!1;if(typeof n=="function"&&(typeof t=="string"&&!has$4(n,"name")&&createNonEnumerableProperty$4(n,"name",t),enforceInternalState$2(n).source=TEMPLATE$2.join(typeof t=="string"?t:"")),e===global$9$2){a?e[t]=n:setGlobal$1(t,n);return}else c?!u&&e[t]&&(a=!0):delete e[t];a?e[t]=n:createNonEnumerableProperty$4(e,t,n)})(Function.prototype,"toString",function e(){return typeof this=="function"&&getInternalState$2(this).source||inspectSource$1$2(this)});var objectGetOwnPropertyNames$2={},internalObjectKeys$3=objectKeysInternal$2,enumBugKeys$5=enumBugKeys$3$1,hiddenKeys$6=enumBugKeys$5.concat("length","prototype");objectGetOwnPropertyNames$2.f=Object.getOwnPropertyNames||function e(t){return internalObjectKeys$3(t,hiddenKeys$6)};var objectGetOwnPropertySymbols$2={};objectGetOwnPropertySymbols$2.f=Object.getOwnPropertySymbols;var getBuiltIn$3$2=getBuiltIn$5$1,getOwnPropertyNamesModule$2=objectGetOwnPropertyNames$2,getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols$2,anObject$7$1=anObject$b$1,ownKeys$1$2=getBuiltIn$3$2("Reflect","ownKeys")||function e(t){var n=getOwnPropertyNamesModule$2.f(anObject$7$1(t)),o=getOwnPropertySymbolsModule$3.f;return o?n.concat(o(t)):n},has$3=has$9,ownKeys$3=ownKeys$1$2,getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor$2,definePropertyModule$1$2=objectDefineProperty$2,copyConstructorProperties$1$2=function(e,t){for(var n=ownKeys$3(t),o=definePropertyModule$1$2.f,c=getOwnPropertyDescriptorModule$2.f,a=0;a<n.length;a++){var u=n[a];has$3(e,u)||o(e,u,c(t,u))}},fails$3$2=fails$8$2,replacement$2=/#|\.prototype\./,isForced$2$1=function(e,t){var n=data$2[normalize$2(e)];return n==POLYFILL$2?!0:n==NATIVE$2?!1:typeof t=="function"?fails$3$2(t):!!t},normalize$2=isForced$2$1.normalize=function(e){return String(e).replace(replacement$2,".").toLowerCase()},data$2=isForced$2$1.data={},NATIVE$2=isForced$2$1.NATIVE="N",POLYFILL$2=isForced$2$1.POLYFILL="P",isForced_1$2=isForced$2$1,global$8$2=global$i$1,getOwnPropertyDescriptor$1$2=objectGetOwnPropertyDescriptor$2.f,createNonEnumerableProperty$3$1=createNonEnumerableProperty$7,redefine$4=redefine$5.exports,setGlobal=setGlobal$3,copyConstructorProperties$4=copyConstructorProperties$1$2,isForced$1$2=isForced_1$2,_export$2=function(e,t){var n=e.target,o=e.global,c=e.stat,a,u,h,v,b,y;if(o?u=global$8$2:c?u=global$8$2[n]||setGlobal(n,{}):u=(global$8$2[n]||{}).prototype,u)for(h in t){if(b=t[h],e.noTargetGet?(y=getOwnPropertyDescriptor$1$2(u,h),v=y&&y.value):v=u[h],a=isForced$1$2(o?h:n+(c?".":"#")+h,e.forced),!a&&v!==void 0){if(typeof b==typeof v)continue;copyConstructorProperties$4(b,v)}(e.sham||v&&v.sham)&&createNonEnumerableProperty$3$1(b,"sham",!0),redefine$4(u,h,b,e)}},requireObjectCoercible$6=requireObjectCoercible$2$2,toObject$1$2=function(e){return Object(requireObjectCoercible$6(e))},fails$2$2=fails$8$2,correctPrototypeGetter=!fails$2$2(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),has$2=has$9,toObject$4=toObject$1$2,sharedKey$4=sharedKey$3$1,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO$2=sharedKey$4("IE_PROTO"),ObjectPrototype=Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(e){return e=toObject$4(e),has$2(e,IE_PROTO$2)?e[IE_PROTO$2]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectPrototype:null},getPrototypeOf$1=objectGetPrototypeOf,createNonEnumerableProperty$2$2=createNonEnumerableProperty$7,has$1$1=has$9,wellKnownSymbol$b$1=wellKnownSymbol$d$1,ITERATOR$5=wellKnownSymbol$b$1("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,returnThis$2=function(){return this},IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$1(getPrototypeOf$1(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0),IteratorPrototype$2==null&&(IteratorPrototype$2={}),has$1$1(IteratorPrototype$2,ITERATOR$5)||createNonEnumerableProperty$2$2(IteratorPrototype$2,ITERATOR$5,returnThis$2);var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},defineProperty$6=objectDefineProperty$2.f,has$a=has$9,wellKnownSymbol$a$1=wellKnownSymbol$d$1,TO_STRING_TAG$3$1=wellKnownSymbol$a$1("toStringTag"),setToStringTag$3=function(e,t,n){e&&!has$a(e=n?e:e.prototype,TO_STRING_TAG$3$1)&&defineProperty$6(e,TO_STRING_TAG$3$1,{configurable:!0,value:t})},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$2=objectCreate$1,createPropertyDescriptor$5=createPropertyDescriptor$3$1,setToStringTag$2=setToStringTag$3,Iterators$4=iterators$1,returnThis$1=function(){return this},createIteratorConstructor$1=function(e,t,n){var o=t+" Iterator";return e.prototype=create$2(IteratorPrototype$1,{next:createPropertyDescriptor$5(1,n)}),setToStringTag$2(e,o,!1),Iterators$4[o]=returnThis$1,e},isObject$2$2=isObject$7$1,aPossiblePrototype$1$1=function(e){if(!isObject$2$2(e)&&e!==null)throw TypeError("Can't set "+String(e)+" as a prototype");return e},anObject$6$1=anObject$b$1,aPossiblePrototype$2=aPossiblePrototype$1$1,objectSetPrototypeOf$1=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,n.call(t,[]),e=t instanceof Array}catch{}return function(o,c){return anObject$6$1(o),aPossiblePrototype$2(c),e?n.call(o,c):o.__proto__=c,o}}():void 0),$$1$1=_export$2,createIteratorConstructor=createIteratorConstructor$1,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf$1,setToStringTag$1$1=setToStringTag$3,createNonEnumerableProperty$1$2=createNonEnumerableProperty$7,redefine$3=redefine$5.exports,wellKnownSymbol$9$1=wellKnownSymbol$d$1,Iterators$3=iterators$1,IteratorsCore=iteratorsCore,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$4=wellKnownSymbol$9$1("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$1=function(e,t,n,o,c,a,u){createIteratorConstructor(n,t,o);var h=function(k){if(k===c&&O)return O;if(!BUGGY_SAFARI_ITERATORS&&k in y)return y[k];switch(k){case KEYS:return function(){return new n(this,k)};case VALUES:return function(){return new n(this,k)};case ENTRIES:return function(){return new n(this,k)}}return function(){return new n(this)}},v=t+" Iterator",b=!1,y=e.prototype,w=y[ITERATOR$4]||y["@@iterator"]||c&&y[c],O=!BUGGY_SAFARI_ITERATORS&&w||h(c),P=t=="Array"&&y.entries||w,C,x,D;if(P&&(C=getPrototypeOf(P.call(new e)),IteratorPrototype!==Object.prototype&&C.next&&(getPrototypeOf(C)!==IteratorPrototype&&(setPrototypeOf$1?setPrototypeOf$1(C,IteratorPrototype):typeof C[ITERATOR$4]!="function"&&createNonEnumerableProperty$1$2(C,ITERATOR$4,returnThis)),setToStringTag$1$1(C,v,!0))),c==VALUES&&w&&w.name!==VALUES&&(b=!0,O=function(){return w.call(this)}),y[ITERATOR$4]!==O&&createNonEnumerableProperty$1$2(y,ITERATOR$4,O),Iterators$3[t]=O,c)if(x={values:h(VALUES),keys:a?O:h(KEYS),entries:h(ENTRIES)},u)for(D in x)(BUGGY_SAFARI_ITERATORS||b||!(D in y))&&redefine$3(y,D,x[D]);else $$1$1({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS||b},x);return x},toIndexedObject$6=toIndexedObject$4$1,addToUnscopables$2=addToUnscopables$1$1,Iterators$2=iterators$1,InternalStateModule$1$1=internalState$2,defineIterator=defineIterator$1,ARRAY_ITERATOR="Array Iterator",setInternalState$1=InternalStateModule$1$1.set,getInternalState$1$1=InternalStateModule$1$1.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator(Array,"Array",function(e,t){setInternalState$1(this,{type:ARRAY_ITERATOR,target:toIndexedObject$6(e),index:0,kind:t})},function(){var e=getInternalState$1$1(this),t=e.target,n=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:o,done:!1}:n=="values"?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}},"values");Iterators$2.Arguments=Iterators$2.Array,addToUnscopables$2("keys"),addToUnscopables$2("values"),addToUnscopables$2("entries");var global$7$2=global$i$1,nativePromiseConstructor=global$7$2.Promise,redefine$2=redefine$5.exports,redefineAll$1=function(e,t,n){for(var o in t)redefine$2(e,o,t[o],n);return e},getBuiltIn$2$2=getBuiltIn$5$1,definePropertyModule$7=objectDefineProperty$2,wellKnownSymbol$8$1=wellKnownSymbol$d$1,DESCRIPTORS$b=descriptors$2,SPECIES$2$1=wellKnownSymbol$8$1("species"),setSpecies$1$1=function(e){var t=getBuiltIn$2$2(e),n=definePropertyModule$7.f;DESCRIPTORS$b&&t&&!t[SPECIES$2$1]&&n(t,SPECIES$2$1,{configurable:!0,get:function(){return this}})},aFunction$4=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e},anInstance$1$1=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},iterate$2$1={exports:{}},wellKnownSymbol$7$1=wellKnownSymbol$d$1,Iterators$1$1=iterators$1,ITERATOR$3$1=wellKnownSymbol$7$1("iterator"),ArrayPrototype$2=Array.prototype,isArrayIteratorMethod$1$1=function(e){return e!==void 0&&(Iterators$1$1.Array===e||ArrayPrototype$2[ITERATOR$3$1]===e)},aFunction$3=aFunction$4,functionBindContext$1=function(e,t,n){if(aFunction$3(e),t===void 0)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(o){return e.call(t,o)};case 2:return function(o,c){return e.call(t,o,c)};case 3:return function(o,c,a){return e.call(t,o,c,a)}}return function(){return e.apply(t,arguments)}},wellKnownSymbol$6$1=wellKnownSymbol$d$1,TO_STRING_TAG$2$1=wellKnownSymbol$6$1("toStringTag"),test$3={};test$3[TO_STRING_TAG$2$1]="z";var toStringTagSupport$2=String(test$3)==="[object z]",TO_STRING_TAG_SUPPORT$2=toStringTagSupport$2,classofRaw$3=classofRaw$1$2,wellKnownSymbol$5$1=wellKnownSymbol$d$1,TO_STRING_TAG$1$2=wellKnownSymbol$5$1("toStringTag"),CORRECT_ARGUMENTS$2=classofRaw$3(function(){return arguments}())=="Arguments",tryGet$2=function(e,t){try{return e[t]}catch{}},classof$4$1=TO_STRING_TAG_SUPPORT$2?classofRaw$3:function(e){var t,n,o;return e===void 0?"Undefined":e===null?"Null":typeof(n=tryGet$2(t=Object(e),TO_STRING_TAG$1$2))=="string"?n:CORRECT_ARGUMENTS$2?classofRaw$3(t):(o=classofRaw$3(t))=="Object"&&typeof t.callee=="function"?"Arguments":o},classof$3$1=classof$4$1,Iterators$5=iterators$1,wellKnownSymbol$4$1=wellKnownSymbol$d$1,ITERATOR$2$1=wellKnownSymbol$4$1("iterator"),getIteratorMethod$1$1=function(e){if(e!=null)return e[ITERATOR$2$1]||e["@@iterator"]||Iterators$5[classof$3$1(e)]},anObject$5$1=anObject$b$1,callWithSafeIterationClosing$1=function(e,t,n,o){try{return o?t(anObject$5$1(n)[0],n[1]):t(n)}catch(a){var c=e.return;throw c!==void 0&&anObject$5$1(c.call(e)),a}},anObject$4$2=anObject$b$1,isArrayIteratorMethod$2=isArrayIteratorMethod$1$1,toLength$3=toLength$2$1,bind$2$1=functionBindContext$1,getIteratorMethod$3=getIteratorMethod$1$1,callWithSafeIterationClosing=callWithSafeIterationClosing$1,Result$1=function(e,t){this.stopped=e,this.result=t},iterate$1$1=iterate$2$1.exports=function(e,t,n,o,c){var a=bind$2$1(t,n,o?2:1),u,h,v,b,y,w,O;if(c)u=e;else{if(h=getIteratorMethod$3(e),typeof h!="function")throw TypeError("Target is not iterable");if(isArrayIteratorMethod$2(h)){for(v=0,b=toLength$3(e.length);b>v;v++)if(y=o?a(anObject$4$2(O=e[v])[0],O[1]):a(e[v]),y&&y instanceof Result$1)return y;return new Result$1(!1)}u=h.call(e)}for(w=u.next;!(O=w.call(u)).done;)if(y=callWithSafeIterationClosing(u,a,O.value,o),typeof y=="object"&&y&&y instanceof Result$1)return y;return new Result$1(!1)};iterate$1$1.stop=function(e){return new Result$1(!0,e)};var wellKnownSymbol$3$2=wellKnownSymbol$d$1,ITERATOR$1$1=wellKnownSymbol$3$2("iterator"),SAFE_CLOSING$1=!1;try{var called$1=0,iteratorWithReturn$1={next:function(){return{done:!!called$1++}},return:function(){SAFE_CLOSING$1=!0}};iteratorWithReturn$1[ITERATOR$1$1]=function(){return this},Array.from(iteratorWithReturn$1,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$1$1=function(e,t){if(!t&&!SAFE_CLOSING$1)return!1;var n=!1;try{var o={};o[ITERATOR$1$1]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch{}return n},anObject$3$2=anObject$b$1,aFunction$2=aFunction$4,wellKnownSymbol$2$2=wellKnownSymbol$d$1,SPECIES$1$1=wellKnownSymbol$2$2("species"),speciesConstructor$1$1=function(e,t){var n=anObject$3$2(e).constructor,o;return n===void 0||(o=anObject$3$2(n)[SPECIES$1$1])==null?t:aFunction$2(o)},getBuiltIn$1$2=getBuiltIn$5$1,engineUserAgent$2=getBuiltIn$1$2("navigator","userAgent")||"",userAgent$1$1=engineUserAgent$2,engineIsIos$1=/(iphone|ipod|ipad).*applewebkit/i.test(userAgent$1$1),global$6$2=global$i$1,fails$1$2=fails$8$2,classof$2$2=classofRaw$1$2,bind$1$1=functionBindContext$1,html$3=html$2$1,createElement$3=documentCreateElement$1$1,IS_IOS$1$1=engineIsIos$1,location$1=global$6$2.location,set$4=global$6$2.setImmediate,clear$3=global$6$2.clearImmediate,process$3$1=global$6$2.process,MessageChannel$1=global$6$2.MessageChannel,Dispatch$1=global$6$2.Dispatch,counter$1=0,queue$2={},ONREADYSTATECHANGE$1="onreadystatechange",defer$1,channel$1,port$1,run$1=function(e){if(queue$2.hasOwnProperty(e)){var t=queue$2[e];delete queue$2[e],t()}},runner$1=function(e){return function(){run$1(e)}},listener$1=function(e){run$1(e.data)},post$1=function(e){global$6$2.postMessage(e+"",location$1.protocol+"//"+location$1.host)};(!set$4||!clear$3)&&(set$4=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return queue$2[++counter$1]=function(){(typeof e=="function"?e:Function(e)).apply(void 0,t)},defer$1(counter$1),counter$1},clear$3=function(e){delete queue$2[e]},classof$2$2(process$3$1)=="process"?defer$1=function(e){process$3$1.nextTick(runner$1(e))}:Dispatch$1&&Dispatch$1.now?defer$1=function(e){Dispatch$1.now(runner$1(e))}:MessageChannel$1&&!IS_IOS$1$1?(channel$1=new MessageChannel$1,port$1=channel$1.port2,channel$1.port1.onmessage=listener$1,defer$1=bind$1$1(port$1.postMessage,port$1,1)):global$6$2.addEventListener&&typeof postMessage=="function"&&!global$6$2.importScripts&&!fails$1$2(post$1)&&location$1.protocol!=="file:"?(defer$1=post$1,global$6$2.addEventListener("message",listener$1,!1)):ONREADYSTATECHANGE$1 in createElement$3("script")?defer$1=function(e){html$3.appendChild(createElement$3("script"))[ONREADYSTATECHANGE$1]=function(){html$3.removeChild(this),run$1(e)}}:defer$1=function(e){setTimeout(runner$1(e),0)});var task$1$1={set:set$4,clear:clear$3},global$5$2=global$i$1,getOwnPropertyDescriptor$4=objectGetOwnPropertyDescriptor$2.f,classof$1$2=classofRaw$1$2,macrotask$1=task$1$1.set,IS_IOS$2=engineIsIos$1,MutationObserver$2=global$5$2.MutationObserver||global$5$2.WebKitMutationObserver,process$2$1=global$5$2.process,Promise$1$1=global$5$2.Promise,IS_NODE$1$1=classof$1$2(process$2$1)=="process",queueMicrotaskDescriptor$1=getOwnPropertyDescriptor$4(global$5$2,"queueMicrotask"),queueMicrotask$1=queueMicrotaskDescriptor$1&&queueMicrotaskDescriptor$1.value,flush$1,head$1,last$1,notify$1$1,toggle$1,node$1,promise$1,then$1;queueMicrotask$1||(flush$1=function(){var e,t;for(IS_NODE$1$1&&(e=process$2$1.domain)&&e.exit();head$1;){t=head$1.fn,head$1=head$1.next;try{t()}catch(n){throw head$1?notify$1$1():last$1=void 0,n}}last$1=void 0,e&&e.enter()},IS_NODE$1$1?notify$1$1=function(){process$2$1.nextTick(flush$1)}:MutationObserver$2&&!IS_IOS$2?(toggle$1=!0,node$1=document.createTextNode(""),new MutationObserver$2(flush$1).observe(node$1,{characterData:!0}),notify$1$1=function(){node$1.data=toggle$1=!toggle$1}):Promise$1$1&&Promise$1$1.resolve?(promise$1=Promise$1$1.resolve(void 0),then$1=promise$1.then,notify$1$1=function(){then$1.call(promise$1,flush$1)}):notify$1$1=function(){macrotask$1.call(global$5$2,flush$1)});var microtask$1$1=queueMicrotask$1||function(e){var t={fn:e,next:void 0};last$1&&(last$1.next=t),head$1||(head$1=t,notify$1$1()),last$1=t},newPromiseCapability$2$1={},aFunction$1$1=aFunction$4,PromiseCapability$1=function(e){var t,n;this.promise=new e(function(o,c){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=o,n=c}),this.resolve=aFunction$1$1(t),this.reject=aFunction$1$1(n)};newPromiseCapability$2$1.f=function(e){return new PromiseCapability$1(e)};var anObject$2$2=anObject$b$1,isObject$1$2=isObject$7$1,newPromiseCapability$1$1=newPromiseCapability$2$1,promiseResolve$1$1=function(e,t){if(anObject$2$2(e),isObject$1$2(t)&&t.constructor===e)return t;var n=newPromiseCapability$1$1.f(e),o=n.resolve;return o(t),n.promise},global$4$2=global$i$1,hostReportErrors$1$1=function(e,t){var n=global$4$2.console;n&&n.error&&(arguments.length===1?n.error(e):n.error(e,t))},perform$1$1=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},global$3$2=global$i$1,userAgent$7=engineUserAgent$2,process$1$1=global$3$2.process,versions$2=process$1$1&&process$1$1.versions,v8$2=versions$2&&versions$2.v8,match$2,version$3;v8$2?(match$2=v8$2.split("."),version$3=match$2[0]+match$2[1]):userAgent$7&&(match$2=userAgent$7.match(/Edge\/(\d+)/),(!match$2||match$2[1]>=74)&&(match$2=userAgent$7.match(/Chrome\/(\d+)/),match$2&&(version$3=match$2[1])));var engineV8Version$2=version$3&&+version$3,$$c=_export$2,global$2$2=global$i$1,getBuiltIn$a=getBuiltIn$5$1,NativePromise=nativePromiseConstructor,redefine$1=redefine$5.exports,redefineAll=redefineAll$1,setToStringTag$4=setToStringTag$3,setSpecies$2=setSpecies$1$1,isObject$c=isObject$7$1,aFunction$6=aFunction$4,anInstance$2=anInstance$1$1,classof$8=classofRaw$1$2,inspectSource$6=inspectSource$3$1,iterate$3=iterate$2$1.exports,checkCorrectnessOfIteration$2=checkCorrectnessOfIteration$1$1,speciesConstructor$2=speciesConstructor$1$1,task$2=task$1$1.set,microtask$2=microtask$1$1,promiseResolve$2=promiseResolve$1$1,hostReportErrors$2=hostReportErrors$1$1,newPromiseCapabilityModule$4=newPromiseCapability$2$1,perform$4=perform$1$1,InternalStateModule$3=internalState$2,isForced$4=isForced_1$2,wellKnownSymbol$1$2=wellKnownSymbol$d$1,V8_VERSION$3=engineV8Version$2,SPECIES$3=wellKnownSymbol$1$2("species"),PROMISE$1="Promise",getInternalState$3=InternalStateModule$3.get,setInternalState$2=InternalStateModule$3.set,getInternalPromiseState$1=InternalStateModule$3.getterFor(PROMISE$1),PromiseConstructor$1=NativePromise,TypeError$1$2=global$2$2.TypeError,document$1$1=global$2$2.document,process$5=global$2$2.process,$fetch=getBuiltIn$a("fetch"),newPromiseCapability$3=newPromiseCapabilityModule$4.f,newGenericPromiseCapability$1=newPromiseCapability$3,IS_NODE$3=classof$8(process$5)=="process",DISPATCH_EVENT$1=!!(document$1$1&&document$1$1.createEvent&&global$2$2.dispatchEvent),UNHANDLED_REJECTION$1="unhandledrejection",REJECTION_HANDLED$1="rejectionhandled",PENDING$1=0,FULFILLED$1=1,REJECTED$1=2,HANDLED$1=1,UNHANDLED$1=2,Internal$1,OwnPromiseCapability$1,PromiseWrapper$1,nativeThen$1,FORCED$2=isForced$4(PROMISE$1,function(){var e=inspectSource$6(PromiseConstructor$1)!==String(PromiseConstructor$1);if(!e&&(V8_VERSION$3===66||!IS_NODE$3&&typeof PromiseRejectionEvent!="function"))return!0;if(V8_VERSION$3>=51&&/native code/.test(PromiseConstructor$1))return!1;var t=PromiseConstructor$1.resolve(1),n=function(c){c(function(){},function(){})},o=t.constructor={};return o[SPECIES$3]=n,!(t.then(function(){})instanceof n)}),INCORRECT_ITERATION=FORCED$2||!checkCorrectnessOfIteration$2(function(e){PromiseConstructor$1.all(e).catch(function(){})}),isThenable$1=function(e){var t;return isObject$c(e)&&typeof(t=e.then)=="function"?t:!1},notify$2=function(e,t,n){if(!t.notified){t.notified=!0;var o=t.reactions;microtask$2(function(){for(var c=t.value,a=t.state==FULFILLED$1,u=0;o.length>u;){var h=o[u++],v=a?h.ok:h.fail,b=h.resolve,y=h.reject,w=h.domain,O,P,C;try{v?(a||(t.rejection===UNHANDLED$1&&onHandleUnhandled$1(e,t),t.rejection=HANDLED$1),v===!0?O=c:(w&&w.enter(),O=v(c),w&&(w.exit(),C=!0)),O===h.promise?y(TypeError$1$2("Promise-chain cycle")):(P=isThenable$1(O))?P.call(O,b,y):b(O)):y(c)}catch(x){w&&!C&&w.exit(),y(x)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&onUnhandled$1(e,t)})}},dispatchEvent$1=function(e,t,n){var o,c;DISPATCH_EVENT$1?(o=document$1$1.createEvent("Event"),o.promise=t,o.reason=n,o.initEvent(e,!1,!0),global$2$2.dispatchEvent(o)):o={promise:t,reason:n},(c=global$2$2["on"+e])?c(o):e===UNHANDLED_REJECTION$1&&hostReportErrors$2("Unhandled promise rejection",n)},onUnhandled$1=function(e,t){task$2.call(global$2$2,function(){var n=t.value,o=isUnhandled$1(t),c;if(o&&(c=perform$4(function(){IS_NODE$3?process$5.emit("unhandledRejection",n,e):dispatchEvent$1(UNHANDLED_REJECTION$1,e,n)}),t.rejection=IS_NODE$3||isUnhandled$1(t)?UNHANDLED$1:HANDLED$1,c.error))throw c.value})},isUnhandled$1=function(e){return e.rejection!==HANDLED$1&&!e.parent},onHandleUnhandled$1=function(e,t){task$2.call(global$2$2,function(){IS_NODE$3?process$5.emit("rejectionHandled",e):dispatchEvent$1(REJECTION_HANDLED$1,e,t.value)})},bind$7=function(e,t,n,o){return function(c){e(t,n,c,o)}},internalReject$1=function(e,t,n,o){t.done||(t.done=!0,o&&(t=o),t.value=n,t.state=REJECTED$1,notify$2(e,t,!0))},internalResolve$1=function(e,t,n,o){if(!t.done){t.done=!0,o&&(t=o);try{if(e===n)throw TypeError$1$2("Promise can't be resolved itself");var c=isThenable$1(n);c?microtask$2(function(){var a={done:!1};try{c.call(n,bind$7(internalResolve$1,e,a,t),bind$7(internalReject$1,e,a,t))}catch(u){internalReject$1(e,a,u,t)}}):(t.value=n,t.state=FULFILLED$1,notify$2(e,t,!1))}catch(a){internalReject$1(e,{done:!1},a,t)}}};FORCED$2&&(PromiseConstructor$1=function(e){anInstance$2(this,PromiseConstructor$1,PROMISE$1),aFunction$6(e),Internal$1.call(this);var t=getInternalState$3(this);try{e(bind$7(internalResolve$1,this,t),bind$7(internalReject$1,this,t))}catch(n){internalReject$1(this,t,n)}},Internal$1=function(e){setInternalState$2(this,{type:PROMISE$1,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:PENDING$1,value:void 0})},Internal$1.prototype=redefineAll(PromiseConstructor$1.prototype,{then:function(e,t){var n=getInternalPromiseState$1(this),o=newPromiseCapability$3(speciesConstructor$2(this,PromiseConstructor$1));return o.ok=typeof e=="function"?e:!0,o.fail=typeof t=="function"&&t,o.domain=IS_NODE$3?process$5.domain:void 0,n.parent=!0,n.reactions.push(o),n.state!=PENDING$1&&notify$2(this,n,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),OwnPromiseCapability$1=function(){var e=new Internal$1,t=getInternalState$3(e);this.promise=e,this.resolve=bind$7(internalResolve$1,e,t),this.reject=bind$7(internalReject$1,e,t)},newPromiseCapabilityModule$4.f=newPromiseCapability$3=function(e){return e===PromiseConstructor$1||e===PromiseWrapper$1?new OwnPromiseCapability$1(e):newGenericPromiseCapability$1(e)},typeof NativePromise=="function"&&(nativeThen$1=NativePromise.prototype.then,redefine$1(NativePromise.prototype,"then",function(e,t){var n=this;return new PromiseConstructor$1(function(o,c){nativeThen$1.call(n,o,c)}).then(e,t)},{unsafe:!0}),typeof $fetch=="function"&&$$c({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return promiseResolve$2(PromiseConstructor$1,$fetch.apply(global$2$2,arguments))}}))),$$c({global:!0,wrap:!0,forced:FORCED$2},{Promise:PromiseConstructor$1}),setToStringTag$4(PromiseConstructor$1,PROMISE$1,!1),setSpecies$2(PROMISE$1),PromiseWrapper$1=getBuiltIn$a(PROMISE$1),$$c({target:PROMISE$1,stat:!0,forced:FORCED$2},{reject:function e(t){var n=newPromiseCapability$3(this);return n.reject.call(void 0,t),n.promise}}),$$c({target:PROMISE$1,stat:!0,forced:FORCED$2},{resolve:function e(t){return promiseResolve$2(this,t)}}),$$c({target:PROMISE$1,stat:!0,forced:INCORRECT_ITERATION},{all:function e(t){var n=this,o=newPromiseCapability$3(n),c=o.resolve,a=o.reject,u=perform$4(function(){var h=aFunction$6(n.resolve),v=[],b=0,y=1;iterate$3(t,function(w){var O=b++,P=!1;v.push(void 0),y++,h.call(n,w).then(function(C){P||(P=!0,v[O]=C,--y||c(v))},a)}),--y||c(v)});return u.error&&a(u.value),o.promise},race:function e(t){var n=this,o=newPromiseCapability$3(n),c=o.reject,a=perform$4(function(){var u=aFunction$6(n.resolve);iterate$3(t,function(h){u.call(n,h).then(o.resolve,c)})});return a.error&&c(a.value),o.promise}});var anObject$1$2=anObject$b$1,regexpFlags$2=function(){var e=anObject$1$2(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},redefine=redefine$5.exports,anObject$e=anObject$b$1,fails$h=fails$8$2,flags=regexpFlags$2,TO_STRING$2="toString",RegExpPrototype$3=RegExp.prototype,nativeToString=RegExpPrototype$3[TO_STRING$2],NOT_GENERIC$2=fails$h(function(){return nativeToString.call({source:"a",flags:"b"})!="/a/b"}),INCORRECT_NAME$2=nativeToString.name!=TO_STRING$2;(NOT_GENERIC$2||INCORRECT_NAME$2)&&redefine(RegExp.prototype,TO_STRING$2,function(){var e=anObject$e(this),t=String(e.source),n=e.flags,o=String(n===void 0&&e instanceof RegExp&&!("flags"in RegExpPrototype$3)?flags.call(e):n);return"/"+t+"/"+o},{unsafe:!0});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},global$1$2=global$i$1,DOMIterables=domIterables,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty$8=createNonEnumerableProperty$7,wellKnownSymbol$f=wellKnownSymbol$d$1,ITERATOR$6=wellKnownSymbol$f("iterator"),TO_STRING_TAG$4=wellKnownSymbol$f("toStringTag"),ArrayValues=ArrayIteratorMethods.values;for(var COLLECTION_NAME in DOMIterables){var Collection=global$1$2[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR$6]!==ArrayValues)try{createNonEnumerableProperty$8(CollectionPrototype,ITERATOR$6,ArrayValues)}catch{CollectionPrototype[ITERATOR$6]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG$4]||createNonEnumerableProperty$8(CollectionPrototype,TO_STRING_TAG$4,COLLECTION_NAME),DOMIterables[COLLECTION_NAME]){for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty$8(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch{CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}}function __awaiter$o(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const signTransactions=(e,t,n)=>__awaiter$o(void 0,void 0,void 0,function*(){const o=new browserIndex$4.providers.JsonRpcProvider({url:n.nodeUrl}),c=[];for(let a=0;a<e.length;a++){const u=yield t.getPublicKey(e[a].signerId,n.networkId),[h,v]=yield Promise.all([o.block({finality:"final"}),o.query({request_type:"view_access_key",finality:"final",account_id:e[a].signerId,public_key:u.toString()})]),b=e[a].actions.map(O=>createAction$1(O)),y=browserIndex$4.transactions.createTransaction(e[a].signerId,browserIndex$4.utils.PublicKey.from(u.toString()),e[a].receiverId,v.nonce+a+1,b,browserIndex$4.utils.serialize.base_decode(h.header.hash)),w=yield browserIndex$4.transactions.signTransaction(y,t,e[a].signerId,n.networkId);c.push(w[1])}return c}),walletUtils=Object.freeze(Object.defineProperty({__proto__:null,createAction:createAction$1,signTransactions},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(walletUtils);(function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(b,y,w,O){O===void 0&&(O=w);var P=Object.getOwnPropertyDescriptor(y,w);(!P||("get"in P?!y.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return y[w]}}),Object.defineProperty(b,O,P)}:function(b,y,w,O){O===void 0&&(O=w),b[O]=y[w]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(b,y){Object.defineProperty(b,"default",{enumerable:!0,value:y})}:function(b,y){b.default=y}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(b){if(b&&b.__esModule)return b;var y={};if(b!=null)for(var w in b)w!=="default"&&Object.prototype.hasOwnProperty.call(b,w)&&t(y,b,w);return n(y,b),y},c=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(b,y,w,O){function P(C){return C instanceof w?C:new w(function(x){x(C)})}return new(w||(w=Promise))(function(C,x){function D(q){try{B(O.next(q))}catch(V){x(V)}}function k(q){try{B(O.throw(q))}catch(V){x(V)}}function B(q){q.done?C(q.value):P(q.value).then(D,k)}B((O=O.apply(b,y||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.MintbaseWallet=e.TransactionSuccessEnum=void 0;const a=o(browserIndex$9),u=utils$m,h=require$$2;(function(b){b.MINT="mint",b.TRANSFER="transfer",b.BURN="burn",b.DEPLOY_STORE="deploy-store",b.MAKE_OFFER="make-offer",b.REVOKE_MINTER="revoke-minter",b.ADD_MINTER="add-minter",b.TRANSFER_STORE_OWNERSHIP="transfer-store-ownership",b.AUCTION_LIST="list",b.SIMPLE_SALE_LIST="simple-sale-list",b.UNLIST="unlist",b.TAKE_OFFER="take-offer",b.WITHDRAW_OFFER="withdraw-offer"})(e.TransactionSuccessEnum||(e.TransactionSuccessEnum={}));const v=({metadata:b,options:y,successUrl:w,failureUrl:O,contractId:P,callback:C,networkId:x})=>c(void 0,void 0,void 0,function*(){const D=yield c(void 0,void 0,void 0,function*(){if(typeof window!==void 0){const{connect:A,WalletConnection:I,keyStores:T}=a,S={networkId:x,keyStore:new T.BrowserLocalStorageKeyStore,nodeUrl:y.network.nodeUrl,walletUrl:b.walletUrl,headers:{}},d=new URL(window.location.href).searchParams.get("account_id");d&&!P&&localStorage.setItem("mintbase-wallet_wallet_auth_key",JSON.stringify({accountId:d,allKeys:[]}));const E=yield A(S),M=new I(E,"mintbase-wallet");return localStorage.setItem("mintbase-wallet:callback_url",C),{wallet:M}}return null});let k;const B=()=>k,q=()=>c(void 0,void 0,void 0,function*(){return!!k}),V=()=>c(void 0,void 0,void 0,function*(){var A;const I=yield p(),T=encodeURI((A=window==null?void 0:window.location)===null||A===void 0?void 0:A.href);return I.length?I:(yield D.wallet.requestSignIn({methodNames:[],successUrl:w||T,failureUrl:O||T,contractId:P}),p())}),ee=()=>c(void 0,void 0,void 0,function*(){window.localStorage.removeItem("mintbase-wallet:account-data"),D.wallet.isSignedIn()&&D.wallet.signOut()}),te=A=>{if(A&&A!==D.wallet.getAccountId())throw new Error(`Cannot sign transactions for ${A} while signed in as ${k}`)},ce=({transactions:A,callbackUrl:I})=>c(void 0,void 0,void 0,function*(){if(!D.wallet.isSignedIn())throw new Error("Wallet not signed in");const{cbUrl:T}=(0,u.getCallbackUrl)(I??"");for(const{signerId:M}of A)te(M);const S=JSON.stringify(A),d=encodeURIComponent(S),E=new URL(`${b.walletUrl}/sign-transaction`);E.searchParams.set("transactions_data",d),E.searchParams.set("callback_url",T),window.location.assign(E.toString())}),Q=({receiverId:A,actions:I,signerId:T,callbackUrl:S})=>c(void 0,void 0,void 0,function*(){if(te(T),!A&&!P)throw new Error("No receiver found to send the transaction to");const{cbUrl:d}=(0,u.getCallbackUrl)(S??""),E=d||w;if(!P){const M=new URL(`${b.walletUrl}/sign-transaction`),U=JSON.stringify([{receiverId:A,signerId:T,actions:I}]),F=encodeURIComponent(U);M.searchParams.set("transactions_data",F),M.searchParams.set("callback_url",E),window.location.assign(M.toString())}return D.wallet.account().signAndSendTransaction({receiverId:A||P,actions:I.map(M=>(0,h.createAction)(M)),walletCallbackUrl:E})}),ne=()=>c(void 0,void 0,void 0,function*(){throw new Error(`The verifyOwner method is not supported by ${b.name}`)}),fe=()=>c(void 0,void 0,void 0,function*(){throw new Error(`The signMessage method is not supported by ${b.name}`)}),l=()=>c(void 0,void 0,void 0,function*(){throw`The getAvailableBalance method is not supported by ${b.name}`}),p=()=>c(void 0,void 0,void 0,function*(){var A;const I=D.wallet.getAccountId(),T=D.wallet.account();if(!I||!T)return[];const S=window.localStorage.getItem("mintbase-wallet:account-creation-data");return[{accountId:I,publicKey:(A=JSON.parse(S))===null||A===void 0?void 0:A.devicePublicKey}]}),m=A=>c(void 0,void 0,void 0,function*(){return _(A),null}),_=A=>(k=A,window.localStorage.setItem("mintbase-wallet:activeAccountId",A),null);return{getAccountId:B,isSignedIn:q,signIn:V,signOut:ee,signAndSendTransaction:Q,verifyOwner:ne,signMessage:fe,getAvailableBalance:l,getAccounts:p,switchAccount:m,signAndSendTransactions:ce}});e.MintbaseWallet=v})(mintbaseWallet$1);var __awaiter$n=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(setup$1,"__esModule",{value:!0}),setup$1.setupMintbaseWallet=void 0;const mintbase_wallet_1$1=mintbaseWallet$1,utils_1$e=utils$m,icon$3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnySURBVHgB7Z0HjBVFHMa/B/YK9u6BvUSwd8EeGyrWxMKJRk3sRBNb4NDYGyQaje3EXqJCrIkN7N2zS2gHhCJVaujnfDe37szcvvd273Zv/27mlyz3Zt6+t7z9dqd+/9kSImhqauqi/vRTW2+19VRbDTxp0KC2RrUNL5VKw6J2KLkZSozT1J96tXWBJ0smqG2wK0wnM6HEeEj9eRNejI6gm9rq1TkfZGb+d4e0vFEHTx48pO6UAXzRLIgSoxa6mPLkQ5Pa+ipRhgeCsDyrgSdP5qqte+eWu6MWnrxZS21/s1I/FR4JsLTqRUFq4JFCj5IqsprgkULTaigqixYB77wDjBgBfPttmH/QQUCfPsApp6hSey1Io3h3yMyZwMMPA2+8ASxZUn6/jTYCbrgBOPNMCKKpWIJMnw6cey4wZUr8z5x0EvDgg2rMohME0CTif5EaF14YLcaaawJ77BH9GRZrd98NKRRHkKFD1XDdBDvvqKOA114DfvtNja8OB8aMAZ54AthlF3u/Z54BfvoJEihGkcUK/MADgaVLw7zbb9fFVxT8yYMHAy+8EObtvz/w4ovImYIUWR98YItxzDHlxSAl1Qe76SZgu+3CvO+/1w2CnCmGIN99Z6cvuqj6Z1ivnH++nffll8ibYggycaKd3nVXxGLnncPXLMaStM4yohiCLFtmpzfYALHYeGM7PWcO8qYYgmy6qZ0ePRqx+PNPO71yJfKmGIK4zdiXX67+GRZRL71k5wnoHBZDkFOdGQQ2Z6v1K9jEdfdZtQp5UwxBtt9eN3UDePVfcgnw0Uet9+V7Tz4J3HEHJFKc0d6BA3WzdfFinZ4/H7j8cuCww3SnkS2qX34BRo4Efv89+js6d0beFEeQLbcEHn9c90GWLw/zP/9cb3HwlXrK8E54+mmgS0xbWc+edtpX6hnACaj33tO98Jqa8vtQuCFD7HwBw3rFnDHcZBNgUIshcPZsYNy48GRvsw2w9db69dSp9udKJeRNcadwA9gbd3vkAW4z1zd7PS5eEGF4QYThBRGGF0QYXhBheEGE4QURhhdEGF4QYcg2ytEA19AA/Pqrnt1buBCpQnMEvz9g8831ZJcLjdn77gv06AHsvTcyRKjZmmNKjz2mXezm3IYENtwQqKsDTj4ZGSBQkPHjgQEDys/qSeHoo7VJu0uqIf3CBKEvij807aIpK3bcEXjrLTVmntqguTBB+vcHPvvMzjv9dOC447QZesYMbRulW911utO0cPbZSASdir17R7/H2cczzgD2209HWn31FfD228Ann9j7XXYZcP31SAlBgrzyCnDrrWF6q620O2SnnaL3f+opO65js82Ajz/Wnt24RAnCSSqGNpxwQvRnPv0UuPhie3+GPLDCbz+C3O+86k14UsqJQXhSTjwxTPPuee45JCLqWrzmmvJikCOOCGcjg+8YNgxpIUeQsWPD18cf39qAEMWNN9rpDz9EIlxTQ9euwBVXVP/ceefpOzjgjz+QFjIEcVtUcd3rtP6ss06Y5l2SBHfK1rWkVsIMkWPLMCVkCOL+oG23RWx22CF8TXNcEtz6xgzgqQTrjagOZArIEMQNJ2hsRGzM1lYSIQndKeuvn/y4rDfMfVN0q8gcy3LDBMoxaZLdZ2FTNSl77RW+TtIZNfdNUtRVQaYgo0bpmL9KsPy/8047jwa4JPDKNusCjp098kjlz/DueP55YNq0MG/33ZEWMgVZsUI3a999N7ppumABcO21trudveZynbxKnHOOnaab8f77o4/LvEcfBW67LcyjqP36IS1kdAxff711EzaA65Lssw+w227A2msD33yjY83dFhU7Z3GaylEwVmTQIDtvzz113AmbtyzWfvhBx52YAaYU4+abgdpapISQnnolQeJwwQU6HKGt8BTQNf/FF/E/QzG4MAFHpdNDaJw6h7jjtFy4z1VXtU+M4Hs41N+3b/zjcvwqXTGakSkIBwpZubKY4o83T1KQPvRQPdh39dVIhfXWA+65R4+RcVys3HH5f+L6KJdeiiyQabbmDz/2WL1xhR+uUcKmMFtWrE8OOACZcfjhuuhi7Dub1ezn8LjsgHbvHjrnM0KmIOaQxhZb6I0nqiNhT5xbBx/XmxyE4QURhhdEGF4QYXhBhOEFEYYXRBheEGF4QYThBRFGxwydBCP8nGXj+JCLa3KgJejrr5EqtHvSpRLYdwSs2hBFtvMh/Gqu7ka3388/i1iGtdlpQnsovV9cSlaWMBlOUHFmjfMUpgFOGt266WH+Sg7JjiUjQejJ5dxCFLwi4xyyLVdupe8td1wuoMkp3HIrB3UsGQjCaCfOvJnwZPB5HZzLoBeK8+K0fZrODRP6a+l2TwLnTVwXOo/L4XPag2iCYLFJR4tr9+Fcx/vvQwApC8LndfDEmyYyLq1HJ4dbLNBPxfXXuUi+C4sRhiAkgSLSpRLAQJq77rLXYgzgHXzvvfYdw2eJZDQLmICU59R51ZticCqUYQZRZTSnTO+7r/WKos3/rYTXCB0ophg0UdfXR4tBuECm6+mi10oA6QrCIsGE8Rs88ZVgvB6DKk2S1h9cjN+EVzptPJVgMI45G8giT8AjK9IV5Mcfw9f0zMaZ/qRgjLloD1xt1KRSfEcARefTdQJ4V1ZzS3YA6Qpinpgk9spyT7+Jy6xZdjrusekgMSnc4ypMJ3mShe3nzrXTNDUkYfXVK39f3OOusQbyJl1BTCsnrTtx4SOJTExHehzcuI647nkz8olFWNz4kAxJVxA38JFLsVaDwjHCNaAtTvIjj7TT9TEefM0murtoP1fBzpl0BWHHz+SBB4C//iq/P08K2//mag1J7w5y8MF2McfO36uvlt+fFTj7KOZAJ+9uM24wJ9IV5JBDbFchI6No92dfhCfB3Nhb5vIUZq+Znl7GfbeFK68MX/P7b7lFhw3w2VTmcdkAYDy8+QAwFlftMXunSPpDJ6zMGezvLlLM4ExegeuuC0ye3LrS50mh3T/pkIkJn2NoFn8BrBu4di+HatjfcI971llSnpaQ0eAiV5LmUEbcJ91wmINBMr16oV1wOIaicDwtDhSDS3kwCEcGGYUjcLCOznRGQVXqdfM9VqQc9mivGISdTAbxV5vn4Hu8U7lyhBwxmsk+YIdNWq5fwnWp2JOfN09PELFFxvrGbSGlBe9SLsrPJ0VzfI1FFdfD4jA7V4DgIGi1YZ2Op2APJ/7/U7CHExcACtIIjxQaKEgDPFKYSEFGwSMB1uVvslLnooE0RnWFJ08mlEql7p3UP/+oRH948oR3Rx1fNLeylCh0GgyBJw8oxmClwbNMWN1ZVXzVqT8D3XxPZlCMoUqM64KMVideiVILLUoNvDBZQSE4XdlfiTHCfKPsCW8Rpg+0MG1c1cXj0AjdzRiptmdb6m+LfwEGoUIy8K/6BwAAAABJRU5ErkJggg==";function setupMintbaseWallet$1({walletUrl:e="",deprecated:t=!1,successUrl:n="",failureUrl:o="",callbackUrl:c="",contractId:a=""}={}){return u=>__awaiter$n(this,void 0,void 0,function*(){return{id:"mintbase-wallet",type:"browser",metadata:{name:"Mintbase Wallet",description:"NEAR wallet to store, buy, send and stake assets for DeFi.",iconUrl:icon$3,deprecated:t,available:!0,successUrl:n,failureUrl:o,walletUrl:(0,utils_1$e.resolveWalletUrl)(u.options.network.networkId,e)},init:h=>(0,mintbase_wallet_1$1.MintbaseWallet)(Object.assign({callback:c,networkId:u.options.network.networkId,successUrl:n,failureUrl:o,contractId:a},h))}})}setup$1.setupMintbaseWallet=setupMintbaseWallet$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.setupMintbaseWallet=void 0;var t=setup$1;Object.defineProperty(e,"setupMintbaseWallet",{enumerable:!0,get:function(){return t.setupMintbaseWallet}})}(lib$k);var src={},MeteorWallet$1={},types_dappConnect={},error_handling_dappConnect={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getExternalActionErrorMessageForEndTag=e.EDappActionErrorTag=void 0;var t;(function(c){c.NEW_ACTION_STARTED="NEW_ACTION_STARTED",c.INCOMPLETE_ACTION="INCOMPLETE_ACTION",c.NO_ACCOUNTS="NO_ACCOUNTS",c.WINDOW_CLOSED="WINDOW_CLOSED",c.USER_CANCELLED="USER_CANCELLED",c.POPUP_WINDOW_REFUSED="POPUP_WINDOW_REFUSED",c.POPUP_WINDOW_OPEN_FAILED="POPUP_WINDOW_OPEN_FAILED"})(t=e.EDappActionErrorTag||(e.EDappActionErrorTag={}));const n={[t.WINDOW_CLOSED]:"User closed the window",[t.INCOMPLETE_ACTION]:"User didn't complete the action",[t.NEW_ACTION_STARTED]:"A new action was started by the user, old action failed",[t.POPUP_WINDOW_OPEN_FAILED]:"Popup window failed to open",[t.POPUP_WINDOW_REFUSED]:"User refused to allow the popup window to open",[t.USER_CANCELLED]:"User cancelled the action",[t.NO_ACCOUNTS]:"No Meteor account found- try again after creating one"};function o(c){return n[c]??"An unknown error occurred"}e.getExternalActionErrorMessageForEndTag=o})(error_handling_dappConnect),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EDappActionConnectionStatus=e.EDappActionSource=e.EMeteorInjectedFeature=e.EMeteorExtensionDirectActionType=e.EWalletExternalActionStatus=e.EWalletExternalAction_SignIn_AccessType=e.EMeteorWalletSignInType=e.EExternalActionType=e.MeteorActionError=void 0;const t=error_handling_dappConnect;class n extends Error{constructor(c,a){var u;super(),c.message==null&&(c.message=(0,t.getExternalActionErrorMessageForEndTag)(((u=c.endTags)==null?void 0:u[c.endTags.length-1])??"unknown")),this._reason=c,this.message=c.message,this.name="MeteorActionError",this.cause=a}}e.MeteorActionError=n,function(o){o.login="login",o.sign="sign",o.logout="logout",o.verify_owner="verify_owner",o.keypom_claim="keypom_claim",o.sign_message="sign_message"}(e.EExternalActionType||(e.EExternalActionType={})),function(o){o.ALL_METHODS="ALL_METHODS",o.SELECTED_METHODS="SELECTED_METHODS",o.FULL_ACCESS="FULL_ACCESS"}(e.EMeteorWalletSignInType||(e.EMeteorWalletSignInType={})),function(o){o.FULL_ACCESS="fullAccess",o.LIMITED_ACCESS="limitedAccess"}(e.EWalletExternalAction_SignIn_AccessType||(e.EWalletExternalAction_SignIn_AccessType={})),function(o){o.UNCONFIRMED="UNCONFIRMED",o.PENDING="PENDING",o.SUCCESS="SUCCESS",o.FAILURE="FAILURE"}(e.EWalletExternalActionStatus||(e.EWalletExternalActionStatus={})),function(o){o.check_sync_status="check_sync_status",o.sync_accounts="sync_accounts",o.open_page="open_page"}(e.EMeteorExtensionDirectActionType||(e.EMeteorExtensionDirectActionType={})),function(o){o.open_page="open_page",o.batch_import="batch_import",o.sync_check="sync_check",o.account_sync="account_sync"}(e.EMeteorInjectedFeature||(e.EMeteorInjectedFeature={})),function(o){o.website_callback="wcb",o.website_post_message="wpm",o.website_visit="wv",o.extension_injected="ext"}(e.EDappActionSource||(e.EDappActionSource={})),function(o){o.initializing="initializing",o.connected="connected",o.attempting_reconnect="attempting_reconnect",o.disconnected="disconnected",o.closed_success="closed_success",o.closed_fail="closed_fail",o.closed_window="closed_window"}(e.EDappActionConnectionStatus||(e.EDappActionConnectionStatus={}))}(types_dappConnect);var StringUtils={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StringUtils=e.stringToConstantStyledString=e.convertToSlug=e.pad=e.createPadder=e.BetterStringArray=e.safeAppend=e.firstNotNullEmpty=e.nullEmpty=e.notNullEmpty=e.StringRegex=void 0,e.StringRegex={digitsRegex:/\b\d+\b/gi};const t=m=>m!=null&&m.length>0;e.notNullEmpty=t;const n=m=>!(0,e.notNullEmpty)(m);e.nullEmpty=n;const o=(...m)=>{for(const _ of m)if((0,e.notNullEmpty)(_))return _};e.firstNotNullEmpty=o;const c=m=>{for(const _ of m)if((0,e.nullEmpty)(_))return!0;return!1},a=(m,_,A=null)=>(0,e.notNullEmpty)(m)?m+_:A??_;e.safeAppend=a;class u extends Array{pushIfNotNullEmpty(_){(0,e.notNullEmpty)(_)&&this.push(_)}}e.BetterStringArray=u;function h(m,_,A=!1){return I=>v(I,m,_,A)}e.createPadder=h;function v(m,_,A,I=!1){const T=A-`${m}`.length;if(T>0){const S=new Array(T).fill(_);return I?`${m}${S.join("")}`:`${S.join("")}${m}`}return`${m}`}e.pad=v;const b=new RegExp("\\s+","g"),y=new RegExp("--+","g"),w=new RegExp("^-+","g"),O=new RegExp("-+$","g"),P=new RegExp("-","g"),C=new RegExp("[^\\w\\-]+","g"),x=new RegExp("_","g");function D(m){return m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const k=(m,{slugDivider:_="-",letterCase:A="LOWER",normalize:I=!0,excludeCharacters:T=[]}={})=>{if(!m||m.length===0)return"";let S=m.toString();return I&&(S=S.normalize("NFD")),A==="LOWER"?S=S.toLowerCase():A==="UPPER"&&(S=S.toUpperCase()),S.replace(b,"-").replace(T.length>0?new RegExp(`[^\\w\\-${T.map(d=>D(d)).join("")}]+`,"g"):C,"").replace(T.includes("_")?b:x,"-").replace(y,"-").replace(w,"").replace(O,"").replace(P,_)};e.convertToSlug=k;const B=m=>(0,e.convertToSlug)(m,{normalize:!0,slugDivider:"_",letterCase:"UPPER"});e.stringToConstantStyledString=B;const q=m=>{let _="";for(const A of m)_=`${A}${_}`;return _};function V(m){return m=m||"",m!==decodeURIComponent(m)}const ee=m=>{let _=0;for(;V(m);)if(_+=1,m=decodeURIComponent(m),_>20)throw new Error("String Utils: Decode URI Fully: Enacted while loop too many times with attempt to decode fully.");return m},te=(m,_,{spaceAware:A=!0,insideWords:I=!1}={})=>{let T=`${m}`;for(const S of _)if(A)if(!I)T.indexOf(` ${S} `)>=0?T=T.replace(` ${S} `," "):(T.startsWith(`${S} `)&&(T=T.substring(S.length+1)),T.endsWith(` ${S}`)&&(T=T.substring(0,T.length-(S.length+1))));else{const d=[new RegExp(`\\s${S}\\s`,"g"),new RegExp(`\\s${S}`,"g"),new RegExp(`${S}\\s`,"g")];for(const E of d)E.test(T)&&(console.log(`Replacing "${E}" in "${T}"`),T=T.replace(E," "),console.log(`Text after: "${T}"`))}else T.indexOf(S)>=0&&(T=T.replace(S,""));return T.trim()};function ce(m,_){const A=m.toLowerCase(),I=_.toLowerCase();return A<I?-1:A>I?1:0}function Q(m,_){return m>_?1:m<_?-1:0}function ne(m){let _=[];for(const A of m)(0,e.notNullEmpty)(A)&&_.push(A);return _}const fe=(...m)=>m.filter(_=>_).map((_,A,I)=>{const T=A!==0,S=A!==I.length-1;return T&&(_=_.startsWith("/")?_.slice(1):_),S&&(_=_.endsWith("/")?_.slice(0,-1):_),_}).join("/"),l=(m,_)=>_.startsWith("http://")||_.startsWith("https://")?_:fe(m,_),p=m=>!!m.match(/^[a-zA-Z0-9]+$/);e.StringUtils={isUriEncoded:V,decodeUriFully:ee,StringRegex:e.StringRegex,reverse:q,notNullEmpty:e.notNullEmpty,nullEmpty:e.nullEmpty,anyNullEmpty:c,safeAppend:e.safeAppend,createPadder:h,pad:v,convertToSlug:e.convertToSlug,stringToConstantStyledString:e.stringToConstantStyledString,removeAndTrim:te,sortCompareStrings:ce,comparePure:Q,onlyNotNullEmpty:ne,firstNotNullEmpty:e.firstNotNullEmpty,joinIntoUrl:fe,getUrlWithBaseUrl:l,isHashId:p}})(StringUtils);var EnvironmentStorageUtils={};Object.defineProperty(EnvironmentStorageUtils,"__esModule",{value:!0}),EnvironmentStorageUtils.EnvironmentStateAdapter_Sync=EnvironmentStorageUtils.EnvironmentStateAdapter=void 0;class EnvironmentStateAdapter{constructor(t){this.implementation=t}async setJson(t,n){await this.implementation.setString(t,JSON.stringify(n))}async getJson(t){const n=await this.implementation.getString(t);if(!(n==null||n==="undefined"||n==="null"))return JSON.parse(n)}async setString(t,n){await this.implementation.setString(t,n)}async getString(t){const n=await this.implementation.getString(t);if(n!=null)return n}createJsonGetterSetter(t){return{get:()=>this.getJson(t),set:n=>this.setJson(t,n)}}createStringGetterSetter(t){return{get:()=>this.getString(t),set:n=>this.setString(t,n)}}}EnvironmentStorageUtils.EnvironmentStateAdapter=EnvironmentStateAdapter;class EnvironmentStateAdapter_Sync{constructor(t){this.implementation=t}setJson(t,n){this.implementation.setString(t,JSON.stringify(n))}getJson(t){const n=this.implementation.getString(t);if(!(n==null||n==="undefined"||n==="null"))return JSON.parse(n)}setString(t,n){this.implementation.setString(t,n)}getString(t){const n=this.implementation.getString(t);if(n!=null)return n}clear(t){this.implementation.clear(t)}createJsonGetterSetter(t){return{get:()=>this.getJson(t),set:n=>this.setJson(t,n)}}createStringGetterSetter(t){return{get:()=>this.getString(t),set:n=>this.setString(t,n)}}}EnvironmentStorageUtils.EnvironmentStateAdapter_Sync=EnvironmentStateAdapter_Sync;var MeteorSdkUtils={},envConfig={},MeteorWalletConstants={};Object.defineProperty(MeteorWalletConstants,"__esModule",{value:!0}),MeteorWalletConstants.WALLET_URL_LOCALHOST_BASE=MeteorWalletConstants.WALLET_URL_PRODUCTION_BASE=MeteorWalletConstants.WALLET_URL_DEV_BASE=void 0,MeteorWalletConstants.WALLET_URL_DEV_BASE="https://dev.wallet.meteorwallet.app",MeteorWalletConstants.WALLET_URL_PRODUCTION_BASE="https://wallet.meteorwallet.app",MeteorWalletConstants.WALLET_URL_LOCALHOST_BASE="https://localhost:3000",function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.setEnvConfig=e.envConfig=void 0;const t=MeteorWalletConstants,n=typeof window<"u"?window.localStorage.getItem("DEV__METEOR_WALLET_BASE_URL"):void 0;e.envConfig={wallet_base_url:n??t.WALLET_URL_PRODUCTION_BASE};function o(c){Object.assign(e.envConfig,c)}e.setEnvConfig=o}(envConfig),Object.defineProperty(MeteorSdkUtils,"__esModule",{value:!0}),MeteorSdkUtils.getNetworkPreset=MeteorSdkUtils.resolveWalletUrl=void 0;const envConfig_1$1=envConfig,resolveWalletUrl$1=(e,t)=>{if(t)return t;const n=envConfig_1$1.envConfig.wallet_base_url;switch(e){case"mainnet":return`${n}/connect/mainnet`;case"testnet":return`${n}/connect/testnet`;case"betanet":return`${n}/connect/betanet`;default:throw new Error("Invalid wallet URL")}};MeteorSdkUtils.resolveWalletUrl=resolveWalletUrl$1;const getNetworkPreset=e=>{switch(e){case"mainnet":return{networkId:e,nodeUrl:"https://rpc.mainnet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.near.org"};case"testnet":return{networkId:e,nodeUrl:"https://rpc.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};case"betanet":return{networkId:e,nodeUrl:"https://rpc.betanet.near.org",helperUrl:"https://helper.betanet.near.org",explorerUrl:"https://explorer.betanet.near.org"};default:throw Error(`Failed to find config for: '${e}'`)}};MeteorSdkUtils.getNetworkPreset=getNetworkPreset;var MeteorPostMessenger$1={};let urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",random=e=>crypto.getRandomValues(new Uint8Array(e)),customRandom=(e,t,n)=>{let o=(2<<Math.log(e.length-1)/Math.LN2)-1,c=-~(1.6*o*t/e.length);return(a=t)=>{let u="";for(;;){let h=n(c),v=c;for(;v--;)if(u+=e[h[v]&o]||"",u.length===a)return u}}},customAlphabet=(e,t=21)=>customRandom(e,t,random),nanoid=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const index_browser=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet,customRandom,nanoid,random,urlAlphabet},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(index_browser);var queryString={},strictUriEncode=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],decodeComponents(n),decodeComponents(o))}function decode(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(singleMatcher)||[],n=1;n<t.length;n++)e=decodeComponents(t,n).join(""),t=e.match(singleMatcher)||[];return e}}function customDecodeURIComponent(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},n=multiMatcher.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{var o=decode(n[0]);o!==n[0]&&(t[n[0]]=o)}n=multiMatcher.exec(e)}t["%C2"]="\uFFFD";for(var c=Object.keys(t),a=0;a<c.length;a++){var u=c[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}var decodeUriComponent=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return customDecodeURIComponent(e)}},splitOnFirst=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const n=e.indexOf(t);return n===-1?[e]:[e.slice(0,n),e.slice(n+t.length)]},filterObj=function(e,t){for(var n={},o=Object.keys(e),c=Array.isArray(t),a=0;a<o.length;a++){var u=o[a],h=e[u];(c?t.indexOf(u)!==-1:t(u,h,e))&&(n[u]=h)}return n};(function(e){const t=strictUriEncode,n=decodeUriComponent,o=splitOnFirst,c=filterObj,a=B=>B==null,u=Symbol("encodeFragmentIdentifier");function h(B){switch(B.arrayFormat){case"index":return q=>(V,ee)=>{const te=V.length;return ee===void 0||B.skipNull&&ee===null||B.skipEmptyString&&ee===""?V:ee===null?[...V,[y(q,B),"[",te,"]"].join("")]:[...V,[y(q,B),"[",y(te,B),"]=",y(ee,B)].join("")]};case"bracket":return q=>(V,ee)=>ee===void 0||B.skipNull&&ee===null||B.skipEmptyString&&ee===""?V:ee===null?[...V,[y(q,B),"[]"].join("")]:[...V,[y(q,B),"[]=",y(ee,B)].join("")];case"colon-list-separator":return q=>(V,ee)=>ee===void 0||B.skipNull&&ee===null||B.skipEmptyString&&ee===""?V:ee===null?[...V,[y(q,B),":list="].join("")]:[...V,[y(q,B),":list=",y(ee,B)].join("")];case"comma":case"separator":case"bracket-separator":{const q=B.arrayFormat==="bracket-separator"?"[]=":"=";return V=>(ee,te)=>te===void 0||B.skipNull&&te===null||B.skipEmptyString&&te===""?ee:(te=te===null?"":te,ee.length===0?[[y(V,B),q,y(te,B)].join("")]:[[ee,y(te,B)].join(B.arrayFormatSeparator)])}default:return q=>(V,ee)=>ee===void 0||B.skipNull&&ee===null||B.skipEmptyString&&ee===""?V:ee===null?[...V,y(q,B)]:[...V,[y(q,B),"=",y(ee,B)].join("")]}}function v(B){let q;switch(B.arrayFormat){case"index":return(V,ee,te)=>{if(q=/\[(\d*)\]$/.exec(V),V=V.replace(/\[\d*\]$/,""),!q){te[V]=ee;return}te[V]===void 0&&(te[V]={}),te[V][q[1]]=ee};case"bracket":return(V,ee,te)=>{if(q=/(\[\])$/.exec(V),V=V.replace(/\[\]$/,""),!q){te[V]=ee;return}if(te[V]===void 0){te[V]=[ee];return}te[V]=[].concat(te[V],ee)};case"colon-list-separator":return(V,ee,te)=>{if(q=/(:list)$/.exec(V),V=V.replace(/:list$/,""),!q){te[V]=ee;return}if(te[V]===void 0){te[V]=[ee];return}te[V]=[].concat(te[V],ee)};case"comma":case"separator":return(V,ee,te)=>{const ce=typeof ee=="string"&&ee.includes(B.arrayFormatSeparator),Q=typeof ee=="string"&&!ce&&w(ee,B).includes(B.arrayFormatSeparator);ee=Q?w(ee,B):ee;const ne=ce||Q?ee.split(B.arrayFormatSeparator).map(fe=>w(fe,B)):ee===null?ee:w(ee,B);te[V]=ne};case"bracket-separator":return(V,ee,te)=>{const ce=/(\[\])$/.test(V);if(V=V.replace(/\[\]$/,""),!ce){te[V]=ee&&w(ee,B);return}const Q=ee===null?[]:ee.split(B.arrayFormatSeparator).map(ne=>w(ne,B));if(te[V]===void 0){te[V]=Q;return}te[V]=[].concat(te[V],Q)};default:return(V,ee,te)=>{if(te[V]===void 0){te[V]=ee;return}te[V]=[].concat(te[V],ee)}}}function b(B){if(typeof B!="string"||B.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function y(B,q){return q.encode?q.strict?t(B):encodeURIComponent(B):B}function w(B,q){return q.decode?n(B):B}function O(B){return Array.isArray(B)?B.sort():typeof B=="object"?O(Object.keys(B)).sort((q,V)=>Number(q)-Number(V)).map(q=>B[q]):B}function P(B){const q=B.indexOf("#");return q!==-1&&(B=B.slice(0,q)),B}function C(B){let q="";const V=B.indexOf("#");return V!==-1&&(q=B.slice(V)),q}function x(B){B=P(B);const q=B.indexOf("?");return q===-1?"":B.slice(q+1)}function D(B,q){return q.parseNumbers&&!Number.isNaN(Number(B))&&typeof B=="string"&&B.trim()!==""?B=Number(B):q.parseBooleans&&B!==null&&(B.toLowerCase()==="true"||B.toLowerCase()==="false")&&(B=B.toLowerCase()==="true"),B}function k(B,q){q=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},q),b(q.arrayFormatSeparator);const V=v(q),ee=Object.create(null);if(typeof B!="string"||(B=B.trim().replace(/^[?#&]/,""),!B))return ee;for(const te of B.split("&")){if(te==="")continue;let[ce,Q]=o(q.decode?te.replace(/\+/g," "):te,"=");Q=Q===void 0?null:["comma","separator","bracket-separator"].includes(q.arrayFormat)?Q:w(Q,q),V(w(ce,q),Q,ee)}for(const te of Object.keys(ee)){const ce=ee[te];if(typeof ce=="object"&&ce!==null)for(const Q of Object.keys(ce))ce[Q]=D(ce[Q],q);else ee[te]=D(ce,q)}return q.sort===!1?ee:(q.sort===!0?Object.keys(ee).sort():Object.keys(ee).sort(q.sort)).reduce((te,ce)=>{const Q=ee[ce];return Q&&typeof Q=="object"&&!Array.isArray(Q)?te[ce]=O(Q):te[ce]=Q,te},Object.create(null))}e.extract=x,e.parse=k,e.stringify=(B,q)=>{if(!B)return"";q=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},q),b(q.arrayFormatSeparator);const V=Q=>q.skipNull&&a(B[Q])||q.skipEmptyString&&B[Q]==="",ee=h(q),te={};for(const Q of Object.keys(B))V(Q)||(te[Q]=B[Q]);const ce=Object.keys(te);return q.sort!==!1&&ce.sort(q.sort),ce.map(Q=>{const ne=B[Q];return ne===void 0?"":ne===null?y(Q,q):Array.isArray(ne)?ne.length===0&&q.arrayFormat==="bracket-separator"?y(Q,q)+"[]":ne.reduce(ee(Q),[]).join("&"):y(Q,q)+"="+y(ne,q)}).filter(Q=>Q.length>0).join("&")},e.parseUrl=(B,q)=>{q=Object.assign({decode:!0},q);const[V,ee]=o(B,"#");return Object.assign({url:V.split("?")[0]||"",query:k(x(B),q)},q&&q.parseFragmentIdentifier&&ee?{fragmentIdentifier:w(ee,q)}:{})},e.stringifyUrl=(B,q)=>{q=Object.assign({encode:!0,strict:!0,[u]:!0},q);const V=P(B.url).split("?")[0]||"",ee=e.extract(B.url),te=e.parse(ee,{sort:!1}),ce=Object.assign(te,B.query);let Q=e.stringify(ce,q);Q&&(Q=`?${Q}`);let ne=C(B.url);return B.fragmentIdentifier&&(ne=`#${q[u]?y(B.fragmentIdentifier,q):B.fragmentIdentifier}`),`${V}${Q}${ne}`},e.pick=(B,q,V)=>{V=Object.assign({parseFragmentIdentifier:!0,[u]:!1},V);const{url:ee,query:te,fragmentIdentifier:ce}=e.parseUrl(B,V);return e.stringifyUrl({url:ee,query:c(te,q),fragmentIdentifier:ce},V)},e.exclude=(B,q,V)=>{const ee=Array.isArray(q)?te=>!q.includes(te):(te,ce)=>!q(te,ce);return e.pick(B,ee,V)}})(queryString);var constants_theme={};Object.defineProperty(constants_theme,"__esModule",{value:!0}),constants_theme.THEME_SMALL_WINDOW_WIDTH_MAX=constants_theme.THEME_CONSTANT_BADGE_GREY_COLOR=constants_theme.THEME_CONSTANT_GREEN_COLOR=constants_theme.THEME_CONSTANT_RED_COLOR=constants_theme.THEME_CONSTANT_COLOR_DARK=constants_theme.THEME_CONSTANT_COLOR_BRAND=constants_theme.SIGN_POPUP_HEIGHT=constants_theme.SIGN_POPUP_WIDTH=void 0,constants_theme.SIGN_POPUP_WIDTH=390,constants_theme.SIGN_POPUP_HEIGHT=650,constants_theme.THEME_CONSTANT_COLOR_BRAND="#471be8",constants_theme.THEME_CONSTANT_COLOR_DARK="#101046",constants_theme.THEME_CONSTANT_RED_COLOR="#e25252",constants_theme.THEME_CONSTANT_GREEN_COLOR="#8bdaa1",constants_theme.THEME_CONSTANT_BADGE_GREY_COLOR="rgba(116,117,126,0.67)",constants_theme.THEME_SMALL_WINDOW_WIDTH_MAX=600,Object.defineProperty(MeteorPostMessenger$1,"__esModule",{value:!0}),MeteorPostMessenger$1.getMeteorPostMessenger=void 0;const nanoid_1=require$$0,envConfig_1=envConfig,types_dappConnect_1$1=types_dappConnect,query_string_1=queryString,error_handling_dappConnect_1=error_handling_dappConnect,constants_theme_1=constants_theme;class ComWindow{constructor(t,n){const o=envConfig_1.envConfig.wallet_base_url,c=new URL(o);if(this.walletOrigin=c.origin,window.meteorCom==null){this.comType=types_dappConnect_1$1.EDappActionSource.website_post_message,console.log("No extension found. Need to connect to web popup for Meteor communication");const a={source:types_dappConnect_1$1.EDappActionSource.website_post_message,connectionUid:t.uid},u=constants_theme_1.SIGN_POPUP_WIDTH,h=constants_theme_1.SIGN_POPUP_HEIGHT,v=window.top.outerHeight/2+window.top.screenY-h/2,b=window.top.outerWidth/2+window.top.screenX-u/2,y=window.open(`${o}/connect/${t.network}/${t.actionType}?${(0,query_string_1.stringify)(a)}`,"_blank",`popup=1,width=${u},height=${h},top=${v},left=${b}`);if(y!=null)this.websiteWindow=y;else throw new types_dappConnect_1$1.MeteorActionError({message:"Couldn't open popup window to complete wallet action",endTags:[error_handling_dappConnect_1.EDappActionErrorTag.POPUP_WINDOW_OPEN_FAILED]});window.addEventListener("message",w=>n(w.data)),this.wasOpened=!1}else this.comType=types_dappConnect_1$1.EDappActionSource.extension_injected,this.wasOpened=!0,window.meteorCom.addMessageDataListener(n)}focus(){var t;this.comType===types_dappConnect_1$1.EDappActionSource.website_post_message&&((t=this.websiteWindow)==null||t.focus())}sendMessage(t){var n,o;this.comType===types_dappConnect_1$1.EDappActionSource.website_post_message?(n=this.websiteWindow)==null||n.postMessage(t,this.walletOrigin):(o=window.meteorCom)==null||o.sendMessageData(t)}isWindowClosed(){var t;return this.comType===types_dappConnect_1$1.EDappActionSource.website_post_message?((t=this.websiteWindow)==null?void 0:t.closed)??!0:!1}hasActiveWindow(){return this.comType===types_dappConnect_1$1.EDappActionSource.website_post_message?this.websiteWindow!=null:!0}close(){this.comType===types_dappConnect_1$1.EDappActionSource.website_post_message&&delete this.websiteWindow}}const pingInterval=450;class MeteorPostMessenger{constructor(){this.connections=[];const t=envConfig_1.envConfig.wallet_base_url,n=new URL(t);this.baseWalletUrl=t,this.walletOrigin=n.origin,this.listener=o=>{if(o!=null){const c=this.connections.find(a=>a.uid===o.uid);c!=null&&(this.updateConnection(c.uid,{lastConnection:Date.now()}),o.status===types_dappConnect_1$1.EDappActionConnectionStatus.attempting_reconnect&&(this.updateConnection(c.uid,{status:types_dappConnect_1$1.EDappActionConnectionStatus.initializing}),this.sendComs()),o.status===types_dappConnect_1$1.EDappActionConnectionStatus.connected&&c.status===types_dappConnect_1$1.EDappActionConnectionStatus.initializing&&this.updateConnection(c.uid,{status:types_dappConnect_1$1.EDappActionConnectionStatus.connected}),o.status===types_dappConnect_1$1.EDappActionConnectionStatus.closed_success&&(c.resolve({success:!0,endTags:[],payload:o.payload}),this.updateConnection(c.uid,{status:types_dappConnect_1$1.EDappActionConnectionStatus.closed_success}),this.sendComs()),o.status===types_dappConnect_1$1.EDappActionConnectionStatus.closed_fail&&(this.updateConnection(c.uid,{status:types_dappConnect_1$1.EDappActionConnectionStatus.closed_fail}),this.sendComs(),c.reject(new types_dappConnect_1$1.MeteorActionError({endTags:o.endTags}))),o.status===types_dappConnect_1$1.EDappActionConnectionStatus.closed_window&&(this.updateConnection(c.uid,{status:types_dappConnect_1$1.EDappActionConnectionStatus.closed_window}),c.reject(new types_dappConnect_1$1.MeteorActionError({endTags:o.endTags,message:"User closed the window"}))),[types_dappConnect_1$1.EDappActionConnectionStatus.disconnected,types_dappConnect_1$1.EDappActionConnectionStatus.closed_fail,types_dappConnect_1$1.EDappActionConnectionStatus.closed_window,types_dappConnect_1$1.EDappActionConnectionStatus.closed_success].includes(o.status)&&this.removeConnection(c.uid))}}}removeConnection(t){this.connections=this.connections.filter(n=>n.uid!==t),this.connections.length===0&&(delete this.comWindow,clearInterval(this.comInterval),delete this.comInterval)}updateConnection(t,n){this.connections=this.connections.map(o=>o.uid===t?{...o,...n,uid:o.uid}:o)}sendComs(){var t;if((t=this.comWindow)!=null&&t.hasActiveWindow()&&this.connections.length>0)if(this.comInterval==null&&(this.comInterval=setInterval(()=>this.sendComs(),pingInterval)),this.comWindow.isWindowClosed())if(this.comWindow.wasOpened){for(const n of this.connections)n.reject(new types_dappConnect_1$1.MeteorActionError({message:"User closed the window before completing the action",endTags:[error_handling_dappConnect_1.EDappActionErrorTag.INCOMPLETE_ACTION,error_handling_dappConnect_1.EDappActionErrorTag.WINDOW_CLOSED]}));this.connections=[],this.comWindow.close()}else console.log("Window is closed, need to allow popup");else{this.comWindow.wasOpened=!0;for(const{network:n,actionType:o,endTags:c,status:a,inputs:u,uid:h}of this.connections){const v={endTags:c,actionType:o,status:a,uid:h,network:n};a===types_dappConnect_1$1.EDappActionConnectionStatus.initializing&&(v.inputs=u),this.comWindow.sendMessage(v)}}else clearInterval(this.comInterval),delete this.comInterval}addAndStartConnection(t){if(this.connections.length>0)for(const n of this.connections)n.status=types_dappConnect_1$1.EDappActionConnectionStatus.disconnected,n.endTags=[error_handling_dappConnect_1.EDappActionErrorTag.NEW_ACTION_STARTED];this.connections.push(t),this.comWindow==null||!this.comWindow.hasActiveWindow()?this.comWindow=new ComWindow(t,this.listener):this.comWindow.focus(),this.sendComs()}async connectAndWaitForResponse({actionType:t,network:n,inputs:o}){let c={uid:(0,nanoid_1.nanoid)(),actionType:t,lastAttemptedConnection:0,lastConnection:0,status:types_dappConnect_1$1.EDappActionConnectionStatus.initializing,promise:void 0,reject:void 0,resolve:void 0,currentPayload:{},inputs:o,network:n,endTags:[]};const a=new Promise((u,h)=>{c.resolve=u,c.reject=v=>{this.connections=this.connections.filter(b=>b.uid!==c.uid),h(v)}});return c.promise=a,this.addAndStartConnection(c),await a}}let postMessenger;function getMeteorPostMessenger(){return postMessenger==null&&(postMessenger=new MeteorPostMessenger),postMessenger}MeteorPostMessenger$1.getMeteorPostMessenger=getMeteorPostMessenger;var TransactionSchemaV2={};Object.defineProperty(TransactionSchemaV2,"__esModule",{value:!0}),TransactionSchemaV2.SCHEMA_V2=void 0;const crypto_1$8=lib$H,transactions_1$6=lib$B;TransactionSchemaV2.SCHEMA_V2=new Map([[transactions_1$6.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[transactions_1$6.SignedTransaction,{kind:"struct",fields:[["transaction",transactions_1$6.Transaction],["signature",transactions_1$6.Signature]]}],[transactions_1$6.Transaction,{kind:"struct",fields:[["signerId","string"],["publicKey",crypto_1$8.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[transactions_1$6.Action]]]}],[crypto_1$8.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[transactions_1$6.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",transactions_1$6.AccessKeyPermission]]}],[transactions_1$6.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",transactions_1$6.FunctionCallPermission],["fullAccess",transactions_1$6.FullAccessPermission]]}],[transactions_1$6.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[transactions_1$6.FullAccessPermission,{kind:"struct",fields:[]}],[transactions_1$6.Action,{kind:"enum",field:"enum",values:[["createAccount",transactions_1$6.CreateAccount],["deployContract",transactions_1$6.DeployContract],["functionCall",transactions_1$6.FunctionCall],["transfer",transactions_1$6.Transfer],["stake",transactions_1$6.Stake],["addKey",transactions_1$6.AddKey],["deleteKey",transactions_1$6.DeleteKey],["deleteAccount",transactions_1$6.DeleteAccount],["signedDelegate",transactions_1$6.SignedDelegate]]}],[transactions_1$6.CreateAccount,{kind:"struct",fields:[]}],[transactions_1$6.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[transactions_1$6.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[transactions_1$6.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[transactions_1$6.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",crypto_1$8.PublicKey]]}],[transactions_1$6.AddKey,{kind:"struct",fields:[["publicKey",crypto_1$8.PublicKey],["accessKey",transactions_1$6.AccessKey]]}],[transactions_1$6.DeleteKey,{kind:"struct",fields:[["publicKey",crypto_1$8.PublicKey]]}],[transactions_1$6.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[transactions_1$6.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[transactions_1$6.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",crypto_1$8.PublicKey]]}],[transactions_1$6.SignedDelegate,{kind:"struct",fields:[["delegateAction",transactions_1$6.DelegateAction],["signature",transactions_1$6.Signature]]}]]);var createAction={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createAction=e.parseArgs=void 0;const t=bnExports$6,n=lib$B,o=lib$H,c=h=>{if(h==="FullAccess")return n.actionCreators.fullAccessKey();const{receiverId:v,methodNames:b=[]}=h,y=h.allowance?new t.BN(h.allowance):void 0;return n.actionCreators.functionCallAccessKey(v,b,y)},a=h=>typeof h=="string"?Buffer$E.from(h,"base64"):h;e.parseArgs=a;const u=h=>{switch(h.type){case"CreateAccount":return n.actionCreators.createAccount();case"DeployContract":{const{code:v}=h.params;return n.actionCreators.deployContract(v)}case"FunctionCall":{const{methodName:v,args:b,gas:y,deposit:w}=h.params;return n.actionCreators.functionCall(v,(0,e.parseArgs)(b),new t.BN(y),new t.BN(w))}case"Transfer":{const{deposit:v}=h.params;return n.actionCreators.transfer(new t.BN(v))}case"Stake":{const{stake:v,publicKey:b}=h.params;return n.actionCreators.stake(new t.BN(v),o.PublicKey.from(b))}case"AddKey":{const{publicKey:v,accessKey:b}=h.params;return n.actionCreators.addKey(o.PublicKey.from(v),c(b.permission))}case"DeleteKey":{const{publicKey:v}=h.params;return n.actionCreators.deleteKey(o.PublicKey.from(v))}case"DeleteAccount":{const{beneficiaryId:v}=h.params;return n.actionCreators.deleteAccount(v)}default:throw new Error("Invalid action type")}};e.createAction=u})(createAction),Object.defineProperty(MeteorWallet$1,"__esModule",{value:!0}),MeteorWallet$1.ConnectedMeteorWalletAccount=MeteorWallet$1.MeteorWallet=void 0;const near_api_js_1=browserIndex$9,transactions_1$5=lib$B,types_dappConnect_1=types_dappConnect,borsh_1$1=lib$G,StringUtils_1=StringUtils,EnvironmentStorageUtils_1=EnvironmentStorageUtils,MeteorSdkUtils_1=MeteorSdkUtils,MeteorPostMessenger_1=MeteorPostMessenger$1,TransactionSchemaV2_1=TransactionSchemaV2,crypto_1$7=lib$H,create_action_1=createAction,bn_js_1$a=bnExports$6,MULTISIG_HAS_METHOD$1="add_request_and_confirm",LOCAL_STORAGE_KEY_SUFFIX$1="_meteor_wallet_auth_key",localStorageAdapter=new EnvironmentStorageUtils_1.EnvironmentStateAdapter_Sync({getString:e=>window.localStorage.getItem(e),setString:(e,t)=>window.localStorage.setItem(e,t),clear:e=>window.localStorage.removeItem(e)});new EnvironmentStorageUtils_1.EnvironmentStateAdapter_Sync({getString:e=>window.sessionStorage.getItem(e),setString:(e,t)=>window.sessionStorage.setItem(e,t),clear:e=>window.sessionStorage.removeItem(e)});class MeteorWallet{static async init({walletUrl:t,...n}){const o=new near_api_js_1.keyStores.BrowserLocalStorageKeyStore,c=await(0,near_api_js_1.connect)({keyStore:o,headers:{},walletUrl:(0,MeteorSdkUtils_1.resolveWalletUrl)(n.networkId,t),...(0,MeteorSdkUtils_1.getNetworkPreset)(n.networkId),...n}),a=new MeteorWallet({near:c,appKeyPrefix:"near_app"});return a.isSignedIn()||await o.clear(),a}constructor({near:t,appKeyPrefix:n=t.config.contractName??"default"}){this._initializationPromises=[],this._near=t;const o=n+LOCAL_STORAGE_KEY_SUFFIX$1;this._authDataKey=o,this._authData=localStorageAdapter.getJson(o)??{allKeys:[]},this._networkId=t.config.networkId,this._walletBaseUrl=t.config.walletUrl,this._keyStore=t.connection.signer.keyStore}isExtensionInstalled(){return window.meteorWallet!=null}isSignedIn(){return!!this._authData.accountId}getAccountId(){return this._authData.accountId}async verifyOwner(t){const n=t.accountId??this.getAccountId(),o=await(0,MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({actionType:types_dappConnect_1.EExternalActionType.verify_owner,inputs:{accountId:n,message:t.message},network:this._networkId});if(o.success)return o;throw new types_dappConnect_1.MeteorActionError({endTags:o.endTags,message:o.message})}async requestSignIn(t){const{keyPair:n,...o}=t,c=n??near_api_js_1.KeyPair.fromRandom("ed25519");let a=c.getPublicKey().toString();const u=await(0,MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({actionType:types_dappConnect_1.EExternalActionType.login,inputs:{public_key:a,...o},network:this._networkId});if(u.success){const{allKeys:h,accountId:v}=u.payload;return this._authData={accountId:v,allKeys:h,signedInContract:{contract_id:o.contract_id,public_key:a}},localStorageAdapter.setJson(this._authDataKey,this._authData),await this._keyStore.setKey(this._networkId,v,c),{success:!0,endTags:[],payload:{accessKey:c,accountId:v}}}else throw new types_dappConnect_1.MeteorActionError({endTags:u.endTags,message:u.message})}async signOut(){const t=this.getAccountId();if(this._authData.signedInContract!=null&&t!=null){const n={accountId:t,contractInfo:this._authData.signedInContract};await(0,MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({actionType:types_dappConnect_1.EExternalActionType.logout,inputs:n,network:this._networkId})}this._authData={allKeys:[]},localStorageAdapter.clear(this._authDataKey)}async signMessage({message:t,nonce:n,recipient:o,callbackUrl:c,state:a,accountId:u}){const h=await(0,MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({actionType:types_dappConnect_1.EExternalActionType.sign_message,inputs:{message:t,nonce:n,recipient:o,callbackUrl:c,state:a,accountId:u},network:this._networkId});if(h.success)return h.payload.state=a,h;throw new types_dappConnect_1.MeteorActionError({endTags:h.endTags,message:h.message})}async requestSignTransactions(t){const{transactions:n}=t,o=await this.transformTransactions(n);console.log("Transformed transactions",o);const c=await(0,MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({actionType:types_dappConnect_1.EExternalActionType.sign,inputs:{transactions:o.map(a=>(0,borsh_1$1.serialize)(TransactionSchemaV2_1.SCHEMA_V2,a)).map(a=>Buffer$E.from(a).toString("base64")).join(",")},network:this._networkId});if(c.success)return c.payload.executionOutcomes;throw new types_dappConnect_1.MeteorActionError({endTags:c.endTags,message:c.message})}account(){var n;const t=this.getAccountId();return(0,StringUtils_1.notNullEmpty)(t)&&((n=this._connectedAccount)==null?void 0:n.accountId)!==t&&(this._connectedAccount=new ConnectedMeteorWalletAccount(this,this._near.connection,t)),this._connectedAccount}async transformTransactions(t){const n=this.account(),{networkId:o,signer:c,provider:a}=n.connection,u=await c.getPublicKey(n.accountId,o);return Promise.all(t.map(async(h,v)=>{const b=await n.accessKeyForTransaction(u);if(!b)throw new Error(`Failed to find matching key for transaction sent to ${h.receiverId}`);const y=h.actions.map(O=>(0,create_action_1.createAction)(O)),w=await a.block({finality:"final"});return(0,transactions_1$5.createTransaction)(n.accountId,crypto_1$7.PublicKey.from(b.public_key),h.receiverId,new bn_js_1$a.BN(b.access_key.nonce).add(new bn_js_1$a.BN(v)).add(new bn_js_1$a.BN(1)),y,near_api_js_1.utils.serialize.base_decode(w.header.hash))}))}}MeteorWallet$1.MeteorWallet=MeteorWallet;class ConnectedMeteorWalletAccount extends near_api_js_1.Account{constructor(t,n,o){super(n,o),this.meteorWallet=t}async signAndSendTransaction(...t){return typeof t[0]=="string"?this.signAndSendTransaction_direct({receiverId:t[0],actions:t[1]}):this.signAndSendTransaction_direct(t[0])}async trySendOrCreateTransaction({receiverId:t,actions:n}){const o=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let c=await this.accessKeyForTransaction(o);if(c!=null&&c.access_key.permission!=="FullAccess"&&!await this.accessKeyMatchesTransaction(c,t,n))return{sent:!1,transaction:{receiverId:t,signerId:this.accountId,actions:n}};if(c&&o&&o.toString()===c.public_key)try{return{executionOutcome:await super.signAndSendTransaction({receiverId:t,actions:n.map(a=>(0,create_action_1.createAction)(a))}),sent:!0}}catch(a){if(a.type!=="NotEnoughAllowance")throw a}return{sent:!1,transaction:{receiverId:t,signerId:this.accountId,actions:n}}}async signAndSendTransaction_direct({receiverId:t,actions:n}){const{transaction:o,sent:c,executionOutcome:a}=await this.trySendOrCreateTransaction({receiverId:t,actions:n});return c?a:(await this.meteorWallet.requestSignTransactions({transactions:[o]}))[0]}async accessKeyMatchesTransaction(t,n,o){const{access_key:{permission:c}}=t;if(c==="FullAccess")return!0;if(console.log("Comparing access key and actions",{accessKey:t,receiverId:n,actions:o}),c.FunctionCall){const{receiver_id:a,method_names:u}=c.FunctionCall;if(a===n&&u.includes(MULTISIG_HAS_METHOD$1))return!0;if(a===n){if(o.length!==1)return!1;const h=o[0];if(console.log(h),h.type==="FunctionCall"){const v=h.params;return(!v.deposit||v.deposit.toString()==="0")&&(u.length===0||u.includes(v.methodName))}}}return!1}async accessKeyForTransaction(t){const n=await this.getAccessKeys();if(console.log("accessKeys",n),t){const c=n.find(a=>a.public_key.toString()===t.toString());if(c)return c}const o=this.meteorWallet._authData.allKeys;for(const c of n)if(o.indexOf(c.public_key)!==-1)return c;for(const c of n)if(c.access_key.permission==="FullAccess")return c;return null}}MeteorWallet$1.ConnectedMeteorWalletAccount=ConnectedMeteorWalletAccount;var near_basic_types={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ENearNetworkSuffix=e.ENearNetwork=void 0,function(t){t.localnet="localnet",t.testnet="testnet",t.betanet="betanet",t.mainnet="mainnet"}(e.ENearNetwork||(e.ENearNetwork={})),function(t){t.testnet=".testnet",t.mainnet=".near"}(e.ENearNetworkSuffix||(e.ENearNetworkSuffix={}))})(near_basic_types),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(a,u,h,v){v===void 0&&(v=h);var b=Object.getOwnPropertyDescriptor(u,h);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(a,v,b)}:function(a,u,h,v){v===void 0&&(v=h),a[v]=u[h]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(a,u){for(var h in a)h!=="default"&&!Object.prototype.hasOwnProperty.call(u,h)&&t(u,a,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.setEnvConfig=e.ENearNetwork=void 0,n(MeteorWallet$1,e),n(MeteorSdkUtils,e),n(MeteorWalletConstants,e),n(types_dappConnect,e);var o=near_basic_types;Object.defineProperty(e,"ENearNetwork",{enumerable:!0,get:function(){return o.ENearNetwork}});var c=envConfig;Object.defineProperty(e,"setEnvConfig",{enumerable:!0,get:function(){return c.setEnvConfig}})}(src);var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$u<"u"?global$u:typeof self<"u"?self:{},check$1=function(e){return e&&e.Math==Math&&e},global$a$1=check$1(typeof globalThis=="object"&&globalThis)||check$1(typeof window=="object"&&window)||check$1(typeof self=="object"&&self)||check$1(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor$1={},fails$a$1=function(e){try{return!!e()}catch{return!0}},fails$9$1=fails$a$1,descriptors$1=!fails$9$1(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),fails$8$1=fails$a$1,functionBindNative$1=!fails$8$1(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$1$1=functionBindNative$1,call$6$1=Function.prototype.call,functionCall$6=NATIVE_BIND$1$1?call$6$1.bind(call$6$1):function(){return call$6$1.apply(call$6$1,arguments)},objectPropertyIsEnumerable$1={},$propertyIsEnumerable$1={}.propertyIsEnumerable,getOwnPropertyDescriptor$1$1=Object.getOwnPropertyDescriptor,NASHORN_BUG$1=getOwnPropertyDescriptor$1$1&&!$propertyIsEnumerable$1.call({1:2},1);objectPropertyIsEnumerable$1.f=NASHORN_BUG$1?function e(t){var n=getOwnPropertyDescriptor$1$1(this,t);return!!n&&n.enumerable}:$propertyIsEnumerable$1;var createPropertyDescriptor$2$1=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},NATIVE_BIND$4=functionBindNative$1,FunctionPrototype$1$1=Function.prototype,bind$6=FunctionPrototype$1$1.bind,call$5$1=FunctionPrototype$1$1.call,uncurryThis$a$1=NATIVE_BIND$4&&bind$6.bind(call$5$1,call$5$1),functionUncurryThis$1=NATIVE_BIND$4?function(e){return e&&uncurryThis$a$1(e)}:function(e){return e&&function(){return call$5$1.apply(e,arguments)}},uncurryThis$9$1=functionUncurryThis$1,toString$2$1=uncurryThis$9$1({}.toString),stringSlice$2=uncurryThis$9$1("".slice),classofRaw$1$1=function(e){return stringSlice$2(toString$2$1(e),8,-1)},uncurryThis$8$1=functionUncurryThis$1,fails$7$1=fails$a$1,classof$2$1=classofRaw$1$1,$Object$3$1=Object,split$1=uncurryThis$8$1("".split),indexedObject$1=fails$7$1(function(){return!$Object$3$1("z").propertyIsEnumerable(0)})?function(e){return classof$2$1(e)=="String"?split$1(e,""):$Object$3$1(e)}:$Object$3$1,$TypeError$5$1=TypeError,requireObjectCoercible$2$1=function(e){if(e==null)throw $TypeError$5$1("Can't call method on "+e);return e},IndexedObject$1=indexedObject$1,requireObjectCoercible$1$1=requireObjectCoercible$2$1,toIndexedObject$3$1=function(e){return IndexedObject$1(requireObjectCoercible$1$1(e))},isCallable$b$1=function(e){return typeof e=="function"},isCallable$a$1=isCallable$b$1,isObject$5$1=function(e){return typeof e=="object"?e!==null:isCallable$a$1(e)},global$9$1=global$a$1,isCallable$9$1=isCallable$b$1,aFunction$1=function(e){return isCallable$9$1(e)?e:void 0},getBuiltIn$3$1=function(e,t){return arguments.length<2?aFunction$1(global$9$1[e]):global$9$1[e]&&global$9$1[e][t]},uncurryThis$7$1=functionUncurryThis$1,objectIsPrototypeOf$1=uncurryThis$7$1({}.isPrototypeOf),getBuiltIn$2$1=getBuiltIn$3$1,engineUserAgent$1=getBuiltIn$2$1("navigator","userAgent")||"",global$8$1=global$a$1,userAgent$6=engineUserAgent$1,process$4=global$8$1.process,Deno$2=global$8$1.Deno,versions$1=process$4&&process$4.versions||Deno$2&&Deno$2.version,v8$1=versions$1&&versions$1.v8,match$1,version$2;v8$1&&(match$1=v8$1.split("."),version$2=match$1[0]>0&&match$1[0]<4?1:+(match$1[0]+match$1[1])),!version$2&&userAgent$6&&(match$1=userAgent$6.match(/Edge\/(\d+)/),(!match$1||match$1[1]>=74)&&(match$1=userAgent$6.match(/Chrome\/(\d+)/),match$1&&(version$2=+match$1[1])));var engineV8Version$1=version$2,V8_VERSION$2=engineV8Version$1,fails$6$1=fails$a$1,nativeSymbol$1=!!Object.getOwnPropertySymbols&&!fails$6$1(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$2&&V8_VERSION$2<41}),NATIVE_SYMBOL$1$1=nativeSymbol$1,useSymbolAsUid$1=NATIVE_SYMBOL$1$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$1$1=getBuiltIn$3$1,isCallable$8$1=isCallable$b$1,isPrototypeOf$1$1=objectIsPrototypeOf$1,USE_SYMBOL_AS_UID$1$1=useSymbolAsUid$1,$Object$2$1=Object,isSymbol$2$1=USE_SYMBOL_AS_UID$1$1?function(e){return typeof e=="symbol"}:function(e){var t=getBuiltIn$1$1("Symbol");return isCallable$8$1(t)&&isPrototypeOf$1$1(t.prototype,$Object$2$1(e))},$String$2$1=String,tryToString$1$1=function(e){try{return $String$2$1(e)}catch{return"Object"}},isCallable$7$1=isCallable$b$1,tryToString$6=tryToString$1$1,$TypeError$4$1=TypeError,aCallable$1$1=function(e){if(isCallable$7$1(e))return e;throw $TypeError$4$1(tryToString$6(e)+" is not a function")},aCallable$9=aCallable$1$1,getMethod$1$1=function(e,t){var n=e[t];return n==null?void 0:aCallable$9(n)},call$4$1=functionCall$6,isCallable$6$1=isCallable$b$1,isObject$4$1=isObject$5$1,$TypeError$3$1=TypeError,ordinaryToPrimitive$1$1=function(e,t){var n,o;if(t==="string"&&isCallable$6$1(n=e.toString)&&!isObject$4$1(o=call$4$1(n,e))||isCallable$6$1(n=e.valueOf)&&!isObject$4$1(o=call$4$1(n,e))||t!=="string"&&isCallable$6$1(n=e.toString)&&!isObject$4$1(o=call$4$1(n,e)))return o;throw $TypeError$3$1("Can't convert object to primitive value")},shared$3$1={exports:{}},global$7$1=global$a$1,defineProperty$2$1=Object.defineProperty,defineGlobalProperty$3$1=function(e,t){try{defineProperty$2$1(global$7$1,e,{value:t,configurable:!0,writable:!0})}catch{global$7$1[e]=t}return t},global$6$1=global$a$1,defineGlobalProperty$2$1=defineGlobalProperty$3$1,SHARED$1="__core-js_shared__",store$3$1=global$6$1[SHARED$1]||defineGlobalProperty$2$1(SHARED$1,{}),sharedStore$1=store$3$1,store$2$1=sharedStore$1;(shared$3$1.exports=function(e,t){return store$2$1[e]||(store$2$1[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var requireObjectCoercible$5=requireObjectCoercible$2$1,$Object$1$1=Object,toObject$2$1=function(e){return $Object$1$1(requireObjectCoercible$5(e))},uncurryThis$6$1=functionUncurryThis$1,toObject$1$1=toObject$2$1,hasOwnProperty$1=uncurryThis$6$1({}.hasOwnProperty),hasOwnProperty_1$1=Object.hasOwn||function e(t,n){return hasOwnProperty$1(toObject$1$1(t),n)},uncurryThis$5$1=functionUncurryThis$1,id$2=0,postfix$1=Math.random(),toString$1$1=uncurryThis$5$1(1 .toString),uid$2$1=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$1$1(++id$2+postfix$1,36)},global$5$1=global$a$1,shared$2$1=shared$3$1.exports,hasOwn$7$1=hasOwnProperty_1$1,uid$1$1=uid$2$1,NATIVE_SYMBOL$3=nativeSymbol$1,USE_SYMBOL_AS_UID$2=useSymbolAsUid$1,WellKnownSymbolsStore$1=shared$2$1("wks"),Symbol$1$1=global$5$1.Symbol,symbolFor$1=Symbol$1$1&&Symbol$1$1.for,createWellKnownSymbol$1=USE_SYMBOL_AS_UID$2?Symbol$1$1:Symbol$1$1&&Symbol$1$1.withoutSetter||uid$1$1,wellKnownSymbol$3$1=function(e){if(!hasOwn$7$1(WellKnownSymbolsStore$1,e)||!(NATIVE_SYMBOL$3||typeof WellKnownSymbolsStore$1[e]=="string")){var t="Symbol."+e;NATIVE_SYMBOL$3&&hasOwn$7$1(Symbol$1$1,e)?WellKnownSymbolsStore$1[e]=Symbol$1$1[e]:USE_SYMBOL_AS_UID$2&&symbolFor$1?WellKnownSymbolsStore$1[e]=symbolFor$1(t):WellKnownSymbolsStore$1[e]=createWellKnownSymbol$1(t)}return WellKnownSymbolsStore$1[e]},call$3$1=functionCall$6,isObject$3$1=isObject$5$1,isSymbol$1$1=isSymbol$2$1,getMethod$4=getMethod$1$1,ordinaryToPrimitive$2=ordinaryToPrimitive$1$1,wellKnownSymbol$2$1=wellKnownSymbol$3$1,$TypeError$2$1=TypeError,TO_PRIMITIVE$1=wellKnownSymbol$2$1("toPrimitive"),toPrimitive$1$1=function(e,t){if(!isObject$3$1(e)||isSymbol$1$1(e))return e;var n=getMethod$4(e,TO_PRIMITIVE$1),o;if(n){if(t===void 0&&(t="default"),o=call$3$1(n,e,t),!isObject$3$1(o)||isSymbol$1$1(o))return o;throw $TypeError$2$1("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive$2(e,t)},toPrimitive$2=toPrimitive$1$1,isSymbol$3=isSymbol$2$1,toPropertyKey$2$1=function(e){var t=toPrimitive$2(e,"string");return isSymbol$3(t)?t:t+""},global$4$1=global$a$1,isObject$2$1=isObject$5$1,document$4=global$4$1.document,EXISTS$1$1=isObject$2$1(document$4)&&isObject$2$1(document$4.createElement),documentCreateElement$2=function(e){return EXISTS$1$1?document$4.createElement(e):{}},DESCRIPTORS$7$1=descriptors$1,fails$5$1=fails$a$1,createElement$2=documentCreateElement$2,ie8DomDefine$1=!DESCRIPTORS$7$1&&!fails$5$1(function(){return Object.defineProperty(createElement$2("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$6$1=descriptors$1,call$2$1=functionCall$6,propertyIsEnumerableModule$1=objectPropertyIsEnumerable$1,createPropertyDescriptor$1$1=createPropertyDescriptor$2$1,toIndexedObject$2$1=toIndexedObject$3$1,toPropertyKey$1$1=toPropertyKey$2$1,hasOwn$6$1=hasOwnProperty_1$1,IE8_DOM_DEFINE$1$1=ie8DomDefine$1,$getOwnPropertyDescriptor$1$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$1.f=DESCRIPTORS$6$1?$getOwnPropertyDescriptor$1$1:function e(t,n){if(t=toIndexedObject$2$1(t),n=toPropertyKey$1$1(n),IE8_DOM_DEFINE$1$1)try{return $getOwnPropertyDescriptor$1$1(t,n)}catch{}if(hasOwn$6$1(t,n))return createPropertyDescriptor$1$1(!call$2$1(propertyIsEnumerableModule$1.f,t,n),t[n])};var objectDefineProperty$1={},DESCRIPTORS$5$1=descriptors$1,fails$4$1=fails$a$1,v8PrototypeDefineBug$1=DESCRIPTORS$5$1&&fails$4$1(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),isObject$1$1=isObject$5$1,$String$1$1=String,$TypeError$1$1=TypeError,anObject$4$1=function(e){if(isObject$1$1(e))return e;throw $TypeError$1$1($String$1$1(e)+" is not an object")},DESCRIPTORS$4$1=descriptors$1,IE8_DOM_DEFINE$2=ie8DomDefine$1,V8_PROTOTYPE_DEFINE_BUG$2=v8PrototypeDefineBug$1,anObject$3$1=anObject$4$1,toPropertyKey$4=toPropertyKey$2$1,$TypeError$e=TypeError,$defineProperty$1=Object.defineProperty,$getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,ENUMERABLE$1="enumerable",CONFIGURABLE$1$1="configurable",WRITABLE$1="writable";objectDefineProperty$1.f=DESCRIPTORS$4$1?V8_PROTOTYPE_DEFINE_BUG$2?function e(t,n,o){if(anObject$3$1(t),n=toPropertyKey$4(n),anObject$3$1(o),typeof t=="function"&&n==="prototype"&&"value"in o&&WRITABLE$1 in o&&!o[WRITABLE$1]){var c=$getOwnPropertyDescriptor$2(t,n);c&&c[WRITABLE$1]&&(t[n]=o.value,o={configurable:CONFIGURABLE$1$1 in o?o[CONFIGURABLE$1$1]:c[CONFIGURABLE$1$1],enumerable:ENUMERABLE$1 in o?o[ENUMERABLE$1]:c[ENUMERABLE$1],writable:!1})}return $defineProperty$1(t,n,o)}:$defineProperty$1:function e(t,n,o){if(anObject$3$1(t),n=toPropertyKey$4(n),anObject$3$1(o),IE8_DOM_DEFINE$2)try{return $defineProperty$1(t,n,o)}catch{}if("get"in o||"set"in o)throw $TypeError$e("Accessors not supported");return"value"in o&&(t[n]=o.value),t};var DESCRIPTORS$3$1=descriptors$1,definePropertyModule$2$1=objectDefineProperty$1,createPropertyDescriptor$4=createPropertyDescriptor$2$1,createNonEnumerableProperty$2$1=DESCRIPTORS$3$1?function(e,t,n){return definePropertyModule$2$1.f(e,t,createPropertyDescriptor$4(1,n))}:function(e,t,n){return e[t]=n,e},makeBuiltIn$2$1={exports:{}},DESCRIPTORS$2$1=descriptors$1,hasOwn$5$1=hasOwnProperty_1$1,FunctionPrototype$3=Function.prototype,getDescriptor$1=DESCRIPTORS$2$1&&Object.getOwnPropertyDescriptor,EXISTS$2=hasOwn$5$1(FunctionPrototype$3,"name"),PROPER$1=EXISTS$2&&(function e(){}).name==="something",CONFIGURABLE$2=EXISTS$2&&(!DESCRIPTORS$2$1||DESCRIPTORS$2$1&&getDescriptor$1(FunctionPrototype$3,"name").configurable),functionName$1={EXISTS:EXISTS$2,PROPER:PROPER$1,CONFIGURABLE:CONFIGURABLE$2},uncurryThis$4$1=functionUncurryThis$1,isCallable$5$1=isCallable$b$1,store$1$1=sharedStore$1,functionToString$1=uncurryThis$4$1(Function.toString);isCallable$5$1(store$1$1.inspectSource)||(store$1$1.inspectSource=function(e){return functionToString$1(e)});var inspectSource$2$1=store$1$1.inspectSource,global$3$1=global$a$1,isCallable$4$1=isCallable$b$1,inspectSource$1$1=inspectSource$2$1,WeakMap$1$1=global$3$1.WeakMap,nativeWeakMap$1=isCallable$4$1(WeakMap$1$1)&&/native code/.test(inspectSource$1$1(WeakMap$1$1)),shared$1$1=shared$3$1.exports,uid$3=uid$2$1,keys$1=shared$1$1("keys"),sharedKey$1$1=function(e){return keys$1[e]||(keys$1[e]=uid$3(e))},hiddenKeys$3$1={},NATIVE_WEAK_MAP$1=nativeWeakMap$1,global$2$1=global$a$1,uncurryThis$3$1=functionUncurryThis$1,isObject$b=isObject$5$1,createNonEnumerableProperty$1$1=createNonEnumerableProperty$2$1,hasOwn$4$1=hasOwnProperty_1$1,shared$4=sharedStore$1,sharedKey$3=sharedKey$1$1,hiddenKeys$2$1=hiddenKeys$3$1,OBJECT_ALREADY_INITIALIZED$1="Object already initialized",TypeError$1$1=global$2$1.TypeError,WeakMap$3=global$2$1.WeakMap,set$3,get$2,has$1,enforce$1=function(e){return has$1(e)?get$2(e):set$3(e,{})},getterFor$1=function(e){return function(t){var n;if(!isObject$b(t)||(n=get$2(t)).type!==e)throw TypeError$1$1("Incompatible receiver, "+e+" required");return n}};if(NATIVE_WEAK_MAP$1||shared$4.state){var store$4=shared$4.state||(shared$4.state=new WeakMap$3),wmget$1=uncurryThis$3$1(store$4.get),wmhas$1=uncurryThis$3$1(store$4.has),wmset$1=uncurryThis$3$1(store$4.set);set$3=function(e,t){if(wmhas$1(store$4,e))throw new TypeError$1$1(OBJECT_ALREADY_INITIALIZED$1);return t.facade=e,wmset$1(store$4,e,t),t},get$2=function(e){return wmget$1(store$4,e)||{}},has$1=function(e){return wmhas$1(store$4,e)}}else{var STATE$1=sharedKey$3("state");hiddenKeys$2$1[STATE$1]=!0,set$3=function(e,t){if(hasOwn$4$1(e,STATE$1))throw new TypeError$1$1(OBJECT_ALREADY_INITIALIZED$1);return t.facade=e,createNonEnumerableProperty$1$1(e,STATE$1,t),t},get$2=function(e){return hasOwn$4$1(e,STATE$1)?e[STATE$1]:{}},has$1=function(e){return hasOwn$4$1(e,STATE$1)}}var internalState$1={set:set$3,get:get$2,has:has$1,enforce:enforce$1,getterFor:getterFor$1},fails$3$1=fails$a$1,isCallable$3$1=isCallable$b$1,hasOwn$3$1=hasOwnProperty_1$1,DESCRIPTORS$1$1=descriptors$1,CONFIGURABLE_FUNCTION_NAME$1=functionName$1.CONFIGURABLE,inspectSource$5=inspectSource$2$1,InternalStateModule$2=internalState$1,enforceInternalState$1=InternalStateModule$2.enforce,getInternalState$1=InternalStateModule$2.get,defineProperty$1$1=Object.defineProperty,CONFIGURABLE_LENGTH$1=DESCRIPTORS$1$1&&!fails$3$1(function(){return defineProperty$1$1(function(){},"length",{value:8}).length!==8}),TEMPLATE$1=String(String).split("String"),makeBuiltIn$1$1=makeBuiltIn$2$1.exports=function(e,t,n){String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!hasOwn$3$1(e,"name")||CONFIGURABLE_FUNCTION_NAME$1&&e.name!==t)&&(DESCRIPTORS$1$1?defineProperty$1$1(e,"name",{value:t,configurable:!0}):e.name=t),CONFIGURABLE_LENGTH$1&&n&&hasOwn$3$1(n,"arity")&&e.length!==n.arity&&defineProperty$1$1(e,"length",{value:n.arity});try{n&&hasOwn$3$1(n,"constructor")&&n.constructor?DESCRIPTORS$1$1&&defineProperty$1$1(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var o=enforceInternalState$1(e);return hasOwn$3$1(o,"source")||(o.source=TEMPLATE$1.join(typeof t=="string"?t:"")),e};Function.prototype.toString=makeBuiltIn$1$1(function e(){return isCallable$3$1(this)&&getInternalState$1(this).source||inspectSource$5(this)},"toString");var isCallable$2$1=isCallable$b$1,definePropertyModule$1$1=objectDefineProperty$1,makeBuiltIn$3=makeBuiltIn$2$1.exports,defineGlobalProperty$1$1=defineGlobalProperty$3$1,defineBuiltIn$2$1=function(e,t,n,o){o||(o={});var c=o.enumerable,a=o.name!==void 0?o.name:t;if(isCallable$2$1(n)&&makeBuiltIn$3(n,a,o),o.global)c?e[t]=n:defineGlobalProperty$1$1(t,n);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch{}c?e[t]=n:definePropertyModule$1$1.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e},objectGetOwnPropertyNames$1={},ceil$1=Math.ceil,floor$2=Math.floor,mathTrunc$1=Math.trunc||function e(t){var n=+t;return(n>0?floor$2:ceil$1)(n)},trunc$1=mathTrunc$1,toIntegerOrInfinity$2$1=function(e){var t=+e;return t!==t||t===0?0:trunc$1(t)},toIntegerOrInfinity$1$1=toIntegerOrInfinity$2$1,max$2=Math.max,min$1$1=Math.min,toAbsoluteIndex$1$1=function(e,t){var n=toIntegerOrInfinity$1$1(e);return n<0?max$2(n+t,0):min$1$1(n,t)},toIntegerOrInfinity$3=toIntegerOrInfinity$2$1,min$2=Math.min,toLength$1$1=function(e){return e>0?min$2(toIntegerOrInfinity$3(e),9007199254740991):0},toLength$2=toLength$1$1,lengthOfArrayLike$1$1=function(e){return toLength$2(e.length)},toIndexedObject$1$1=toIndexedObject$3$1,toAbsoluteIndex$3=toAbsoluteIndex$1$1,lengthOfArrayLike$5=lengthOfArrayLike$1$1,createMethod$2=function(e){return function(t,n,o){var c=toIndexedObject$1$1(t),a=lengthOfArrayLike$5(c),u=toAbsoluteIndex$3(o,a),h;if(e&&n!=n){for(;a>u;)if(h=c[u++],h!=h)return!0}else for(;a>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}},arrayIncludes$1={includes:createMethod$2(!0),indexOf:createMethod$2(!1)},uncurryThis$2$1=functionUncurryThis$1,hasOwn$2$1=hasOwnProperty_1$1,toIndexedObject$5=toIndexedObject$3$1,indexOf$1=arrayIncludes$1.indexOf,hiddenKeys$1$1=hiddenKeys$3$1,push$2=uncurryThis$2$1([].push),objectKeysInternal$1=function(e,t){var n=toIndexedObject$5(e),o=0,c=[],a;for(a in n)!hasOwn$2$1(hiddenKeys$1$1,a)&&hasOwn$2$1(n,a)&&push$2(c,a);for(;t.length>o;)hasOwn$2$1(n,a=t[o++])&&(~indexOf$1(c,a)||push$2(c,a));return c},enumBugKeys$2$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$1=objectKeysInternal$1,enumBugKeys$1$1=enumBugKeys$2$1,hiddenKeys$5=enumBugKeys$1$1.concat("length","prototype");objectGetOwnPropertyNames$1.f=Object.getOwnPropertyNames||function e(t){return internalObjectKeys$1$1(t,hiddenKeys$5)};var objectGetOwnPropertySymbols$1={};objectGetOwnPropertySymbols$1.f=Object.getOwnPropertySymbols;var getBuiltIn$9=getBuiltIn$3$1,uncurryThis$1$1=functionUncurryThis$1,getOwnPropertyNamesModule$1=objectGetOwnPropertyNames$1,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols$1,anObject$2$1=anObject$4$1,concat$1=uncurryThis$1$1([].concat),ownKeys$1$1=getBuiltIn$9("Reflect","ownKeys")||function e(t){var n=getOwnPropertyNamesModule$1.f(anObject$2$1(t)),o=getOwnPropertySymbolsModule$1.f;return o?concat$1(n,o(t)):n},hasOwn$1$1=hasOwnProperty_1$1,ownKeys$2=ownKeys$1$1,getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor$1,definePropertyModule$6=objectDefineProperty$1,copyConstructorProperties$1$1=function(e,t,n){for(var o=ownKeys$2(t),c=definePropertyModule$6.f,a=getOwnPropertyDescriptorModule$1.f,u=0;u<o.length;u++){var h=o[u];!hasOwn$1$1(e,h)&&!(n&&hasOwn$1$1(n,h))&&c(e,h,a(t,h))}},fails$2$1=fails$a$1,isCallable$1$1=isCallable$b$1,replacement$1=/#|\.prototype\./,isForced$1$1=function(e,t){var n=data$1[normalize$1(e)];return n==POLYFILL$1?!0:n==NATIVE$1?!1:isCallable$1$1(t)?fails$2$1(t):!!t},normalize$1=isForced$1$1.normalize=function(e){return String(e).replace(replacement$1,".").toLowerCase()},data$1=isForced$1$1.data={},NATIVE$1=isForced$1$1.NATIVE="N",POLYFILL$1=isForced$1$1.POLYFILL="P",isForced_1$1=isForced$1$1,global$1$1=global$a$1,getOwnPropertyDescriptor$3=objectGetOwnPropertyDescriptor$1.f,createNonEnumerableProperty$3=createNonEnumerableProperty$2$1,defineBuiltIn$1$1=defineBuiltIn$2$1,defineGlobalProperty$4=defineGlobalProperty$3$1,copyConstructorProperties$3=copyConstructorProperties$1$1,isForced$3=isForced_1$1,_export$1=function(e,t){var n=e.target,o=e.global,c=e.stat,a,u,h,v,b,y;if(o?u=global$1$1:c?u=global$1$1[n]||defineGlobalProperty$4(n,{}):u=(global$1$1[n]||{}).prototype,u)for(h in t){if(b=t[h],e.dontCallGetSet?(y=getOwnPropertyDescriptor$3(u,h),v=y&&y.value):v=u[h],a=isForced$3(o?h:n+(c?".":"#")+h,e.forced),!a&&v!==void 0){if(typeof b==typeof v)continue;copyConstructorProperties$3(b,v)}(e.sham||v&&v.sham)&&createNonEnumerableProperty$3(b,"sham",!0),defineBuiltIn$1$1(u,h,b,e)}},internalObjectKeys$2=objectKeysInternal$1,enumBugKeys$4=enumBugKeys$2$1,objectKeys$1$1=Object.keys||function e(t){return internalObjectKeys$2(t,enumBugKeys$4)},DESCRIPTORS$a=descriptors$1,uncurryThis$j=functionUncurryThis$1,call$1$1=functionCall$6,fails$1$1=fails$a$1,objectKeys$2=objectKeys$1$1,getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols$1,propertyIsEnumerableModule$2=objectPropertyIsEnumerable$1,toObject$3=toObject$2$1,IndexedObject$2=indexedObject$1,$assign=Object.assign,defineProperty$5=Object.defineProperty,concat$2=uncurryThis$j([].concat),objectAssign=!$assign||fails$1$1(function(){if(DESCRIPTORS$a&&$assign({b:1},$assign(defineProperty$5({},"a",{enumerable:!0,get:function(){defineProperty$5(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(c){t[c]=c}),$assign({},e)[n]!=7||objectKeys$2($assign({},t)).join("")!=o})?function e(t,n){for(var o=toObject$3(t),c=arguments.length,a=1,u=getOwnPropertySymbolsModule$2.f,h=propertyIsEnumerableModule$2.f;c>a;)for(var v=IndexedObject$2(arguments[a++]),b=u?concat$2(objectKeys$2(v),u(v)):objectKeys$2(v),y=b.length,w=0,O;y>w;)O=b[w++],(!DESCRIPTORS$a||call$1$1(h,v,O))&&(o[O]=v[O]);return o}:$assign,$$b=_export$1,assign=objectAssign;$$b({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign},{assign});var wellKnownSymbol$1$1=wellKnownSymbol$3$1,TO_STRING_TAG$1$1=wellKnownSymbol$1$1("toStringTag"),test$2={};test$2[TO_STRING_TAG$1$1]="z";var toStringTagSupport$1=String(test$2)==="[object z]",TO_STRING_TAG_SUPPORT$1=toStringTagSupport$1,isCallable$j=isCallable$b$1,classofRaw$2=classofRaw$1$1,wellKnownSymbol$e=wellKnownSymbol$3$1,TO_STRING_TAG$3=wellKnownSymbol$e("toStringTag"),$Object$4=Object,CORRECT_ARGUMENTS$1=classofRaw$2(function(){return arguments}())=="Arguments",tryGet$1=function(e,t){try{return e[t]}catch{}},classof$1$1=TO_STRING_TAG_SUPPORT$1?classofRaw$2:function(e){var t,n,o;return e===void 0?"Undefined":e===null?"Null":typeof(n=tryGet$1(t=$Object$4(e),TO_STRING_TAG$3))=="string"?n:CORRECT_ARGUMENTS$1?classofRaw$2(t):(o=classofRaw$2(t))=="Object"&&isCallable$j(t.callee)?"Arguments":o},classof$7=classof$1$1,$String$4=String,toString$9=function(e){if(classof$7(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $String$4(e)},anObject$1$1=anObject$4$1,regexpFlags$1=function(){var e=anObject$1$1(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},call$e=functionCall$6,hasOwn$b=hasOwnProperty_1$1,isPrototypeOf$5=objectIsPrototypeOf$1,regExpFlags$1=regexpFlags$1,RegExpPrototype$1$1=RegExp.prototype,regexpGetFlags$1=function(e){var t=e.flags;return t===void 0&&!("flags"in RegExpPrototype$1$1)&&!hasOwn$b(e,"flags")&&isPrototypeOf$5(RegExpPrototype$1$1,e)?call$e(regExpFlags$1,e):t},PROPER_FUNCTION_NAME$1=functionName$1.PROPER,defineBuiltIn$5=defineBuiltIn$2$1,anObject$d=anObject$4$1,$toString$1=toString$9,fails$g=fails$a$1,getRegExpFlags$1=regexpGetFlags$1,TO_STRING$1="toString",RegExpPrototype$2=RegExp.prototype,n$ToString$1=RegExpPrototype$2[TO_STRING$1],NOT_GENERIC$1=fails$g(function(){return n$ToString$1.call({source:"a",flags:"b"})!="/a/b"}),INCORRECT_NAME$1=PROPER_FUNCTION_NAME$1&&n$ToString$1.name!=TO_STRING$1;(NOT_GENERIC$1||INCORRECT_NAME$1)&&defineBuiltIn$5(RegExp.prototype,TO_STRING$1,function(){var e=anObject$d(this),t=$toString$1(e.source),n=$toString$1(getRegExpFlags$1(e));return"/"+t+"/"+n},{unsafe:!0});function __awaiter$m(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var icon$2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZsAAAGbCAMAAAAlRs3KAAAC/VBMVEUAAAB1gdddWs6cq+JsadRdXalLTJhFRXtTU415iNhOTo5+pe41NXxjYM8qKmscHGuRn+MSGZl0ovJ3eL6EqPEXF19QUcFdnfNlctZZmvNvc9prbdaMsPA1NoYkJHFdXdFSg+08ReFMO9VVTdg3k/Vdk/BHSL1bXac+mPVDlvQcIqFKcupJlfQvL3lRculLS404ivJLRNw9P7dHkPIoKHQ/lPQpLapPm/RGRohmlvF0oPCBg7pFPt4UFFBOQ9AkKag0OK9Ie+04PLJYT9ZeYLtJRsc4OH9LXOE/TuIrL64kJG9dZ+EVHJxDZudFgu5AXuZHk/NHjfE9PMA2OLVQfOtLd+tQjfBrbLZ7fbFGdOs8d+1Dj/JCK9hPT49Jk/JqnvJaVc4jI3EXHptRTclVUcxOS8dUQdhNQ91SO9pZUdBLRt5WR9UgIGlLScVYU80YGFJXTNJGRcMbG1tDfO1BXOVDeexSPttJR8RVRNZDV+MUFEVTUMohIW5BaOhCcuqkoe9Eh+9DgO5CQcBCdetAX+VHT+FCbelBZedPQdxBaulITeBJS99GUeFFU+JAYeZYTtEdHWBKSd8XF04WFkseHmNCWeQTE0JEVeISEj94a+49Pr1WStRQP9xAQL5FivBCb+lFj/IfH2YZGVVBY+YaGlhGlvNEhO4VFUk5O7tGkvNFjPEPDzoRET0tMLDCv/02OLgwM7IqLa00NrZaVM8cIqAcHF4kKagyNbQhJqVCWuQODjVGmvQnK6tEQsIKCi0dHW1MR8tQSsuAcfUYGGmrqPNiXd97bfFKSN9hXNFNS9CvrPQGBiMFDJMTE2ZIRMhfWtsVG6NFRc0/QMfIxf9AlvQICFxQTtUoJ3lpZNU5OcCbmOw0NJrRzv8ZHopoYONcV9UwL4ampPAPFpgSElRRTcJEQacwMbo6Oq1WU9g8PLM+jvIVFV0dIamBfeAoKpM3cOsnKrOOi+ZJSNE7g+9GM9s4VuU7OqJ0cNo1e+83aOlyZ+q7uPkyX+gzT+RLR7VJUHVbAAAAYHRSTlMACZEcgRAaYFcjjy+3ib/zE9xhVFP2lmouhmk/Q3XcXEv+/bL+qGNK9d7Vq8yjfzb+2a2k7em8saKagj/++dCljvvGnHfp0r7s6s2b7u3z3b7u6NrO8+HPcNr59ujU+LDlSLXNAAApKklEQVR42uzYPU7EMBAF4IlQftZEASkNTdxSRdtssdK2aIvcYu4xd5vCtUvEdRACaSRgvSlINsLvu8LzjJ9NAAAAAAAAAAAAAAAAAJCzsjoNbhzd0FcVwXZUjTt7/uInVz8RbMLe+fAqLMIfhDnGw1gXBLfWtxqUv9Gg55eS4Jb2owb+VQhdQ3A79SEIX6I8YLHdjAvKCRLaHa2prO77pq6b/qnK/FSUY+Ar4rSntVS18wdVEVHVw3loMo6naCNfpX6dcIrno5coLHbdvU1uT3myaJKC39HiiuEcflx8IoG7njJUWjRpsStoYc2kKvwLERl3lJuyDTxTGGlR1VGVLxH1uTX5wqK5Lja0oJNX4QRVRzmxhTaH+pIW8/ygnCaxzej31aKZJwy0lMaiuUynbAqbNbSZ1N+RWW1qjHSZTM7n1GxicCyaK7TL4iFqDW0+nQoy6y00E3MoBIloEuKJzB9Gs5WyuAmJhZYSj2RWXGhG/SP9b+/s2rFrE1EcB/BLbFqjRcWaUBTtIOgkhVKkIARRU1G3OOgiRK635QXO5YY7EO4vyNCp4FBwTWiE6OLjkOsQAhHhCCYli4iTEezk0MXna8jvJeba9L0neSl+h66v8Mn39969O9oaHptVGGqSW/N/qgENV5zPi+OhgTiJY317Qwaa4/DhNK7/C5r/xWFpSPhsno6JBuItn9COa8hAc2jGfxhgaY7PUS0yfeHixYsX4rEIV2u4cfyVsdM892c1dXPp2t1U2sWmiTPp1KOFeQ4aXhxvVioN1+/DUfYYHVu4qiPTMNB+rBZOJy8dgeZ7zhHAcWaltobP5rmiQ23hqoWQ8SeoG8vCZnJ+dJqcCI43K5OGt7yXNQUzf9WkMAM4Fn68MDKNEI6/Io+Gu7yNFU29TKWRbUAAB5k4GRuZhsUZw8MFtIbTxl/VlEvU1EmG4ZDgpfhhNGcojVBzGnOSaHxn4F9Q5QUsVyJ3EZEJx7Ey04fTiOJ4i1JoNoGGA8dZVuwVWyRKaSiOibH5N465FNPCM00HmiCOv3pOSms2yfI5fpyzatlEooZOY2GMstVq1nRdNIDjJg9szWZOGMe/IYeGLn9cbLo0tuEav3Zqe6XS3pfdJt5AAzgLB9FsiuP4JyXQdP8PJzdEZwJnWiSq2zahMY0ftaDdDkjI35dN19T7cDLxkIFGaYRxnOWYOE1iHZbnw/GuKPTVAKUhOLi63W6XemkHOwizOOhVNOzwTGDEceqnJAw0SkPDu+XUn2nKhNKQ4GaJyDAJ2tvI7WvORnzoQPu6vi4Bxzkbl9QaseY01HmDQ2jW1oCmL+0vlmkADmpFhw60dRJxnPqKRJrhe86E3dlQGoKD9BrQAM7uRt9pLRVGI47jLcflDTRYnmPXu6WpkUjUXqPBu0ADCYKmy+LguWEDTQpOY0ZOa0Sb41zR1EiPBlVLAZCwU81EDE5rarA1XwsFKTj+rDBNBZYO23Mm6IOBHo39EWrDhoBVsQE47v2/aaTgeA8FHypmEgV2ae7TmuOr8cV6JLrWjW7XgtLQtH+0DAYnHWMHGqWRgeMkFgVbQ2hIxJvjryrxdENo8vk8tTGqpTCbHYwYnPT0QGsAh4YPxxO9gJ6pVOB3wbfnwGdYCoTSdHHQrzCbYNuwDMDJnGBpKhXAEWiOVxelSVToyjSHNWcCXt5QGrAJwmz28qYBOK0LDM0LsBFojnhrTia+04UlNKeuQm0ITTab3w/0JsQGcFrnGZoXgMPRHIk0FVhZbM+p39DGH0oDOEa4Tc224GWbtXGaoeHDkb7XkNbAyjS8zfGvKPBRZySaz2YB56CzwEsDbAyUOQc01IYbRz7N6M0JvdFT4EqAtobFse3tMJtdVzcg6WmGhrc5kml663LuOUAzo409PRrACX32DJpYBxwzBTQCOHJpCoAjdFqrK3DJCTSA86EZcmdT05EOOO4USyM01uDwHL8+lVy6eXMpOTW3yEVT4GiOou8GgIbB+bjTHmrzi9QGcNAcpXkNMiLN8RK3tNi125lO5325WCy/7XzaunMvfhSaF4RmdJz+KEgDrenD+VDdC4beChg6g5Pap3ktBccrPJlPPtjaKr7bIin+SbnTeXD70hFpOJvjTAJNtzjw+MlONMvWAQc/6tIADv9Yy+W+Vd/8fPfmzTuwKZbL79+Wb8ePMtC4m6MazW/q7i60rTIOA7jzC4coykBkIkIHE7zTCxH82Jh6oezOC28U0iaZ69YmSy/WkQwCvfKuNSkhzZaLhsIJJCH9yloObWhCEtO07KwV1i5zSVNbt+Iy7CgtdFD8vydJ/yc5zTnp+5529ZmgF2rAn89z3ryJFgdNpnO7+MefNTTP0pNAs4vT/u1bx77nfISGvTn91zfn/x0OD0NKOKjz+LsPG6PBF6VrzpGiwdbshbP47M8/pF8XsNssQIM4t19+4c2/fD5NcHqbH94bDkNEnOrqDI1PvK9OMzDQg32lfOb8H2jKs5bO/vEn8JS+BPWsaOy0Vdk8+vFNzkcywDxrvQtr8/5w2aZ21kh13lFtzUAEwtico0ODg1ZHJza1SL46CHlWKJomjTYI0tzVdbiIDHtzgMY/74eIOvJZg9z5RJUG/41gaM4RocHWwC2NzQbX0DIcg9GiTy9CdO0WI/w5UhxDa7PbZzaz4xAaD9CQgExJpTJriHNWedAilbpGmJpzxGgMeoMOANLkD2pwIDZjO/wy2gwQm0TH8GjJbYYo4kQawiGt8ZRoBsfCnslOb3gsNCTD+UClNTIcqhuCo0RjiKWL61k7JLteTMdMMhyDJGhjE+5bzT60UXjmqH2eEyE0HoIzFo4Jue2+vr7tXGvXUAhnjdjc+uhYXRrJxQTVM+do0uhtRXsmkShAEomMfctmk+GY9sIRVq2cWQzrrEWaPUADCY915uLxeIoEfi+Eh6qfOXfeqTdovg4MxawdUZpYej2TsO8mkVlP61VxII9WOaDRAqenQuMP5+Pxvt2k4n2WGpzxd/emwdZQz1rb0aPRL9oz9qpksoCjNmsGYZWzmqU21Efpjt3W+JPxVJ808XgMcbA4dQYNQ3GUPkI0lcOzcbFQosGAlU5t1oDGijQszZHS5HZLg9WZqmrOxHfH5TQ+pGF55hwVmt1BW7TjniHOusGkhCPSuBwOdpzys8br9SJNNU7KOzSGOHhUQ5ov/8LXY5q1/wMN4GzFdAqzVqZBHPpZg9bc9pIgTXXiyZC0OLc+kdPg6zHO2lGgeWGXpoA00iSyOkNdHJshWaZhb85AhcaPNLU4Fun7nIkfjslpSNhmDWle/fybs2fOnDl78l2mr/xq3xrE2cLjgGzWhFW3y+xgxyGt8ZZpPEhTayOExhBnKPReFY2jTKM6a+o4/3z2wntnz52fXV5uaWlZXp49f+6s6uX3IdKgTTFWz8aUXHW5nSIM66zBoM15uxRpwGY7PCi9IDhd3ZrSq7HPWn/P0o9nWpZnWzCzyy2f4uONMeyDhqOGV2tVOmUapzqOenN8zV6ggSjRwGnAEpJcfA6+X0ODOAyz1t/b9mAcClMTsPoUekoRptYY67cGUsimDbq9cIDGDTSIQz9rvuswaITGo0ADgfc4ks9zHp+WDJrDJ4Z11qA0zS13UKRKp+UNbQFoBw1t7GnbXja6Mg2EddYGoDVdIo0XaBRtQpKPDO6cxNaUaRhmDSK2ZgFp9qgO5amAfdDUbVBnJLfqDgILOw60pkLjTwKNig3iQG+QBl6tnP3OGuoATf8DlNlL56PXXzj4HFOmwSRw0zCkNcGgk+PAhXXWzNe7gIbEnwcaRZupkORj6rH3cdDMZsShn7VeFRrAOS+/jdCexiQbNNWzAGYkuRogNBrg+K5PTpVoPMZUSpEGzgKDYQnOaWyNrKc0OL29QKOS2bdf0UaAnQbP0NLAoAUDnBjWWYPWTFssoo03p1abbenH1KGxEyUavAOnnzWkUcU5q5EBO02hsKiX2eRWAwHOakUc6uaY2yanJi0WyyTWRsEmPyjBCf3wFqFxIg1Lc5BGFecEOwALDSaxjpOGgybSEBzGWTNfF2kIjvrTJtU3OexHnMFz2BoNcJBGJcvyj1y1p9Gn1WkKeNdZNWjWUhhnzdEGg1ZOA5MmjEm/ffP4ZTkNztp+j9I9PUijVhx8z3tgrVGiwc8I9Cb5oFVo2GYt4myzAE3FxrKdUqbp8w77EWcwdBxOaEizn+bIcZBGPctv47ucA2rNYiM0WVPtATq5yiMNy6xFHIQGbdqVbVJxI9QGcULvwLPGii9EP2tI02hx8ELigAYtq06TwM+kcdACPMpQzhrSYLztfSlFmm7SGrT5+8RrX3IOBwWObNaQpsHifMoAoE5jMGUz6q2xp2O1g7YT4F0uF5iwzpqz3zLd2dmJvencTinRtI75PR7UGZ7/mePwhVhmDWkaHrXjGpIgjWGkVJuiOk1CTpNccfNWF+JQzxrQdE5bOiH4vMmllFpDaCQ48/cDVocY5lnriCANw6ix07SKNvrFQqHhQcPk871RVymMs0aOAUQGbSa9ybhCa8JAgzjhe8M+l0MM86xFkKZhmxe1t3nxSmsrwTHp1zMUg6bLLUXdLi1wuH7L3RIN6nhaU/VphokL4njmm4MOCFNzaFsDNue0b00MaAiOLW0vqNJga3DRgrwbcehnjevtvNvejjj4wFGkQZy5J0HOqYajfvFJRwP56BWtWxPrbi3h6LcS+xg0vA9ojrohzDhcP6GR4Xjz8XqDJn41CnHmN61WfBmGZw7NoJGc1/gdzhvXusFGTKyoYpPJ4qBhbXYCAWLDOmswaEAjx4F3n/G9aUBGajO/5nA7IezNEVvz/G3eaOqGoE2jNBhhAWqDOLRHaVdPu0gjx8HbTllrpDhza76gE8KO09EBNM/f5mTTlStXKjqx9USjg4bJr7h4AsM4a1Z41hiNdXAMqbiMxi/CoM480rDNWmSA0Dx/m/e+7VawUWgNJnk/GgiCC9usuXo7HxmN9XC8xu24pDogpfd7u9BGbI054IQwNwdpnu9Z4N2PbwBNSQc3raETGr63aYsGg5Q4SBMhNAo4k0JfvLRsqVQ8lbSEvV0QxCE0+CIUzUGaAQoa7c/Qx7+6fKOCQ3RiW4kGBw0j2Dg+CGGZNZ+1hwyaEk6X1yjkwAV8tgWjx0NkEKdMQ43DSqP9e8+Xvmq6AZHY4PsbtUFDG/hoAG3omuPqWYHW1MOpXHp6J42t+XyrsQtkKtmlcQCNFjh0g6b9nc2ppsuXoTiS5sTWM/ugwceNGGocd2Tlkd5YDwd1KhRlF8QBGt7KaYHjG3jwmAJF87vOF5tuXK7BiS0mCo0OGt7XkOIwzJoLaIx6NRzMZFdVyjRWLXB8Phoa7T8jONl07bIYyaxdweKotQYvBWZkNvtqjrsHWgNRwrFUpcZm7qEzYIWw4xCa0ZZR6kn7QKsjWtO1a3KcWN6eaYgGbdqiAcChnbXSoJHQNufpGkdaw44jDtroKDXOslYn6Le+unBNhgM6U2nEQRq9rq6N0E9sqGct2EFo6HG8T9ecQKMFjtgaCNCMPteTwKkmsJE3h+BkMwU7JpFZ1wFNfZu2GZChnbUgtoZu1uawNYw4ZjPQiKGQ0fI7UKc3rl2oh2MoFjLlI0EhkbEXbUBTP8nrxIZy1gIdK4INTKib8/Qh0rDhmKE142Uaqlmb/VAbmhNNFyByHFHnylS6mC1kIAl7tqiLmXRKyS3M8CBDNWswaHmbjQHn6ZoVaZhwoDX/Ak05FDiz32j1sLl4oZQ9cbpjsdbFrWKxuLVo0ht0ykkuRcGGCicQARoxlDhzQIN/fxYch/nBxPj4+CjhoXrmLJ/RaNG+birJ1Js1wjMVg98M0Bk1m01iQzNr4qBBaJvTNedxAo0WOA7SGhKszT5ptPrPCD7YuHi1Hg5efJKM6FQj7PBgQ4ETGAAag4Ee5/YU+QYJOw6hefLvrVslnHGaWZt9+yWN3tn8dPGiCg6kjKOqkzc54BC931kjrbERGgacu0u826UBjs/hABpIVXMQh4KGOqeARhmnu8Hm4MXAvpvDw6ABDAPO9Fow4HKx4/icZZqa5hCZ0UOmeXnjopgLGs1abnOG57E4DTXHyfv0QMOE87QfFo0FB2n+nhBlKjiYQ6Y5DosGYZ81HDUuyvP7m7WAzwY0TDjTcP/tZsLB1kxMAA7RwebgiYCChnrRNq5eBRgNZy25BMUpyTR4Q8APrCRNBgoctOmEg4DbzY5DWjNUtsFZk5ykD5HmA6ABHC1nTVjhowSn0aM0x5uBxkSDgzrTm4GAmx2HcwLNEOBgc2TPnMOiOd508yqJprOWg+Jgc1RnjTfbBJMYBpy7C1AbJhykQRxsDoaChnbRblbhXNBi1gQTV8LhG5k13getEcMwa1MWM+9mxnECTQhtZM3B4hwCzYmNX28eAE5udSaKzVGetSgMGv6/b2hxpjeBhhWHIzQhxKnTHMA5BJpjH9/8tQan4RsCJZ2R0nGgkdMaDBrQMONML4ENIw6hGQyVcBSeOXgiUKRhf2vzKwRw0EbttAZpoDl5IVLBkdtI//mRQdOhjRwH0gjOdFvUzYhj5Z7cAxqSKpu9bggOnub1jV9+QRwtj9Km5IgDcFRPa1EH0FTC8syZ8kWD1DhIM1iFU/+0Br8Uadhz6otf9okDaRTHxmFz6uFEyaBh6GdtysvxQSYcq/XJveFBxFE5rbUcMM17QENwUAdxKqE9SgOOYUD5meNyR3tNhAZDPWvTay4+CKHGITT4A3QaeeaMKtOw1wZycLOWb1Y8rfHRhTzSsM3a9EM32lDglGnABiK1kTUHZUYPkObkhihzcLMmJDcDoLP3m9BA1LqZFEw6DMusTT8Mgg01jtv6ZD4s+7Fg6qe1g6J56+MvLl1CHFFH2xsCUz6nX+BBJ1A7ayDDL6zk8kDDjIM21Dgu631Co4gDkeFoToO1uURs2GdNKUJyp5mfmameNT4aDbTtJAUdhnXWxOcNBQ7S1PxYMLkNNgeCpzWk0bI2QCPH0fricySZ3FnyRWdmohCeB5aZqCuytCMk4a/TDifWxUUDlDhu6/05f5ikweagDrZG07z8xe/EpnbWtL/4HBGS+dX7S70+zh10Wc29C5sr+aQwgnOmxawZY75ogA6HtMbvV8BROa2NIo1mtfn9t0sUzaH8mDon5E2GlZ0VmwmocMy0aw7cCwRocCo0aKN0kpaf1pBGu5z8j717i42iCuMAvmu9gEUliAgCYuOFKOIFFFEeVEQF7wQvqC+u8fbQ2tCChLoQWi4Nd9gtZUNSSguhwK4BTCi4abdt9oFsmq5tI7tp+mDDA21NA00JBBIwfrPd9ut2Zs45c3pWZqbnM9EXn/jl+8/Z7xvOZO3ZAzjpjjXk+Rvqzz/hX/g/i+ycWAfYcOAESttb9gMNoXOIE4I00IxffG7PIA7GmpjBJ73E48TgtjYOHB/SHDXyzEGaZ4BGdNts2wY253Q75yeeWBNvw4zTkOMJGcbxJmig0IYaa9g5SCP6abMtgSPwmSO4jOJ0xRv9RnH8CRrEIXxhVz0hwEAT3TZbt0EJjbVvbm+sxTqDQYM4fp9CgziGT2sXnhkvnMb54tatAziYawYHn9g6Ap85/IPPhkhFox9x6IPPqgDQ4OU3HM+cCxBowmtG1lbEocfaL5aItS58R56pc/wKDdqocMiDT6QRXI9nbQIbu8VaDBqHHccfaO8r2484Rw11DhQGmsiamrVpEwmHfZ9jqljr+jcY8rPGmtI1RWVKccZaM3aNyHo/YWO/WOuCF0gYOwdo+gbvvsFij7UL6aGZvHiTUsZi7QcLxNqvXRVsOIlAK0rScMVaMwaa0Loza/t2Ag518GmOWNPCieV4Gv0MOMEETZFKB4oJp7pnHnaNyHK+u2k74AzY2CrWulYXUHGQhqVztBvn9TR9d+ix7TvARq9zfjRrrDHirPBSYy3ku9ZXWwRFaBzi4LMaaQTXW1k7EIfyzLFerHXlnCbj+ELezgSNSocVpyZtNGMX71BsNGLtnFlna0YGnzm7YvFQSBen1B+qgI8dYqljjTL4RBrxdeetHUohjqJjjcEnW+d819Ve2ggLai0cfyjQUd+HMmoc+uBTPA2eBHbs2wc26lizzT6noSsn7ged4TgB+Gnq7o5Ea2uLiDpHSac1pBFfU4EGbNSxZqN9Ts6urn87vCGINsQBmGCBqzMSwYuJSI+c/XqxNgdphNdzWWsAx7Kxxjr43NWV057tCYYGK+itaC8Dmf6q5Y211x1Qd89cfu/82bPn37v8+btFRtrH+9YATmqs2XHw+X1DLLa6s70j7q6ocMU72q8VRSL1q3WvkVSnmlas9cInOxdMn/1SuKnO7XK565rCL82e/rywHzdroIbh2HLwqbxDADyxSEN9fUMkEoshDAGHPCHofXvszHFhVxhcBsoddtWNG+MUM+a8NYCDsWbPwSfgKJX8r8bFREZj7eTF/V+8Ew67VBUOj1sgItI+XLMXaEZJrBm6HZc2vjlz4veOkiY3kgxtnqbpI7fJXLx3717eWLPYhIADhzQhOHoifjrb5QYcLZ2mcXeP+JR2td8GasDG/rGmi0OxgUKcthPx3dluKJd2hR99fqQ/PK/+sXdY51hy8Pm/x1rb0Xhedjbg6OrU1T04ski7unKlFo5d9zmiYi1JQ8EJzxyJzcO3VgIOxhppQmDXWFvBcVpra4vnVSRsSLHmfmAkz5x3oW+Gdc4Oq8bad6I6h44DNJUlFYijpxO+38kfaR/uBRp1rNl5nyMg1lrbXJUlYEPvnPP38r9pe3UjyKhizdb7HO5YQ5r98crdJVBUHEi1ydwn6FsbEadfx9KDz5/TGmvYNbn9H8ivoMda02zuOefKjVo4dt/njCTWoGtc3rzdKhzdRw7nr5yMxTvBxlisnVN1Du/FRCKL/2IitGHrnNYylwe+uQY2bLHWNJ/PZsJKsEntnFE2+DQca61Fbm8eFDNOHZyj+QY2OxEHCmzk4FM71pCm4HDys8UqHG2d81zTAeenYKPqnNG0zzGEk6SpPJzE2c2GU8d1Gpi8duNONc4aGWt6R+lobXZBZSUBR9PmUSfPyvPWoUM7d8pYY+2c1la3LxdsjHVOXZxnz/ba1UODONg5cp+jjVNW2+oqzYVixMG6h8NmVrFiQ4k1sLHti+zGJgR9HT5PLh1HbTOdx2ZncbEaxx77HOFH6bKWa74qsDHeOU1jeAadYFM8PNbkPkcTpyxaVunzeNQ4p6njm/OLjNvMWAs0KbFmj8FnWmKttiXu93oRx0CsnV/OMYS+WazCoU4ILBRrQjunpbOqwMuKk6pTx3EWePXm2kTnYKzJwacuTl/cX+VNxTlMirURngW+LAYbaqzZ/0V2lliL7vf4qgCHI9bcrjEcC4Ita9U49trnCDuttVwKwp0qup2zm3AgqHtprPEFwYdAM6gjJwREnGgJ2KhwQIc++Ky7n2NBULyFG8d+FxORcaJlXn8B4kCxHwjC8zkWBGu3bFHZyH2OJg58HixQoBTHM+f8Aj6bLTLWmHDg7k/lXhWeWAu/5+SwublFjSP3OZo4kXioFIon1sLTeRZrN4CGFmvyRfb+r1G6Qj6w4Yg19wMZHBd0frZ2M9BwxZo9LybSx1kdzQ75+HC4Xh6cXL55cyqOHHzq4UQVG8CBMoiTXHo6M2c+BTU1g9HmxmbESdrIfY4KBzPNx9M5D42BP+lFcxb+3n9PxJJ5kx68i24z7SbQqDsnFUe+yA46/TaBAAfO4emOGXPO9Jw8VXMKZOBOolM9PfMWjaUupG+Wp+Lc9sGniWMtFm8MqHCog8+S0/EvFv7Wm3KvNPicXTKJ0jtTboDNsFiz5z5HwOAzdkn5XovBWDtdcunoxZMa961VNy+cSd4Q3ChPxbH94HMEnQPf2A0CjqFYy8vubNO8kR3q7AekXahz1rry8nKzxZpZ9zk5K6pCfr+hWDtccbKVcI1k8xz9ccFds9YBzrDOkfscPZyIG2yMxFplRWcr8UMTgEPoG8AZbbHGjRNrDwXpOLjPqdzd2Ur+0ATg6I4FZt1QcDDW5OCThFMfLVAah/WZk1sCNLTbcZvf0Pt589nldQZxRvXgMwa3gCMOZfCZm+gaGk71t1MJNpRYky+yI06kqBQah+2Z48nrbKV+aALq7Dxtm4lvKjYy1hhwsHGCTLEGNC1s3zJoXqRjU76BgiNfZB+KUx/NRRxSrHkTNEw41Us0z2oT3ly3AXBSYk3uc0g4sU7lU7G0WKusqgQa1u/nnJ2ha8PQObZ8kZ2vc+CjICFqrFXlJmmYOqdnoa5NKo7c55BxcmDiGSTFGuAUAI2BG9lreibr2hiNtdF9MVF9xNVIjrVSD9Aw38gO1fyIpg3ApHaO3OdQcWJxQqx5vAHoGmMfmqiZ49Q6p21YNQTHjINPE8Zafazd3wg2mjil/uzuFqYb2RGnZt5d2jbDcOQ+h+WZ03061KgRayDj6aiNst3IjjZnl2Xq2CDOaBx88p3WIrF2TyMkW2Aojs8fLIh399WWGf3QRM3JRzRsPlJszB5rJtznrKiP1bfn+RsbgwPBFgiGArkgE9W+Nor4zDl1cpHGPE2xMdo58mKiRIFOd0e2xx9MlL+qJN5e1tKif98a4WuHBJvbH2sWPEpD5URikSL4toFS17pX9PWtqCXfv6qDAzaPaNi8+RXAII4cfBrCgaqPJKs+Sru6WD/WapY8qLbJ+PRy/lAcEww+LbXPGdGN7IhTszBDbeOcuwpsUnDkPiftN7KrP0Wp9fvGOSs/P3+VjLXb8qEJ7Jzq+xyaNlBmizXrTAgoOKxf2G2eqmUzF220Yk2+yC7g6mJq5/y2bLzme51fIQ5b58iLicidw3FaOzVJ+33o6yCTEmtyn5PmWFPj1CzQtHntcorNaB183oZYQ5veOTrXCyg2xFgz0eDToqc12uCzd4G2TaaSaagjB5+icehf2O3Ve7FzcmFhfr45Ys3iL7IjjLEv7J5ZlqFncyQFxxSDT4s+czhjbclU3auGluarcKDkhEB0rOmlWu9TDr1yfn69ECq/kPGZIy8mEnuU7r2P9JcKEzagUmimWLPohMBwrPVOIt5nU5iofhk5+PwfYw2KTOOYciRpo/xjxsGnjfc5F8k0jgmFgKMba/JF9jTuc6BryDXtypEBHJPFmg0nBIM6SEMq55dHAGcg1+TgM/04ycJAIxyiwWZIrMl9TpoHn0hDr2evII7qtCZfZBfdOUjDUK9dXw82ZjmtWf9FdmqsIQ21HruyfhDHPINPC7/IzhBrF+9wMNW0A0dScArNNSGw4ovslM7BrqGV81lonCE4cp+TbhzsGmrNhb4Z3jlmiDW77nOQhl5PKn2DOHKfk97TGgQae028DjKqzpH7HNGxhl3DXpmJvmF75siLiUYw+EQa5sqAw4Be58gX2QXGGtKw1xSwGcAx6+DTHrGGNMw2Bw4kbcw0IbDhi+xtSMMcah9p4kDJfY7IWMOuYS/n0gOIQ37myIuJOHCQhqNevTKAY64Jga32ORBoPPUw2PTjmHNCYPFYQxqOmrZ0vQ6O3OcIeuYADWd9otCY8rRmk31O230O3npy/fEhOHKfI3rwydM1OFIDG8SR+xxhncNPg2+sHzhO7xxrxJrp9jk5GGh8ofaCYmOK05rtLiZCGr6acOX4EByT73OsdZTGQOOs8S8cPA5F6Bw5+OSINaQZaaglcEw7IbDmPgcDjb8efuHgQYw1uc8RE2tCaByZTys2AzpynyMm1oqARkC98k8Sx6wTAgvucwTROCZAqPWfB0wxIbBDrLUKonGMXQqNQ+0ceTERO07RHQ5RNVexOWj205p1Bp/QNcJqIoRaAsc0EwKTz9bInVMkkMbhfBoah9Y58mIixs6pBRqBNSXROCY/rVlk8CmYxjHta0XGVKc1q77ILo4Gf+IcG8SR+xzOZw7SCK3H/jmWxNEffMqLieixBjTCK+NpwGF75siLifRxxNLgwPMYdo52rMmLiWixFkUakTX+5YNJHDn45OscpBFeUyDUCDimusHDnPscpBFdmS8rNqTTmryYSAMnzTR4jKZ1jjnvWzPHhCCdNI6JTxxLlAUmBCYcfKaVxuH85K+EjekmBFaItXTR4DT6v/bOoLWJKIjjs6wKYRHKGojRBZMYpSEhWEIIhuAlhxZKbQUVRNCbeBRE6EWoWBXRjyClICnYq8dc9CRePO2n2IuHNNBAC07WrjGmJumyu5l5O79D6P3HzJvM//WldZLKkYvsg8pBNSFTcv7IIZ/nkLrI/uUUhA0WTuvIjeQ50xGRGmTNbo1WDpMbn7NbfH4JvaF5hdNiM60RyXPCrxpvVEM5NKc1qnkOqomGZL7lyZE8ZyqwoUVF7Y8cyXNIVQ2SqLY8OQTzHHKLz6+oJjqu256cKfOcOF9kx6qJEr3a8uRInkNLDUA678lhnudM2hAwa2h95gr2kRzJc2hVDWLlWyesHPQSv4eJUM0MqLmFw2lD4DfPYacGu5prhuGG4KRtjZ0agJTX1STPoaYGtJLX1STPIaYGwPAKR/Icamq8LzmjlcPoBY9p5XBTA4BdbUxbo/PGZxB5DjM1YM23W8SntcAeJmKmBruaPSRnYIdRnjPtKM1MDc5qrhxZfNJTA2DMt1EOww2BrzyHlZr+N9DfciTPIacGoGK3pa3RVAN66bccyXPIqXGPHFcOxTwn+IvsrNQA1G1Xjo88R72HiYipcY8cptOar8UnJzWgF1AO+Q1BYLs1TmoAjGrbb+Wo9DARRTUAmXlXjup5zp/FJyM1/bigjbDNc056kZ2TGnceQGKc5/wgqwa02kDOuIvsqv7CLt2qQfRa2/eZw/9hIsJV0ydRaiPxzHOIq+mnoKgmlotP8moAkiiH64bAV57D4azxMFEO3cVn8G2NTdW4chRpa9NuCBipAUj15TDNc3wtPnk0tDFytqm0teDzHDZV48pBM2TynJAvsn/mpQblcJ3WfFxkZ6bmt5x45Dns1ExROUw2BJPk4Gsb/EA5MchznjSBIyhH+Tzne/M0sMS0Vc9zck0NmGJV20rnOTmOZ42HscYiz/G5+Mzxm9D+JlGzZ57nhHSRfX3hEvBGu5JXYvE5Iie3cBHYU6/y3BCMv8i+fuM8KECmao/KobIh8NnWHjV1UALLvY7L47+ppxulmU8Bf2PUbJYbguPznPVHuQugDlra5rwhGJKznruhwBTwN2bB9lM59PKcx3uXE6AYRinPcVr7t3Ier18F9dCv5G32ec7eZcX62aCvHclh+yL7XvMMKIpes21fZw6Rh4nYb2nGoaUKNvVp7T8PE6GapnJDwDBGZbRyXKjnOWoXzRFYOn6mtRkvPveaSuzPJmHgwMZsQ7B3Q6VNwKTS4ZTnfMgtKzuejaKn5202eY6y32n+h4XjNIsNQWMhNu1sgFnK2/TynHfDchoLZxUfnI9Hr1fzn3xUTnQPEzUay7E049pJVx2601qjEbeDZhgD7XwiuSH41rh8DmJO344d0rTmf0PwLbsYgzXAZBLpap7WtJbNXs6wvUwbeO0UHIdKnvMKzVwUMwP0esHZJpHnZJfiPQEch2auOc7Mf2E3u1CO7dQ8Di1Z23acGf7CbnZp8cIcCMdjpQvXnN3JeU4Ybe390rI0swmtrfLg2m7ki8/s+0VpZlNgpGo4tkX1gge6Oeyuls/LZDb1UF26tu1E0da63e5S8ZIiF8+jwkpX7ne2tsL9hd3u4cqyKce/r+ZWubXb2QhpWusebi4Wk1IxvjEy6dLNrQ4WUIAbgo+b3c3u6u0LspcJoHzSdzc6G52dnQDynM3Nj4eHK8VyUrwExFzCrKztbnX20Y3PPAfNPD84eP56sVg3ZFoOGiOTeli6vbOxs7//4oS7tTcHb96+WV0tXsgYIISFZqXK6dLdmy/2nz7dwY8xZ87rt73eW/w4WFm5d6VcTso8FglzifNmvVKsoCMsnWc/h+j1egc99PPyzp3bxeJy3UqcFy3RoxtGBqlfR6544N/1DHLR0OXAnykaYljJZNI0zVQqhZ/4tzWnaeJFEARBEARBEARBEARBEARBEARBEASBMr8ADJvUZ0bGgJQAAAAASUVORK5CYII=";const setupWalletState=(e,t)=>__awaiter$m(void 0,void 0,void 0,function*(){const n=new browserIndex$9.keyStores.BrowserLocalStorageKeyStore(window.localStorage,"_meteor_wallet"),o=yield browserIndex$9.connect(Object.assign(Object.assign({keyStore:n},t),{headers:{}}));return{wallet:new src.MeteorWallet({near:o,appKeyPrefix:"near_app"}),keyStore:n}}),createMeteorWalletInjected=({options:e,logger:t,store:n,params:o})=>__awaiter$m(void 0,void 0,void 0,function*(){const c=yield setupWalletState(o,e.network),a=()=>__awaiter$m(void 0,void 0,void 0,function*(){const u=c.wallet.getAccountId(),h=c.wallet.account();if(!u||!h)return[];const v=yield h.connection.signer.getPublicKey(h.accountId,e.network.networkId);return[{accountId:u,publicKey:v?v.toString():""}]});return{signIn({contractId:u,methodNames:h=[]}){return __awaiter$m(this,void 0,void 0,function*(){t.log("MeteorWallet:signIn",{contractId:u,methodNames:h}),h.length?yield c.wallet.requestSignIn({methods:h,type:src.EMeteorWalletSignInType.SELECTED_METHODS,contract_id:u}):yield c.wallet.requestSignIn({type:src.EMeteorWalletSignInType.ALL_METHODS,contract_id:u});const v=yield a();return t.log("MeteorWallet:signIn",{contractId:u,methodNames:h,account:v[0]}),v})},signOut(){return __awaiter$m(this,void 0,void 0,function*(){c.wallet.isSignedIn()&&(yield c.wallet.signOut())})},isSignedIn(){return __awaiter$m(this,void 0,void 0,function*(){return c.wallet?c.wallet.isSignedIn():!1})},getAccounts(){return __awaiter$m(this,void 0,void 0,function*(){return a()})},verifyOwner({message:u}){return __awaiter$m(this,void 0,void 0,function*(){t.log("MeteorWallet:verifyOwner",{message:u});const h=yield c.wallet.verifyOwner({message:u});if(h.success)return h.payload;throw new Error(`Couldn't verify owner: ${h.message}`)})},signMessage({message:u,nonce:h,recipient:v,state:b}){return __awaiter$m(this,void 0,void 0,function*(){t.log("MeteorWallet:signMessage",{message:u,nonce:h,recipient:v,state:b});const y=c.wallet.getAccountId(),w=yield c.wallet.signMessage({message:u,nonce:h,recipient:v,accountId:y,state:b});if(w.success)return w.payload;throw new Error(`Couldn't sign message owner: ${w.message}`)})},signAndSendTransaction({signerId:u,receiverId:h,actions:v}){return __awaiter$m(this,void 0,void 0,function*(){t.log("MeteorWallet:signAndSendTransaction",{signerId:u,receiverId:h,actions:v});const{contract:b}=n.getState();if(!c.wallet.isSignedIn())throw new Error("Wallet not signed in");if(!h&&!b)throw new Error("No receiver found to send the transaction to");return c.wallet.account().signAndSendTransaction_direct({receiverId:h??b.contractId,actions:v})})},signAndSendTransactions({transactions:u}){return __awaiter$m(this,void 0,void 0,function*(){if(t.log("MeteorWallet:signAndSendTransactions",{transactions:u}),!c.wallet.isSignedIn())throw new Error("Wallet not signed in");return c.wallet.requestSignTransactions({transactions:u})})},buildImportAccountsUrl(){return`https://wallet.meteorwallet.app/batch-import?network=${c.wallet._networkId}`}}});function setupMeteorWallet({iconUrl:e=icon$2,deprecated:t=!1}={}){return()=>__awaiter$m(this,void 0,void 0,function*(){return{id:"meteor-wallet",type:"injected",metadata:{available:!0,name:"Meteor Wallet",description:"Securely store and stake your NEAR tokens and compatible assets with Meteor.",iconUrl:e,deprecated:t,downloadUrl:"https://wallet.meteorwallet.app",useUrlAccountImport:!0},init:n=>createMeteorWalletInjected(Object.assign(Object.assign({},n),{params:{iconUrl:e}}))}})}var lib$9={},bitteWalletSetup={},bitteWallet={},browserIndex$1={},browserIndex={},keystore$1={},lib$8={},in_memory_key_store$1={},lib$7={},constants$2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeySize=e.KeyType=void 0,function(t){t[t.ED25519=0]="ED25519"}(e.KeyType||(e.KeyType={})),function(t){t[t.SECRET_KEY=32]="SECRET_KEY"}(e.KeySize||(e.KeySize={}))})(constants$2);var key_pair$1={},key_pair_base={};Object.defineProperty(key_pair_base,"__esModule",{value:!0}),key_pair_base.KeyPairBase=void 0;class KeyPairBase{}key_pair_base.KeyPairBase=KeyPairBase;var key_pair_ed25519={},lib$6={},constants$1={},__importDefault$c=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(constants$1,"__esModule",{value:!0}),constants$1.DEFAULT_FUNCTION_CALL_GAS=void 0;const bn_js_1$9=__importDefault$c(bnExports$6);constants$1.DEFAULT_FUNCTION_CALL_GAS=new bn_js_1$9.default("30000000000000");var errors$4={},errors$3={},logger$2={},logger$1={},console_logger={};Object.defineProperty(console_logger,"__esModule",{value:!0}),console_logger.ConsoleLogger=void 0;class ConsoleLogger{constructor(t){this.logLevels=t,this.isLevelEnabled=n=>this.logLevels.includes(n)}print(t,n,...o){switch(t){case"error":case"fatal":return console.error(n,...o);case"warn":return console.warn(n,...o);case"log":return console.log(n,...o);case"debug":case"verbose":return console.debug(n,...o)}}verbose(t,...n){this.isLevelEnabled("verbose")&&this.print("verbose",t,...n)}debug(t,...n){this.isLevelEnabled("debug")&&this.print("debug",t,...n)}log(t,...n){this.isLevelEnabled("log")&&this.print("log",t,...n)}warn(t,...n){this.isLevelEnabled("warn")&&this.print("warn",t,...n)}error(t,...n){this.isLevelEnabled("error")&&this.print("error",t,...n)}fatal(t,...n){this.isLevelEnabled("fatal")&&this.print("fatal",t,...n)}}console_logger.ConsoleLogger=ConsoleLogger;var define_process_env_default={},_a;Object.defineProperty(logger$1,"__esModule",{value:!0}),logger$1.Logger=void 0;const console_logger_1=console_logger,DEFAULT_LOG_LEVELS=["verbose","debug","log","warn","error","fatal"],DEFAULT_LOGGER=typeof process$1$5=="object"&&define_process_env_default.NEAR_NO_LOGS?void 0:new console_logger_1.ConsoleLogger(DEFAULT_LOG_LEVELS);class Logger{static error(t,...n){var o;(o=this.instanceRef)===null||o===void 0||o.error(t,...n)}static log(t,...n){var o;(o=this.instanceRef)===null||o===void 0||o.log(t,...n)}static warn(t,...n){var o;(o=this.instanceRef)===null||o===void 0||o.warn(t,...n)}static debug(t,...n){var o,c;(c=(o=this.instanceRef)===null||o===void 0?void 0:o.debug)===null||c===void 0||c.call(o,t,...n)}static verbose(t,...n){var o,c;(c=(o=this.instanceRef)===null||o===void 0?void 0:o.verbose)===null||c===void 0||c.call(o,t,...n)}static fatal(t,...n){var o,c;(c=(o=this.instanceRef)===null||o===void 0?void 0:o.fatal)===null||c===void 0||c.call(o,t,...n)}}logger$1.Logger=Logger,_a=Logger,Logger.instanceRef=DEFAULT_LOGGER,Logger.overrideLogger=e=>{_a.instanceRef=e},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var t=logger$1;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return t.Logger}})}(logger$2),Object.defineProperty(errors$3,"__esModule",{value:!0}),errors$3.logWarning=void 0;const logger_1$1=logger$2;function logWarning(...e){const[t,...n]=e;logger_1$1.Logger.warn(t,...n)}errors$3.logWarning=logWarning;var rpc_errors$1={},mustache={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(commonjsGlobal$7,function(){/*!
* mustache.js - Logic-less {{mustache}} templates with JavaScript
* http://github.com/janl/mustache.js
*/var n=Object.prototype.toString,o=Array.isArray||function(p){return n.call(p)==="[object Array]"};function c(p){return typeof p=="function"}function a(p){return o(p)?"array":typeof p}function u(p){return p.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h(p,m){return p!=null&&typeof p=="object"&&m in p}function v(p,m){return p!=null&&typeof p!="object"&&p.hasOwnProperty&&p.hasOwnProperty(m)}var b=RegExp.prototype.test;function y(p,m){return b.call(p,m)}var w=/\S/;function O(p){return!y(w,p)}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function C(p){return String(p).replace(/[&<>"'`=\/]/g,function(m){return P[m]})}var x=/\s*/,D=/\s+/,k=/\s*=/,B=/\s*\}/,q=/#|\^|\/|>|\{|&|=|!/;function V(p,m){if(!p)return[];var _=!1,A=[],I=[],T=[],S=!1,d=!1,E="",M=0;function U(){if(S&&!d)for(;T.length;)delete I[T.pop()];else T=[];S=!1,d=!1}var F,N,L;function H(Te){if(typeof Te=="string"&&(Te=Te.split(D,2)),!o(Te)||Te.length!==2)throw new Error("Invalid tags: "+Te);F=new RegExp(u(Te[0])+"\\s*"),N=new RegExp("\\s*"+u(Te[1])),L=new RegExp("\\s*"+u("}"+Te[1]))}H(m||fe.tags);for(var Y=new ce(p),Z,de,he,re,ae,be;!Y.eos();){if(Z=Y.pos,he=Y.scanUntil(F),he)for(var ye=0,we=he.length;ye<we;++ye)re=he.charAt(ye),O(re)?(T.push(I.length),E+=re):(d=!0,_=!0,E+=" "),I.push(["text",re,Z,Z+1]),Z+=1,re===`
`&&(U(),E="",M=0,_=!1);if(!Y.scan(F))break;if(S=!0,de=Y.scan(q)||"name",Y.scan(x),de==="="?(he=Y.scanUntil(k),Y.scan(k),Y.scanUntil(N)):de==="{"?(he=Y.scanUntil(L),Y.scan(B),Y.scanUntil(N),de="&"):he=Y.scanUntil(N),!Y.scan(N))throw new Error("Unclosed tag at "+Y.pos);if(de==">"?ae=[de,he,Z,Y.pos,E,M,_]:ae=[de,he,Z,Y.pos],M++,I.push(ae),de==="#"||de==="^")A.push(ae);else if(de==="/"){if(be=A.pop(),!be)throw new Error('Unopened section "'+he+'" at '+Z);if(be[1]!==he)throw new Error('Unclosed section "'+be[1]+'" at '+Z)}else de==="name"||de==="{"||de==="&"?d=!0:de==="="&&H(he)}if(U(),be=A.pop(),be)throw new Error('Unclosed section "'+be[1]+'" at '+Y.pos);return te(ee(I))}function ee(p){for(var m=[],_,A,I=0,T=p.length;I<T;++I)_=p[I],_&&(_[0]==="text"&&A&&A[0]==="text"?(A[1]+=_[1],A[3]=_[3]):(m.push(_),A=_));return m}function te(p){for(var m=[],_=m,A=[],I,T,S=0,d=p.length;S<d;++S)switch(I=p[S],I[0]){case"#":case"^":_.push(I),A.push(I),_=I[4]=[];break;case"/":T=A.pop(),T[5]=I[2],_=A.length>0?A[A.length-1][4]:m;break;default:_.push(I)}return m}function ce(p){this.string=p,this.tail=p,this.pos=0}ce.prototype.eos=function(){return this.tail===""},ce.prototype.scan=function(p){var m=this.tail.match(p);if(!m||m.index!==0)return"";var _=m[0];return this.tail=this.tail.substring(_.length),this.pos+=_.length,_},ce.prototype.scanUntil=function(p){var m=this.tail.search(p),_;switch(m){case-1:_=this.tail,this.tail="";break;case 0:_="";break;default:_=this.tail.substring(0,m),this.tail=this.tail.substring(m)}return this.pos+=_.length,_};function Q(p,m){this.view=p,this.cache={".":this.view},this.parent=m}Q.prototype.push=function(p){return new Q(p,this)},Q.prototype.lookup=function(p){var m=this.cache,_;if(m.hasOwnProperty(p))_=m[p];else{for(var A=this,I,T,S,d=!1;A;){if(p.indexOf(".")>0)for(I=A.view,T=p.split("."),S=0;I!=null&&S<T.length;)S===T.length-1&&(d=h(I,T[S])||v(I,T[S])),I=I[T[S++]];else I=A.view[p],d=h(A.view,p);if(d){_=I;break}A=A.parent}m[p]=_}return c(_)&&(_=_.call(this.view)),_};function ne(){this.templateCache={_cache:{},set:function(p,m){this._cache[p]=m},get:function(p){return this._cache[p]},clear:function(){this._cache={}}}}ne.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},ne.prototype.parse=function(p,m){var _=this.templateCache,A=p+":"+(m||fe.tags).join(":"),I=typeof _<"u",T=I?_.get(A):void 0;return T==null&&(T=V(p,m),I&&_.set(A,T)),T},ne.prototype.render=function(p,m,_,A){var I=this.parse(p,A),T=m instanceof Q?m:new Q(m,void 0);return this.renderTokens(I,T,_,p,A)},ne.prototype.renderTokens=function(p,m,_,A,I){for(var T="",S,d,E,M=0,U=p.length;M<U;++M)E=void 0,S=p[M],d=S[0],d==="#"?E=this.renderSection(S,m,_,A):d==="^"?E=this.renderInverted(S,m,_,A):d===">"?E=this.renderPartial(S,m,_,I):d==="&"?E=this.unescapedValue(S,m):d==="name"?E=this.escapedValue(S,m):d==="text"&&(E=this.rawValue(S)),E!==void 0&&(T+=E);return T},ne.prototype.renderSection=function(p,m,_,A){var I=this,T="",S=m.lookup(p[1]);function d(U){return I.render(U,m,_)}if(S){if(o(S))for(var E=0,M=S.length;E<M;++E)T+=this.renderTokens(p[4],m.push(S[E]),_,A);else if(typeof S=="object"||typeof S=="string"||typeof S=="number")T+=this.renderTokens(p[4],m.push(S),_,A);else if(c(S)){if(typeof A!="string")throw new Error("Cannot use higher-order sections without the original template");S=S.call(m.view,A.slice(p[3],p[5]),d),S!=null&&(T+=S)}else T+=this.renderTokens(p[4],m,_,A);return T}},ne.prototype.renderInverted=function(p,m,_,A){var I=m.lookup(p[1]);if(!I||o(I)&&I.length===0)return this.renderTokens(p[4],m,_,A)},ne.prototype.indentPartial=function(p,m,_){for(var A=m.replace(/[^ \t]/g,""),I=p.split(`
`),T=0;T<I.length;T++)I[T].length&&(T>0||!_)&&(I[T]=A+I[T]);return I.join(`
`)},ne.prototype.renderPartial=function(p,m,_,A){if(_){var I=c(_)?_(p[1]):_[p[1]];if(I!=null){var T=p[6],S=p[5],d=p[4],E=I;return S==0&&d&&(E=this.indentPartial(I,d,T)),this.renderTokens(this.parse(E,A),m,_,E)}}},ne.prototype.unescapedValue=function(p,m){var _=m.lookup(p[1]);if(_!=null)return _},ne.prototype.escapedValue=function(p,m){var _=m.lookup(p[1]);if(_!=null)return fe.escape(_)},ne.prototype.rawValue=function(p){return p[1]};var fe={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(p){l.templateCache=p},get templateCache(){return l.templateCache}},l=new ne;return fe.clearCache=function(){return l.clearCache()},fe.parse=function(p,m){return l.parse(p,m)},fe.render=function(p,m,_,A){if(typeof p!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+a(p)+'" was given as the first argument for mustache#render(template, view, partials)');return l.render(p,m,_,A)},fe.escape=C,fe.Scanner=ce,fe.Context=Q,fe.Writer=ne,fe})})(mustache);var mustacheExports=mustache.exports,format$5={},Buffer=safeBufferExports$1.Buffer,baseX=function e(t){for(var n={},o=t.length,c=t.charAt(0),a=0;a<t.length;a++){var u=t.charAt(a);if(n[u]!==void 0)throw new TypeError(u+" is ambiguous");n[u]=a}function h(y){if(y.length===0)return"";for(var w=[0],O=0;O<y.length;++O){for(var P=0,C=y[O];P<w.length;++P)C+=w[P]<<8,w[P]=C%o,C=C/o|0;for(;C>0;)w.push(C%o),C=C/o|0}for(var x="",D=0;y[D]===0&&D<y.length-1;++D)x+=t[0];for(var k=w.length-1;k>=0;--k)x+=t[w[k]];return x}function v(y){if(y.length===0)return Buffer.allocUnsafe(0);for(var w=[0],O=0;O<y.length;O++){var P=n[y[O]];if(P===void 0)return;for(var C=0,x=P;C<w.length;++C)x+=w[C]*o,w[C]=x&255,x>>=8;for(;x>0;)w.push(x&255),x>>=8}for(var D=0;y[D]===c&&D<y.length-1;++D)w.push(0);return Buffer.from(w.reverse())}function b(y){var w=v(y);if(w)return w;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:v,decode:b}},basex=baseX,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);(function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(e,"__esModule",{value:!0}),e.baseDecode=e.baseEncode=e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const n=t(bnExports$6),o=t(bs58);e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=new n.default("10",10).pow(new n.default(e.NEAR_NOMINATION_EXP,10));const c=[],a=new n.default(10);for(let C=0,x=new n.default(5);C<e.NEAR_NOMINATION_EXP;C++,x=x.mul(a))c[C]=x;function u(C,x=e.NEAR_NOMINATION_EXP){const D=new n.default(C,10);if(x!==e.NEAR_NOMINATION_EXP){const q=e.NEAR_NOMINATION_EXP-x-1;q>0&&D.iadd(c[q])}C=D.toString();const k=C.substring(0,C.length-e.NEAR_NOMINATION_EXP)||"0",B=C.substring(C.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,x);return b(`${w(k)}.${B}`)}e.formatNearAmount=u;function h(C){if(!C)return null;C=v(C);const x=C.split("."),D=x[0],k=x[1]||"";if(x.length>2||k.length>e.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${C}' as NEAR amount`);return y(D+k.padEnd(e.NEAR_NOMINATION_EXP,"0"))}e.parseNearAmount=h;function v(C){return C.replace(/,/g,"").trim()}function b(C){return C.replace(/\.?0*$/,"")}function y(C){return C=C.replace(/^0+/,""),C===""?"0":C}function w(C){const x=/(-?\d+)(\d{3})/;for(;x.test(C);)C=C.replace(x,"$1,$2");return C}function O(C){if(typeof C=="string"){const x=[];for(let D=0;D<C.length;D++)x.push(C.charCodeAt(D));C=new Uint8Array(x)}return o.default.encode(C)}e.baseEncode=O;function P(C){return new Uint8Array(o.default.decode(C))}e.baseDecode=P})(format$5);const GasLimitExceeded="Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName="Method name is empty",WasmerCompileError="Wasmer compilation error: {{msg}}",GuestPanic="Smart contract panicked: {{panic_msg}}",Memory="Error creating Wasm memory",GasExceeded="Exceeded the prepaid gas",MethodUTF8Error="Method name is not valid UTF8 string",BadUTF16="String encoding is bad UTF-16 sequence",WasmTrap="WebAssembly trap: {{msg}}",GasInstrumentation="Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex="{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex="Accessed invalid promise result index: {{result_idx}}",Deserialization="Error happened while deserializing the module",MethodNotFound="Contract method is not found",InvalidRegisterId="Accessed invalid register id: {{register_id}}",InvalidReceiptIndex="VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName="Method name is empty in contract call",CannotReturnJointPromise="Returning joint promise is currently prohibited",StackHeightInstrumentation="Stack instrumentation failed",CodeDoesNotExist="Cannot find contract code for account {{account_id}}",MethodInvalidSignature="Invalid method signature",IntegerOverflow="Integer overflow happened during contract execution",MemoryAccessViolation="MemoryAccessViolation",InvalidIteratorIndex="Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId="VM Logic returned an invalid account id",Serialization="Error happened while serializing the module",CannotAppendActionToJointPromise="Actions can only be appended to non-joint promise.",InternalMemoryDeclared="Internal memory declaration has been found in the module",Instantiate="Error happened during instantiation",ProhibitedInView="{{method_name}} is not allowed in view calls",InvalidMethodName="VM Logic returned an invalid method name",BadUTF8="String encoding is bad UTF-8 sequence",BalanceExceeded="Exceeded the account balance",LinkError="Wasm contract link error: {{msg}}",InvalidPublicKey="VM Logic provided an invalid public key",ActorNoPermission="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow="Transaction gas or balance cost is too high",InvalidSignature="Transaction is not signed with the given public key",AccessKeyNotFound=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired="Transaction has expired",DeleteAccountStaking="Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist="Signer {{signer_id}} does not exist",TriesToStake="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists="The public key {{public_key}} is already used for an existing access key",InvalidSigner="Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed="The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake="Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists="Can't create a new account {{account_id}}, because it already exists",InvalidChain="Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist="Can't complete the action because account {{account_id}} doesn't exist",AccessKeyDoesNotExist="Can't complete the action because access key {{public_key}} doesn't exist",MethodNameMismatch="Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver="Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist="Account {{account_id}} tries to remove an access key that doesn't exist",Timeout="Timeout exceeded",Closed="Connection closed",require$$3$1={GasLimitExceeded,MethodEmptyName,WasmerCompileError,GuestPanic,Memory,GasExceeded,MethodUTF8Error,BadUTF16,WasmTrap,GasInstrumentation,InvalidPromiseIndex,InvalidPromiseResultIndex,Deserialization,MethodNotFound,InvalidRegisterId,InvalidReceiptIndex,EmptyMethodName,CannotReturnJointPromise,StackHeightInstrumentation,CodeDoesNotExist,MethodInvalidSignature,IntegerOverflow,MemoryAccessViolation,InvalidIteratorIndex,IteratorWasInvalidated,InvalidAccountId,Serialization,CannotAppendActionToJointPromise,InternalMemoryDeclared,Instantiate,ProhibitedInView,InvalidMethodName,BadUTF8,BalanceExceeded,LinkError,InvalidPublicKey,ActorNoPermission,LackBalanceForState,ReceiverMismatch,CostOverflow,InvalidSignature,AccessKeyNotFound,NotEnoughBalance,NotEnoughAllowance,Expired,DeleteAccountStaking,SignerDoesNotExist,TriesToStake,AddKeyAlreadyExists,InvalidSigner,CreateAccountNotAllowed,RequiresFullAccess,TriesToUnstake,InvalidNonce,AccountAlreadyExists,InvalidChain,AccountDoesNotExist,AccessKeyDoesNotExist,MethodNameMismatch,DeleteAccountHasRent,DeleteAccountHasEnoughBalance,InvalidReceiver,DeleteKeyDoesNotExist,Timeout,Closed},schema$1={AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},AltBn128InvalidInput:{name:"AltBn128InvalidInput",subtypes:[],props:{msg:""}},BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DelegateActionExpired:{name:"DelegateActionExpired",subtypes:[],props:{}},DelegateActionInvalidNonce:{name:"DelegateActionInvalidNonce",subtypes:[],props:{ak_nonce:"",delegate_nonce:""}},DelegateActionInvalidSignature:{name:"DelegateActionInvalidSignature",subtypes:[],props:{}},DelegateActionMustBeOnlyOne:{name:"DelegateActionMustBeOnlyOne",subtypes:[],props:{}},DelegateActionNonceTooLarge:{name:"DelegateActionNonceTooLarge",subtypes:[],props:{delegate_nonce:"",upper_bound:""}},DelegateActionSenderDoesNotMatchTxReceiver:{name:"DelegateActionSenderDoesNotMatchTxReceiver",subtypes:[],props:{receiver_id:"",sender_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteAccountWithLargeState:{name:"DeleteAccountWithLargeState",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},ECRecoverError:{name:"ECRecoverError",subtypes:[],props:{msg:""}},Ed25519VerifyInvalidInput:{name:"Ed25519VerifyInvalidInput",subtypes:[],props:{msg:""}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},IndirectCallToNull:{name:"IndirectCallToNull",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded"],props:{}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NonceTooLarge:{name:"NonceTooLarge",subtypes:[],props:{tx_nonce:"",upper_bound:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TooManyFunctions:{name:"TooManyFunctions",subtypes:[],props:{}},TooManyLocals:{name:"TooManyLocals",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TransactionSizeExceeded:{name:"TransactionSizeExceeded",subtypes:[],props:{limit:"",size:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},UnsupportedProtocolFeature:{name:"UnsupportedProtocolFeature",subtypes:[],props:{protocol_feature:"",version:""}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},Closed:{name:"Closed",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}},require$$4={schema:schema$1};var __importDefault$b=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rpc_errors$1,"__esModule",{value:!0}),rpc_errors$1.getErrorTypeFromErrorMessage=rpc_errors$1.formatError=rpc_errors$1.parseResultError=rpc_errors$1.parseRpcError=rpc_errors$1.ServerError=void 0;const types_1$c=lib$F,mustache_1=__importDefault$b(mustacheExports),format_1$2=format$5,error_messages_json_1=__importDefault$b(require$$3$1),rpc_error_schema_json_1=__importDefault$b(require$$4),mustacheHelpers={formatNear:()=>(e,t)=>(0,format_1$2.formatNearAmount)(t(e))};class ServerError extends types_1$c.TypedError{}rpc_errors$1.ServerError=ServerError;class ServerTransactionError extends ServerError{}function parseRpcError(e){const t={},n=walkSubtype(e,rpc_error_schema_json_1.default.schema,t,""),o=new ServerError(formatError(n,t),n);return Object.assign(o,t),o}rpc_errors$1.parseRpcError=parseRpcError;function parseResultError(e){const t=parseRpcError(e.status.Failure),n=new ServerTransactionError;return Object.assign(n,t),n.type=t.type,n.message=t.message,n.transaction_outcome=e.transaction_outcome,n}rpc_errors$1.parseResultError=parseResultError;function formatError(e,t){return typeof error_messages_json_1.default[e]=="string"?mustache_1.default.render(error_messages_json_1.default[e],Object.assign(Object.assign({},t),mustacheHelpers)):JSON.stringify(t)}rpc_errors$1.formatError=formatError;function walkSubtype(e,t,n,o){let c,a,u;for(const h in t){if(isString(e[h]))return e[h];if(isObject$a(e[h]))c=e[h],a=t[h],u=h;else if(isObject$a(e.kind)&&isObject$a(e.kind[h]))c=e.kind[h],a=t[h],u=h;else continue}if(c&&a){for(const h of Object.keys(a.props))n[h]=c[h];return walkSubtype(c,t,n,u)}else return n.kind=e,o}function getErrorTypeFromErrorMessage(e,t){switch(!0){case/^account .*? does not exist while viewing$/.test(e):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(e):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(e):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(e):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(e):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(e):return"InvalidNonce";default:return t}}rpc_errors$1.getErrorTypeFromErrorMessage=getErrorTypeFromErrorMessage;function isObject$a(e){return Object.prototype.toString.call(e)==="[object Object]"}function isString(e){return Object.prototype.toString.call(e)==="[object String]"}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseRpcError=e.parseResultError=e.getErrorTypeFromErrorMessage=e.formatError=e.ServerError=e.logWarning=void 0;var t=errors$3;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return t.logWarning}});var n=rpc_errors$1;Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return n.ServerError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return n.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return n.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return n.parseResultError}}),Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return n.parseRpcError}})})(errors$4);var logging={};Object.defineProperty(logging,"__esModule",{value:!0}),logging.printTxOutcomeLogs=logging.printTxOutcomeLogsAndFailures=void 0;const errors_1$4=errors$4,logger_1=logger$2;function printTxOutcomeLogsAndFailures({contractId:e,outcome:t}){const n=[t.transaction_outcome,...t.receipts_outcome].reduce((o,c)=>{const a=typeof c.outcome.status=="object"&&typeof c.outcome.status.Failure=="object";return c.outcome.logs.length||a?o.concat({receiptIds:c.outcome.receipt_ids,logs:c.outcome.logs,failure:typeof c.outcome.status=="object"&&c.outcome.status.Failure!==void 0?(0,errors_1$4.parseRpcError)(c.outcome.status.Failure):null}):o},[]);for(const o of n)logger_1.Logger.log(`Receipt${o.receiptIds.length>1?"s":""}: ${o.receiptIds.join(", ")}`),printTxOutcomeLogs({contractId:e,logs:o.logs,prefix:"	"}),o.failure&&logger_1.Logger.warn(`	Failure [${e}]: ${o.failure}`)}logging.printTxOutcomeLogsAndFailures=printTxOutcomeLogsAndFailures;function printTxOutcomeLogs({contractId:e,logs:t,prefix:n=""}){for(const o of t)logger_1.Logger.log(`${n}Log [${e}]: ${o}`)}logging.printTxOutcomeLogs=printTxOutcomeLogs;var provider$2={};Object.defineProperty(provider$2,"__esModule",{value:!0}),provider$2.getTransactionLastResult=void 0;function getTransactionLastResult(e){if(typeof e.status=="object"&&typeof e.status.SuccessValue=="string"){const t=Buffer$E.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(t)}catch{return t}}return null}provider$2.getTransactionLastResult=getTransactionLastResult;var validators$1={},__importDefault$a=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(validators$1,"__esModule",{value:!0}),validators$1.diffEpochValidators=validators$1.findSeatPrice=void 0;const bn_js_1$8=__importDefault$a(bnExports$6),depd_1$1=__importDefault$a(browser$a);function findSeatPrice(e,t,n,o){return o&&o<49?findSeatPriceForProtocolBefore49(e,t):(n||((0,depd_1$1.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),n=[1,6250]),findSeatPriceForProtocolAfter49(e,t,n))}validators$1.findSeatPrice=findSeatPrice;function findSeatPriceForProtocolBefore49(e,t){const n=e.map(h=>new bn_js_1$8.default(h.stake,10)).sort((h,v)=>h.cmp(v)),o=new bn_js_1$8.default(t),c=n.reduce((h,v)=>h.add(v));if(c.lt(o))throw new Error("Stakes are below seats");let a=new bn_js_1$8.default(1),u=c.add(new bn_js_1$8.default(1));for(;!a.eq(u.sub(new bn_js_1$8.default(1)));){const h=a.add(u).div(new bn_js_1$8.default(2));let v=!1,b=new bn_js_1$8.default(0);for(let y=0;y<n.length;++y)if(b=b.add(n[y].div(h)),b.gte(o)){a=h,v=!0;break}v||(u=h)}return a}function findSeatPriceForProtocolAfter49(e,t,n){if(n.length!=2)throw Error("minimumStakeRatio should have 2 elements");const o=e.map(a=>new bn_js_1$8.default(a.stake,10)).sort((a,u)=>a.cmp(u)),c=o.reduce((a,u)=>a.add(u));return e.length<t?c.mul(new bn_js_1$8.default(n[0])).div(new bn_js_1$8.default(n[1])):o[0].add(new bn_js_1$8.default(1))}function diffEpochValidators(e,t){const n=new Map;e.forEach(c=>n.set(c.account_id,c));const o=new Set(t.map(c=>c.account_id));return{newValidators:t.filter(c=>!n.has(c.account_id)),removedValidators:e.filter(c=>!o.has(c.account_id)),changedValidators:t.filter(c=>n.has(c.account_id)&&n.get(c.account_id).stake!=c.stake).map(c=>({current:n.get(c.account_id),next:c}))}}validators$1.diffEpochValidators=diffEpochValidators,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(constants$1,e),n(errors$4,e),n(format$5,e),n(logging,e),n(provider$2,e),n(validators$1,e),n(logger$2,e)}(lib$6);var public_key={};Object.defineProperty(public_key,"__esModule",{value:!0}),public_key.PublicKey=void 0;const types_1$b=lib$F,utils_1$d=lib$6,ed25519_1$1=ed25519,constants_1$3=constants$2;function key_type_to_str(e){switch(e){case constants_1$3.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${e}`)}}function str_to_key_type(e){switch(e.toLowerCase()){case"ed25519":return constants_1$3.KeyType.ED25519;default:throw new Error(`Unknown key type ${e}`)}}class PublicKey extends types_1$b.Assignable{static from(t){return typeof t=="string"?PublicKey.fromString(t):t}static fromString(t){const n=t.split(":");let o,c=constants_1$3.KeyType.ED25519;if(n.length===1)o=n[0];else if(n.length===2)o=n[1],c=str_to_key_type(n[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const a=(0,utils_1$d.baseDecode)(o);if(a.length!==constants_1$3.KeySize.SECRET_KEY)throw new Error(`Invalid public key size (${a.length}), must be ${constants_1$3.KeySize.SECRET_KEY}`);return new PublicKey({keyType:c,data:a})}toString(){return`${key_type_to_str(this.keyType)}:${(0,utils_1$d.baseEncode)(this.data)}`}verify(t,n){switch(this.keyType){case constants_1$3.KeyType.ED25519:return ed25519_1$1.ed25519.verify(n,t,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}public_key.PublicKey=PublicKey;var __importDefault$9=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(key_pair_ed25519,"__esModule",{value:!0}),key_pair_ed25519.KeyPairEd25519=void 0;const utils_1$c=lib$6,ed25519_1=ed25519,randombytes_1=__importDefault$9(browserExports),constants_1$2=constants$2,key_pair_base_1$1=key_pair_base,public_key_1=public_key;class KeyPairEd25519 extends key_pair_base_1$1.KeyPairBase{constructor(t){super();const n=(0,utils_1$c.baseDecode)(t),o=new Uint8Array(n.slice(0,constants_1$2.KeySize.SECRET_KEY)),c=ed25519_1.ed25519.getPublicKey(o);this.publicKey=new public_key_1.PublicKey({keyType:constants_1$2.KeyType.ED25519,data:c}),this.secretKey=(0,utils_1$c.baseEncode)(o),this.extendedSecretKey=t}static fromRandom(){const t=(0,randombytes_1.default)(constants_1$2.KeySize.SECRET_KEY),n=ed25519_1.ed25519.getPublicKey(new Uint8Array(t)),o=new Uint8Array([...t,...n]);return new KeyPairEd25519((0,utils_1$c.baseEncode)(o))}sign(t){return{signature:ed25519_1.ed25519.sign(t,(0,utils_1$c.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(t,n){return this.publicKey.verify(t,n)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}key_pair_ed25519.KeyPairEd25519=KeyPairEd25519,Object.defineProperty(key_pair$1,"__esModule",{value:!0}),key_pair$1.KeyPair=void 0;const key_pair_base_1=key_pair_base,key_pair_ed25519_1=key_pair_ed25519;class KeyPair extends key_pair_base_1.KeyPairBase{static fromRandom(t){switch(t.toUpperCase()){case"ED25519":return key_pair_ed25519_1.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${t}`)}}static fromString(t){const n=t.split(":");if(n.length===1)return new key_pair_ed25519_1.KeyPairEd25519(n[0]);if(n.length===2)switch(n[0].toUpperCase()){case"ED25519":return new key_pair_ed25519_1.KeyPairEd25519(n[1]);default:throw new Error(`Unknown curve: ${n[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}key_pair$1.KeyPair=KeyPair,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var t=constants$2;Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}});var n=key_pair$1;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return n.KeyPair}});var o=key_pair_ed25519;Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return o.KeyPairEd25519}});var c=public_key;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return c.PublicKey}})}(lib$7);var keystore={};Object.defineProperty(keystore,"__esModule",{value:!0}),keystore.KeyStore=void 0;class KeyStore{}keystore.KeyStore=KeyStore;var __awaiter$l=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(in_memory_key_store$1,"__esModule",{value:!0}),in_memory_key_store$1.InMemoryKeyStore=void 0;const crypto_1$6=lib$7,keystore_1$1=keystore;class InMemoryKeyStore extends keystore_1$1.KeyStore{constructor(){super(),this.keys={}}setKey(t,n,o){return __awaiter$l(this,void 0,void 0,function*(){this.keys[`${n}:${t}`]=o.toString()})}getKey(t,n){return __awaiter$l(this,void 0,void 0,function*(){const o=this.keys[`${n}:${t}`];return o?crypto_1$6.KeyPair.fromString(o):null})}removeKey(t,n){return __awaiter$l(this,void 0,void 0,function*(){delete this.keys[`${n}:${t}`]})}clear(){return __awaiter$l(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return __awaiter$l(this,void 0,void 0,function*(){const t=new Set;return Object.keys(this.keys).forEach(n=>{const o=n.split(":");t.add(o[1])}),Array.from(t.values())})}getAccounts(t){return __awaiter$l(this,void 0,void 0,function*(){const n=new Array;return Object.keys(this.keys).forEach(o=>{const c=o.split(":");c[c.length-1]===t&&n.push(c.slice(0,c.length-1).join(":"))}),n})}toString(){return"InMemoryKeyStore"}}in_memory_key_store$1.InMemoryKeyStore=InMemoryKeyStore;var merge_key_store$1={},__awaiter$k=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(merge_key_store$1,"__esModule",{value:!0}),merge_key_store$1.MergeKeyStore=void 0;const keystore_1=keystore;class MergeKeyStore extends keystore_1.KeyStore{constructor(t,n={writeKeyStoreIndex:0}){super(),this.options=n,this.keyStores=t}setKey(t,n,o){return __awaiter$k(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(t,n,o)})}getKey(t,n){return __awaiter$k(this,void 0,void 0,function*(){for(const o of this.keyStores){const c=yield o.getKey(t,n);if(c)return c}return null})}removeKey(t,n){return __awaiter$k(this,void 0,void 0,function*(){for(const o of this.keyStores)yield o.removeKey(t,n)})}clear(){return __awaiter$k(this,void 0,void 0,function*(){for(const t of this.keyStores)yield t.clear()})}getNetworks(){return __awaiter$k(this,void 0,void 0,function*(){const t=new Set;for(const n of this.keyStores)for(const o of yield n.getNetworks())t.add(o);return Array.from(t)})}getAccounts(t){return __awaiter$k(this,void 0,void 0,function*(){const n=new Set;for(const o of this.keyStores)for(const c of yield o.getAccounts(t))n.add(c);return Array.from(n)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}merge_key_store$1.MergeKeyStore=MergeKeyStore,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.KeyStore=e.InMemoryKeyStore=void 0;var t=in_memory_key_store$1;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}});var n=keystore;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return n.KeyStore}});var o=merge_key_store$1;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return o.MergeKeyStore}})}(lib$8),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0;var t=lib$8;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}})}(keystore$1);var in_memory_key_store={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;var t=lib$8;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}})})(in_memory_key_store);var browser_local_storage_key_store$1={},lib$5={},browser_local_storage_key_store={},__awaiter$j=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(browser_local_storage_key_store,"__esModule",{value:!0}),browser_local_storage_key_store.BrowserLocalStorageKeyStore=void 0;const crypto_1$5=lib$7,keystores_1$1=lib$8,LOCAL_STORAGE_KEY_PREFIX="near-api-js:keystore:";class BrowserLocalStorageKeyStore extends keystores_1$1.KeyStore{constructor(t=window.localStorage,n=LOCAL_STORAGE_KEY_PREFIX){super(),this.localStorage=t,this.prefix=n}setKey(t,n,o){return __awaiter$j(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(t,n),o.toString())})}getKey(t,n){return __awaiter$j(this,void 0,void 0,function*(){const o=this.localStorage.getItem(this.storageKeyForSecretKey(t,n));return o?crypto_1$5.KeyPair.fromString(o):null})}removeKey(t,n){return __awaiter$j(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(t,n))})}clear(){return __awaiter$j(this,void 0,void 0,function*(){for(const t of this.storageKeys())t.startsWith(this.prefix)&&this.localStorage.removeItem(t)})}getNetworks(){return __awaiter$j(this,void 0,void 0,function*(){const t=new Set;for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const o=n.substring(this.prefix.length).split(":");t.add(o[1])}return Array.from(t.values())})}getAccounts(t){return __awaiter$j(this,void 0,void 0,function*(){const n=new Array;for(const o of this.storageKeys())if(o.startsWith(this.prefix)){const c=o.substring(this.prefix.length).split(":");c[1]===t&&n.push(c[0])}return n})}storageKeyForSecretKey(t,n){return`${this.prefix}${n}:${t}`}*storageKeys(){for(let t=0;t<this.localStorage.length;t++)yield this.localStorage.key(t)}}browser_local_storage_key_store.BrowserLocalStorageKeyStore=BrowserLocalStorageKeyStore,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var t=browser_local_storage_key_store;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}})}(lib$5),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var t=lib$5;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}})}(browser_local_storage_key_store$1);var merge_key_store={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;var t=lib$8;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return t.MergeKeyStore}})})(merge_key_store),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.BrowserLocalStorageKeyStore=e.InMemoryKeyStore=e.KeyStore=void 0;const t=keystore$1;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}});const n=in_memory_key_store;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return n.InMemoryKeyStore}});const o=browser_local_storage_key_store$1;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return o.BrowserLocalStorageKeyStore}});const c=merge_key_store;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return c.MergeKeyStore}})}(browserIndex);var commonIndex={},providers={},provider$1={},lib$4={},exponentialBackoff$1={},__awaiter$i=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(exponentialBackoff$1,"__esModule",{value:!0}),exponentialBackoff$1.exponentialBackoff=void 0;function exponentialBackoff(e,t,n,o){return __awaiter$i(this,void 0,void 0,function*(){let c=e;for(let a=0;a<t;a++){const u=yield o();if(u)return u;yield sleep(c),c*=n}return null})}exponentialBackoff$1.exponentialBackoff=exponentialBackoff;function sleep(e){return new Promise(t=>setTimeout(t,e))}var jsonRpcProvider$1={},lib$3={},action_creators={},actions={};Object.defineProperty(actions,"__esModule",{value:!0}),actions.Action=actions.SignedDelegate=actions.DeleteAccount=actions.DeleteKey=actions.AddKey=actions.Stake=actions.Transfer=actions.FunctionCall=actions.DeployContract=actions.CreateAccount=actions.IAction=actions.AccessKey=actions.AccessKeyPermission=actions.FullAccessPermission=actions.FunctionCallPermission=void 0;const types_1$a=lib$F;class Enum{constructor(t){if(Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(n=>{this[n]=t[n],this.enum=n})}}class FunctionCallPermission extends types_1$a.Assignable{}actions.FunctionCallPermission=FunctionCallPermission;class FullAccessPermission extends types_1$a.Assignable{}actions.FullAccessPermission=FullAccessPermission;class AccessKeyPermission extends Enum{}actions.AccessKeyPermission=AccessKeyPermission;class AccessKey extends types_1$a.Assignable{}actions.AccessKey=AccessKey;class IAction extends types_1$a.Assignable{}actions.IAction=IAction;class CreateAccount extends IAction{}actions.CreateAccount=CreateAccount;class DeployContract extends IAction{}actions.DeployContract=DeployContract;class FunctionCall extends IAction{}actions.FunctionCall=FunctionCall;class Transfer extends IAction{}actions.Transfer=Transfer;class Stake extends IAction{}actions.Stake=Stake;class AddKey extends IAction{}actions.AddKey=AddKey;class DeleteKey extends IAction{}actions.DeleteKey=DeleteKey;class DeleteAccount extends IAction{}actions.DeleteAccount=DeleteAccount;class SignedDelegate extends IAction{}actions.SignedDelegate=SignedDelegate;class Action extends Enum{}actions.Action=Action;var __importDefault$8=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(action_creators,"__esModule",{value:!0}),action_creators.actionCreators=action_creators.stringifyJsonOrBytes=void 0;const bn_js_1$7=__importDefault$8(bnExports$6),actions_1$1=actions;function fullAccessKey$2(){return new actions_1$1.AccessKey({nonce:0,permission:new actions_1$1.AccessKeyPermission({fullAccess:new actions_1$1.FullAccessPermission({})})})}function functionCallAccessKey$2(e,t,n){return new actions_1$1.AccessKey({nonce:0,permission:new actions_1$1.AccessKeyPermission({functionCall:new actions_1$1.FunctionCallPermission({receiverId:e,allowance:n,methodNames:t})})})}function createAccount$2(){return new actions_1$1.Action({createAccount:new actions_1$1.CreateAccount({})})}function deployContract$4(e){return new actions_1$1.Action({deployContract:new actions_1$1.DeployContract({code:e})})}function stringifyJsonOrBytes(e){return e.byteLength!==void 0&&e.byteLength===e.length?e:Buffer$E.from(JSON.stringify(e))}action_creators.stringifyJsonOrBytes=stringifyJsonOrBytes;function functionCall$5(e,t,n=new bn_js_1$7.default(0),o=new bn_js_1$7.default(0),c=stringifyJsonOrBytes,a=!1){return a?new actions_1$1.Action({functionCall:new actions_1$1.FunctionCall({methodName:e,args:t,gas:n,deposit:o})}):new actions_1$1.Action({functionCall:new actions_1$1.FunctionCall({methodName:e,args:c(t),gas:n,deposit:o})})}function transfer$2(e=new bn_js_1$7.default(0)){return new actions_1$1.Action({transfer:new actions_1$1.Transfer({deposit:e})})}function stake$2(e=new bn_js_1$7.default(0),t){return new actions_1$1.Action({stake:new actions_1$1.Stake({stake:e,publicKey:t})})}function addKey$3(e,t){return new actions_1$1.Action({addKey:new actions_1$1.AddKey({publicKey:e,accessKey:t})})}function deleteKey$3(e){return new actions_1$1.Action({deleteKey:new actions_1$1.DeleteKey({publicKey:e})})}function deleteAccount$2(e){return new actions_1$1.Action({deleteAccount:new actions_1$1.DeleteAccount({beneficiaryId:e})})}function signedDelegate({delegateAction:e,signature:t}){return new actions_1$1.Action({signedDelegate:new actions_1$1.SignedDelegate({delegateAction:e,signature:t})})}action_creators.actionCreators={addKey:addKey$3,createAccount:createAccount$2,deleteAccount:deleteAccount$2,deleteKey:deleteKey$3,deployContract:deployContract$4,fullAccessKey:fullAccessKey$2,functionCall:functionCall$5,functionCallAccessKey:functionCallAccessKey$2,signedDelegate,stake:stake$2,transfer:transfer$2};var create_transaction={},schema={},cjs={},serialize$2={},types$2={};types$2.__esModule=!0,types$2.integers=void 0,types$2.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var buffer={};buffer.__esModule=!0,buffer.DecodeBuffer=buffer.EncodeBuffer=void 0;var EncodeBuffer=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(t){if(this.buffer_size-this.offset<t){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+t);var n=new ArrayBuffer(this.buffer_size);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n,this.view=new DataView(n)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(t,n){var o=n.substring(1),c=parseInt(o)/8;this.resize_if_necessary(c);var a=n[0]==="f"?"setFloat".concat(o):n[0]==="i"?"setInt".concat(o):"setUint".concat(o);this.view[a](this.offset,t,!0),this.offset+=c},e.prototype.store_bytes=function(t){this.resize_if_necessary(t.length),new Uint8Array(this.buffer).set(new Uint8Array(t),this.offset),this.offset+=t.length},e}();buffer.EncodeBuffer=EncodeBuffer;var DecodeBuffer=function(){function e(t){this.offset=0,this.buffer_size=t.length,this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(t){var n=t.substring(1),o=parseInt(n)/8;this.assert_enough_buffer(o);var c=t[0]==="f"?"getFloat".concat(n):t[0]==="i"?"getInt".concat(n):"getUint".concat(n),a=this.view[c](this.offset,!0);return this.offset+=o,a},e.prototype.consume_bytes=function(t){this.assert_enough_buffer(t);var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n},e}();buffer.DecodeBuffer=DecodeBuffer;var utils$7={},__extends=commonjsGlobal$7&&commonjsGlobal$7.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(o[a]=c[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();utils$7.__esModule=!0,utils$7.validate_schema=utils$7.ErrorSchema=utils$7.expect_enum=utils$7.expect_same_size=utils$7.expect_bigint=utils$7.expect_type=utils$7.isArrayLike=void 0;var types_js_1$2=types$2;function isArrayLike(e){return Array.isArray(e)||!!e&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&e.length-1 in e)}utils$7.isArrayLike=isArrayLike;function expect_type(e,t,n){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(n.join(".")))}utils$7.expect_type=expect_type;function expect_bigint(e,t){var n=["number","string","bigint","boolean"].includes(typeof e),o=typeof e=="object"&&e!==null&&"toString"in e;if(!n&&!o)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$7.expect_bigint=expect_bigint;function expect_same_size(e,t,n){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(n.join(".")))}utils$7.expect_same_size=expect_same_size;function expect_enum(e,t){if(typeof e!="object"||e===null)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}utils$7.expect_enum=expect_enum;var VALID_STRING_TYPES=types_js_1$2.integers.concat(["bool","string"]),VALID_OBJECT_KEYS=["option","enum","array","set","map","struct"],ErrorSchema=function(e){__extends(t,e);function t(n,o){var c="Invalid schema: ".concat(JSON.stringify(n)," expected ").concat(o);return e.call(this,c)||this}return t}(Error);utils$7.ErrorSchema=ErrorSchema;function validate_schema(e){if(!(typeof e=="string"&&VALID_STRING_TYPES.includes(e))){if(e&&typeof e=="object"){var t=Object.keys(e);if(t.length===1&&VALID_OBJECT_KEYS.includes(t[0])){var n=t[0];if(n==="option")return validate_schema(e[n]);if(n==="enum")return validate_enum_schema(e[n]);if(n==="array")return validate_array_schema(e[n]);if(n==="set")return validate_schema(e[n]);if(n==="map")return validate_map_schema(e[n]);if(n==="struct")return validate_struct_schema(e[n])}}throw new ErrorSchema(e,VALID_OBJECT_KEYS.join(", ")+" or "+VALID_STRING_TYPES.join(", "))}}utils$7.validate_schema=validate_schema;function validate_enum_schema(e){if(!Array.isArray(e))throw new ErrorSchema(e,"Array");for(var t=0,n=e;t<n.length;t++){var o=n[t];if(typeof o!="object"||!("struct"in o))throw new Error('Missing "struct" key in enum schema');if(typeof o.struct!="object"||Object.keys(o.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');validate_schema({struct:o.struct})}}function validate_array_schema(e){if(typeof e!="object")throw new ErrorSchema(e,"{ type, len? }");if(e.len&&typeof e.len!="number")throw new Error("Invalid schema: ".concat(e));if("type"in e)return validate_schema(e.type);throw new ErrorSchema(e,"{ type, len? }")}function validate_map_schema(e){if(typeof e=="object"&&"key"in e&&"value"in e)validate_schema(e.key),validate_schema(e.value);else throw new ErrorSchema(e,"{ key, value }")}function validate_struct_schema(e){if(typeof e!="object")throw new ErrorSchema(e,"object");for(var t in e)validate_schema(e[t])}var __createBinding$3=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$3=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$3=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$3(t,e,n);return __setModuleDefault$3(t,e),t};serialize$2.__esModule=!0,serialize$2.BorshSerializer=void 0;var types_js_1$1=types$2,buffer_js_1$1=buffer,utils$6=__importStar$3(utils$7),BorshSerializer=function(){function e(t){this.encoded=new buffer_js_1$1.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=t}return e.prototype.encode=function(t,n){return this.encode_value(t,n),this.encoded.get_used_buffer()},e.prototype.encode_value=function(t,n){if(typeof n=="string"){if(types_js_1$1.integers.includes(n))return this.encode_integer(t,n);if(n==="string")return this.encode_string(t);if(n==="bool")return this.encode_boolean(t)}if(typeof n=="object"){if("option"in n)return this.encode_option(t,n);if("enum"in n)return this.encode_enum(t,n);if("array"in n)return this.encode_array(t,n);if("set"in n)return this.encode_set(t,n);if("map"in n)return this.encode_map(t,n);if("struct"in n)return this.encode_struct(t,n)}},e.prototype.encode_integer=function(t,n){var o=parseInt(n.substring(1));o<=32||n=="f64"?(this.checkTypes&&utils$6.expect_type(t,"number",this.fieldPath),this.encoded.store_value(t,n)):(this.checkTypes&&utils$6.expect_bigint(t,this.fieldPath),this.encode_bigint(BigInt(t),o))},e.prototype.encode_bigint=function(t,n){for(var o=n/8,c=new Uint8Array(o),a=0;a<o;a++)c[a]=Number(t&BigInt(255)),t=t>>BigInt(8);this.encoded.store_bytes(new Uint8Array(c))},e.prototype.encode_string=function(t){this.checkTypes&&utils$6.expect_type(t,"string",this.fieldPath);var n=t;this.encoded.store_value(n.length,"u32");for(var o=0;o<n.length;o++)this.encoded.store_value(n.charCodeAt(o),"u8")},e.prototype.encode_boolean=function(t){this.checkTypes&&utils$6.expect_type(t,"boolean",this.fieldPath),this.encoded.store_value(t?1:0,"u8")},e.prototype.encode_option=function(t,n){t==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(t,n.option))},e.prototype.encode_enum=function(t,n){this.checkTypes&&utils$6.expect_enum(t,this.fieldPath);for(var o=Object.keys(t)[0],c=0;c<n.enum.length;c++){var a=n.enum[c];if(o===Object.keys(a.struct)[0])return this.encoded.store_value(c,"u8"),this.encode_struct(t,a)}throw new Error("Enum key (".concat(o,") not found in enum schema: ").concat(JSON.stringify(n)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(t,n){if(utils$6.isArrayLike(t))return this.encode_arraylike(t,n);if(t instanceof ArrayBuffer)return this.encode_buffer(t,n);throw new Error("Expected Array-like not ".concat(typeof t,"(").concat(t,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(t,n){n.array.len?utils$6.expect_same_size(t.length,n.array.len,this.fieldPath):this.encoded.store_value(t.length,"u32");for(var o=0;o<t.length;o++)this.encode_value(t[o],n.array.type)},e.prototype.encode_buffer=function(t,n){n.array.len?utils$6.expect_same_size(t.byteLength,n.array.len,this.fieldPath):this.encoded.store_value(t.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(t))},e.prototype.encode_set=function(t,n){this.checkTypes&&utils$6.expect_type(t,"object",this.fieldPath);var o=t instanceof Set,c=o?Array.from(t.values()):Object.values(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.set)}},e.prototype.encode_map=function(t,n){this.checkTypes&&utils$6.expect_type(t,"object",this.fieldPath);var o=t instanceof Map,c=o?Array.from(t.keys()):Object.keys(t);this.encoded.store_value(c.length,"u32");for(var a=0,u=c;a<u.length;a++){var h=u[a];this.encode_value(h,n.map.key),this.encode_value(o?t.get(h):t[h],n.map.value)}},e.prototype.encode_struct=function(t,n){this.checkTypes&&utils$6.expect_type(t,"object",this.fieldPath);for(var o=0,c=Object.keys(n.struct);o<c.length;o++){var a=c[o];this.fieldPath.push(a),this.encode_value(t[a],n.struct[a]),this.fieldPath.pop()}},e}();serialize$2.BorshSerializer=BorshSerializer;var deserialize$1={};deserialize$1.__esModule=!0,deserialize$1.BorshDeserializer=void 0;var types_js_1=types$2,buffer_js_1=buffer,BorshDeserializer=function(){function e(t){this.buffer=new buffer_js_1.DecodeBuffer(t)}return e.prototype.decode=function(t){return this.decode_value(t)},e.prototype.decode_value=function(t){if(typeof t=="string"){if(types_js_1.integers.includes(t))return this.decode_integer(t);if(t==="string")return this.decode_string();if(t==="bool")return this.decode_boolean()}if(typeof t=="object"){if("option"in t)return this.decode_option(t);if("enum"in t)return this.decode_enum(t);if("array"in t)return this.decode_array(t);if("set"in t)return this.decode_set(t);if("map"in t)return this.decode_map(t);if("struct"in t)return this.decode_struct(t)}throw new Error("Unsupported type: ".concat(t))},e.prototype.decode_integer=function(t){var n=parseInt(t.substring(1));return n<=32||t=="f64"?this.buffer.consume_value(t):this.decode_bigint(n,t.startsWith("i"))},e.prototype.decode_bigint=function(t,n){n===void 0&&(n=!1);var o=t/8,c=new Uint8Array(this.buffer.consume_bytes(o)),a=c.reduceRight(function(u,h){return u+h.toString(16).padStart(2,"0")},"");return n&&c[o-1]?BigInt.asIntN(t,BigInt("0x".concat(a))):BigInt("0x".concat(a))},e.prototype.decode_string=function(){var t=this.decode_integer("u32"),n=new Uint8Array(this.buffer.consume_bytes(t));return String.fromCharCode.apply(null,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(t){var n=this.buffer.consume_value("u8");if(n===1)return this.decode_value(t.option);if(n!==0)throw new Error("Invalid option ".concat(n));return null},e.prototype.decode_enum=function(t){var n,o=this.buffer.consume_value("u8");if(o>t.enum.length)throw new Error("Enum option ".concat(o," is not available"));var c=t.enum[o].struct,a=Object.keys(c)[0];return n={},n[a]=this.decode_value(c[a]),n},e.prototype.decode_array=function(t){for(var n=[],o=t.array.len?t.array.len:this.decode_integer("u32"),c=0;c<o;++c)n.push(this.decode_value(t.array.type));return n},e.prototype.decode_set=function(t){for(var n=this.decode_integer("u32"),o=new Set,c=0;c<n;++c)o.add(this.decode_value(t.set));return o},e.prototype.decode_map=function(t){for(var n=this.decode_integer("u32"),o=new Map,c=0;c<n;++c){var a=this.decode_value(t.map.key),u=this.decode_value(t.map.value);o.set(a,u)}return o},e.prototype.decode_struct=function(t){var n={};for(var o in t.struct)n[o]=this.decode_value(t.struct[o]);return n},e}();deserialize$1.BorshDeserializer=BorshDeserializer;var __createBinding$2=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$2=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$2=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$2(t,e,n);return __setModuleDefault$2(t,e),t};cjs.__esModule=!0,cjs.deserialize=cjs.serialize=void 0;var serialize_js_1=serialize$2,deserialize_js_1=deserialize$1,utils$5=__importStar$2(utils$7);function serialize$1(e,t,n){n===void 0&&(n=!0),n&&utils$5.validate_schema(e);var o=new serialize_js_1.BorshSerializer(n);return o.encode(t,e)}cjs.serialize=serialize$1;function deserialize(e,t,n){n===void 0&&(n=!0),n&&utils$5.validate_schema(e);var o=new deserialize_js_1.BorshDeserializer(t);return o.decode(e)}cjs.deserialize=deserialize;var prefix={};Object.defineProperty(prefix,"__esModule",{value:!0}),prefix.DelegateActionPrefix=void 0;const types_1$9=lib$F,ACTIONABLE_MESSAGE_BASE=Math.pow(2,30),NEP={MetaTransactions:366};class NEPPrefix extends types_1$9.Assignable{}class ActionableMessagePrefix extends NEPPrefix{constructor(t){super({prefix:ACTIONABLE_MESSAGE_BASE+t})}}class DelegateActionPrefix extends ActionableMessagePrefix{constructor(){super(NEP.MetaTransactions)}}prefix.DelegateActionPrefix=DelegateActionPrefix,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SignedTransaction=e.Transaction=e.decodeSignedTransaction=e.decodeTransaction=e.encodeTransaction=e.encodeSignedDelegate=e.encodeDelegateAction=void 0;const t=lib$F,n=cjs,o=prefix;function c(w){return new Uint8Array([...(0,n.serialize)(e.SCHEMA.DelegateActionPrefix,new o.DelegateActionPrefix),...(0,n.serialize)(e.SCHEMA.DelegateAction,w)])}e.encodeDelegateAction=c;function a(w){return(0,n.serialize)(e.SCHEMA.SignedDelegate,w)}e.encodeSignedDelegate=a;function u(w){const O=w instanceof y?e.SCHEMA.SignedTransaction:e.SCHEMA.Transaction;return(0,n.serialize)(O,w)}e.encodeTransaction=u;function h(w){return new b((0,n.deserialize)(e.SCHEMA.Transaction,w))}e.decodeTransaction=h;function v(w){return new y((0,n.deserialize)(e.SCHEMA.SignedTransaction,w))}e.decodeSignedTransaction=v;class b extends t.Assignable{encode(){return u(this)}static decode(O){return h(O)}}e.Transaction=b;class y extends t.Assignable{encode(){return u(this)}static decode(O){return v(O)}}e.SignedTransaction=y,e.SCHEMA=new class{constructor(){this.Signature={struct:{keyType:"u8",data:{array:{type:"u8",len:64}}}},this.PublicKey={struct:{keyType:"u8",data:{array:{type:"u8",len:32}}}},this.FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}},this.FullAccessPermission={struct:{}},this.AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]},this.AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}},this.CreateAccount={struct:{}},this.DeployContract={struct:{code:{array:{type:"u8"}}}},this.FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}},this.Transfer={struct:{deposit:"u128"}},this.Stake={struct:{stake:"u128",publicKey:this.PublicKey}},this.AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}},this.DeleteKey={struct:{publicKey:this.PublicKey}},this.DeleteAccount={struct:{beneficiaryId:"string"}},this.DelegateActionPrefix={struct:{prefix:"u32"}},this.ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]},this.DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}},this.SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}},this.Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]},this.Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}},this.SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}}}}(schema);var __importDefault$7=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(create_transaction,"__esModule",{value:!0}),create_transaction.createTransaction=void 0;const bn_js_1$6=__importDefault$7(bnExports$6),schema_1$1=schema;function createTransaction(e,t,n,o,c,a){return new schema_1$1.Transaction({signerId:e,publicKey:t,nonce:new bn_js_1$6.default(o),receiverId:n,actions:c,blockHash:a})}create_transaction.createTransaction=createTransaction;var delegate={};Object.defineProperty(delegate,"__esModule",{value:!0}),delegate.buildDelegateAction=delegate.DelegateAction=void 0;const types_1$8=lib$F,action_creators_1=action_creators,{addKey:addKey$2,createAccount:createAccount$1,deleteAccount:deleteAccount$1,deleteKey:deleteKey$2,deployContract:deployContract$3,functionCall:functionCall$4,stake:stake$1,transfer:transfer$1}=action_creators_1.actionCreators;class DelegateAction extends types_1$8.Assignable{}delegate.DelegateAction=DelegateAction;function buildDelegateAction({actions:e,maxBlockHeight:t,nonce:n,publicKey:o,receiverId:c,senderId:a}){return new DelegateAction({senderId:a,receiverId:c,actions:e.map(u=>{if(!u.type&&!u.params)return u;switch(u.type){case"AddKey":{const{publicKey:h,accessKey:v}=u.params;return addKey$2(h,v)}case"CreateAccount":return createAccount$1(u.params.createAccount);case"DeleteAccount":return deleteAccount$1(u.params.deleteAccount);case"DeleteKey":return deleteKey$2(u.params.publicKey);case"DeployContract":return deployContract$3(u.params.code);case"FunctionCall":{const{methodName:h,args:v,gas:b,deposit:y}=u.params;return functionCall$4(h,v,b,y)}case"Stake":return stake$1(u.params.stake,u.params.publicKey);case"Transfer":{const{deposit:h}=u.params;return transfer$1(h)}}throw new Error("Unrecognized action")}),nonce:n,maxBlockHeight:t,publicKey:o})}delegate.buildDelegateAction=buildDelegateAction;var sign={},sha256={},_sha2={},_assert={};Object.defineProperty(_assert,"__esModule",{value:!0}),_assert.output=_assert.exists=_assert.hash=_assert.bytes=_assert.bool=_assert.number=void 0;function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}_assert.number=number;function bool(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}_assert.bool=bool;function isBytes(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bytes(e,...t){if(!isBytes(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}_assert.bytes=bytes;function hash(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen),number(e.blockLen)}_assert.hash=hash;function exists(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}_assert.exists=exists;function output(e,t){bytes(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}_assert.output=output;const assert={number,bool,bytes,hash,exists,output};_assert.default=assert;var utils$4={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.crypto=void 0,crypto$1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=crypto$1,n=Q=>new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength);e.u8=n;const o=Q=>new Uint32Array(Q.buffer,Q.byteOffset,Math.floor(Q.byteLength/4));e.u32=o;function c(Q){return Q instanceof Uint8Array||Q!=null&&typeof Q=="object"&&Q.constructor.name==="Uint8Array"}const a=Q=>new DataView(Q.buffer,Q.byteOffset,Q.byteLength);e.createView=a;const u=(Q,ne)=>Q<<32-ne|Q>>>ne;if(e.rotr=u,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const h=Array.from({length:256},(Q,ne)=>ne.toString(16).padStart(2,"0"));function v(Q){if(!c(Q))throw new Error("Uint8Array expected");let ne="";for(let fe=0;fe<Q.length;fe++)ne+=h[Q[fe]];return ne}e.bytesToHex=v;const b={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function y(Q){if(Q>=b._0&&Q<=b._9)return Q-b._0;if(Q>=b._A&&Q<=b._F)return Q-(b._A-10);if(Q>=b._a&&Q<=b._f)return Q-(b._a-10)}function w(Q){if(typeof Q!="string")throw new Error("hex string expected, got "+typeof Q);const ne=Q.length,fe=ne/2;if(ne%2)throw new Error("padded hex string expected, got unpadded hex of length "+ne);const l=new Uint8Array(fe);for(let p=0,m=0;p<fe;p++,m+=2){const _=y(Q.charCodeAt(m)),A=y(Q.charCodeAt(m+1));if(_===void 0||A===void 0){const I=Q[m]+Q[m+1];throw new Error('hex string expected, got non-hex character "'+I+'" at index '+m)}l[p]=_*16+A}return l}e.hexToBytes=w;const O=async()=>{};e.nextTick=O;async function P(Q,ne,fe){let l=Date.now();for(let p=0;p<Q;p++){fe(p);const m=Date.now()-l;m>=0&&m<ne||(await(0,e.nextTick)(),l+=m)}}e.asyncLoop=P;function C(Q){if(typeof Q!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Q}`);return new Uint8Array(new TextEncoder().encode(Q))}e.utf8ToBytes=C;function x(Q){if(typeof Q=="string"&&(Q=C(Q)),!c(Q))throw new Error(`expected Uint8Array, got ${typeof Q}`);return Q}e.toBytes=x;function D(...Q){let ne=0;for(let l=0;l<Q.length;l++){const p=Q[l];if(!c(p))throw new Error("Uint8Array expected");ne+=p.length}const fe=new Uint8Array(ne);for(let l=0,p=0;l<Q.length;l++){const m=Q[l];fe.set(m,p),p+=m.length}return fe}e.concatBytes=D;class k{clone(){return this._cloneInto()}}e.Hash=k;const B={}.toString;function q(Q,ne){if(ne!==void 0&&B.call(ne)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(Q,ne)}e.checkOpts=q;function V(Q){const ne=l=>Q().update(x(l)).digest(),fe=Q();return ne.outputLen=fe.outputLen,ne.blockLen=fe.blockLen,ne.create=()=>Q(),ne}e.wrapConstructor=V;function ee(Q){const ne=(l,p)=>Q(p).update(x(l)).digest(),fe=Q({});return ne.outputLen=fe.outputLen,ne.blockLen=fe.blockLen,ne.create=l=>Q(l),ne}e.wrapConstructorWithOpts=ee;function te(Q){const ne=(l,p)=>Q(p).update(x(l)).digest(),fe=Q({});return ne.outputLen=fe.outputLen,ne.blockLen=fe.blockLen,ne.create=l=>Q(l),ne}e.wrapXOFConstructorWithOpts=te;function ce(Q=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(Q));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=ce}(utils$4),Object.defineProperty(_sha2,"__esModule",{value:!0}),_sha2.SHA2=void 0;const _assert_js_1=_assert,utils_js_1$1=utils$4;function setBigUint64(e,t,n,o){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,o);const c=BigInt(32),a=BigInt(4294967295),u=Number(n>>c&a),h=Number(n&a),v=o?4:0,b=o?0:4;e.setUint32(t+v,u,o),e.setUint32(t+b,h,o)}class SHA2 extends utils_js_1$1.Hash{constructor(t,n,o,c){super(),this.blockLen=t,this.outputLen=n,this.padOffset=o,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,utils_js_1$1.createView)(this.buffer)}update(t){(0,_assert_js_1.exists)(this);const{view:n,buffer:o,blockLen:c}=this;t=(0,utils_js_1$1.toBytes)(t);const a=t.length;for(let u=0;u<a;){const h=Math.min(c-this.pos,a-u);if(h===c){const v=(0,utils_js_1$1.createView)(t);for(;c<=a-u;u+=c)this.process(v,u);continue}o.set(t.subarray(u,u+h),this.pos),this.pos+=h,u+=h,this.pos===c&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,_assert_js_1.exists)(this),(0,_assert_js_1.output)(t,this),this.finished=!0;const{buffer:n,view:o,blockLen:c,isLE:a}=this;let{pos:u}=this;n[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>c-u&&(this.process(o,0),u=0);for(let w=u;w<c;w++)n[w]=0;setBigUint64(o,c-8,BigInt(this.length*8),a),this.process(o,0);const h=(0,utils_js_1$1.createView)(t),v=this.outputLen;if(v%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const b=v/4,y=this.get();if(b>y.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<b;w++)h.setUint32(4*w,y[w],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const o=t.slice(0,n);return this.destroy(),o}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:o,length:c,finished:a,destroyed:u,pos:h}=this;return t.length=c,t.pos=h,t.finished=a,t.destroyed=u,c%n&&t.buffer.set(o),t}}_sha2.SHA2=SHA2,Object.defineProperty(sha256,"__esModule",{value:!0}),sha256.sha224=sha256.sha256=void 0;const _sha2_js_1=_sha2,utils_js_1=utils$4,Chi=(e,t,n)=>e&t^~e&n,Maj=(e,t,n)=>e&t^e&n^t&n,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends _sha2_js_1.SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:t,B:n,C:o,D:c,E:a,F:u,G:h,H:v}=this;return[t,n,o,c,a,u,h,v]}set(t,n,o,c,a,u,h,v){this.A=t|0,this.B=n|0,this.C=o|0,this.D=c|0,this.E=a|0,this.F=u|0,this.G=h|0,this.H=v|0}process(t,n){for(let w=0;w<16;w++,n+=4)SHA256_W[w]=t.getUint32(n,!1);for(let w=16;w<64;w++){const O=SHA256_W[w-15],P=SHA256_W[w-2],C=(0,utils_js_1.rotr)(O,7)^(0,utils_js_1.rotr)(O,18)^O>>>3,x=(0,utils_js_1.rotr)(P,17)^(0,utils_js_1.rotr)(P,19)^P>>>10;SHA256_W[w]=x+SHA256_W[w-7]+C+SHA256_W[w-16]|0}let{A:o,B:c,C:a,D:u,E:h,F:v,G:b,H:y}=this;for(let w=0;w<64;w++){const O=(0,utils_js_1.rotr)(h,6)^(0,utils_js_1.rotr)(h,11)^(0,utils_js_1.rotr)(h,25),P=y+O+Chi(h,v,b)+SHA256_K[w]+SHA256_W[w]|0,C=((0,utils_js_1.rotr)(o,2)^(0,utils_js_1.rotr)(o,13)^(0,utils_js_1.rotr)(o,22))+Maj(o,c,a)|0;y=b,b=v,v=h,h=u+P|0,u=a,a=c,c=o,o=P+C|0}o=o+this.A|0,c=c+this.B|0,a=a+this.C|0,u=u+this.D|0,h=h+this.E|0,v=v+this.F|0,b=b+this.G|0,y=y+this.H|0,this.set(o,c,a,u,h,v,b,y)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}sha256.sha256=(0,utils_js_1.wrapConstructor)(()=>new SHA256),sha256.sha224=(0,utils_js_1.wrapConstructor)(()=>new SHA224);var signature={};Object.defineProperty(signature,"__esModule",{value:!0}),signature.Signature=void 0;const types_1$7=lib$F;class Signature extends types_1$7.Assignable{}signature.Signature=Signature;var __awaiter$h=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(sign,"__esModule",{value:!0}),sign.signDelegateAction=sign.signTransaction=void 0;const sha256_1$1=sha256,actions_1=actions,create_transaction_1=create_transaction,schema_1=schema,signature_1=signature;function signTransactionObject(e,t,n,o){return __awaiter$h(this,void 0,void 0,function*(){const c=(0,schema_1.encodeTransaction)(e),a=new Uint8Array((0,sha256_1$1.sha256)(c)),u=yield t.signMessage(c,n,o),h=new schema_1.SignedTransaction({transaction:e,signature:new signature_1.Signature({keyType:e.publicKey.keyType,data:u.signature})});return[a,h]})}function signTransaction(...e){return __awaiter$h(this,void 0,void 0,function*(){if(e[0].constructor===schema_1.Transaction){const[t,n,o,c]=e;return signTransactionObject(t,n,o,c)}else{const[t,n,o,c,a,u,h]=e,v=yield a.getPublicKey(u,h),b=(0,create_transaction_1.createTransaction)(u,v,t,n,o,c);return signTransactionObject(b,a,u,h)}})}sign.signTransaction=signTransaction;function signDelegateAction({delegateAction:e,signer:t}){return __awaiter$h(this,void 0,void 0,function*(){const n=(0,schema_1.encodeDelegateAction)(e),o=yield t.sign(n),c=new actions_1.SignedDelegate({delegateAction:e,signature:new signature_1.Signature({keyType:e.publicKey.keyType,data:o})});return{hash:new Uint8Array((0,sha256_1$1.sha256)(n)),signedDelegateAction:c}})}sign.signDelegateAction=signDelegateAction,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(o,c,a,u){u===void 0&&(u=a);var h=Object.getOwnPropertyDescriptor(c,a);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(o,u,h)}:function(o,c,a,u){u===void 0&&(u=a),o[u]=c[a]}),n=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(o,c){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&t(c,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(action_creators,e),n(actions,e),n(create_transaction,e),n(delegate,e),n(schema,e),n(sign,e),n(signature,e)}(lib$3);var provider={};Object.defineProperty(provider,"__esModule",{value:!0}),provider.Provider=void 0;class Provider{}provider.Provider=Provider;var fetch_json={},httpErrors={exports:{}};/*!
* depd
* Copyright(c) 2015 Douglas Christopher Wilson
* MIT Licensed
*/var browser$1=depd;function depd(e){if(!e)throw new TypeError("argument namespace is required");function t(n){}return t._file=void 0,t._ignored=!0,t._namespace=e,t._traced=!1,t._warned=Object.create(null),t.function=wrapfunction,t.property=wrapproperty,t}function wrapfunction(e,t){if(typeof e!="function")throw new TypeError("argument fn must be a function");return e}function wrapproperty(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(e,t);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable")}var setprototypeof=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf:mixinProperties);function setProtoOf(e,t){return e.__proto__=t,e}function mixinProperties(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits_browserExports=inherits_browser.exports;/*!
* toidentifier
* Copyright(c) 2016 Douglas Christopher Wilson
* MIT Licensed
*/var toidentifier=toIdentifier;function toIdentifier(e){return e.split(" ").map(function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}/*!
* http-errors
* Copyright(c) 2014 Jonathan Ong
* Copyright(c) 2016 Douglas Christopher Wilson
* MIT Licensed
*/(function(e){var t=browser$1("http-errors"),n=setprototypeof,o=statuses,c=inherits_browserExports,a=toidentifier;e.exports=h,e.exports.HttpError=v(),O(e.exports,o.codes,e.exports.HttpError);function u(P){return+(String(P).charAt(0)+"00")}function h(){for(var P,C,x=500,D={},k=0;k<arguments.length;k++){var B=arguments[k];if(B instanceof Error){P=B,x=P.status||P.statusCode||x;continue}switch(typeof B){case"string":C=B;break;case"number":x=B;break;case"object":D=B;break}}(typeof x!="number"||!o[x]&&(x<400||x>=600))&&(x=500);var q=h[x]||h[u(x)];P||(P=q?new q(C):new Error(C||o[x]),Error.captureStackTrace(P,h)),(!q||!(P instanceof q)||P.status!==x)&&(P.expose=x<500,P.status=P.statusCode=x);for(var V in D)V!=="status"&&V!=="statusCode"&&(P[V]=D[V]);return P}function v(){function P(){throw new TypeError("cannot construct abstract class")}return c(P,Error),P}function b(P,C,x){var D=C.match(/Error$/)?C:C+"Error";function k(B){var q=B??o[x],V=new Error(q);return Error.captureStackTrace(V,k),n(V,k.prototype),Object.defineProperty(V,"message",{enumerable:!0,configurable:!0,value:q,writable:!0}),Object.defineProperty(V,"name",{enumerable:!1,configurable:!0,value:D,writable:!0}),V}return c(k,P),w(k,D),k.prototype.status=x,k.prototype.statusCode=x,k.prototype.expose=!0,k}function y(P,C,x){var D=C.match(/Error$/)?C:C+"Error";function k(B){var q=B??o[x],V=new Error(q);return Error.captureStackTrace(V,k),n(V,k.prototype),Object.defineProperty(V,"message",{enumerable:!0,configurable:!0,value:q,writable:!0}),Object.defineProperty(V,"name",{enumerable:!1,configurable:!0,value:D,writable:!0}),V}return c(k,P),w(k,D),k.prototype.status=x,k.prototype.statusCode=x,k.prototype.expose=!1,k}function w(P,C){var x=Object.getOwnPropertyDescriptor(P,"name");x&&x.configurable&&(x.value=C,Object.defineProperty(P,"name",x))}function O(P,C,x){C.forEach(function(D){var k,B=a(o[D]);switch(u(D)){case 400:k=b(x,B,D);break;case 500:k=y(x,B,D);break}k&&(P[D]=k,P[B]=k)}),P["I'mateapot"]=t.function(P.ImATeapot,`"I'mateapot"; use "ImATeapot" instead`)}})(httpErrors);var httpErrorsExports=httpErrors.exports,fetch$1={},browser={exports:{}},hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,function(e,t){var n=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof o<"u")return o;throw new Error("unable to locate global object")},o=n();e.exports=t=o.fetch,o.fetch&&(t.default=o.fetch.bind(o)),t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response}(browser,browser.exports)),browser.exports}var hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch$1;hasRequiredFetch=1;var e=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(fetch$1,"__esModule",{value:!0});const t=e(requireBrowser()),n=e(requireStreamHttp()),o=e(requireHttpsBrowserify()),c=new n.default.Agent({keepAlive:!0}),a=new o.default.Agent({keepAlive:!0});function u(v){return v.protocol==="http:"?c:a}function h(v,b){return(0,t.default)(v,Object.assign({agent:u(new URL(v.toString()))},b))}return fetch$1.default=h,fetch$1}var __createBinding$1=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault$1=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$1=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$1(t,e,n);return __setModuleDefault$1(t,e),t},__awaiter$g=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$6=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fetch_json,"__esModule",{value:!0}),fetch_json.fetchJson=void 0;const types_1$6=lib$F,utils_1$b=lib$6,http_errors_1=__importDefault$6(httpErrorsExports),exponential_backoff_1$1=exponentialBackoff$1,START_WAIT_TIME_MS=1e3,BACKOFF_MULTIPLIER=1.5,RETRY_NUMBER=10;function fetchJson(e,t){return __awaiter$g(this,void 0,void 0,function*(){let n={url:null};typeof e=="string"?n.url=e:n=e;const o=yield(0,exponential_backoff_1$1.exponentialBackoff)(START_WAIT_TIME_MS,RETRY_NUMBER,BACKOFF_MULTIPLIER,()=>__awaiter$g(this,void 0,void 0,function*(){var c;try{const a=yield((c=commonjsGlobal$7.fetch)!==null&&c!==void 0?c:(yield Promise.resolve().then(()=>__importStar$1(requireFetch()))).default)(n.url,{method:t?"POST":"GET",body:t||void 0,headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"application/json"})});if(!a.ok){if(a.status===503)return utils_1$b.Logger.warn(`Retrying HTTP request for ${n.url} as it's not available now`),null;if(a.status===408)return utils_1$b.Logger.warn(`Retrying HTTP request for ${n.url} as the previous connection was unused for some time`),null;throw(0,http_errors_1.default)(a.status,yield a.text())}return a}catch(a){if(a.toString().includes("FetchError")||a.toString().includes("Failed to fetch"))return utils_1$b.Logger.warn(`Retrying HTTP request for ${n.url} because of error: ${a}`),null;throw a}}));if(!o)throw new types_1$6.TypedError(`Exceeded ${RETRY_NUMBER} attempts for ${n.url}.`,"RetriesExceeded");return yield o.json()})}fetch_json.fetchJson=fetchJson;var __awaiter$f=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$2=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(jsonRpcProvider$1,"__esModule",{value:!0}),jsonRpcProvider$1.JsonRpcProvider=void 0;const utils_1$a=lib$6,types_1$5=lib$F,transactions_1$4=lib$3,exponential_backoff_1=exponentialBackoff$1,provider_1=provider,fetch_json_1=fetch_json,REQUEST_RETRY_NUMBER=12,REQUEST_RETRY_WAIT=500,REQUEST_RETRY_WAIT_BACKOFF=1.5;let _nextId=123;class JsonRpcProvider extends provider_1.Provider{constructor(t){super(),this.connection=t||{url:""}}status(){return __awaiter$f(this,void 0,void 0,function*(){return this.sendJsonRpc("status",[])})}sendTransaction(t){return __awaiter$f(this,void 0,void 0,function*(){const n=(0,transactions_1$4.encodeTransaction)(t);return this.sendJsonRpc("broadcast_tx_commit",[Buffer$E.from(n).toString("base64")])})}sendTransactionAsync(t){return __awaiter$f(this,void 0,void 0,function*(){const n=(0,transactions_1$4.encodeTransaction)(t);return this.sendJsonRpc("broadcast_tx_async",[Buffer$E.from(n).toString("base64")])})}txStatus(t,n){return __awaiter$f(this,void 0,void 0,function*(){return typeof t=="string"?this.txStatusString(t,n):this.txStatusUint8Array(t,n)})}txStatusUint8Array(t,n){return __awaiter$f(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[(0,utils_1$a.baseEncode)(t),n])})}txStatusString(t,n){return __awaiter$f(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[t,n])})}txStatusReceipts(t,n){return __awaiter$f(this,void 0,void 0,function*(){return typeof t=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",[t,n]):this.sendJsonRpc("EXPERIMENTAL_tx_status",[(0,utils_1$a.baseEncode)(t),n])})}query(...t){return __awaiter$f(this,void 0,void 0,function*(){let n;if(t.length===1){const o=t[0],{block_id:c,blockId:a}=o,u=__rest$2(o,["block_id","blockId"]);n=yield this.sendJsonRpc("query",Object.assign(Object.assign({},u),{block_id:c||a}))}else{const[o,c]=t;n=yield this.sendJsonRpc("query",[o,c])}if(n&&n.error)throw new types_1$5.TypedError(`Querying failed: ${n.error}.
${JSON.stringify(n,null,2)}`,(0,utils_1$a.getErrorTypeFromErrorMessage)(n.error,n.error.name));return n})}block(t){return __awaiter$f(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("block",{block_id:o,finality:n})})}blockChanges(t){return __awaiter$f(this,void 0,void 0,function*(){const{finality:n}=t,{blockId:o}=t;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:o,finality:n})})}chunk(t){return __awaiter$f(this,void 0,void 0,function*(){return this.sendJsonRpc("chunk",[t])})}validators(t){return __awaiter$f(this,void 0,void 0,function*(){return this.sendJsonRpc("validators",[t])})}experimental_protocolConfig(t){return __awaiter$f(this,void 0,void 0,function*(){const n=t,{blockId:o}=n,c=__rest$2(n,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},c),{block_id:o}))})}lightClientProof(t){return __awaiter$f(this,void 0,void 0,function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",t)})}nextLightClientBlock(t){return __awaiter$f(this,void 0,void 0,function*(){return yield this.sendJsonRpc("next_light_client_block",t)})}accessKeyChanges(t,n){return __awaiter$f(this,void 0,void 0,function*(){const{finality:o}=n,{blockId:c}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:t,block_id:c,finality:o})})}singleAccessKeyChanges(t,n){return __awaiter$f(this,void 0,void 0,function*(){const{finality:o}=n,{blockId:c}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:t,block_id:c,finality:o})})}accountChanges(t,n){return __awaiter$f(this,void 0,void 0,function*(){const{finality:o}=n,{blockId:c}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:t,block_id:c,finality:o})})}contractStateChanges(t,n,o=""){return __awaiter$f(this,void 0,void 0,function*(){const{finality:c}=n,{blockId:a}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:t,key_prefix_base64:o,block_id:a,finality:c})})}contractCodeChanges(t,n){return __awaiter$f(this,void 0,void 0,function*(){const{finality:o}=n,{blockId:c}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:t,block_id:c,finality:o})})}gasPrice(t){return __awaiter$f(this,void 0,void 0,function*(){return yield this.sendJsonRpc("gas_price",[t])})}sendJsonRpc(t,n){return __awaiter$f(this,void 0,void 0,function*(){const o=yield(0,exponential_backoff_1.exponentialBackoff)(REQUEST_RETRY_WAIT,REQUEST_RETRY_NUMBER,REQUEST_RETRY_WAIT_BACKOFF,()=>__awaiter$f(this,void 0,void 0,function*(){var a;try{const u={method:t,params:n,id:_nextId++,jsonrpc:"2.0"},h=yield(0,fetch_json_1.fetchJson)(this.connection,JSON.stringify(u));if(h.error){if(typeof h.error.data=="object")throw typeof h.error.data.error_message=="string"&&typeof h.error.data.error_type=="string"?new types_1$5.TypedError(h.error.data.error_message,h.error.data.error_type):(0,utils_1$a.parseRpcError)(h.error.data);{const v=`[${h.error.code}] ${h.error.message}: ${h.error.data}`;if(h.error.data==="Timeout"||v.includes("Timeout error")||v.includes("query has timed out"))throw new types_1$5.TypedError(v,"TimeoutError");const b=(0,utils_1$a.getErrorTypeFromErrorMessage)(h.error.data,"");throw b?new types_1$5.TypedError((0,utils_1$a.formatError)(b,n),b):new types_1$5.TypedError(v,h.error.name)}}else if(typeof((a=h.result)===null||a===void 0?void 0:a.error)=="string"){const v=(0,utils_1$a.getErrorTypeFromErrorMessage)(h.result.error,"");if(v)throw new utils_1$a.ServerError((0,utils_1$a.formatError)(v,n),v)}return h}catch(u){if(u.type==="TimeoutError")return utils_1$a.Logger.warn(`Retrying request to ${t} as it has timed out`,n),null;throw u}})),{result:c}=o;if(typeof c>"u")throw new types_1$5.TypedError(`Exceeded ${REQUEST_RETRY_NUMBER} attempts for request to ${t}.`,"RetriesExceeded");return c})}}jsonRpcProvider$1.JsonRpcProvider=JsonRpcProvider,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=e.Provider=e.JsonRpcProvider=e.exponentialBackoff=void 0;var t=exponentialBackoff$1;Object.defineProperty(e,"exponentialBackoff",{enumerable:!0,get:function(){return t.exponentialBackoff}});var n=jsonRpcProvider$1;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}});var o=provider;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return o.Provider}});var c=fetch_json;Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return c.fetchJson}})}(lib$4),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=e.Provider=e.getTransactionLastResult=void 0;var t=lib$6;Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}});var n=lib$4;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return n.Provider}});var o=lib$F;Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return o.IdType}}),Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return o.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return o.FinalExecutionStatusBasic}})}(provider$1);var jsonRpcProvider={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=e.TypedError=e.ErrorContext=void 0;var t=lib$F;Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return t.ErrorContext}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return t.TypedError}});var n=lib$4;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}})})(jsonRpcProvider),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.getTransactionLastResult=e.FinalExecutionStatusBasic=e.JsonRpcProvider=e.Provider=void 0;const t=provider$1;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return t.Provider}}),Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return t.FinalExecutionStatusBasic}});const n=jsonRpcProvider;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return n.JsonRpcProvider}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return n.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return n.ErrorContext}})}(providers);var utils$3={},key_pair={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyType=e.KeyPairEd25519=e.KeyPair=void 0;var t=lib$7;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return t.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return t.KeyPairEd25519}}),Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}}),Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return t.PublicKey}})})(key_pair);var serialize={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.base_decode=e.base_encode=e.deserialize=e.serialize=void 0;var t=cjs;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return t.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return t.deserialize}});var n=lib$6;Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return n.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return n.baseDecode}})})(serialize);var web={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=void 0;var t=lib$4;Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return t.fetchJson}})})(web);var enums={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Enum=e.Assignable=void 0;var t=lib$F;Object.defineProperty(e,"Assignable",{enumerable:!0,get:function(){return t.Assignable}});class n{constructor(c){if(Object.keys(c).length!==1)throw new Error("Enum can only take single value");Object.keys(c).map(a=>{this[a]=c[a],this.enum=a})}}e.Enum=n})(enums);var format$4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION_EXP=e.NEAR_NOMINATION=void 0;var t=lib$6;Object.defineProperty(e,"NEAR_NOMINATION",{enumerable:!0,get:function(){return t.NEAR_NOMINATION}}),Object.defineProperty(e,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return t.NEAR_NOMINATION_EXP}}),Object.defineProperty(e,"formatNearAmount",{enumerable:!0,get:function(){return t.formatNearAmount}}),Object.defineProperty(e,"parseNearAmount",{enumerable:!0,get:function(){return t.parseNearAmount}})})(format$4);var rpc_errors={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=void 0;var t=lib$6;Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return t.parseRpcError}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return t.parseResultError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return t.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return t.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return t.ServerError}})})(rpc_errors);var errors$2={},lib$2={},account$1={},__awaiter$e=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$5=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(account$1,"__esModule",{value:!0}),account$1.Account=void 0;const crypto_1$4=lib$7,providers_1$3=lib$4,transactions_1$3=lib$3,types_1$4=lib$F,utils_1$9=lib$6,bn_js_1$5=__importDefault$5(bnExports$6),{addKey:addKey$1,createAccount,deleteAccount,deleteKey:deleteKey$1,deployContract:deployContract$2,fullAccessKey:fullAccessKey$1,functionCall:functionCall$3,functionCallAccessKey:functionCallAccessKey$1,stake,transfer}=transactions_1$3.actionCreators,TX_NONCE_RETRY_NUMBER=12,TX_NONCE_RETRY_WAIT=500,TX_NONCE_RETRY_WAIT_BACKOFF=1.5;function parseJsonFromRawResponse(e){return JSON.parse(Buffer$E.from(e).toString())}function bytesJsonStringify(e){return Buffer$E.from(JSON.stringify(e))}class Account{constructor(t,n){this.accessKeyByPublicKeyCache={},this.connection=t,this.accountId=n}state(){return __awaiter$e(this,void 0,void 0,function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})})}signTransaction(t,n){return __awaiter$e(this,void 0,void 0,function*(){const o=yield this.findAccessKey(t,n);if(!o)throw new types_1$4.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:c}=o,a=(yield this.connection.provider.block({finality:"final"})).header.hash,u=c.nonce.add(new bn_js_1$5.default(1));return yield(0,transactions_1$3.signTransaction)(t,u,n,(0,utils_1$9.baseDecode)(a),this.connection.signer,this.accountId,this.connection.networkId)})}signAndSendTransaction({receiverId:t,actions:n,returnError:o}){return __awaiter$e(this,void 0,void 0,function*(){let c,a;const u=yield(0,providers_1$3.exponentialBackoff)(TX_NONCE_RETRY_WAIT,TX_NONCE_RETRY_NUMBER,TX_NONCE_RETRY_WAIT_BACKOFF,()=>__awaiter$e(this,void 0,void 0,function*(){[c,a]=yield this.signTransaction(t,n);const h=a.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(a)}catch(v){if(v.type==="InvalidNonce")return utils_1$9.Logger.warn(`Retrying transaction ${t}:${(0,utils_1$9.baseEncode)(c)} with new nonce.`),delete this.accessKeyByPublicKeyCache[h.toString()],null;if(v.type==="Expired")return utils_1$9.Logger.warn(`Retrying transaction ${t}:${(0,utils_1$9.baseEncode)(c)} due to expired block hash`),null;throw v.context=new types_1$4.ErrorContext((0,utils_1$9.baseEncode)(c)),v}}));if(!u)throw new types_1$4.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,utils_1$9.printTxOutcomeLogsAndFailures)({contractId:a.transaction.receiverId,outcome:u}),!o&&typeof u.status=="object"&&typeof u.status.Failure=="object"&&u.status.Failure!==null)throw u.status.Failure.error_message&&u.status.Failure.error_type?new types_1$4.TypedError(`Transaction ${u.transaction_outcome.id} failed. ${u.status.Failure.error_message}`,u.status.Failure.error_type):(0,utils_1$9.parseResultError)(u);return u})}findAccessKey(t,n){return __awaiter$e(this,void 0,void 0,function*(){const o=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!o)throw new types_1$4.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const c=this.accessKeyByPublicKeyCache[o.toString()];if(c!==void 0)return{publicKey:o,accessKey:c};try{const a=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:o.toString(),finality:"optimistic"}),u=Object.assign(Object.assign({},a),{nonce:new bn_js_1$5.default(a.nonce)});return this.accessKeyByPublicKeyCache[o.toString()]?{publicKey:o,accessKey:this.accessKeyByPublicKeyCache[o.toString()]}:(this.accessKeyByPublicKeyCache[o.toString()]=u,{publicKey:o,accessKey:u})}catch(a){if(a.type=="AccessKeyDoesNotExist")return null;throw a}})}createAndDeployContract(t,n,o,c){return __awaiter$e(this,void 0,void 0,function*(){const a=fullAccessKey$1();return yield this.signAndSendTransaction({receiverId:t,actions:[createAccount(),transfer(c),addKey$1(crypto_1$4.PublicKey.from(n),a),deployContract$2(o)]}),new Account(this.connection,t)})}sendMoney(t,n){return __awaiter$e(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:t,actions:[transfer(n)]})})}createAccount(t,n,o){return __awaiter$e(this,void 0,void 0,function*(){const c=fullAccessKey$1();return this.signAndSendTransaction({receiverId:t,actions:[createAccount(),transfer(o),addKey$1(crypto_1$4.PublicKey.from(n),c)]})})}deleteAccount(t){return __awaiter$e(this,void 0,void 0,function*(){return utils_1$9.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteAccount(t)]})})}deployContract(t){return __awaiter$e(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deployContract$2(t)]})})}encodeJSContractArgs(t,n,o){return Buffer$E.concat([Buffer$E.from(t),Buffer$E.from([0]),Buffer$E.from(n),Buffer$E.from([0]),Buffer$E.from(o)])}functionCall({contractId:t,methodName:n,args:o={},gas:c=utils_1$9.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:a,walletMeta:u,walletCallbackUrl:h,stringify:v,jsContract:b}){return __awaiter$e(this,void 0,void 0,function*(){this.validateArgs(o);let y;if(b)y=["call_js_contract",this.encodeJSContractArgs(t,n,JSON.stringify(o)),c,a,null,!0];else{const w=v===void 0?transactions_1$3.stringifyJsonOrBytes:v;y=[n,o,c,a,w,!1]}return this.signAndSendTransaction({receiverId:b?this.connection.jsvmAccountId:t,actions:[functionCall$3.apply(void 0,y)],walletMeta:u,walletCallbackUrl:h})})}addKey(t,n,o,c){return __awaiter$e(this,void 0,void 0,function*(){o||(o=[]),Array.isArray(o)||(o=[o]);let a;return n?a=functionCallAccessKey$1(n,o,c):a=fullAccessKey$1(),this.signAndSendTransaction({receiverId:this.accountId,actions:[addKey$1(crypto_1$4.PublicKey.from(t),a)]})})}deleteKey(t){return __awaiter$e(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[deleteKey$1(crypto_1$4.PublicKey.from(t))]})})}stake(t,n){return __awaiter$e(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[stake(n,crypto_1$4.PublicKey.from(t))]})})}signedDelegate({actions:t,blockHeightTtl:n,receiverId:o}){return __awaiter$e(this,void 0,void 0,function*(){const{provider:c,signer:a}=this.connection,{header:u}=yield c.block({finality:"final"}),{accessKey:h,publicKey:v}=yield this.findAccessKey(null,null),b=(0,transactions_1$3.buildDelegateAction)({actions:t,maxBlockHeight:new bn_js_1$5.default(u.height).add(new bn_js_1$5.default(n)),nonce:new bn_js_1$5.default(h.nonce).add(new bn_js_1$5.default(1)),publicKey:v,receiverId:o,senderId:this.accountId}),{signedDelegateAction:y}=yield(0,transactions_1$3.signDelegateAction)({delegateAction:b,signer:{sign:w=>__awaiter$e(this,void 0,void 0,function*(){const{signature:O}=yield a.signMessage(w,b.senderId,this.connection.networkId);return O})}});return y})}validateArgs(t){if(!(t.byteLength!==void 0&&t.byteLength===t.length)&&(Array.isArray(t)||typeof t!="object"))throw new types_1$4.PositionalArgsError}viewFunction({contractId:t,methodName:n,args:o={},parse:c=parseJsonFromRawResponse,stringify:a=bytesJsonStringify,jsContract:u=!1,blockQuery:h={finality:"optimistic"}}){return __awaiter$e(this,void 0,void 0,function*(){let v;this.validateArgs(o),u?v=this.encodeJSContractArgs(t,n,Object.keys(o).length>0?JSON.stringify(o):""):v=a(o);const b=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"call_function"},h),{account_id:u?this.connection.jsvmAccountId:t,method_name:u?"view_js_contract":n,args_base64:v.toString("base64")}));return b.logs&&(0,utils_1$9.printTxOutcomeLogs)({contractId:t,logs:b.logs}),b.result&&b.result.length>0&&c(Buffer$E.from(b.result))})}viewState(t,n={finality:"optimistic"}){return __awaiter$e(this,void 0,void 0,function*(){const{values:o}=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"view_state"},n),{account_id:this.accountId,prefix_base64:Buffer$E.from(t).toString("base64")}));return o.map(({key:c,value:a})=>({key:Buffer$E.from(c,"base64"),value:Buffer$E.from(a,"base64")}))})}getAccessKeys(){var t;return __awaiter$e(this,void 0,void 0,function*(){const n=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(t=n==null?void 0:n.keys)===null||t===void 0?void 0:t.map(o=>Object.assign(Object.assign({},o),{access_key:Object.assign(Object.assign({},o.access_key),{nonce:new bn_js_1$5.default(o.access_key.nonce)})}))})}getAccountDetails(){return __awaiter$e(this,void 0,void 0,function*(){return{authorizedApps:(yield this.getAccessKeys()).filter(t=>t.access_key.permission!=="FullAccess").map(t=>{const n=t.access_key.permission;return{contractId:n.FunctionCall.receiver_id,amount:n.FunctionCall.allowance,publicKey:t.public_key}})}})}getAccountBalance(){return __awaiter$e(this,void 0,void 0,function*(){const t=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),n=yield this.state(),o=new bn_js_1$5.default(t.runtime_config.storage_amount_per_byte),c=new bn_js_1$5.default(n.storage_usage).mul(o),a=new bn_js_1$5.default(n.locked),u=new bn_js_1$5.default(n.amount).add(a),h=u.sub(bn_js_1$5.default.max(a,c));return{total:u.toString(),stateStaked:c.toString(),staked:a.toString(),available:h.toString()}})}getActiveDelegatedStakeBalance(){return __awaiter$e(this,void 0,void 0,function*(){const t=yield this.connection.provider.block({finality:"final"}),n=t.header.hash,o=t.header.epoch_id,{current_validators:c,next_validators:a,current_proposals:u}=yield this.connection.provider.validators(o),h=new Set;[...c,...a,...u].forEach(O=>h.add(O.account_id));const v=[...h],b=v.map(O=>this.viewFunction({contractId:O,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:n}})),y=yield Promise.allSettled(b);if(y.some(O=>O.status==="rejected"&&O.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const w=y.reduce((O,P,C)=>{const x=v[C];if(P.status==="fulfilled"){const D=new bn_js_1$5.default(P.value);if(!D.isZero())return Object.assign(Object.assign({},O),{stakedValidators:[...O.stakedValidators,{validatorId:x,amount:D.toString()}],total:O.total.add(D)})}return P.status==="rejected"?Object.assign(Object.assign({},O),{failedValidators:[...O.failedValidators,{validatorId:x,error:P.reason}]}):O},{stakedValidators:[],failedValidators:[],total:new bn_js_1$5.default(0)});return Object.assign(Object.assign({},w),{total:w.total.toString()})})}}account$1.Account=Account;var account_2fa={},account_multisig$1={},constants={},__importDefault$4=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(constants,"__esModule",{value:!0}),constants.MULTISIG_CONFIRM_METHODS=constants.MULTISIG_CHANGE_METHODS=constants.MULTISIG_DEPOSIT=constants.MULTISIG_GAS=constants.MULTISIG_ALLOWANCE=constants.MULTISIG_STORAGE_KEY=void 0;const utils_1$8=lib$6,bn_js_1$4=__importDefault$4(bnExports$6);constants.MULTISIG_STORAGE_KEY="__multisigRequest",constants.MULTISIG_ALLOWANCE=new bn_js_1$4.default((0,utils_1$8.parseNearAmount)("1")),constants.MULTISIG_GAS=new bn_js_1$4.default("100000000000000"),constants.MULTISIG_DEPOSIT=new bn_js_1$4.default("0"),constants.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],constants.MULTISIG_CONFIRM_METHODS=["confirm"];var types$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=void 0,function(t){t.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",t.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",t.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",t.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",t.METHOD_NOT_FOUND="Contract method is not found"}(e.MultisigDeleteRequestRejectionError||(e.MultisigDeleteRequestRejectionError={})),function(t){t[t.INVALID_STATE=0]="INVALID_STATE",t[t.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",t[t.VALID_STATE=2]="VALID_STATE",t[t.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(e.MultisigStateStatus||(e.MultisigStateStatus={}))})(types$1);var __awaiter$d=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account_multisig$1,"__esModule",{value:!0}),account_multisig$1.AccountMultisig=void 0;const transactions_1$2=lib$3,utils_1$7=lib$6,account_1=account$1,constants_1$1=constants,types_1$3=types$1,{deployContract:deployContract$1,functionCall:functionCall$2}=transactions_1$2.actionCreators;var MultisigCodeStatus;(function(e){e[e.INVALID_CODE=0]="INVALID_CODE",e[e.VALID_CODE=1]="VALID_CODE",e[e.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(MultisigCodeStatus||(MultisigCodeStatus={}));const storageFallback={[constants_1$1.MULTISIG_STORAGE_KEY]:null};class AccountMultisig extends account_1.Account{constructor(t,n,o){super(t,n),this.storage=o.storage,this.onAddRequestResult=o.onAddRequestResult}signAndSendTransactionWithAccount(t,n){const o=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$d(this,void 0,void 0,function*(){return o.signAndSendTransaction.call(this,{receiverId:t,actions:n})})}signAndSendTransaction({receiverId:t,actions:n}){const o=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$d(this,void 0,void 0,function*(){const{accountId:c}=this,a=Buffer$E.from(JSON.stringify({request:{receiver_id:t,actions:convertActions(n,c,t)}}));let u;try{u=yield o.signAndSendTransaction.call(this,{receiverId:c,actions:[functionCall$2("add_request_and_confirm",a,constants_1$1.MULTISIG_GAS,constants_1$1.MULTISIG_DEPOSIT)]})}catch(v){if(v.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:t,actions:n});throw v}if(!u.status)throw new Error("Request failed");const h=Object.assign({},u.status);if(!h.SuccessValue||typeof h.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:c,actions:n,requestId:parseInt(Buffer$E.from(h.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(u)),this.deleteUnconfirmedRequests(),u})}checkMultisigCodeAndStateStatus(t){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$d(this,void 0,void 0,function*(){const o=t?MultisigCodeStatus.UNKNOWN_CODE:MultisigCodeStatus.VALID_CODE;try{return t?yield n.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[deployContract$1(t),functionCall$2("delete_request",{request_id:4294967295},constants_1$1.MULTISIG_GAS,constants_1$1.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(4294967295),{codeStatus:MultisigCodeStatus.VALID_CODE,stateStatus:types_1$3.MultisigStateStatus.VALID_STATE}}catch(c){if(new RegExp(types_1$3.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(c&&c.kind&&c.kind.ExecutionError))return{codeStatus:o,stateStatus:types_1$3.MultisigStateStatus.INVALID_STATE};if(new RegExp(types_1$3.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(c&&c.kind&&c.kind.ExecutionError))return{codeStatus:o,stateStatus:types_1$3.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(types_1$3.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(c&&c.kind&&c.kind.ExecutionError))return{codeStatus:o,stateStatus:types_1$3.MultisigStateStatus.VALID_STATE};if(new RegExp(types_1$3.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(c&&c.message))return{codeStatus:MultisigCodeStatus.INVALID_CODE,stateStatus:types_1$3.MultisigStateStatus.UNKNOWN_STATE};throw c}})}deleteRequest(t){return super.signAndSendTransaction({receiverId:this.accountId,actions:[functionCall$2("delete_request",{request_id:t},constants_1$1.MULTISIG_GAS,constants_1$1.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return __awaiter$d(this,void 0,void 0,function*(){const t=yield this.getRequestIds();t.length&&(yield Promise.all(t.map(n=>this.deleteRequest(n))))})}deleteUnconfirmedRequests(){const t=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$d(this,void 0,void 0,function*(){const n=yield this.getRequestIds(),{requestId:o}=this.getRequest();for(const c of n)if(c!=o)try{yield t.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[functionCall$2("delete_request",{request_id:c},constants_1$1.MULTISIG_GAS,constants_1$1.MULTISIG_DEPOSIT)]})}catch{utils_1$7.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}})}getRequestIds(){return __awaiter$d(this,void 0,void 0,function*(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(constants_1$1.MULTISIG_STORAGE_KEY)||"{}"):storageFallback[constants_1$1.MULTISIG_STORAGE_KEY]}setRequest(t){if(this.storage)return this.storage.setItem(constants_1$1.MULTISIG_STORAGE_KEY,JSON.stringify(t));storageFallback[constants_1$1.MULTISIG_STORAGE_KEY]=t}}account_multisig$1.AccountMultisig=AccountMultisig;const convertPKForContract=e=>e.toString().replace("ed25519:",""),convertActions=(e,t,n)=>e.map(o=>{const c=o.enum,{gas:a,publicKey:u,methodName:h,args:v,deposit:b,accessKey:y,code:w}=o[c],O={type:c[0].toUpperCase()+c.substr(1),gas:a&&a.toString()||void 0,public_key:u&&convertPKForContract(u)||void 0,method_name:h,args:v&&Buffer$E.from(v).toString("base64")||void 0,code:w&&Buffer$E.from(w).toString("base64")||void 0,amount:b&&b.toString()||void 0,deposit:b&&b.toString()||"0",permission:void 0};if(y&&(n===t&&y.permission.enum!=="fullAccess"&&(O.permission={receiver_id:t,allowance:constants_1$1.MULTISIG_ALLOWANCE.toString(),method_names:constants_1$1.MULTISIG_CHANGE_METHODS}),y.permission.enum==="functionCall")){const{receiverId:P,methodNames:C,allowance:x}=y.permission.functionCall;O.permission={receiver_id:P,allowance:x&&x.toString()||void 0,method_names:C}}return O});var __awaiter$c=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$3=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(account_2fa,"__esModule",{value:!0}),account_2fa.Account2FA=void 0;const crypto_1$3=lib$7,types_1$2=lib$F,providers_1$2=lib$4,transactions_1$1=lib$3,utils_1$6=lib$6,bn_js_1$3=__importDefault$3(bnExports$6),account_multisig_1=account_multisig$1,constants_1=constants,types_2=types$1,{addKey,deleteKey,deployContract,fullAccessKey,functionCall:functionCall$1,functionCallAccessKey}=transactions_1$1.actionCreators;class Account2FA extends account_multisig_1.AccountMultisig{constructor(t,n,o){super(t,n,o),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=o.helperUrl||this.helperUrl,this.storage=o.storage,this.sendCode=o.sendCode||this.sendCodeDefault,this.getCode=o.getCode||this.getCodeDefault,this.verifyCode=o.verifyCode||this.verifyCodeDefault,this.onConfirmResult=o.onConfirmResult}signAndSendTransaction({receiverId:t,actions:n}){const o=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$c(this,void 0,void 0,function*(){yield o.signAndSendTransaction.call(this,{receiverId:t,actions:n}),yield this.sendCode();const c=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(c)),c})}deployMultisig(t){const n=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return __awaiter$c(this,void 0,void 0,function*(){const{accountId:o}=this,c=(yield this.getRecoveryMethods()).data.filter(({kind:w,publicKey:O})=>(w==="phrase"||w==="ledger")&&O!==null).map(w=>w.publicKey),a=(yield this.getAccessKeys()).filter(({public_key:w,access_key:{permission:O}})=>O==="FullAccess"&&!c.includes(w)).map(w=>w.public_key).map(toPK),u=toPK((yield this.postSignedJson("/2fa/getAccessKey",{accountId:o})).publicKey),h=Buffer$E.from(JSON.stringify({num_confirmations:2})),v=[...a.map(w=>deleteKey(w)),...a.map(w=>addKey(w,functionCallAccessKey(o,constants_1.MULTISIG_CHANGE_METHODS,null))),addKey(u,functionCallAccessKey(o,constants_1.MULTISIG_CONFIRM_METHODS,null)),deployContract(t)],b=v.concat(functionCall$1("new",h,constants_1.MULTISIG_GAS,constants_1.MULTISIG_DEPOSIT));utils_1$6.Logger.log("deploying multisig contract for",o);const{stateStatus:y}=yield this.checkMultisigCodeAndStateStatus(t);switch(y){case types_2.MultisigStateStatus.STATE_NOT_INITIALIZED:return yield n.signAndSendTransactionWithAccount.call(this,o,b);case types_2.MultisigStateStatus.VALID_STATE:return yield n.signAndSendTransactionWithAccount.call(this,o,v);case types_2.MultisigStateStatus.INVALID_STATE:throw new types_1$2.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new types_1$2.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}})}disableWithFAK({contractBytes:t,cleanupContractBytes:n}){return __awaiter$c(this,void 0,void 0,function*(){let o=[];n&&(yield this.deleteAllRequests().catch(h=>h),o=yield this.get2faDisableCleanupActions(n));const c=yield this.get2faDisableKeyConversionActions(),a=[...o,...c,deployContract(t)],u=yield this.findAccessKey(this.accountId,a);if(u&&u.accessKey&&u.accessKey.permission!=="FullAccess")throw new types_1$2.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,a)})}get2faDisableCleanupActions(t){return __awaiter$c(this,void 0,void 0,function*(){const n=yield this.viewState("").catch(c=>{const a=c.cause&&c.cause.name;if(a=="NO_CONTRACT_CODE")return[];throw a=="TOO_LARGE_CONTRACT_STATE"?new types_1$2.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):c}),o=n.map(({key:c})=>c.toString("base64"));return n.length?[deployContract(t),functionCall$1("clean",{keys:o},constants_1.MULTISIG_GAS,new bn_js_1$3.default("0"))]:[]})}get2faDisableKeyConversionActions(){return __awaiter$c(this,void 0,void 0,function*(){const{accountId:t}=this,n=(yield this.getAccessKeys()).filter(({access_key:c})=>c.permission!=="FullAccess").filter(({access_key:c})=>{const a=c.permission.FunctionCall;return a.receiver_id===t&&a.method_names.length===4&&a.method_names.includes("add_request_and_confirm")}),o=crypto_1$3.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:t})).publicKey);return[deleteKey(o),...n.map(({public_key:c})=>deleteKey(crypto_1$3.PublicKey.from(c))),...n.map(({public_key:c})=>addKey(crypto_1$3.PublicKey.from(c),fullAccessKey()))]})}disable(t,n){return __awaiter$c(this,void 0,void 0,function*(){const{stateStatus:o}=yield this.checkMultisigCodeAndStateStatus();if(o!==types_2.MultisigStateStatus.VALID_STATE&&o!==types_2.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new types_1$2.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let c;yield this.deleteAllRequests().catch(u=>c=u);const a=[...yield this.get2faDisableCleanupActions(n).catch(u=>{throw u.type==="ContractHasExistingState"&&c||u}),...yield this.get2faDisableKeyConversionActions(),deployContract(t)];return utils_1$6.Logger.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:a})})}sendCodeDefault(){return __awaiter$c(this,void 0,void 0,function*(){const{accountId:t}=this,{requestId:n}=this.getRequest(),o=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:t,method:o,requestId:n}),n})}getCodeDefault(){return __awaiter$c(this,void 0,void 0,function*(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')})}promptAndVerify(){return __awaiter$c(this,void 0,void 0,function*(){const t=yield this.get2faMethod(),n=yield this.getCode(t);try{return yield this.verifyCode(n)}catch(o){if(utils_1$6.Logger.warn("Error validating security code:",o),o.toString().includes("invalid 2fa code provided")||o.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw o}})}verifyCodeDefault(t){return __awaiter$c(this,void 0,void 0,function*(){const{accountId:n}=this,o=this.getRequest();if(!o)throw new Error("no request pending");const{requestId:c}=o;return yield this.postSignedJson("/2fa/verify",{accountId:n,securityCode:t,requestId:c})})}getRecoveryMethods(){return __awaiter$c(this,void 0,void 0,function*(){const{accountId:t}=this;return{accountId:t,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:t})}})}get2faMethod(){return __awaiter$c(this,void 0,void 0,function*(){let{data:t}=yield this.getRecoveryMethods();if(t&&t.length&&(t=t.find(c=>c.kind.indexOf("2fa-")===0)),!t)return null;const{kind:n,detail:o}=t;return{kind:n,detail:o}})}signatureFor(){return __awaiter$c(this,void 0,void 0,function*(){const{accountId:t}=this,n=(yield this.connection.provider.block({finality:"final"})).header.height.toString(),o=yield this.connection.signer.signMessage(Buffer$E.from(n),t,this.connection.networkId),c=Buffer$E.from(o.signature).toString("base64");return{blockNumber:n,blockNumberSignature:c}})}postSignedJson(t,n){return __awaiter$c(this,void 0,void 0,function*(){return yield(0,providers_1$2.fetchJson)(this.helperUrl+t,JSON.stringify(Object.assign(Object.assign({},n),yield this.signatureFor())))})}}account_2fa.Account2FA=Account2FA;const toPK=e=>crypto_1$3.PublicKey.from(e);var account_creator$1={},__awaiter$b=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(account_creator$1,"__esModule",{value:!0}),account_creator$1.UrlAccountCreator=account_creator$1.LocalAccountCreator=account_creator$1.AccountCreator=void 0;const providers_1$1=lib$4;class AccountCreator{}account_creator$1.AccountCreator=AccountCreator;class LocalAccountCreator extends AccountCreator{constructor(t,n){super(),this.masterAccount=t,this.initialBalance=n}createAccount(t,n){return __awaiter$b(this,void 0,void 0,function*(){yield this.masterAccount.createAccount(t,n,this.initialBalance)})}}account_creator$1.LocalAccountCreator=LocalAccountCreator;class UrlAccountCreator extends AccountCreator{constructor(t,n){super(),this.connection=t,this.helperUrl=n}createAccount(t,n){return __awaiter$b(this,void 0,void 0,function*(){yield(0,providers_1$1.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:t,newAccountPublicKey:n.toString()}))})}}account_creator$1.UrlAccountCreator=UrlAccountCreator;var connection$1={},lib$1={},in_memory_signer={},signer$1={};Object.defineProperty(signer$1,"__esModule",{value:!0}),signer$1.Signer=void 0;class Signer{}signer$1.Signer=Signer;var __awaiter$a=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(in_memory_signer,"__esModule",{value:!0}),in_memory_signer.InMemorySigner=void 0;const crypto_1$2=lib$7,keystores_1=lib$8,sha256_1=sha256,signer_1=signer$1;class InMemorySigner extends signer_1.Signer{constructor(t){super(),this.keyStore=t}static fromKeyPair(t,n,o){return __awaiter$a(this,void 0,void 0,function*(){const c=new keystores_1.InMemoryKeyStore;return yield c.setKey(t,n,o),new InMemorySigner(c)})}createKey(t,n){return __awaiter$a(this,void 0,void 0,function*(){const o=crypto_1$2.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(n,t,o),o.getPublicKey()})}getPublicKey(t,n){return __awaiter$a(this,void 0,void 0,function*(){const o=yield this.keyStore.getKey(n,t);return o===null?null:o.getPublicKey()})}signMessage(t,n,o){return __awaiter$a(this,void 0,void 0,function*(){const c=new Uint8Array((0,sha256_1.sha256)(t));if(!n)throw new Error("InMemorySigner requires provided account id");const a=yield this.keyStore.getKey(o,n);if(a===null)throw new Error(`Key for ${n} not found in ${o}`);return a.sign(c)})}toString(){return`InMemorySigner(${this.keyStore})`}}in_memory_signer.InMemorySigner=InMemorySigner,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=in_memory_signer;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}});var n=signer$1;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return n.Signer}})}(lib$1),Object.defineProperty(connection$1,"__esModule",{value:!0}),connection$1.Connection=void 0;const signers_1=lib$1,providers_1=lib$4;function getProvider(e){switch(e.type){case void 0:return e;case"JsonRpcProvider":return new providers_1.JsonRpcProvider(Object.assign({},e.args));default:throw new Error(`Unknown provider type ${e.type}`)}}function getSigner(e){switch(e.type){case void 0:return e;case"InMemorySigner":return new signers_1.InMemorySigner(e.keyStore);default:throw new Error(`Unknown signer type ${e.type}`)}}class Connection{constructor(t,n,o,c){this.networkId=t,this.provider=n,this.signer=o,this.jsvmAccountId=c}static fromConfig(t){const n=getProvider(t.provider),o=getSigner(t.signer);return new Connection(t.networkId,n,o,t.jsvmAccountId)}}connection$1.Connection=Connection;var contract$1={},localViewExecution={},storage={};Object.defineProperty(storage,"__esModule",{value:!0}),storage.Storage=void 0;const lru_map_1=lruExports;class Storage{constructor(t={max:Storage.MAX_ELEMENTS}){this.cache=new lru_map_1.LRUMap(t.max),this.blockHeights=new Map}load(t){if(!("blockId"in t))return;let n=t.blockId;return n.toString().length==44&&(n=this.blockHeights.get(n.toString())),this.cache.get(n)}save(t,{blockHeight:n,blockTimestamp:o,contractCode:c,contractState:a}){this.blockHeights.set(t,n),this.cache.set(n,{blockHeight:n,blockTimestamp:o,contractCode:c,contractState:a})}}storage.Storage=Storage,Storage.MAX_ELEMENTS=100;var runtime={},__awaiter$9=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest$1=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(runtime,"__esModule",{value:!0}),runtime.Runtime=void 0;const crypto_1$1=requireCryptoBrowserify(),notImplemented=e=>()=>{throw new Error("method not implemented: "+e)},prohibitedInView=e=>()=>{throw new Error("method not available for view calls: "+e)};class Runtime{constructor(t){var{contractCode:n}=t,o=__rest$1(t,["contractCode"]);this.context=o,this.wasm=this.prepareWASM(Buffer$E.from(n,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=Buffer$E.from([])}readUTF16CStr(t){const n=[],o=new Uint16Array(this.memory.buffer);let c=Number(t)/2;for(;o[c]!=0;)n.push(o[c]),c++;return Buffer$E.from(Uint16Array.from(n).buffer).toString("ucs2")}readUTF8CStr(t,n){const o=[],c=new Uint8Array(this.memory.buffer);let a=Number(n);for(let u=0;u<t&&c[a]!=0;u++)o.push(c[a]),a++;return Buffer$E.from(o).toString("utf8")}storageRead(t,n){const o=Buffer$E.from(new Uint8Array(this.memory.buffer,Number(n),Number(t))),c=this.context.contractState.filter(a=>Buffer$E.compare(a.key,o)===0).map(a=>a.value);return c.length===0?null:c.length>1?c:c[0]}prepareWASM(t){const n=[];if(t.subarray(0,4).toString("utf8")!=="\0asm")throw new Error("Invalid magic number");const o=t.readUInt32LE(4);if(o!=1)throw new Error("Invalid version: "+o);let c=8;n.push(t.subarray(0,c));function a(){let y=0,w=0,O;do O=t[c++],y|=(O&127)<<w,w+=7;while(O&128);return y}function u(){const y=t[c++]&1,w=a(),O=y?a():null;return{initial:w,max:O}}function h(){const y=a(),w=t.subarray(c,c+y);return c+=y,w.toString("utf8")}function v(y){const w=[];do{let O=y&127;y>>=7,y!==0&&(O|=128),w.push(O)}while(y!==0);return Buffer$E.from(w)}function b(y){const w=Buffer$E.from(y,"utf8");return Buffer$E.concat([v(w.length),w])}do{const y=c,w=t.readUInt8(c);c++;const O=a(),P=c+O;if(w==5)n.push(Buffer$E.from([5,1,0]));else if(w==2){const C=[],x=a();for(let B=0;B<x;B++){const q=c;h(),h();const V=t.readUInt8(c);c++;let ee=!1;switch(V){case 0:a();break;case 1:c++,u();break;case 2:u(),ee=!0;break;case 3:c++,c++;break;default:throw new Error("Invalid import kind: "+V)}ee||C.push(t.subarray(q,c))}const D=Buffer$E.concat([b("env"),b("memory"),Buffer$E.from([2]),Buffer$E.from([0]),v(1)]);C.push(D);const k=Buffer$E.concat([v(C.length),...C]);n.push(Buffer$E.concat([Buffer$E.from([2]),v(k.length),k]))}else if(w==7){const C=[],x=a();for(let k=0;k<x;k++){const B=c;h();const q=t.readUInt8(c);c++,a(),q!==2&&C.push(t.subarray(B,c))}const D=Buffer$E.concat([v(C.length),...C]);n.push(Buffer$E.concat([Buffer$E.from([7]),v(D.length),D]))}else n.push(t.subarray(y,P));c=P}while(c<t.length);return Buffer$E.concat(n)}getRegisterLength(t){return BigInt(this.registers[t.toString()]?this.registers[t.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(t,n){new Uint8Array(this.memory.buffer).set(this.registers[t.toString()]||Buffer$E.from([]),Number(n))}getCurrentAccountId(t){this.registers[t.toString()]=Buffer$E.from(this.context.contractId)}inputMethodArgs(t){this.registers[t.toString()]=Buffer$E.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(t,n,o){const c=new Uint8Array(this.memory.buffer,Number(n),Number(t)),a=(0,crypto_1$1.createHash)("sha256");a.update(c),this.registers[o.toString()]=a.digest()}returnValue(t,n){this.result=Buffer$E.from(new Uint8Array(this.memory.buffer,Number(n),Number(t)))}panic(t){throw new Error("panic: "+t)}abort(t,n,o,c){const a=this.readUTF16CStr(t),u=this.readUTF16CStr(n),h=`${a} ${u}:${o}:${c}`;throw!a||!u?new Error("abort: String encoding is bad UTF-16 sequence."):new Error("abort: "+h)}appendToLog(t,n){this.logs.push(this.readUTF8CStr(t,n))}readStorage(t,n,o){const c=this.storageRead(t,n);return c==null?BigInt(0):(this.registers[o]=c,BigInt(1))}hasStorageKey(t,n){return this.storageRead(t,n)==null?BigInt(0):BigInt(1)}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(t,n)=>this.panic(this.readUTF8CStr(t,n)),epoch_height:notImplemented("epoch_height"),storage_usage:notImplemented("storage_usage"),account_balance:notImplemented("account_balance"),account_locked_balance:notImplemented("account_locked_balance"),random_seed:notImplemented("random_seed"),ripemd160:notImplemented("ripemd160"),keccak256:notImplemented("keccak256"),keccak512:notImplemented("keccak512"),ecrecover:notImplemented("ecrecover"),validator_stake:notImplemented("validator_stake"),validator_total_stake:notImplemented("validator_total_stake"),write_register:prohibitedInView("write_register"),signer_account_id:prohibitedInView("signer_account_id"),signer_account_pk:prohibitedInView("signer_account_pk"),predecessor_account_id:prohibitedInView("predecessor_account_id"),attached_deposit:prohibitedInView("attached_deposit"),prepaid_gas:prohibitedInView("prepaid_gas"),used_gas:prohibitedInView("used_gas"),promise_create:prohibitedInView("promise_create"),promise_then:prohibitedInView("promise_then"),promise_and:prohibitedInView("promise_and"),promise_batch_create:prohibitedInView("promise_batch_create"),promise_batch_then:prohibitedInView("promise_batch_then"),promise_batch_action_create_account:prohibitedInView("promise_batch_action_create_account"),promise_batch_action_deploy_contract:prohibitedInView("promise_batch_action_deploy_contract"),promise_batch_action_function_call:prohibitedInView("promise_batch_action_function_call"),promise_batch_action_function_call_weight:prohibitedInView("promise_batch_action_function_call_weight"),promise_batch_action_transfer:prohibitedInView("promise_batch_action_transfer"),promise_batch_action_stake:prohibitedInView("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:prohibitedInView("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:prohibitedInView("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:prohibitedInView("promise_batch_action_delete_key"),promise_batch_action_delete_account:prohibitedInView("promise_batch_action_delete_account"),promise_results_count:prohibitedInView("promise_results_count"),promise_result:prohibitedInView("promise_result"),promise_return:prohibitedInView("promise_return"),storage_write:prohibitedInView("storage_write"),storage_remove:prohibitedInView("storage_remove")}}execute(t){return __awaiter$9(this,void 0,void 0,function*(){const n=yield WebAssembly.compile(this.wasm),o=(yield WebAssembly.instantiate(n,{env:Object.assign(Object.assign({},this.getHostImports()),{memory:this.memory})})).exports[t];if(o==null)throw new Error(`Contract method '${t}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return o(),{result:this.result,logs:this.logs}})}}runtime.Runtime=Runtime;var __awaiter$8=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__rest=commonjsGlobal$7&&commonjsGlobal$7.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};Object.defineProperty(localViewExecution,"__esModule",{value:!0}),localViewExecution.LocalViewExecution=void 0;const utils_1$5=lib$6,storage_1=storage,runtime_1=runtime;class LocalViewExecution{constructor(t){this.account=t,this.storage=new storage_1.Storage}fetchContractCode(t,n){return __awaiter$8(this,void 0,void 0,function*(){return(yield this.account.connection.provider.query(Object.assign({request_type:"view_code",account_id:t},n))).code_base64})}fetchContractState(t){return __awaiter$8(this,void 0,void 0,function*(){return this.account.viewState("",t)})}fetch(t,n){return __awaiter$8(this,void 0,void 0,function*(){const o=yield this.account.connection.provider.block(n),c=o.header.hash,a=o.header.height,u=o.header.timestamp,h=yield this.fetchContractCode(t,n),v=yield this.fetchContractState(n);return{blockHash:c,blockHeight:a,blockTimestamp:u,contractCode:h,contractState:v}})}loadOrFetch(t,n){return __awaiter$8(this,void 0,void 0,function*(){const o=this.storage.load(n);if(o)return o;const c=yield this.fetch(t,n),{blockHash:a}=c,u=__rest(c,["blockHash"]);return this.storage.save(a,u),u})}viewFunction(t){var{contractId:n,methodName:o,args:c={},blockQuery:a={finality:"optimistic"}}=t;return __rest(t,["contractId","methodName","args","blockQuery"]),__awaiter$8(this,void 0,void 0,function*(){const u=JSON.stringify(c),{contractCode:h,contractState:v,blockHeight:b,blockTimestamp:y}=yield this.loadOrFetch(n,a),w=new runtime_1.Runtime({contractId:n,contractCode:h,contractState:v,blockHeight:b,blockTimestamp:y,methodArgs:u}),{result:O,logs:P}=yield w.execute(o);return P&&(0,utils_1$5.printTxOutcomeLogs)({contractId:n,logs:P}),JSON.parse(Buffer$E.from(O).toString())})}}localViewExecution.LocalViewExecution=LocalViewExecution;var ajv={exports:{}},core$2={},validate={},boolSchema={},errors$1={},codegen={},code$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(B){if(super(),!e.IDENTIFIER.test(B))throw new Error("CodeGen: name must be a valid identifier");this.str=B}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class o extends t{constructor(B){super(),this._items=typeof B=="string"?[B]:B}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const B=this._items[0];return B===""||B==='""'}get str(){var B;return(B=this._str)!==null&&B!==void 0?B:this._str=this._items.reduce((q,V)=>`${q}${V}`,"")}get names(){var B;return(B=this._names)!==null&&B!==void 0?B:this._names=this._items.reduce((q,V)=>(V instanceof n&&(q[V.str]=(q[V.str]||0)+1),q),{})}}e._Code=o,e.nil=new o("");function c(k,...B){const q=[k[0]];let V=0;for(;V<B.length;)h(q,B[V]),q.push(k[++V]);return new o(q)}e._=c;const a=new o("+");function u(k,...B){const q=[P(k[0])];let V=0;for(;V<B.length;)q.push(a),h(q,B[V]),q.push(a,P(k[++V]));return v(q),new o(q)}e.str=u;function h(k,B){B instanceof o?k.push(...B._items):B instanceof n?k.push(B):k.push(w(B))}e.addCodeArg=h;function v(k){let B=1;for(;B<k.length-1;){if(k[B]===a){const q=b(k[B-1],k[B+1]);if(q!==void 0){k.splice(B-1,3,q);continue}k[B++]="+"}B++}}function b(k,B){if(B==='""')return k;if(k==='""')return B;if(typeof k=="string")return B instanceof n||k[k.length-1]!=='"'?void 0:typeof B!="string"?`${k.slice(0,-1)}${B}"`:B[0]==='"'?k.slice(0,-1)+B.slice(1):void 0;if(typeof B=="string"&&B[0]==='"'&&!(k instanceof n))return`"${k}${B.slice(1)}`}function y(k,B){return B.emptyStr()?k:k.emptyStr()?B:u`${k}${B}`}e.strConcat=y;function w(k){return typeof k=="number"||typeof k=="boolean"||k===null?k:P(Array.isArray(k)?k.join(","):k)}function O(k){return new o(P(k))}e.stringify=O;function P(k){return JSON.stringify(k).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=P;function C(k){return typeof k=="string"&&e.IDENTIFIER.test(k)?new o(`.${k}`):c`[${k}]`}e.getProperty=C;function x(k){if(typeof k=="string"&&e.IDENTIFIER.test(k))return new o(`${k}`);throw new Error(`CodeGen: invalid export name: ${k}, use explicit $id name mapping`)}e.getEsmExportName=x;function D(k){return new o(k.toString())}e.regexpCode=D})(code$1);var scope={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=code$1;class n extends Error{constructor(b){super(`CodeGen: "code" for ${b} not defined`),this.value=b.value}}var o;(function(v){v[v.Started=0]="Started",v[v.Completed=1]="Completed"})(o=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class c{constructor({prefixes:b,parent:y}={}){this._names={},this._prefixes=b,this._parent=y}toName(b){return b instanceof t.Name?b:this.name(b)}name(b){return new t.Name(this._newName(b))}_newName(b){const y=this._names[b]||this._nameGroup(b);return`${b}${y.index++}`}_nameGroup(b){var y,w;if(!((w=(y=this._parent)===null||y===void 0?void 0:y._prefixes)===null||w===void 0)&&w.has(b)||this._prefixes&&!this._prefixes.has(b))throw new Error(`CodeGen: prefix "${b}" is not allowed in this scope`);return this._names[b]={prefix:b,index:0}}}e.Scope=c;class a extends t.Name{constructor(b,y){super(y),this.prefix=b}setValue(b,{property:y,itemIndex:w}){this.value=b,this.scopePath=(0,t._)`.${new t.Name(y)}[${w}]`}}e.ValueScopeName=a;const u=(0,t._)`\n`;class h extends c{constructor(b){super(b),this._values={},this._scope=b.scope,this.opts={...b,_n:b.lines?u:t.nil}}get(){return this._scope}name(b){return new a(b,this._newName(b))}value(b,y){var w;if(y.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const O=this.toName(b),{prefix:P}=O,C=(w=y.key)!==null&&w!==void 0?w:y.ref;let x=this._values[P];if(x){const B=x.get(C);if(B)return B}else x=this._values[P]=new Map;x.set(C,O);const D=this._scope[P]||(this._scope[P]=[]),k=D.length;return D[k]=y.ref,O.setValue(y,{property:P,itemIndex:k}),O}getValue(b,y){const w=this._values[b];if(w)return w.get(y)}scopeRefs(b,y=this._values){return this._reduceValues(y,w=>{if(w.scopePath===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return(0,t._)`${b}${w.scopePath}`})}scopeCode(b=this._values,y,w){return this._reduceValues(b,O=>{if(O.value===void 0)throw new Error(`CodeGen: name "${O}" has no value`);return O.value.code},y,w)}_reduceValues(b,y,w={},O){let P=t.nil;for(const C in b){const x=b[C];if(!x)continue;const D=w[C]=w[C]||new Map;x.forEach(k=>{if(D.has(k))return;D.set(k,o.Started);let B=y(k);if(B){const q=this.opts.es5?e.varKinds.var:e.varKinds.const;P=(0,t._)`${P}${q} ${k} = ${B};${this.opts._n}`}else if(B=O==null?void 0:O(k))P=(0,t._)`${P}${B}${this.opts._n}`;else throw new n(k);D.set(k,o.Completed)})}return P}}e.ValueScope=h})(scope),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=code$1,n=scope;var o=code$1;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return o.Name}});var c=scope;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return c.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return c.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return c.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return c.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(N,L){return this}}class u extends a{constructor(N,L,H){super(),this.varKind=N,this.name=L,this.rhs=H}render({es5:N,_n:L}){const H=N?n.varKinds.var:this.varKind,Y=this.rhs===void 0?"":` = ${this.rhs}`;return`${H} ${this.name}${Y};`+L}optimizeNames(N,L){if(N[this.name.str])return this.rhs&&(this.rhs=_(this.rhs,N,L)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class h extends a{constructor(N,L,H){super(),this.lhs=N,this.rhs=L,this.sideEffects=H}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,L){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=_(this.rhs,N,L),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return m(N,this.rhs)}}class v extends h{constructor(N,L,H,Y){super(N,H,Y),this.op=L}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}}class b extends a{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}}class y extends a{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}}class w extends a{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}}class O extends a{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,L){return this.code=_(this.code,N,L),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class P extends a{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((L,H)=>L+H.render(N),"")}optimizeNodes(){const{nodes:N}=this;let L=N.length;for(;L--;){const H=N[L].optimizeNodes();Array.isArray(H)?N.splice(L,1,...H):H?N[L]=H:N.splice(L,1)}return N.length>0?this:void 0}optimizeNames(N,L){const{nodes:H}=this;let Y=H.length;for(;Y--;){const Z=H[Y];Z.optimizeNames(N,L)||(A(N,Z.names),H.splice(Y,1))}return H.length>0?this:void 0}get names(){return this.nodes.reduce((N,L)=>p(N,L.names),{})}}class C extends P{render(N){return"{"+N._n+super.render(N)+"}"+N._n}}class x extends P{}class D extends C{}D.kind="else";class k extends C{constructor(N,L){super(L),this.condition=N}render(N){let L=`if(${this.condition})`+super.render(N);return this.else&&(L+="else "+this.else.render(N)),L}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let L=this.else;if(L){const H=L.optimizeNodes();L=this.else=Array.isArray(H)?new D(H):H}if(L)return N===!1?L instanceof k?L:L.nodes:this.nodes.length?this:new k(I(N),L instanceof k?[L]:L.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,L){var H;if(this.else=(H=this.else)===null||H===void 0?void 0:H.optimizeNames(N,L),!!(super.optimizeNames(N,L)||this.else))return this.condition=_(this.condition,N,L),this}get names(){const N=super.names;return m(N,this.condition),this.else&&p(N,this.else.names),N}}k.kind="if";class B extends C{}B.kind="for";class q extends B{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,L){if(super.optimizeNames(N,L))return this.iteration=_(this.iteration,N,L),this}get names(){return p(super.names,this.iteration.names)}}class V extends B{constructor(N,L,H,Y){super(),this.varKind=N,this.name=L,this.from=H,this.to=Y}render(N){const L=N.es5?n.varKinds.var:this.varKind,{name:H,from:Y,to:Z}=this;return`for(${L} ${H}=${Y}; ${H}<${Z}; ${H}++)`+super.render(N)}get names(){const N=m(super.names,this.from);return m(N,this.to)}}class ee extends B{constructor(N,L,H,Y){super(),this.loop=N,this.varKind=L,this.name=H,this.iterable=Y}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,L){if(super.optimizeNames(N,L))return this.iterable=_(this.iterable,N,L),this}get names(){return p(super.names,this.iterable.names)}}class te extends C{constructor(N,L,H){super(),this.name=N,this.args=L,this.async=H}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}}te.kind="func";class ce extends P{render(N){return"return "+super.render(N)}}ce.kind="return";class Q extends C{render(N){let L="try"+super.render(N);return this.catch&&(L+=this.catch.render(N)),this.finally&&(L+=this.finally.render(N)),L}optimizeNodes(){var N,L;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(L=this.finally)===null||L===void 0||L.optimizeNodes(),this}optimizeNames(N,L){var H,Y;return super.optimizeNames(N,L),(H=this.catch)===null||H===void 0||H.optimizeNames(N,L),(Y=this.finally)===null||Y===void 0||Y.optimizeNames(N,L),this}get names(){const N=super.names;return this.catch&&p(N,this.catch.names),this.finally&&p(N,this.finally.names),N}}class ne extends C{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}}ne.kind="catch";class fe extends C{render(N){return"finally"+super.render(N)}}fe.kind="finally";class l{constructor(N,L={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...L,_n:L.lines?`
`:""},this._extScope=N,this._scope=new n.Scope({parent:N}),this._nodes=[new x]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,L){const H=this._extScope.value(N,L);return(this._values[H.prefix]||(this._values[H.prefix]=new Set)).add(H),H}getScopeValue(N,L){return this._extScope.getValue(N,L)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,L,H,Y){const Z=this._scope.toName(L);return H!==void 0&&Y&&(this._constants[Z.str]=H),this._leafNode(new u(N,Z,H)),Z}const(N,L,H){return this._def(n.varKinds.const,N,L,H)}let(N,L,H){return this._def(n.varKinds.let,N,L,H)}var(N,L,H){return this._def(n.varKinds.var,N,L,H)}assign(N,L,H){return this._leafNode(new h(N,L,H))}add(N,L){return this._leafNode(new v(N,e.operators.ADD,L))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new O(N)),this}object(...N){const L=["{"];for(const[H,Y]of N)L.length>1&&L.push(","),L.push(H),(H!==Y||this.opts.es5)&&(L.push(":"),(0,t.addCodeArg)(L,Y));return L.push("}"),new t._Code(L)}if(N,L,H){if(this._blockNode(new k(N)),L&&H)this.code(L).else().code(H).endIf();else if(L)this.code(L).endIf();else if(H)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new k(N))}else(){return this._elseNode(new D)}endIf(){return this._endBlockNode(k,D)}_for(N,L){return this._blockNode(N),L&&this.code(L).endFor(),this}for(N,L){return this._for(new q(N),L)}forRange(N,L,H,Y,Z=this.opts.es5?n.varKinds.var:n.varKinds.let){const de=this._scope.toName(N);return this._for(new V(Z,de,L,H),()=>Y(de))}forOf(N,L,H,Y=n.varKinds.const){const Z=this._scope.toName(N);if(this.opts.es5){const de=L instanceof t.Name?L:this.var("_arr",L);return this.forRange("_i",0,(0,t._)`${de}.length`,he=>{this.var(Z,(0,t._)`${de}[${he}]`),H(Z)})}return this._for(new ee("of",Y,Z,L),()=>H(Z))}forIn(N,L,H,Y=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${L})`,H);const Z=this._scope.toName(N);return this._for(new ee("in",Y,Z,L),()=>H(Z))}endFor(){return this._endBlockNode(B)}label(N){return this._leafNode(new b(N))}break(N){return this._leafNode(new y(N))}return(N){const L=new ce;if(this._blockNode(L),this.code(N),L.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ce)}try(N,L,H){if(!L&&!H)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new Q;if(this._blockNode(Y),this.code(N),L){const Z=this.name("e");this._currNode=Y.catch=new ne(Z),L(Z)}return H&&(this._currNode=Y.finally=new fe,this.code(H)),this._endBlockNode(ne,fe)}throw(N){return this._leafNode(new w(N))}block(N,L){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(L),this}endBlock(N){const L=this._blockStarts.pop();if(L===void 0)throw new Error("CodeGen: not in self-balancing block");const H=this._nodes.length-L;if(H<0||N!==void 0&&H!==N)throw new Error(`CodeGen: wrong number of nodes: ${H} vs ${N} expected`);return this._nodes.length=L,this}func(N,L=t.nil,H,Y){return this._blockNode(new te(N,L,H)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode(te)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,L){const H=this._currNode;if(H instanceof N||L&&H instanceof L)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${L?`${N.kind}/${L.kind}`:N.kind}"`)}_elseNode(N){const L=this._currNode;if(!(L instanceof k))throw new Error('CodeGen: "else" without "if"');return this._currNode=L.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const L=this._nodes;L[L.length-1]=N}}e.CodeGen=l;function p(F,N){for(const L in N)F[L]=(F[L]||0)+(N[L]||0);return F}function m(F,N){return N instanceof t._CodeOrName?p(F,N.names):F}function _(F,N,L){if(F instanceof t.Name)return H(F);if(!Y(F))return F;return new t._Code(F._items.reduce((Z,de)=>(de instanceof t.Name&&(de=H(de)),de instanceof t._Code?Z.push(...de._items):Z.push(de),Z),[]));function H(Z){const de=L[Z.str];return de===void 0||N[Z.str]!==1?Z:(delete N[Z.str],de)}function Y(Z){return Z instanceof t._Code&&Z._items.some(de=>de instanceof t.Name&&N[de.str]===1&&L[de.str]!==void 0)}}function A(F,N){for(const L in N)F[L]=(F[L]||0)-(N[L]||0)}function I(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,t._)`!${U(F)}`}e.not=I;const T=M(e.operators.AND);function S(...F){return F.reduce(T)}e.and=S;const d=M(e.operators.OR);function E(...F){return F.reduce(d)}e.or=E;function M(F){return(N,L)=>N===t.nil?L:L===t.nil?N:(0,t._)`${U(N)} ${F} ${U(L)}`}function U(F){return F instanceof t.Name?F:(0,t._)`(${F})`}}(codegen);var util={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=codegen,n=code$1;function o(te){const ce={};for(const Q of te)ce[Q]=!0;return ce}e.toHash=o;function c(te,ce){return typeof ce=="boolean"?ce:Object.keys(ce).length===0?!0:(a(te,ce),!u(ce,te.self.RULES.all))}e.alwaysValidSchema=c;function a(te,ce=te.schema){const{opts:Q,self:ne}=te;if(!Q.strictSchema||typeof ce=="boolean")return;const fe=ne.RULES.keywords;for(const l in ce)fe[l]||ee(te,`unknown keyword: "${l}"`)}e.checkUnknownRules=a;function u(te,ce){if(typeof te=="boolean")return!te;for(const Q in te)if(ce[Q])return!0;return!1}e.schemaHasRules=u;function h(te,ce){if(typeof te=="boolean")return!te;for(const Q in te)if(Q!=="$ref"&&ce.all[Q])return!0;return!1}e.schemaHasRulesButRef=h;function v({topSchemaRef:te,schemaPath:ce},Q,ne,fe){if(!fe){if(typeof Q=="number"||typeof Q=="boolean")return Q;if(typeof Q=="string")return(0,t._)`${Q}`}return(0,t._)`${te}${ce}${(0,t.getProperty)(ne)}`}e.schemaRefOrVal=v;function b(te){return O(decodeURIComponent(te))}e.unescapeFragment=b;function y(te){return encodeURIComponent(w(te))}e.escapeFragment=y;function w(te){return typeof te=="number"?`${te}`:te.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=w;function O(te){return te.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=O;function P(te,ce){if(Array.isArray(te))for(const Q of te)ce(Q);else ce(te)}e.eachItem=P;function C({mergeNames:te,mergeToName:ce,mergeValues:Q,resultToName:ne}){return(fe,l,p,m)=>{const _=p===void 0?l:p instanceof t.Name?(l instanceof t.Name?te(fe,l,p):ce(fe,l,p),p):l instanceof t.Name?(ce(fe,p,l),l):Q(l,p);return m===t.Name&&!(_ instanceof t.Name)?ne(fe,_):_}}e.mergeEvaluated={props:C({mergeNames:(te,ce,Q)=>te.if((0,t._)`${Q} !== true && ${ce} !== undefined`,()=>{te.if((0,t._)`${ce} === true`,()=>te.assign(Q,!0),()=>te.assign(Q,(0,t._)`${Q} || {}`).code((0,t._)`Object.assign(${Q}, ${ce})`))}),mergeToName:(te,ce,Q)=>te.if((0,t._)`${Q} !== true`,()=>{ce===!0?te.assign(Q,!0):(te.assign(Q,(0,t._)`${Q} || {}`),D(te,Q,ce))}),mergeValues:(te,ce)=>te===!0?!0:{...te,...ce},resultToName:x}),items:C({mergeNames:(te,ce,Q)=>te.if((0,t._)`${Q} !== true && ${ce} !== undefined`,()=>te.assign(Q,(0,t._)`${ce} === true ? true : ${Q} > ${ce} ? ${Q} : ${ce}`)),mergeToName:(te,ce,Q)=>te.if((0,t._)`${Q} !== true`,()=>te.assign(Q,ce===!0?!0:(0,t._)`${Q} > ${ce} ? ${Q} : ${ce}`)),mergeValues:(te,ce)=>te===!0?!0:Math.max(te,ce),resultToName:(te,ce)=>te.var("items",ce)})};function x(te,ce){if(ce===!0)return te.var("props",!0);const Q=te.var("props",(0,t._)`{}`);return ce!==void 0&&D(te,Q,ce),Q}e.evaluatedPropsToName=x;function D(te,ce,Q){Object.keys(Q).forEach(ne=>te.assign((0,t._)`${ce}${(0,t.getProperty)(ne)}`,!0))}e.setEvaluated=D;const k={};function B(te,ce){return te.scopeValue("func",{ref:ce,code:k[ce.code]||(k[ce.code]=new n._Code(ce.code))})}e.useFunc=B;var q;(function(te){te[te.Num=0]="Num",te[te.Str=1]="Str"})(q=e.Type||(e.Type={}));function V(te,ce,Q){if(te instanceof t.Name){const ne=ce===q.Num;return Q?ne?(0,t._)`"[" + ${te} + "]"`:(0,t._)`"['" + ${te} + "']"`:ne?(0,t._)`"/" + ${te}`:(0,t._)`"/" + ${te}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return Q?(0,t.getProperty)(te).toString():"/"+w(te)}e.getErrorPath=V;function ee(te,ce,Q=te.opts.strictSchema){if(Q){if(ce=`strict mode: ${ce}`,Q===!0)throw new Error(ce);te.self.logger.warn(ce)}}e.checkStrictMode=ee})(util);var names$1={};Object.defineProperty(names$1,"__esModule",{value:!0});const codegen_1$t=codegen,names={data:new codegen_1$t.Name("data"),valCxt:new codegen_1$t.Name("valCxt"),instancePath:new codegen_1$t.Name("instancePath"),parentData:new codegen_1$t.Name("parentData"),parentDataProperty:new codegen_1$t.Name("parentDataProperty"),rootData:new codegen_1$t.Name("rootData"),dynamicAnchors:new codegen_1$t.Name("dynamicAnchors"),vErrors:new codegen_1$t.Name("vErrors"),errors:new codegen_1$t.Name("errors"),this:new codegen_1$t.Name("this"),self:new codegen_1$t.Name("self"),scope:new codegen_1$t.Name("scope"),json:new codegen_1$t.Name("json"),jsonPos:new codegen_1$t.Name("jsonPos"),jsonLen:new codegen_1$t.Name("jsonLen"),jsonPart:new codegen_1$t.Name("jsonPart")};names$1.default=names,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=codegen,n=util,o=names$1;e.keywordError={message:({keyword:D})=>(0,t.str)`must pass "${D}" keyword validation`},e.keyword$DataError={message:({keyword:D,schemaType:k})=>k?(0,t.str)`"${D}" keyword must be ${k} ($data)`:(0,t.str)`"${D}" keyword is invalid ($data)`};function c(D,k=e.keywordError,B,q){const{it:V}=D,{gen:ee,compositeRule:te,allErrors:ce}=V,Q=w(D,k,B);q??(te||ce)?v(ee,Q):b(V,(0,t._)`[${Q}]`)}e.reportError=c;function a(D,k=e.keywordError,B){const{it:q}=D,{gen:V,compositeRule:ee,allErrors:te}=q,ce=w(D,k,B);v(V,ce),ee||te||b(q,o.default.vErrors)}e.reportExtraError=a;function u(D,k){D.assign(o.default.errors,k),D.if((0,t._)`${o.default.vErrors} !== null`,()=>D.if(k,()=>D.assign((0,t._)`${o.default.vErrors}.length`,k),()=>D.assign(o.default.vErrors,null)))}e.resetErrorsCount=u;function h({gen:D,keyword:k,schemaValue:B,data:q,errsCount:V,it:ee}){if(V===void 0)throw new Error("ajv implementation error");const te=D.name("err");D.forRange("i",V,o.default.errors,ce=>{D.const(te,(0,t._)`${o.default.vErrors}[${ce}]`),D.if((0,t._)`${te}.instancePath === undefined`,()=>D.assign((0,t._)`${te}.instancePath`,(0,t.strConcat)(o.default.instancePath,ee.errorPath))),D.assign((0,t._)`${te}.schemaPath`,(0,t.str)`${ee.errSchemaPath}/${k}`),ee.opts.verbose&&(D.assign((0,t._)`${te}.schema`,B),D.assign((0,t._)`${te}.data`,q))})}e.extendErrors=h;function v(D,k){const B=D.const("err",k);D.if((0,t._)`${o.default.vErrors} === null`,()=>D.assign(o.default.vErrors,(0,t._)`[${B}]`),(0,t._)`${o.default.vErrors}.push(${B})`),D.code((0,t._)`${o.default.errors}++`)}function b(D,k){const{gen:B,validateName:q,schemaEnv:V}=D;V.$async?B.throw((0,t._)`new ${D.ValidationError}(${k})`):(B.assign((0,t._)`${q}.errors`,k),B.return(!1))}const y={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function w(D,k,B){const{createErrors:q}=D.it;return q===!1?(0,t._)`{}`:O(D,k,B)}function O(D,k,B={}){const{gen:q,it:V}=D,ee=[P(V,B),C(D,B)];return x(D,k,ee),q.object(...ee)}function P({errorPath:D},{instancePath:k}){const B=k?(0,t.str)`${D}${(0,n.getErrorPath)(k,n.Type.Str)}`:D;return[o.default.instancePath,(0,t.strConcat)(o.default.instancePath,B)]}function C({keyword:D,it:{errSchemaPath:k}},{schemaPath:B,parentSchema:q}){let V=q?k:(0,t.str)`${k}/${D}`;return B&&(V=(0,t.str)`${V}${(0,n.getErrorPath)(B,n.Type.Str)}`),[y.schemaPath,V]}function x(D,{params:k,message:B},q){const{keyword:V,data:ee,schemaValue:te,it:ce}=D,{opts:Q,propertyName:ne,topSchemaRef:fe,schemaPath:l}=ce;q.push([y.keyword,V],[y.params,typeof k=="function"?k(D):k||(0,t._)`{}`]),Q.messages&&q.push([y.message,typeof B=="function"?B(D):B]),Q.verbose&&q.push([y.schema,te],[y.parentSchema,(0,t._)`${fe}${l}`],[o.default.data,ee]),ne&&q.push([y.propertyName,ne])}}(errors$1),Object.defineProperty(boolSchema,"__esModule",{value:!0}),boolSchema.boolOrEmptySchema=boolSchema.topBoolOrEmptySchema=void 0;const errors_1$3=errors$1,codegen_1$s=codegen,names_1$6=names$1,boolError={message:"boolean schema is false"};function topBoolOrEmptySchema(e){const{gen:t,schema:n,validateName:o}=e;n===!1?falseSchemaError(e,!1):typeof n=="object"&&n.$async===!0?t.return(names_1$6.default.data):(t.assign((0,codegen_1$s._)`${o}.errors`,null),t.return(!0))}boolSchema.topBoolOrEmptySchema=topBoolOrEmptySchema;function boolOrEmptySchema(e,t){const{gen:n,schema:o}=e;o===!1?(n.var(t,!1),falseSchemaError(e)):n.var(t,!0)}boolSchema.boolOrEmptySchema=boolOrEmptySchema;function falseSchemaError(e,t){const{gen:n,data:o}=e,c={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,errors_1$3.reportError)(c,boolError,void 0,t)}var dataType={},rules={};Object.defineProperty(rules,"__esModule",{value:!0}),rules.getRules=rules.isJSONType=void 0;const _jsonTypes=["string","number","integer","boolean","null","object","array"],jsonTypes=new Set(_jsonTypes);function isJSONType(e){return typeof e=="string"&&jsonTypes.has(e)}rules.isJSONType=isJSONType;function getRules(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}rules.getRules=getRules;var applicability={};Object.defineProperty(applicability,"__esModule",{value:!0}),applicability.shouldUseRule=applicability.shouldUseGroup=applicability.schemaHasRulesForType=void 0;function schemaHasRulesForType({schema:e,self:t},n){const o=t.RULES.types[n];return o&&o!==!0&&shouldUseGroup(e,o)}applicability.schemaHasRulesForType=schemaHasRulesForType;function shouldUseGroup(e,t){return t.rules.some(n=>shouldUseRule(e,n))}applicability.shouldUseGroup=shouldUseGroup;function shouldUseRule(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(o=>e[o]!==void 0))}applicability.shouldUseRule=shouldUseRule,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=rules,n=applicability,o=errors$1,c=codegen,a=util;var u;(function(q){q[q.Correct=0]="Correct",q[q.Wrong=1]="Wrong"})(u=e.DataType||(e.DataType={}));function h(q){const V=v(q.type);if(V.includes("null")){if(q.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!V.length&&q.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');q.nullable===!0&&V.push("null")}return V}e.getSchemaTypes=h;function v(q){const V=Array.isArray(q)?q:q?[q]:[];if(V.every(t.isJSONType))return V;throw new Error("type must be JSONType or JSONType[]: "+V.join(","))}e.getJSONTypes=v;function b(q,V){const{gen:ee,data:te,opts:ce}=q,Q=w(V,ce.coerceTypes),ne=V.length>0&&!(Q.length===0&&V.length===1&&(0,n.schemaHasRulesForType)(q,V[0]));if(ne){const fe=x(V,te,ce.strictNumbers,u.Wrong);ee.if(fe,()=>{Q.length?O(q,V,Q):k(q)})}return ne}e.coerceAndCheckDataType=b;const y=new Set(["string","number","integer","boolean","null"]);function w(q,V){return V?q.filter(ee=>y.has(ee)||V==="array"&&ee==="array"):[]}function O(q,V,ee){const{gen:te,data:ce,opts:Q}=q,ne=te.let("dataType",(0,c._)`typeof ${ce}`),fe=te.let("coerced",(0,c._)`undefined`);Q.coerceTypes==="array"&&te.if((0,c._)`${ne} == 'object' && Array.isArray(${ce}) && ${ce}.length == 1`,()=>te.assign(ce,(0,c._)`${ce}[0]`).assign(ne,(0,c._)`typeof ${ce}`).if(x(V,ce,Q.strictNumbers),()=>te.assign(fe,ce))),te.if((0,c._)`${fe} !== undefined`);for(const p of ee)(y.has(p)||p==="array"&&Q.coerceTypes==="array")&&l(p);te.else(),k(q),te.endIf(),te.if((0,c._)`${fe} !== undefined`,()=>{te.assign(ce,fe),P(q,fe)});function l(p){switch(p){case"string":te.elseIf((0,c._)`${ne} == "number" || ${ne} == "boolean"`).assign(fe,(0,c._)`"" + ${ce}`).elseIf((0,c._)`${ce} === null`).assign(fe,(0,c._)`""`);return;case"number":te.elseIf((0,c._)`${ne} == "boolean" || ${ce} === null
              || (${ne} == "string" && ${ce} && ${ce} == +${ce})`).assign(fe,(0,c._)`+${ce}`);return;case"integer":te.elseIf((0,c._)`${ne} === "boolean" || ${ce} === null
              || (${ne} === "string" && ${ce} && ${ce} == +${ce} && !(${ce} % 1))`).assign(fe,(0,c._)`+${ce}`);return;case"boolean":te.elseIf((0,c._)`${ce} === "false" || ${ce} === 0 || ${ce} === null`).assign(fe,!1).elseIf((0,c._)`${ce} === "true" || ${ce} === 1`).assign(fe,!0);return;case"null":te.elseIf((0,c._)`${ce} === "" || ${ce} === 0 || ${ce} === false`),te.assign(fe,null);return;case"array":te.elseIf((0,c._)`${ne} === "string" || ${ne} === "number"
              || ${ne} === "boolean" || ${ce} === null`).assign(fe,(0,c._)`[${ce}]`)}}}function P({gen:q,parentData:V,parentDataProperty:ee},te){q.if((0,c._)`${V} !== undefined`,()=>q.assign((0,c._)`${V}[${ee}]`,te))}function C(q,V,ee,te=u.Correct){const ce=te===u.Correct?c.operators.EQ:c.operators.NEQ;let Q;switch(q){case"null":return(0,c._)`${V} ${ce} null`;case"array":Q=(0,c._)`Array.isArray(${V})`;break;case"object":Q=(0,c._)`${V} && typeof ${V} == "object" && !Array.isArray(${V})`;break;case"integer":Q=ne((0,c._)`!(${V} % 1) && !isNaN(${V})`);break;case"number":Q=ne();break;default:return(0,c._)`typeof ${V} ${ce} ${q}`}return te===u.Correct?Q:(0,c.not)(Q);function ne(fe=c.nil){return(0,c.and)((0,c._)`typeof ${V} == "number"`,fe,ee?(0,c._)`isFinite(${V})`:c.nil)}}e.checkDataType=C;function x(q,V,ee,te){if(q.length===1)return C(q[0],V,ee,te);let ce;const Q=(0,a.toHash)(q);if(Q.array&&Q.object){const ne=(0,c._)`typeof ${V} != "object"`;ce=Q.null?ne:(0,c._)`!${V} || ${ne}`,delete Q.null,delete Q.array,delete Q.object}else ce=c.nil;Q.number&&delete Q.integer;for(const ne in Q)ce=(0,c.and)(ce,C(ne,V,ee,te));return ce}e.checkDataTypes=x;const D={message:({schema:q})=>`must be ${q}`,params:({schema:q,schemaValue:V})=>typeof q=="string"?(0,c._)`{type: ${q}}`:(0,c._)`{type: ${V}}`};function k(q){const V=B(q);(0,o.reportError)(V,D)}e.reportTypeError=k;function B(q){const{gen:V,data:ee,schema:te}=q,ce=(0,a.schemaRefOrVal)(q,te,"type");return{gen:V,keyword:"type",data:ee,schema:te.type,schemaCode:ce,schemaValue:ce,parentSchema:te,params:{},it:q}}}(dataType);var defaults={};Object.defineProperty(defaults,"__esModule",{value:!0}),defaults.assignDefaults=void 0;const codegen_1$r=codegen,util_1$p=util;function assignDefaults(e,t){const{properties:n,items:o}=e.schema;if(t==="object"&&n)for(const c in n)assignDefault(e,c,n[c].default);else t==="array"&&Array.isArray(o)&&o.forEach((c,a)=>assignDefault(e,a,c.default))}defaults.assignDefaults=assignDefaults;function assignDefault(e,t,n){const{gen:o,compositeRule:c,data:a,opts:u}=e;if(n===void 0)return;const h=(0,codegen_1$r._)`${a}${(0,codegen_1$r.getProperty)(t)}`;if(c){(0,util_1$p.checkStrictMode)(e,`default is ignored for: ${h}`);return}let v=(0,codegen_1$r._)`${h} === undefined`;u.useDefaults==="empty"&&(v=(0,codegen_1$r._)`${v} || ${h} === null || ${h} === ""`),o.if(v,(0,codegen_1$r._)`${h} = ${(0,codegen_1$r.stringify)(n)}`)}var keyword={},code={};Object.defineProperty(code,"__esModule",{value:!0}),code.validateUnion=code.validateArray=code.usePattern=code.callValidateCode=code.schemaProperties=code.allSchemaProperties=code.noPropertyInData=code.propertyInData=code.isOwnProperty=code.hasPropFunc=code.reportMissingProp=code.checkMissingProp=code.checkReportMissingProp=void 0;const codegen_1$q=codegen,util_1$o=util,names_1$5=names$1,util_2$1=util;function checkReportMissingProp(e,t){const{gen:n,data:o,it:c}=e;n.if(noPropertyInData(n,o,t,c.opts.ownProperties),()=>{e.setParams({missingProperty:(0,codegen_1$q._)`${t}`},!0),e.error()})}code.checkReportMissingProp=checkReportMissingProp;function checkMissingProp({gen:e,data:t,it:{opts:n}},o,c){return(0,codegen_1$q.or)(...o.map(a=>(0,codegen_1$q.and)(noPropertyInData(e,t,a,n.ownProperties),(0,codegen_1$q._)`${c} = ${a}`)))}code.checkMissingProp=checkMissingProp;function reportMissingProp(e,t){e.setParams({missingProperty:t},!0),e.error()}code.reportMissingProp=reportMissingProp;function hasPropFunc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,codegen_1$q._)`Object.prototype.hasOwnProperty`})}code.hasPropFunc=hasPropFunc;function isOwnProperty(e,t,n){return(0,codegen_1$q._)`${hasPropFunc(e)}.call(${t}, ${n})`}code.isOwnProperty=isOwnProperty;function propertyInData(e,t,n,o){const c=(0,codegen_1$q._)`${t}${(0,codegen_1$q.getProperty)(n)} !== undefined`;return o?(0,codegen_1$q._)`${c} && ${isOwnProperty(e,t,n)}`:c}code.propertyInData=propertyInData;function noPropertyInData(e,t,n,o){const c=(0,codegen_1$q._)`${t}${(0,codegen_1$q.getProperty)(n)} === undefined`;return o?(0,codegen_1$q.or)(c,(0,codegen_1$q.not)(isOwnProperty(e,t,n))):c}code.noPropertyInData=noPropertyInData;function allSchemaProperties(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}code.allSchemaProperties=allSchemaProperties;function schemaProperties(e,t){return allSchemaProperties(t).filter(n=>!(0,util_1$o.alwaysValidSchema)(e,t[n]))}code.schemaProperties=schemaProperties;function callValidateCode({schemaCode:e,data:t,it:{gen:n,topSchemaRef:o,schemaPath:c,errorPath:a},it:u},h,v,b){const y=b?(0,codegen_1$q._)`${e}, ${t}, ${o}${c}`:t,w=[[names_1$5.default.instancePath,(0,codegen_1$q.strConcat)(names_1$5.default.instancePath,a)],[names_1$5.default.parentData,u.parentData],[names_1$5.default.parentDataProperty,u.parentDataProperty],[names_1$5.default.rootData,names_1$5.default.rootData]];u.opts.dynamicRef&&w.push([names_1$5.default.dynamicAnchors,names_1$5.default.dynamicAnchors]);const O=(0,codegen_1$q._)`${y}, ${n.object(...w)}`;return v!==codegen_1$q.nil?(0,codegen_1$q._)`${h}.call(${v}, ${O})`:(0,codegen_1$q._)`${h}(${O})`}code.callValidateCode=callValidateCode;const newRegExp=(0,codegen_1$q._)`new RegExp`;function usePattern({gen:e,it:{opts:t}},n){const o=t.unicodeRegExp?"u":"",{regExp:c}=t.code,a=c(n,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,codegen_1$q._)`${c.code==="new RegExp"?newRegExp:(0,util_2$1.useFunc)(e,c)}(${n}, ${o})`})}code.usePattern=usePattern;function validateArray(e){const{gen:t,data:n,keyword:o,it:c}=e,a=t.name("valid");if(c.allErrors){const h=t.let("valid",!0);return u(()=>t.assign(h,!1)),h}return t.var(a,!0),u(()=>t.break()),a;function u(h){const v=t.const("len",(0,codegen_1$q._)`${n}.length`);t.forRange("i",0,v,b=>{e.subschema({keyword:o,dataProp:b,dataPropType:util_1$o.Type.Num},a),t.if((0,codegen_1$q.not)(a),h)})}}code.validateArray=validateArray;function validateUnion(e){const{gen:t,schema:n,keyword:o,it:c}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(h=>(0,util_1$o.alwaysValidSchema)(c,h))&&!c.opts.unevaluated)return;const a=t.let("valid",!1),u=t.name("_valid");t.block(()=>n.forEach((h,v)=>{const b=e.subschema({keyword:o,schemaProp:v,compositeRule:!0},u);t.assign(a,(0,codegen_1$q._)`${a} || ${u}`),e.mergeValidEvaluated(b,u)||t.if((0,codegen_1$q.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}code.validateUnion=validateUnion,Object.defineProperty(keyword,"__esModule",{value:!0}),keyword.validateKeywordUsage=keyword.validSchemaType=keyword.funcKeywordCode=keyword.macroKeywordCode=void 0;const codegen_1$p=codegen,names_1$4=names$1,code_1$9=code,errors_1$2=errors$1;function macroKeywordCode(e,t){const{gen:n,keyword:o,schema:c,parentSchema:a,it:u}=e,h=t.macro.call(u.self,c,a,u),v=useKeyword(n,o,h);u.opts.validateSchema!==!1&&u.self.validateSchema(h,!0);const b=n.name("valid");e.subschema({schema:h,schemaPath:codegen_1$p.nil,errSchemaPath:`${u.errSchemaPath}/${o}`,topSchemaRef:v,compositeRule:!0},b),e.pass(b,()=>e.error(!0))}keyword.macroKeywordCode=macroKeywordCode;function funcKeywordCode(e,t){var n;const{gen:o,keyword:c,schema:a,parentSchema:u,$data:h,it:v}=e;checkAsyncKeyword(v,t);const b=!h&&t.compile?t.compile.call(v.self,a,u,v):t.validate,y=useKeyword(o,c,b),w=o.let("valid");e.block$data(w,O),e.ok((n=t.valid)!==null&&n!==void 0?n:w);function O(){if(t.errors===!1)x(),t.modifying&&modifyData(e),D(()=>e.error());else{const k=t.async?P():C();t.modifying&&modifyData(e),D(()=>addErrs(e,k))}}function P(){const k=o.let("ruleErrs",null);return o.try(()=>x((0,codegen_1$p._)`await `),B=>o.assign(w,!1).if((0,codegen_1$p._)`${B} instanceof ${v.ValidationError}`,()=>o.assign(k,(0,codegen_1$p._)`${B}.errors`),()=>o.throw(B))),k}function C(){const k=(0,codegen_1$p._)`${y}.errors`;return o.assign(k,null),x(codegen_1$p.nil),k}function x(k=t.async?(0,codegen_1$p._)`await `:codegen_1$p.nil){const B=v.opts.passContext?names_1$4.default.this:names_1$4.default.self,q=!("compile"in t&&!h||t.schema===!1);o.assign(w,(0,codegen_1$p._)`${k}${(0,code_1$9.callValidateCode)(e,y,B,q)}`,t.modifying)}function D(k){var B;o.if((0,codegen_1$p.not)((B=t.valid)!==null&&B!==void 0?B:w),k)}}keyword.funcKeywordCode=funcKeywordCode;function modifyData(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,()=>t.assign(n,(0,codegen_1$p._)`${o.parentData}[${o.parentDataProperty}]`))}function addErrs(e,t){const{gen:n}=e;n.if((0,codegen_1$p._)`Array.isArray(${t})`,()=>{n.assign(names_1$4.default.vErrors,(0,codegen_1$p._)`${names_1$4.default.vErrors} === null ? ${t} : ${names_1$4.default.vErrors}.concat(${t})`).assign(names_1$4.default.errors,(0,codegen_1$p._)`${names_1$4.default.vErrors}.length`),(0,errors_1$2.extendErrors)(e)},()=>e.error())}function checkAsyncKeyword({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function useKeyword(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,codegen_1$p.stringify)(n)})}function validSchemaType(e,t,n=!1){return!t.length||t.some(o=>o==="array"?Array.isArray(e):o==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==o||n&&typeof e>"u")}keyword.validSchemaType=validSchemaType;function validateKeywordUsage({schema:e,opts:t,self:n,errSchemaPath:o},c,a){if(Array.isArray(c.keyword)?!c.keyword.includes(a):c.keyword!==a)throw new Error("ajv implementation error");const u=c.dependencies;if(u!=null&&u.some(h=>!Object.prototype.hasOwnProperty.call(e,h)))throw new Error(`parent schema must have dependencies of ${a}: ${u.join(",")}`);if(c.validateSchema&&!c.validateSchema(e[a])){const h=`keyword "${a}" value is invalid at path "${o}": `+n.errorsText(c.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(h);else throw new Error(h)}}keyword.validateKeywordUsage=validateKeywordUsage;var subschema={};Object.defineProperty(subschema,"__esModule",{value:!0}),subschema.extendSubschemaMode=subschema.extendSubschemaData=subschema.getSubschema=void 0;const codegen_1$o=codegen,util_1$n=util;function getSubschema(e,{keyword:t,schemaProp:n,schema:o,schemaPath:c,errSchemaPath:a,topSchemaRef:u}){if(t!==void 0&&o!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const h=e.schema[t];return n===void 0?{schema:h,schemaPath:(0,codegen_1$o._)`${e.schemaPath}${(0,codegen_1$o.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:h[n],schemaPath:(0,codegen_1$o._)`${e.schemaPath}${(0,codegen_1$o.getProperty)(t)}${(0,codegen_1$o.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,util_1$n.escapeFragment)(n)}`}}if(o!==void 0){if(c===void 0||a===void 0||u===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:c,topSchemaRef:u,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}subschema.getSubschema=getSubschema;function extendSubschemaData(e,t,{dataProp:n,dataPropType:o,data:c,dataTypes:a,propertyName:u}){if(c!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=t;if(n!==void 0){const{errorPath:b,dataPathArr:y,opts:w}=t,O=h.let("data",(0,codegen_1$o._)`${t.data}${(0,codegen_1$o.getProperty)(n)}`,!0);v(O),e.errorPath=(0,codegen_1$o.str)`${b}${(0,util_1$n.getErrorPath)(n,o,w.jsPropertySyntax)}`,e.parentDataProperty=(0,codegen_1$o._)`${n}`,e.dataPathArr=[...y,e.parentDataProperty]}if(c!==void 0){const b=c instanceof codegen_1$o.Name?c:h.let("data",c,!0);v(b),u!==void 0&&(e.propertyName=u)}a&&(e.dataTypes=a);function v(b){e.data=b,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,b]}}subschema.extendSubschemaData=extendSubschemaData;function extendSubschemaMode(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:o,createErrors:c,allErrors:a}){o!==void 0&&(e.compositeRule=o),c!==void 0&&(e.createErrors=c),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=n}subschema.extendSubschemaMode=extendSubschemaMode;var resolve$1={};Object.defineProperty(resolve$1,"__esModule",{value:!0}),resolve$1.getSchemaRefs=resolve$1.resolveUrl=resolve$1.normalizeId=resolve$1._getFullPath=resolve$1.getFullPath=resolve$1.inlineRef=void 0;const util_1$m=util,equal$2=fastDeepEqual,traverse=jsonSchemaTraverseExports,SIMPLE_INLINED=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function inlineRef(e,t=!0){return typeof e=="boolean"?!0:t===!0?!hasRef(e):t?countKeys(e)<=t:!1}resolve$1.inlineRef=inlineRef;const REF_KEYWORDS=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hasRef(e){for(const t in e){if(REF_KEYWORDS.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(hasRef)||typeof n=="object"&&hasRef(n))return!0}return!1}function countKeys(e){let t=0;for(const n in e)if(n==="$ref"||(t++,!SIMPLE_INLINED.has(n)&&(typeof e[n]=="object"&&(0,util_1$m.eachItem)(e[n],o=>t+=countKeys(o)),t===1/0)))return 1/0;return t}function getFullPath(e,t="",n){n!==!1&&(t=normalizeId(t));const o=e.parse(t);return _getFullPath(e,o)}resolve$1.getFullPath=getFullPath;function _getFullPath(e,t){return e.serialize(t).split("#")[0]+"#"}resolve$1._getFullPath=_getFullPath;const TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(e){return e?e.replace(TRAILING_SLASH_HASH,""):""}resolve$1.normalizeId=normalizeId;function resolveUrl(e,t,n){return n=normalizeId(n),e.resolve(t,n)}resolve$1.resolveUrl=resolveUrl;const ANCHOR=/^[a-z_][-a-z0-9._]*$/i;function getSchemaRefs(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:o}=this.opts,c=normalizeId(e[n]||t),a={"":c},u=getFullPath(o,c,!1),h={},v=new Set;return traverse(e,{allKeys:!0},(w,O,P,C)=>{if(C===void 0)return;const x=u+O;let D=a[C];typeof w[n]=="string"&&(D=k.call(this,w[n])),B.call(this,w.$anchor),B.call(this,w.$dynamicAnchor),a[O]=D;function k(q){const V=this.opts.uriResolver.resolve;if(q=normalizeId(D?V(D,q):q),v.has(q))throw y(q);v.add(q);let ee=this.refs[q];return typeof ee=="string"&&(ee=this.refs[ee]),typeof ee=="object"?b(w,ee.schema,q):q!==normalizeId(x)&&(q[0]==="#"?(b(w,h[q],q),h[q]=w):this.refs[q]=x),q}function B(q){if(typeof q=="string"){if(!ANCHOR.test(q))throw new Error(`invalid anchor "${q}"`);k.call(this,`#${q}`)}}}),h;function b(w,O,P){if(O!==void 0&&!equal$2(w,O))throw y(P)}function y(w){return new Error(`reference "${w}" resolves to more than one schema`)}}resolve$1.getSchemaRefs=getSchemaRefs,Object.defineProperty(validate,"__esModule",{value:!0}),validate.getData=validate.KeywordCxt=validate.validateFunctionCode=void 0;const boolSchema_1=boolSchema,dataType_1$1=dataType,applicability_1=applicability,dataType_2=dataType,defaults_1=defaults,keyword_1=keyword,subschema_1=subschema,codegen_1$n=codegen,names_1$3=names$1,resolve_1$2=resolve$1,util_1$l=util,errors_1$1=errors$1;function validateFunctionCode(e){if(isSchemaObj(e)&&(checkKeywords(e),schemaCxtHasRules(e))){topSchemaObjCode(e);return}validateFunction(e,()=>(0,boolSchema_1.topBoolOrEmptySchema)(e))}validate.validateFunctionCode=validateFunctionCode;function validateFunction({gen:e,validateName:t,schema:n,schemaEnv:o,opts:c},a){c.code.es5?e.func(t,(0,codegen_1$n._)`${names_1$3.default.data}, ${names_1$3.default.valCxt}`,o.$async,()=>{e.code((0,codegen_1$n._)`"use strict"; ${funcSourceUrl(n,c)}`),destructureValCxtES5(e,c),e.code(a)}):e.func(t,(0,codegen_1$n._)`${names_1$3.default.data}, ${destructureValCxt(c)}`,o.$async,()=>e.code(funcSourceUrl(n,c)).code(a))}function destructureValCxt(e){return(0,codegen_1$n._)`{${names_1$3.default.instancePath}="", ${names_1$3.default.parentData}, ${names_1$3.default.parentDataProperty}, ${names_1$3.default.rootData}=${names_1$3.default.data}${e.dynamicRef?(0,codegen_1$n._)`, ${names_1$3.default.dynamicAnchors}={}`:codegen_1$n.nil}}={}`}function destructureValCxtES5(e,t){e.if(names_1$3.default.valCxt,()=>{e.var(names_1$3.default.instancePath,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.instancePath}`),e.var(names_1$3.default.parentData,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.parentData}`),e.var(names_1$3.default.parentDataProperty,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.parentDataProperty}`),e.var(names_1$3.default.rootData,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.rootData}`),t.dynamicRef&&e.var(names_1$3.default.dynamicAnchors,(0,codegen_1$n._)`${names_1$3.default.valCxt}.${names_1$3.default.dynamicAnchors}`)},()=>{e.var(names_1$3.default.instancePath,(0,codegen_1$n._)`""`),e.var(names_1$3.default.parentData,(0,codegen_1$n._)`undefined`),e.var(names_1$3.default.parentDataProperty,(0,codegen_1$n._)`undefined`),e.var(names_1$3.default.rootData,names_1$3.default.data),t.dynamicRef&&e.var(names_1$3.default.dynamicAnchors,(0,codegen_1$n._)`{}`)})}function topSchemaObjCode(e){const{schema:t,opts:n,gen:o}=e;validateFunction(e,()=>{n.$comment&&t.$comment&&commentKeyword(e),checkNoDefault(e),o.let(names_1$3.default.vErrors,null),o.let(names_1$3.default.errors,0),n.unevaluated&&resetEvaluated(e),typeAndKeywords(e),returnResults(e)})}function resetEvaluated(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,codegen_1$n._)`${n}.evaluated`),t.if((0,codegen_1$n._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,codegen_1$n._)`${e.evaluated}.props`,(0,codegen_1$n._)`undefined`)),t.if((0,codegen_1$n._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,codegen_1$n._)`${e.evaluated}.items`,(0,codegen_1$n._)`undefined`))}function funcSourceUrl(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,codegen_1$n._)`/*# sourceURL=${n} */`:codegen_1$n.nil}function subschemaCode(e,t){if(isSchemaObj(e)&&(checkKeywords(e),schemaCxtHasRules(e))){subSchemaObjCode(e,t);return}(0,boolSchema_1.boolOrEmptySchema)(e,t)}function schemaCxtHasRules({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function isSchemaObj(e){return typeof e.schema!="boolean"}function subSchemaObjCode(e,t){const{schema:n,gen:o,opts:c}=e;c.$comment&&n.$comment&&commentKeyword(e),updateContext(e),checkAsyncSchema(e);const a=o.const("_errs",names_1$3.default.errors);typeAndKeywords(e,a),o.var(t,(0,codegen_1$n._)`${a} === ${names_1$3.default.errors}`)}function checkKeywords(e){(0,util_1$l.checkUnknownRules)(e),checkRefsAndKeywords(e)}function typeAndKeywords(e,t){if(e.opts.jtd)return schemaKeywords(e,[],!1,t);const n=(0,dataType_1$1.getSchemaTypes)(e.schema),o=(0,dataType_1$1.coerceAndCheckDataType)(e,n);schemaKeywords(e,n,!o,t)}function checkRefsAndKeywords(e){const{schema:t,errSchemaPath:n,opts:o,self:c}=e;t.$ref&&o.ignoreKeywordsWithRef&&(0,util_1$l.schemaHasRulesButRef)(t,c.RULES)&&c.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function checkNoDefault(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,util_1$l.checkStrictMode)(e,"default is ignored in the schema root")}function updateContext(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,resolve_1$2.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function checkAsyncSchema(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function commentKeyword({gen:e,schemaEnv:t,schema:n,errSchemaPath:o,opts:c}){const a=n.$comment;if(c.$comment===!0)e.code((0,codegen_1$n._)`${names_1$3.default.self}.logger.log(${a})`);else if(typeof c.$comment=="function"){const u=(0,codegen_1$n.str)`${o}/$comment`,h=e.scopeValue("root",{ref:t.root});e.code((0,codegen_1$n._)`${names_1$3.default.self}.opts.$comment(${a}, ${u}, ${h}.schema)`)}}function returnResults(e){const{gen:t,schemaEnv:n,validateName:o,ValidationError:c,opts:a}=e;n.$async?t.if((0,codegen_1$n._)`${names_1$3.default.errors} === 0`,()=>t.return(names_1$3.default.data),()=>t.throw((0,codegen_1$n._)`new ${c}(${names_1$3.default.vErrors})`)):(t.assign((0,codegen_1$n._)`${o}.errors`,names_1$3.default.vErrors),a.unevaluated&&assignEvaluated(e),t.return((0,codegen_1$n._)`${names_1$3.default.errors} === 0`))}function assignEvaluated({gen:e,evaluated:t,props:n,items:o}){n instanceof codegen_1$n.Name&&e.assign((0,codegen_1$n._)`${t}.props`,n),o instanceof codegen_1$n.Name&&e.assign((0,codegen_1$n._)`${t}.items`,o)}function schemaKeywords(e,t,n,o){const{gen:c,schema:a,data:u,allErrors:h,opts:v,self:b}=e,{RULES:y}=b;if(a.$ref&&(v.ignoreKeywordsWithRef||!(0,util_1$l.schemaHasRulesButRef)(a,y))){c.block(()=>keywordCode(e,"$ref",y.all.$ref.definition));return}v.jtd||checkStrictTypes(e,t),c.block(()=>{for(const O of y.rules)w(O);w(y.post)});function w(O){(0,applicability_1.shouldUseGroup)(a,O)&&(O.type?(c.if((0,dataType_2.checkDataType)(O.type,u,v.strictNumbers)),iterateKeywords(e,O),t.length===1&&t[0]===O.type&&n&&(c.else(),(0,dataType_2.reportTypeError)(e)),c.endIf()):iterateKeywords(e,O),h||c.if((0,codegen_1$n._)`${names_1$3.default.errors} === ${o||0}`))}}function iterateKeywords(e,t){const{gen:n,schema:o,opts:{useDefaults:c}}=e;c&&(0,defaults_1.assignDefaults)(e,t.type),n.block(()=>{for(const a of t.rules)(0,applicability_1.shouldUseRule)(o,a)&&keywordCode(e,a.keyword,a.definition,t.type)})}function checkStrictTypes(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(checkContextTypes(e,t),e.opts.allowUnionTypes||checkMultipleTypes(e,t),checkKeywordTypes(e,e.dataTypes))}function checkContextTypes(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{includesType(e.dataTypes,n)||strictTypesError(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(n=>includesType(t,n))}}function checkMultipleTypes(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&strictTypesError(e,"use allowUnionTypes to allow union type keyword")}function checkKeywordTypes(e,t){const n=e.self.RULES.all;for(const o in n){const c=n[o];if(typeof c=="object"&&(0,applicability_1.shouldUseRule)(e.schema,c)){const{type:a}=c.definition;a.length&&!a.some(u=>hasApplicableType(t,u))&&strictTypesError(e,`missing type "${a.join(",")}" for keyword "${o}"`)}}}function hasApplicableType(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function includesType(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function strictTypesError(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,util_1$l.checkStrictMode)(e,t,e.opts.strictTypes)}class KeywordCxt{constructor(t,n,o){if((0,keyword_1.validateKeywordUsage)(t,n,o),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=o,this.data=t.data,this.schema=t.schema[o],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,util_1$l.schemaRefOrVal)(t,this.schema,o,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",getData(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,keyword_1.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${o} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",names_1$3.default.errors))}result(t,n,o){this.failResult((0,codegen_1$n.not)(t),n,o)}failResult(t,n,o){this.gen.if(t),o?o():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,codegen_1$n.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,codegen_1$n._)`${n} !== undefined && (${(0,codegen_1$n.or)(this.invalid$data(),t)})`)}error(t,n,o){if(n){this.setParams(n),this._error(t,o),this.setParams({});return}this._error(t,o)}_error(t,n){(t?errors_1$1.reportExtraError:errors_1$1.reportError)(this,this.def.error,n)}$dataError(){(0,errors_1$1.reportError)(this,this.def.$dataError||errors_1$1.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,errors_1$1.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,o=codegen_1$n.nil){this.gen.block(()=>{this.check$data(t,o),n()})}check$data(t=codegen_1$n.nil,n=codegen_1$n.nil){if(!this.$data)return;const{gen:o,schemaCode:c,schemaType:a,def:u}=this;o.if((0,codegen_1$n.or)((0,codegen_1$n._)`${c} === undefined`,n)),t!==codegen_1$n.nil&&o.assign(t,!0),(a.length||u.validateSchema)&&(o.elseIf(this.invalid$data()),this.$dataError(),t!==codegen_1$n.nil&&o.assign(t,!1)),o.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:o,def:c,it:a}=this;return(0,codegen_1$n.or)(u(),h());function u(){if(o.length){if(!(n instanceof codegen_1$n.Name))throw new Error("ajv implementation error");const v=Array.isArray(o)?o:[o];return(0,codegen_1$n._)`${(0,dataType_2.checkDataTypes)(v,n,a.opts.strictNumbers,dataType_2.DataType.Wrong)}`}return codegen_1$n.nil}function h(){if(c.validateSchema){const v=t.scopeValue("validate$data",{ref:c.validateSchema});return(0,codegen_1$n._)`!${v}(${n})`}return codegen_1$n.nil}}subschema(t,n){const o=(0,subschema_1.getSubschema)(this.it,t);(0,subschema_1.extendSubschemaData)(o,this.it,t),(0,subschema_1.extendSubschemaMode)(o,t);const c={...this.it,...o,items:void 0,props:void 0};return subschemaCode(c,n),c}mergeEvaluated(t,n){const{it:o,gen:c}=this;o.opts.unevaluated&&(o.props!==!0&&t.props!==void 0&&(o.props=util_1$l.mergeEvaluated.props(c,t.props,o.props,n)),o.items!==!0&&t.items!==void 0&&(o.items=util_1$l.mergeEvaluated.items(c,t.items,o.items,n)))}mergeValidEvaluated(t,n){const{it:o,gen:c}=this;if(o.opts.unevaluated&&(o.props!==!0||o.items!==!0))return c.if(n,()=>this.mergeEvaluated(t,codegen_1$n.Name)),!0}}validate.KeywordCxt=KeywordCxt;function keywordCode(e,t,n,o){const c=new KeywordCxt(e,n,t);"code"in n?n.code(c,o):c.$data&&n.validate?(0,keyword_1.funcKeywordCode)(c,n):"macro"in n?(0,keyword_1.macroKeywordCode)(c,n):(n.compile||n.validate)&&(0,keyword_1.funcKeywordCode)(c,n)}const JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData(e,{dataLevel:t,dataNames:n,dataPathArr:o}){let c,a;if(e==="")return names_1$3.default.rootData;if(e[0]==="/"){if(!JSON_POINTER.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);c=e,a=names_1$3.default.rootData}else{const b=RELATIVE_JSON_POINTER.exec(e);if(!b)throw new Error(`Invalid JSON-pointer: ${e}`);const y=+b[1];if(c=b[2],c==="#"){if(y>=t)throw new Error(v("property/index",y));return o[t-y]}if(y>t)throw new Error(v("data",y));if(a=n[t-y],!c)return a}let u=a;const h=c.split("/");for(const b of h)b&&(a=(0,codegen_1$n._)`${a}${(0,codegen_1$n.getProperty)((0,util_1$l.unescapeJsonPointer)(b))}`,u=(0,codegen_1$n._)`${u} && ${a}`);return u;function v(b,y){return`Cannot access ${b} ${y} levels up, current level is ${t}`}}validate.getData=getData;var validation_error={};Object.defineProperty(validation_error,"__esModule",{value:!0});class ValidationError extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}validation_error.default=ValidationError;var ref_error={};Object.defineProperty(ref_error,"__esModule",{value:!0});const resolve_1$1=resolve$1;class MissingRefError extends Error{constructor(t,n,o,c){super(c||`can't resolve reference ${o} from id ${n}`),this.missingRef=(0,resolve_1$1.resolveUrl)(t,n,o),this.missingSchema=(0,resolve_1$1.normalizeId)((0,resolve_1$1.getFullPath)(t,this.missingRef))}}ref_error.default=MissingRefError;var compile={};Object.defineProperty(compile,"__esModule",{value:!0}),compile.resolveSchema=compile.getCompilingSchema=compile.resolveRef=compile.compileSchema=compile.SchemaEnv=void 0;const codegen_1$m=codegen,validation_error_1=validation_error,names_1$2=names$1,resolve_1=resolve$1,util_1$k=util,validate_1$1=validate;class SchemaEnv{constructor(t){var n;this.refs={},this.dynamicAnchors={};let o;typeof t.schema=="object"&&(o=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,resolve_1.normalizeId)(o==null?void 0:o[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=o==null?void 0:o.$async,this.refs={}}}compile.SchemaEnv=SchemaEnv;function compileSchema(e){const t=getCompilingSchema.call(this,e);if(t)return t;const n=(0,resolve_1.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:o,lines:c}=this.opts.code,{ownProperties:a}=this.opts,u=new codegen_1$m.CodeGen(this.scope,{es5:o,lines:c,ownProperties:a});let h;e.$async&&(h=u.scopeValue("Error",{ref:validation_error_1.default,code:(0,codegen_1$m._)`require("ajv/dist/runtime/validation_error").default`}));const v=u.scopeName("validate");e.validateName=v;const b={gen:u,allErrors:this.opts.allErrors,data:names_1$2.default.data,parentData:names_1$2.default.parentData,parentDataProperty:names_1$2.default.parentDataProperty,dataNames:[names_1$2.default.data],dataPathArr:[codegen_1$m.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,codegen_1$m.stringify)(e.schema)}:{ref:e.schema}),validateName:v,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:codegen_1$m.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,codegen_1$m._)`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,validate_1$1.validateFunctionCode)(b),u.optimize(this.opts.code.optimize);const w=u.toString();y=`${u.scopeRefs(names_1$2.default.scope)}return ${w}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const O=new Function(`${names_1$2.default.self}`,`${names_1$2.default.scope}`,y)(this,this.scope.get());if(this.scope.value(v,{ref:O}),O.errors=null,O.schema=e.schema,O.schemaEnv=e,e.$async&&(O.$async=!0),this.opts.code.source===!0&&(O.source={validateName:v,validateCode:w,scopeValues:u._values}),this.opts.unevaluated){const{props:P,items:C}=b;O.evaluated={props:P instanceof codegen_1$m.Name?void 0:P,items:C instanceof codegen_1$m.Name?void 0:C,dynamicProps:P instanceof codegen_1$m.Name,dynamicItems:C instanceof codegen_1$m.Name},O.source&&(O.source.evaluated=(0,codegen_1$m.stringify)(O.evaluated))}return e.validate=O,e}catch(w){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),w}finally{this._compilations.delete(e)}}compile.compileSchema=compileSchema;function resolveRef(e,t,n){var o;n=(0,resolve_1.resolveUrl)(this.opts.uriResolver,t,n);const c=e.refs[n];if(c)return c;let a=resolve.call(this,e,n);if(a===void 0){const u=(o=e.localRefs)===null||o===void 0?void 0:o[n],{schemaId:h}=this.opts;u&&(a=new SchemaEnv({schema:u,schemaId:h,root:e,baseId:t}))}if(a!==void 0)return e.refs[n]=inlineOrCompile.call(this,a)}compile.resolveRef=resolveRef;function inlineOrCompile(e){return(0,resolve_1.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:compileSchema.call(this,e)}function getCompilingSchema(e){for(const t of this._compilations)if(sameSchemaEnv(t,e))return t}compile.getCompilingSchema=getCompilingSchema;function sameSchemaEnv(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function resolve(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||resolveSchema.call(this,e,t)}function resolveSchema(e,t){const n=this.opts.uriResolver.parse(t),o=(0,resolve_1._getFullPath)(this.opts.uriResolver,n);let c=(0,resolve_1.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&o===c)return getJsonPointer.call(this,n,e);const a=(0,resolve_1.normalizeId)(o),u=this.refs[a]||this.schemas[a];if(typeof u=="string"){const h=resolveSchema.call(this,e,u);return typeof(h==null?void 0:h.schema)!="object"?void 0:getJsonPointer.call(this,n,h)}if(typeof(u==null?void 0:u.schema)=="object"){if(u.validate||compileSchema.call(this,u),a===(0,resolve_1.normalizeId)(t)){const{schema:h}=u,{schemaId:v}=this.opts,b=h[v];return b&&(c=(0,resolve_1.resolveUrl)(this.opts.uriResolver,c,b)),new SchemaEnv({schema:h,schemaId:v,root:e,baseId:c})}return getJsonPointer.call(this,n,u)}}compile.resolveSchema=resolveSchema;const PREVENT_SCOPE_CHANGE=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(e,{baseId:t,schema:n,root:o}){var c;if(((c=e.fragment)===null||c===void 0?void 0:c[0])!=="/")return;for(const h of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const v=n[(0,util_1$k.unescapeFragment)(h)];if(v===void 0)return;n=v;const b=typeof n=="object"&&n[this.opts.schemaId];!PREVENT_SCOPE_CHANGE.has(h)&&b&&(t=(0,resolve_1.resolveUrl)(this.opts.uriResolver,t,b))}let a;if(typeof n!="boolean"&&n.$ref&&!(0,util_1$k.schemaHasRulesButRef)(n,this.RULES)){const h=(0,resolve_1.resolveUrl)(this.opts.uriResolver,t,n.$ref);a=resolveSchema.call(this,o,h)}const{schemaId:u}=this.opts;if(a=a||new SchemaEnv({schema:n,schemaId:u,root:o,baseId:t}),a.schema!==a.root.schema)return a}const $id$1="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description="Meta-schema for $data reference (JSON AnySchema extension proposal)",type$1="object",required$1=["$data"],properties$2={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties$1=!1,require$$9={$id:$id$1,description,type:type$1,required:required$1,properties:properties$2,additionalProperties:additionalProperties$1};var uri$1={};Object.defineProperty(uri$1,"__esModule",{value:!0});const uri=uri_allExports;uri.code='require("ajv/dist/runtime/uri").default',uri$1.default=uri,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=validate;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=codegen;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const o=validation_error,c=ref_error,a=rules,u=compile,h=codegen,v=resolve$1,b=dataType,y=util,w=require$$9,O=uri$1,P=(E,M)=>new RegExp(E,M);P.code="new RegExp";const C=["removeAdditional","useDefaults","coerceTypes"],x=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),D={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},k={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},B=200;function q(E){var M,U,F,N,L,H,Y,Z,de,he,re,ae,be,ye,we,Te,ve,Ce,Oe,Se,Pe,nt,Me,Re,pt;const je=E.strict,Be=(M=E.code)===null||M===void 0?void 0:M.optimize,vt=Be===!0||Be===void 0?1:Be||0,Ne=(F=(U=E.code)===null||U===void 0?void 0:U.regExp)!==null&&F!==void 0?F:P,J=(N=E.uriResolver)!==null&&N!==void 0?N:O.default;return{strictSchema:(H=(L=E.strictSchema)!==null&&L!==void 0?L:je)!==null&&H!==void 0?H:!0,strictNumbers:(Z=(Y=E.strictNumbers)!==null&&Y!==void 0?Y:je)!==null&&Z!==void 0?Z:!0,strictTypes:(he=(de=E.strictTypes)!==null&&de!==void 0?de:je)!==null&&he!==void 0?he:"log",strictTuples:(ae=(re=E.strictTuples)!==null&&re!==void 0?re:je)!==null&&ae!==void 0?ae:"log",strictRequired:(ye=(be=E.strictRequired)!==null&&be!==void 0?be:je)!==null&&ye!==void 0?ye:!1,code:E.code?{...E.code,optimize:vt,regExp:Ne}:{optimize:vt,regExp:Ne},loopRequired:(we=E.loopRequired)!==null&&we!==void 0?we:B,loopEnum:(Te=E.loopEnum)!==null&&Te!==void 0?Te:B,meta:(ve=E.meta)!==null&&ve!==void 0?ve:!0,messages:(Ce=E.messages)!==null&&Ce!==void 0?Ce:!0,inlineRefs:(Oe=E.inlineRefs)!==null&&Oe!==void 0?Oe:!0,schemaId:(Se=E.schemaId)!==null&&Se!==void 0?Se:"$id",addUsedSchema:(Pe=E.addUsedSchema)!==null&&Pe!==void 0?Pe:!0,validateSchema:(nt=E.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(Me=E.validateFormats)!==null&&Me!==void 0?Me:!0,unicodeRegExp:(Re=E.unicodeRegExp)!==null&&Re!==void 0?Re:!0,int32range:(pt=E.int32range)!==null&&pt!==void 0?pt:!0,uriResolver:J}}class V{constructor(M={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,M=this.opts={...M,...q(M)};const{es5:U,lines:F}=this.opts.code;this.scope=new h.ValueScope({scope:{},prefixes:x,es5:U,lines:F}),this.logger=p(M.logger);const N=M.validateFormats;M.validateFormats=!1,this.RULES=(0,a.getRules)(),ee.call(this,D,M,"NOT SUPPORTED"),ee.call(this,k,M,"DEPRECATED","warn"),this._metaOpts=fe.call(this),M.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),M.keywords&&ne.call(this,M.keywords),typeof M.meta=="object"&&this.addMetaSchema(M.meta),ce.call(this),M.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:M,meta:U,schemaId:F}=this.opts;let N=w;F==="id"&&(N={...w},N.id=N.$id,delete N.$id),U&&M&&this.addMetaSchema(N,N[F],!1)}defaultMeta(){const{meta:M,schemaId:U}=this.opts;return this.opts.defaultMeta=typeof M=="object"?M[U]||M:void 0}validate(M,U){let F;if(typeof M=="string"){if(F=this.getSchema(M),!F)throw new Error(`no schema with key or ref "${M}"`)}else F=this.compile(M);const N=F(U);return"$async"in F||(this.errors=F.errors),N}compile(M,U){const F=this._addSchema(M,U);return F.validate||this._compileSchemaEnv(F)}compileAsync(M,U){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return N.call(this,M,U);async function N(he,re){await L.call(this,he.$schema);const ae=this._addSchema(he,re);return ae.validate||H.call(this,ae)}async function L(he){he&&!this.getSchema(he)&&await N.call(this,{$ref:he},!0)}async function H(he){try{return this._compileSchemaEnv(he)}catch(re){if(!(re instanceof c.default))throw re;return Y.call(this,re),await Z.call(this,re.missingSchema),H.call(this,he)}}function Y({missingSchema:he,missingRef:re}){if(this.refs[he])throw new Error(`AnySchema ${he} is loaded but ${re} cannot be resolved`)}async function Z(he){const re=await de.call(this,he);this.refs[he]||await L.call(this,re.$schema),this.refs[he]||this.addSchema(re,he,U)}async function de(he){const re=this._loading[he];if(re)return re;try{return await(this._loading[he]=F(he))}finally{delete this._loading[he]}}}addSchema(M,U,F,N=this.opts.validateSchema){if(Array.isArray(M)){for(const H of M)this.addSchema(H,void 0,F,N);return this}let L;if(typeof M=="object"){const{schemaId:H}=this.opts;if(L=M[H],L!==void 0&&typeof L!="string")throw new Error(`schema ${H} must be string`)}return U=(0,v.normalizeId)(U||L),this._checkUnique(U),this.schemas[U]=this._addSchema(M,F,U,N,!0),this}addMetaSchema(M,U,F=this.opts.validateSchema){return this.addSchema(M,U,!0,F),this}validateSchema(M,U){if(typeof M=="boolean")return!0;let F;if(F=M.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(F,M);if(!N&&U){const L="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(L);else throw new Error(L)}return N}getSchema(M){let U;for(;typeof(U=te.call(this,M))=="string";)M=U;if(U===void 0){const{schemaId:F}=this.opts,N=new u.SchemaEnv({schema:{},schemaId:F});if(U=u.resolveSchema.call(this,N,M),!U)return;this.refs[M]=U}return U.validate||this._compileSchemaEnv(U)}removeSchema(M){if(M instanceof RegExp)return this._removeAllSchemas(this.schemas,M),this._removeAllSchemas(this.refs,M),this;switch(typeof M){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const U=te.call(this,M);return typeof U=="object"&&this._cache.delete(U.schema),delete this.schemas[M],delete this.refs[M],this}case"object":{const U=M;this._cache.delete(U);let F=M[this.opts.schemaId];return F&&(F=(0,v.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(M){for(const U of M)this.addKeyword(U);return this}addKeyword(M,U){let F;if(typeof M=="string")F=M,typeof U=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),U.keyword=F);else if(typeof M=="object"&&U===void 0){if(U=M,F=U.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(_.call(this,F,U),!U)return(0,y.eachItem)(F,L=>A.call(this,L)),this;T.call(this,U);const N={...U,type:(0,b.getJSONTypes)(U.type),schemaType:(0,b.getJSONTypes)(U.schemaType)};return(0,y.eachItem)(F,N.type.length===0?L=>A.call(this,L,N):L=>N.type.forEach(H=>A.call(this,L,N,H))),this}getKeyword(M){const U=this.RULES.all[M];return typeof U=="object"?U.definition:!!U}removeKeyword(M){const{RULES:U}=this;delete U.keywords[M],delete U.all[M];for(const F of U.rules){const N=F.rules.findIndex(L=>L.keyword===M);N>=0&&F.rules.splice(N,1)}return this}addFormat(M,U){return typeof U=="string"&&(U=new RegExp(U)),this.formats[M]=U,this}errorsText(M=this.errors,{separator:U=", ",dataVar:F="data"}={}){return!M||M.length===0?"No errors":M.map(N=>`${F}${N.instancePath} ${N.message}`).reduce((N,L)=>N+U+L)}$dataMetaSchema(M,U){const F=this.RULES.all;M=JSON.parse(JSON.stringify(M));for(const N of U){const L=N.split("/").slice(1);let H=M;for(const Y of L)H=H[Y];for(const Y in F){const Z=F[Y];if(typeof Z!="object")continue;const{$data:de}=Z.definition,he=H[Y];de&&he&&(H[Y]=d(he))}}return M}_removeAllSchemas(M,U){for(const F in M){const N=M[F];(!U||U.test(F))&&(typeof N=="string"?delete M[F]:N&&!N.meta&&(this._cache.delete(N.schema),delete M[F]))}}_addSchema(M,U,F,N=this.opts.validateSchema,L=this.opts.addUsedSchema){let H;const{schemaId:Y}=this.opts;if(typeof M=="object")H=M[Y];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof M!="boolean")throw new Error("schema must be object or boolean")}let Z=this._cache.get(M);if(Z!==void 0)return Z;F=(0,v.normalizeId)(H||F);const de=v.getSchemaRefs.call(this,M,F);return Z=new u.SchemaEnv({schema:M,schemaId:Y,meta:U,baseId:F,localRefs:de}),this._cache.set(Z.schema,Z),L&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=Z),N&&this.validateSchema(M,!0),Z}_checkUnique(M){if(this.schemas[M]||this.refs[M])throw new Error(`schema with key or id "${M}" already exists`)}_compileSchemaEnv(M){if(M.meta?this._compileMetaSchema(M):u.compileSchema.call(this,M),!M.validate)throw new Error("ajv implementation error");return M.validate}_compileMetaSchema(M){const U=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,M)}finally{this.opts=U}}}e.default=V,V.ValidationError=o.default,V.MissingRefError=c.default;function ee(E,M,U,F="error"){for(const N in E){const L=N;L in M&&this.logger[F](`${U}: option ${N}. ${E[L]}`)}}function te(E){return E=(0,v.normalizeId)(E),this.schemas[E]||this.refs[E]}function ce(){const E=this.opts.schemas;if(E)if(Array.isArray(E))this.addSchema(E);else for(const M in E)this.addSchema(E[M],M)}function Q(){for(const E in this.opts.formats){const M=this.opts.formats[E];M&&this.addFormat(E,M)}}function ne(E){if(Array.isArray(E)){this.addVocabulary(E);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const M in E){const U=E[M];U.keyword||(U.keyword=M),this.addKeyword(U)}}function fe(){const E={...this.opts};for(const M of C)delete E[M];return E}const l={log(){},warn(){},error(){}};function p(E){if(E===!1)return l;if(E===void 0)return console;if(E.log&&E.warn&&E.error)return E;throw new Error("logger must implement log, warn and error methods")}const m=/^[a-z_$][a-z0-9_$:-]*$/i;function _(E,M){const{RULES:U}=this;if((0,y.eachItem)(E,F=>{if(U.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!m.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!M&&M.$data&&!("code"in M||"validate"in M))throw new Error('$data keyword must have "code" or "validate" function')}function A(E,M,U){var F;const N=M==null?void 0:M.post;if(U&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:L}=this;let H=N?L.post:L.rules.find(({type:Z})=>Z===U);if(H||(H={type:U,rules:[]},L.rules.push(H)),L.keywords[E]=!0,!M)return;const Y={keyword:E,definition:{...M,type:(0,b.getJSONTypes)(M.type),schemaType:(0,b.getJSONTypes)(M.schemaType)}};M.before?I.call(this,H,Y,M.before):H.rules.push(Y),L.all[E]=Y,(F=M.implements)===null||F===void 0||F.forEach(Z=>this.addKeyword(Z))}function I(E,M,U){const F=E.rules.findIndex(N=>N.keyword===U);F>=0?E.rules.splice(F,0,M):(E.rules.push(M),this.logger.warn(`rule ${U} is not defined`))}function T(E){let{metaSchema:M}=E;M!==void 0&&(E.$data&&this.opts.$data&&(M=d(M)),E.validateSchema=this.compile(M,!0))}const S={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function d(E){return{anyOf:[E,S]}}}(core$2);var draft7={},core$1={},id$1={};Object.defineProperty(id$1,"__esModule",{value:!0});const def$s={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};id$1.default=def$s;var ref={};Object.defineProperty(ref,"__esModule",{value:!0}),ref.callRef=ref.getValidate=void 0;const ref_error_1=ref_error,code_1$8=code,codegen_1$l=codegen,names_1$1=names$1,compile_1$1=compile,util_1$j=util,def$r={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:c,schemaEnv:a,validateName:u,opts:h,self:v}=o,{root:b}=a;if((n==="#"||n==="#/")&&c===b.baseId)return w();const y=compile_1$1.resolveRef.call(v,b,c,n);if(y===void 0)throw new ref_error_1.default(o.opts.uriResolver,c,n);if(y instanceof compile_1$1.SchemaEnv)return O(y);return P(y);function w(){if(a===b)return callRef(e,u,a,a.$async);const C=t.scopeValue("root",{ref:b});return callRef(e,(0,codegen_1$l._)`${C}.validate`,b,b.$async)}function O(C){const x=getValidate(e,C);callRef(e,x,C,C.$async)}function P(C){const x=t.scopeValue("schema",h.code.source===!0?{ref:C,code:(0,codegen_1$l.stringify)(C)}:{ref:C}),D=t.name("valid"),k=e.subschema({schema:C,dataTypes:[],schemaPath:codegen_1$l.nil,topSchemaRef:x,errSchemaPath:n},D);e.mergeEvaluated(k),e.ok(D)}}};function getValidate(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,codegen_1$l._)`${n.scopeValue("wrapper",{ref:t})}.validate`}ref.getValidate=getValidate;function callRef(e,t,n,o){const{gen:c,it:a}=e,{allErrors:u,schemaEnv:h,opts:v}=a,b=v.passContext?names_1$1.default.this:codegen_1$l.nil;o?y():w();function y(){if(!h.$async)throw new Error("async schema referenced by sync schema");const C=c.let("valid");c.try(()=>{c.code((0,codegen_1$l._)`await ${(0,code_1$8.callValidateCode)(e,t,b)}`),P(t),u||c.assign(C,!0)},x=>{c.if((0,codegen_1$l._)`!(${x} instanceof ${a.ValidationError})`,()=>c.throw(x)),O(x),u||c.assign(C,!1)}),e.ok(C)}function w(){e.result((0,code_1$8.callValidateCode)(e,t,b),()=>P(t),()=>O(t))}function O(C){const x=(0,codegen_1$l._)`${C}.errors`;c.assign(names_1$1.default.vErrors,(0,codegen_1$l._)`${names_1$1.default.vErrors} === null ? ${x} : ${names_1$1.default.vErrors}.concat(${x})`),c.assign(names_1$1.default.errors,(0,codegen_1$l._)`${names_1$1.default.vErrors}.length`)}function P(C){var x;if(!a.opts.unevaluated)return;const D=(x=n==null?void 0:n.validate)===null||x===void 0?void 0:x.evaluated;if(a.props!==!0)if(D&&!D.dynamicProps)D.props!==void 0&&(a.props=util_1$j.mergeEvaluated.props(c,D.props,a.props));else{const k=c.var("props",(0,codegen_1$l._)`${C}.evaluated.props`);a.props=util_1$j.mergeEvaluated.props(c,k,a.props,codegen_1$l.Name)}if(a.items!==!0)if(D&&!D.dynamicItems)D.items!==void 0&&(a.items=util_1$j.mergeEvaluated.items(c,D.items,a.items));else{const k=c.var("items",(0,codegen_1$l._)`${C}.evaluated.items`);a.items=util_1$j.mergeEvaluated.items(c,k,a.items,codegen_1$l.Name)}}}ref.callRef=callRef,ref.default=def$r,Object.defineProperty(core$1,"__esModule",{value:!0});const id_1=id$1,ref_1=ref,core=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",id_1.default,ref_1.default];core$1.default=core;var validation$1={},limitNumber={};Object.defineProperty(limitNumber,"__esModule",{value:!0});const codegen_1$k=codegen,ops=codegen_1$k.operators,KWDs={maximum:{okStr:"<=",ok:ops.LTE,fail:ops.GT},minimum:{okStr:">=",ok:ops.GTE,fail:ops.LT},exclusiveMaximum:{okStr:"<",ok:ops.LT,fail:ops.GTE},exclusiveMinimum:{okStr:">",ok:ops.GT,fail:ops.LTE}},error$i={message:({keyword:e,schemaCode:t})=>(0,codegen_1$k.str)`must be ${KWDs[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,codegen_1$k._)`{comparison: ${KWDs[e].okStr}, limit: ${t}}`},def$q={keyword:Object.keys(KWDs),type:"number",schemaType:"number",$data:!0,error:error$i,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data((0,codegen_1$k._)`${n} ${KWDs[t].fail} ${o} || isNaN(${n})`)}};limitNumber.default=def$q;var multipleOf={};Object.defineProperty(multipleOf,"__esModule",{value:!0});const codegen_1$j=codegen,error$h={message:({schemaCode:e})=>(0,codegen_1$j.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,codegen_1$j._)`{multipleOf: ${e}}`},def$p={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:error$h,code(e){const{gen:t,data:n,schemaCode:o,it:c}=e,a=c.opts.multipleOfPrecision,u=t.let("res"),h=a?(0,codegen_1$j._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${a}`:(0,codegen_1$j._)`${u} !== parseInt(${u})`;e.fail$data((0,codegen_1$j._)`(${o} === 0 || (${u} = ${n}/${o}, ${h}))`)}};multipleOf.default=def$p;var limitLength={},ucs2length$1={};Object.defineProperty(ucs2length$1,"__esModule",{value:!0});function ucs2length(e){const t=e.length;let n=0,o=0,c;for(;o<t;)n++,c=e.charCodeAt(o++),c>=55296&&c<=56319&&o<t&&(c=e.charCodeAt(o),(c&64512)===56320&&o++);return n}ucs2length$1.default=ucs2length,ucs2length.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(limitLength,"__esModule",{value:!0});const codegen_1$i=codegen,util_1$i=util,ucs2length_1=ucs2length$1,error$g={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,codegen_1$i.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,codegen_1$i._)`{limit: ${e}}`},def$o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:error$g,code(e){const{keyword:t,data:n,schemaCode:o,it:c}=e,a=t==="maxLength"?codegen_1$i.operators.GT:codegen_1$i.operators.LT,u=c.opts.unicode===!1?(0,codegen_1$i._)`${n}.length`:(0,codegen_1$i._)`${(0,util_1$i.useFunc)(e.gen,ucs2length_1.default)}(${n})`;e.fail$data((0,codegen_1$i._)`${u} ${a} ${o}`)}};limitLength.default=def$o;var pattern={};Object.defineProperty(pattern,"__esModule",{value:!0});const code_1$7=code,codegen_1$h=codegen,error$f={message:({schemaCode:e})=>(0,codegen_1$h.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,codegen_1$h._)`{pattern: ${e}}`},def$n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:error$f,code(e){const{data:t,$data:n,schema:o,schemaCode:c,it:a}=e,u=a.opts.unicodeRegExp?"u":"",h=n?(0,codegen_1$h._)`(new RegExp(${c}, ${u}))`:(0,code_1$7.usePattern)(e,o);e.fail$data((0,codegen_1$h._)`!${h}.test(${t})`)}};pattern.default=def$n;var limitProperties={};Object.defineProperty(limitProperties,"__esModule",{value:!0});const codegen_1$g=codegen,error$e={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,codegen_1$g.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,codegen_1$g._)`{limit: ${e}}`},def$m={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:error$e,code(e){const{keyword:t,data:n,schemaCode:o}=e,c=t==="maxProperties"?codegen_1$g.operators.GT:codegen_1$g.operators.LT;e.fail$data((0,codegen_1$g._)`Object.keys(${n}).length ${c} ${o}`)}};limitProperties.default=def$m;var required={};Object.defineProperty(required,"__esModule",{value:!0});const code_1$6=code,codegen_1$f=codegen,util_1$h=util,error$d={message:({params:{missingProperty:e}})=>(0,codegen_1$f.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,codegen_1$f._)`{missingProperty: ${e}}`},def$l={keyword:"required",type:"object",schemaType:"array",$data:!0,error:error$d,code(e){const{gen:t,schema:n,schemaCode:o,data:c,$data:a,it:u}=e,{opts:h}=u;if(!a&&n.length===0)return;const v=n.length>=h.loopRequired;if(u.allErrors?b():y(),h.strictRequired){const P=e.parentSchema.properties,{definedProperties:C}=e.it;for(const x of n)if((P==null?void 0:P[x])===void 0&&!C.has(x)){const D=u.schemaEnv.baseId+u.errSchemaPath,k=`required property "${x}" is not defined at "${D}" (strictRequired)`;(0,util_1$h.checkStrictMode)(u,k,u.opts.strictRequired)}}function b(){if(v||a)e.block$data(codegen_1$f.nil,w);else for(const P of n)(0,code_1$6.checkReportMissingProp)(e,P)}function y(){const P=t.let("missing");if(v||a){const C=t.let("valid",!0);e.block$data(C,()=>O(P,C)),e.ok(C)}else t.if((0,code_1$6.checkMissingProp)(e,n,P)),(0,code_1$6.reportMissingProp)(e,P),t.else()}function w(){t.forOf("prop",o,P=>{e.setParams({missingProperty:P}),t.if((0,code_1$6.noPropertyInData)(t,c,P,h.ownProperties),()=>e.error())})}function O(P,C){e.setParams({missingProperty:P}),t.forOf(P,o,()=>{t.assign(C,(0,code_1$6.propertyInData)(t,c,P,h.ownProperties)),t.if((0,codegen_1$f.not)(C),()=>{e.error(),t.break()})},codegen_1$f.nil)}}};required.default=def$l;var limitItems={};Object.defineProperty(limitItems,"__esModule",{value:!0});const codegen_1$e=codegen,error$c={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,codegen_1$e.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,codegen_1$e._)`{limit: ${e}}`},def$k={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:error$c,code(e){const{keyword:t,data:n,schemaCode:o}=e,c=t==="maxItems"?codegen_1$e.operators.GT:codegen_1$e.operators.LT;e.fail$data((0,codegen_1$e._)`${n}.length ${c} ${o}`)}};limitItems.default=def$k;var uniqueItems={},equal$1={};Object.defineProperty(equal$1,"__esModule",{value:!0});const equal=fastDeepEqual;equal.code='require("ajv/dist/runtime/equal").default',equal$1.default=equal,Object.defineProperty(uniqueItems,"__esModule",{value:!0});const dataType_1=dataType,codegen_1$d=codegen,util_1$g=util,equal_1$2=equal$1,error$b={message:({params:{i:e,j:t}})=>(0,codegen_1$d.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,codegen_1$d._)`{i: ${e}, j: ${t}}`},def$j={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:error$b,code(e){const{gen:t,data:n,$data:o,schema:c,parentSchema:a,schemaCode:u,it:h}=e;if(!o&&!c)return;const v=t.let("valid"),b=a.items?(0,dataType_1.getSchemaTypes)(a.items):[];e.block$data(v,y,(0,codegen_1$d._)`${u} === false`),e.ok(v);function y(){const C=t.let("i",(0,codegen_1$d._)`${n}.length`),x=t.let("j");e.setParams({i:C,j:x}),t.assign(v,!0),t.if((0,codegen_1$d._)`${C} > 1`,()=>(w()?O:P)(C,x))}function w(){return b.length>0&&!b.some(C=>C==="object"||C==="array")}function O(C,x){const D=t.name("item"),k=(0,dataType_1.checkDataTypes)(b,D,h.opts.strictNumbers,dataType_1.DataType.Wrong),B=t.const("indices",(0,codegen_1$d._)`{}`);t.for((0,codegen_1$d._)`;${C}--;`,()=>{t.let(D,(0,codegen_1$d._)`${n}[${C}]`),t.if(k,(0,codegen_1$d._)`continue`),b.length>1&&t.if((0,codegen_1$d._)`typeof ${D} == "string"`,(0,codegen_1$d._)`${D} += "_"`),t.if((0,codegen_1$d._)`typeof ${B}[${D}] == "number"`,()=>{t.assign(x,(0,codegen_1$d._)`${B}[${D}]`),e.error(),t.assign(v,!1).break()}).code((0,codegen_1$d._)`${B}[${D}] = ${C}`)})}function P(C,x){const D=(0,util_1$g.useFunc)(t,equal_1$2.default),k=t.name("outer");t.label(k).for((0,codegen_1$d._)`;${C}--;`,()=>t.for((0,codegen_1$d._)`${x} = ${C}; ${x}--;`,()=>t.if((0,codegen_1$d._)`${D}(${n}[${C}], ${n}[${x}])`,()=>{e.error(),t.assign(v,!1).break(k)})))}}};uniqueItems.default=def$j;var _const={};Object.defineProperty(_const,"__esModule",{value:!0});const codegen_1$c=codegen,util_1$f=util,equal_1$1=equal$1,error$a={message:"must be equal to constant",params:({schemaCode:e})=>(0,codegen_1$c._)`{allowedValue: ${e}}`},def$i={keyword:"const",$data:!0,error:error$a,code(e){const{gen:t,data:n,$data:o,schemaCode:c,schema:a}=e;o||a&&typeof a=="object"?e.fail$data((0,codegen_1$c._)`!${(0,util_1$f.useFunc)(t,equal_1$1.default)}(${n}, ${c})`):e.fail((0,codegen_1$c._)`${a} !== ${n}`)}};_const.default=def$i;var _enum={};Object.defineProperty(_enum,"__esModule",{value:!0});const codegen_1$b=codegen,util_1$e=util,equal_1=equal$1,error$9={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,codegen_1$b._)`{allowedValues: ${e}}`},def$h={keyword:"enum",schemaType:"array",$data:!0,error:error$9,code(e){const{gen:t,data:n,$data:o,schema:c,schemaCode:a,it:u}=e;if(!o&&c.length===0)throw new Error("enum must have non-empty array");const h=c.length>=u.opts.loopEnum;let v;const b=()=>v??(v=(0,util_1$e.useFunc)(t,equal_1.default));let y;if(h||o)y=t.let("valid"),e.block$data(y,w);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const P=t.const("vSchema",a);y=(0,codegen_1$b.or)(...c.map((C,x)=>O(P,x)))}e.pass(y);function w(){t.assign(y,!1),t.forOf("v",a,P=>t.if((0,codegen_1$b._)`${b()}(${n}, ${P})`,()=>t.assign(y,!0).break()))}function O(P,C){const x=c[C];return typeof x=="object"&&x!==null?(0,codegen_1$b._)`${b()}(${n}, ${P}[${C}])`:(0,codegen_1$b._)`${n} === ${x}`}}};_enum.default=def$h,Object.defineProperty(validation$1,"__esModule",{value:!0});const limitNumber_1=limitNumber,multipleOf_1=multipleOf,limitLength_1=limitLength,pattern_1=pattern,limitProperties_1=limitProperties,required_1=required,limitItems_1=limitItems,uniqueItems_1=uniqueItems,const_1=_const,enum_1=_enum,validation=[limitNumber_1.default,multipleOf_1.default,limitLength_1.default,pattern_1.default,limitProperties_1.default,required_1.default,limitItems_1.default,uniqueItems_1.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},const_1.default,enum_1.default];validation$1.default=validation;var applicator={},additionalItems={};Object.defineProperty(additionalItems,"__esModule",{value:!0}),additionalItems.validateAdditionalItems=void 0;const codegen_1$a=codegen,util_1$d=util,error$8={message:({params:{len:e}})=>(0,codegen_1$a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,codegen_1$a._)`{limit: ${e}}`},def$g={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:error$8,code(e){const{parentSchema:t,it:n}=e,{items:o}=t;if(!Array.isArray(o)){(0,util_1$d.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}validateAdditionalItems(e,o)}};function validateAdditionalItems(e,t){const{gen:n,schema:o,data:c,keyword:a,it:u}=e;u.items=!0;const h=n.const("len",(0,codegen_1$a._)`${c}.length`);if(o===!1)e.setParams({len:t.length}),e.pass((0,codegen_1$a._)`${h} <= ${t.length}`);else if(typeof o=="object"&&!(0,util_1$d.alwaysValidSchema)(u,o)){const b=n.var("valid",(0,codegen_1$a._)`${h} <= ${t.length}`);n.if((0,codegen_1$a.not)(b),()=>v(b)),e.ok(b)}function v(b){n.forRange("i",t.length,h,y=>{e.subschema({keyword:a,dataProp:y,dataPropType:util_1$d.Type.Num},b),u.allErrors||n.if((0,codegen_1$a.not)(b),()=>n.break())})}}additionalItems.validateAdditionalItems=validateAdditionalItems,additionalItems.default=def$g;var prefixItems={},items={};Object.defineProperty(items,"__esModule",{value:!0}),items.validateTuple=void 0;const codegen_1$9=codegen,util_1$c=util,code_1$5=code,def$f={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return validateTuple(e,"additionalItems",t);n.items=!0,!(0,util_1$c.alwaysValidSchema)(n,t)&&e.ok((0,code_1$5.validateArray)(e))}};function validateTuple(e,t,n=e.schema){const{gen:o,parentSchema:c,data:a,keyword:u,it:h}=e;y(c),h.opts.unevaluated&&n.length&&h.items!==!0&&(h.items=util_1$c.mergeEvaluated.items(o,n.length,h.items));const v=o.name("valid"),b=o.const("len",(0,codegen_1$9._)`${a}.length`);n.forEach((w,O)=>{(0,util_1$c.alwaysValidSchema)(h,w)||(o.if((0,codegen_1$9._)`${b} > ${O}`,()=>e.subschema({keyword:u,schemaProp:O,dataProp:O},v)),e.ok(v))});function y(w){const{opts:O,errSchemaPath:P}=h,C=n.length,x=C===w.minItems&&(C===w.maxItems||w[t]===!1);if(O.strictTuples&&!x){const D=`"${u}" is ${C}-tuple, but minItems or maxItems/${t} are not specified or different at path "${P}"`;(0,util_1$c.checkStrictMode)(h,D,O.strictTuples)}}}items.validateTuple=validateTuple,items.default=def$f,Object.defineProperty(prefixItems,"__esModule",{value:!0});const items_1$1=items,def$e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,items_1$1.validateTuple)(e,"items")};prefixItems.default=def$e;var items2020={};Object.defineProperty(items2020,"__esModule",{value:!0});const codegen_1$8=codegen,util_1$b=util,code_1$4=code,additionalItems_1$1=additionalItems,error$7={message:({params:{len:e}})=>(0,codegen_1$8.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,codegen_1$8._)`{limit: ${e}}`},def$d={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:error$7,code(e){const{schema:t,parentSchema:n,it:o}=e,{prefixItems:c}=n;o.items=!0,!(0,util_1$b.alwaysValidSchema)(o,t)&&(c?(0,additionalItems_1$1.validateAdditionalItems)(e,c):e.ok((0,code_1$4.validateArray)(e)))}};items2020.default=def$d;var contains={};Object.defineProperty(contains,"__esModule",{value:!0});const codegen_1$7=codegen,util_1$a=util,error$6={message:({params:{min:e,max:t}})=>t===void 0?(0,codegen_1$7.str)`must contain at least ${e} valid item(s)`:(0,codegen_1$7.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,codegen_1$7._)`{minContains: ${e}}`:(0,codegen_1$7._)`{minContains: ${e}, maxContains: ${t}}`},def$c={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:error$6,code(e){const{gen:t,schema:n,parentSchema:o,data:c,it:a}=e;let u,h;const{minContains:v,maxContains:b}=o;a.opts.next?(u=v===void 0?1:v,h=b):u=1;const y=t.const("len",(0,codegen_1$7._)`${c}.length`);if(e.setParams({min:u,max:h}),h===void 0&&u===0){(0,util_1$a.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&u>h){(0,util_1$a.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,util_1$a.alwaysValidSchema)(a,n)){let x=(0,codegen_1$7._)`${y} >= ${u}`;h!==void 0&&(x=(0,codegen_1$7._)`${x} && ${y} <= ${h}`),e.pass(x);return}a.items=!0;const w=t.name("valid");h===void 0&&u===1?P(w,()=>t.if(w,()=>t.break())):u===0?(t.let(w,!0),h!==void 0&&t.if((0,codegen_1$7._)`${c}.length > 0`,O)):(t.let(w,!1),O()),e.result(w,()=>e.reset());function O(){const x=t.name("_valid"),D=t.let("count",0);P(x,()=>t.if(x,()=>C(D)))}function P(x,D){t.forRange("i",0,y,k=>{e.subschema({keyword:"contains",dataProp:k,dataPropType:util_1$a.Type.Num,compositeRule:!0},x),D()})}function C(x){t.code((0,codegen_1$7._)`${x}++`),h===void 0?t.if((0,codegen_1$7._)`${x} >= ${u}`,()=>t.assign(w,!0).break()):(t.if((0,codegen_1$7._)`${x} > ${h}`,()=>t.assign(w,!1).break()),u===1?t.assign(w,!0):t.if((0,codegen_1$7._)`${x} >= ${u}`,()=>t.assign(w,!0)))}}};contains.default=def$c;var dependencies={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=codegen,n=util,o=code;e.error={message:({params:{property:v,depsCount:b,deps:y}})=>{const w=b===1?"property":"properties";return(0,t.str)`must have ${w} ${y} when property ${v} is present`},params:({params:{property:v,depsCount:b,deps:y,missingProperty:w}})=>(0,t._)`{property: ${v},
    missingProperty: ${w},
    depsCount: ${b},
    deps: ${y}}`};const c={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(v){const[b,y]=a(v);u(v,b),h(v,y)}};function a({schema:v}){const b={},y={};for(const w in v){if(w==="__proto__")continue;const O=Array.isArray(v[w])?b:y;O[w]=v[w]}return[b,y]}function u(v,b=v.schema){const{gen:y,data:w,it:O}=v;if(Object.keys(b).length===0)return;const P=y.let("missing");for(const C in b){const x=b[C];if(x.length===0)continue;const D=(0,o.propertyInData)(y,w,C,O.opts.ownProperties);v.setParams({property:C,depsCount:x.length,deps:x.join(", ")}),O.allErrors?y.if(D,()=>{for(const k of x)(0,o.checkReportMissingProp)(v,k)}):(y.if((0,t._)`${D} && (${(0,o.checkMissingProp)(v,x,P)})`),(0,o.reportMissingProp)(v,P),y.else())}}e.validatePropertyDeps=u;function h(v,b=v.schema){const{gen:y,data:w,keyword:O,it:P}=v,C=y.name("valid");for(const x in b)(0,n.alwaysValidSchema)(P,b[x])||(y.if((0,o.propertyInData)(y,w,x,P.opts.ownProperties),()=>{const D=v.subschema({keyword:O,schemaProp:x},C);v.mergeValidEvaluated(D,C)},()=>y.var(C,!0)),v.ok(C))}e.validateSchemaDeps=h,e.default=c})(dependencies);var propertyNames={};Object.defineProperty(propertyNames,"__esModule",{value:!0});const codegen_1$6=codegen,util_1$9=util,error$5={message:"property name must be valid",params:({params:e})=>(0,codegen_1$6._)`{propertyName: ${e.propertyName}}`},def$b={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:error$5,code(e){const{gen:t,schema:n,data:o,it:c}=e;if((0,util_1$9.alwaysValidSchema)(c,n))return;const a=t.name("valid");t.forIn("key",o,u=>{e.setParams({propertyName:u}),e.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},a),t.if((0,codegen_1$6.not)(a),()=>{e.error(!0),c.allErrors||t.break()})}),e.ok(a)}};propertyNames.default=def$b;var additionalProperties={};Object.defineProperty(additionalProperties,"__esModule",{value:!0});const code_1$3=code,codegen_1$5=codegen,names_1=names$1,util_1$8=util,error$4={message:"must NOT have additional properties",params:({params:e})=>(0,codegen_1$5._)`{additionalProperty: ${e.additionalProperty}}`},def$a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:error$4,code(e){const{gen:t,schema:n,parentSchema:o,data:c,errsCount:a,it:u}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:h,opts:v}=u;if(u.props=!0,v.removeAdditional!=="all"&&(0,util_1$8.alwaysValidSchema)(u,n))return;const b=(0,code_1$3.allSchemaProperties)(o.properties),y=(0,code_1$3.allSchemaProperties)(o.patternProperties);w(),e.ok((0,codegen_1$5._)`${a} === ${names_1.default.errors}`);function w(){t.forIn("key",c,D=>{!b.length&&!y.length?C(D):t.if(O(D),()=>C(D))})}function O(D){let k;if(b.length>8){const B=(0,util_1$8.schemaRefOrVal)(u,o.properties,"properties");k=(0,code_1$3.isOwnProperty)(t,B,D)}else b.length?k=(0,codegen_1$5.or)(...b.map(B=>(0,codegen_1$5._)`${D} === ${B}`)):k=codegen_1$5.nil;return y.length&&(k=(0,codegen_1$5.or)(k,...y.map(B=>(0,codegen_1$5._)`${(0,code_1$3.usePattern)(e,B)}.test(${D})`))),(0,codegen_1$5.not)(k)}function P(D){t.code((0,codegen_1$5._)`delete ${c}[${D}]`)}function C(D){if(v.removeAdditional==="all"||v.removeAdditional&&n===!1){P(D);return}if(n===!1){e.setParams({additionalProperty:D}),e.error(),h||t.break();return}if(typeof n=="object"&&!(0,util_1$8.alwaysValidSchema)(u,n)){const k=t.name("valid");v.removeAdditional==="failing"?(x(D,k,!1),t.if((0,codegen_1$5.not)(k),()=>{e.reset(),P(D)})):(x(D,k),h||t.if((0,codegen_1$5.not)(k),()=>t.break()))}}function x(D,k,B){const q={keyword:"additionalProperties",dataProp:D,dataPropType:util_1$8.Type.Str};B===!1&&Object.assign(q,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(q,k)}}};additionalProperties.default=def$a;var properties$1={};Object.defineProperty(properties$1,"__esModule",{value:!0});const validate_1=validate,code_1$2=code,util_1$7=util,additionalProperties_1$1=additionalProperties,def$9={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:o,data:c,it:a}=e;a.opts.removeAdditional==="all"&&o.additionalProperties===void 0&&additionalProperties_1$1.default.code(new validate_1.KeywordCxt(a,additionalProperties_1$1.default,"additionalProperties"));const u=(0,code_1$2.allSchemaProperties)(n);for(const w of u)a.definedProperties.add(w);a.opts.unevaluated&&u.length&&a.props!==!0&&(a.props=util_1$7.mergeEvaluated.props(t,(0,util_1$7.toHash)(u),a.props));const h=u.filter(w=>!(0,util_1$7.alwaysValidSchema)(a,n[w]));if(h.length===0)return;const v=t.name("valid");for(const w of h)b(w)?y(w):(t.if((0,code_1$2.propertyInData)(t,c,w,a.opts.ownProperties)),y(w),a.allErrors||t.else().var(v,!0),t.endIf()),e.it.definedProperties.add(w),e.ok(v);function b(w){return a.opts.useDefaults&&!a.compositeRule&&n[w].default!==void 0}function y(w){e.subschema({keyword:"properties",schemaProp:w,dataProp:w},v)}}};properties$1.default=def$9;var patternProperties={};Object.defineProperty(patternProperties,"__esModule",{value:!0});const code_1$1=code,codegen_1$4=codegen,util_1$6=util,util_2=util,def$8={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:o,parentSchema:c,it:a}=e,{opts:u}=a,h=(0,code_1$1.allSchemaProperties)(n),v=h.filter(x=>(0,util_1$6.alwaysValidSchema)(a,n[x]));if(h.length===0||v.length===h.length&&(!a.opts.unevaluated||a.props===!0))return;const b=u.strictSchema&&!u.allowMatchingProperties&&c.properties,y=t.name("valid");a.props!==!0&&!(a.props instanceof codegen_1$4.Name)&&(a.props=(0,util_2.evaluatedPropsToName)(t,a.props));const{props:w}=a;O();function O(){for(const x of h)b&&P(x),a.allErrors?C(x):(t.var(y,!0),C(x),t.if(y))}function P(x){for(const D in b)new RegExp(x).test(D)&&(0,util_1$6.checkStrictMode)(a,`property ${D} matches pattern ${x} (use allowMatchingProperties)`)}function C(x){t.forIn("key",o,D=>{t.if((0,codegen_1$4._)`${(0,code_1$1.usePattern)(e,x)}.test(${D})`,()=>{const k=v.includes(x);k||e.subschema({keyword:"patternProperties",schemaProp:x,dataProp:D,dataPropType:util_2.Type.Str},y),a.opts.unevaluated&&w!==!0?t.assign((0,codegen_1$4._)`${w}[${D}]`,!0):!k&&!a.allErrors&&t.if((0,codegen_1$4.not)(y),()=>t.break())})})}}};patternProperties.default=def$8;var not={};Object.defineProperty(not,"__esModule",{value:!0});const util_1$5=util,def$7={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:o}=e;if((0,util_1$5.alwaysValidSchema)(o,n)){e.fail();return}const c=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},c),e.failResult(c,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};not.default=def$7;var anyOf={};Object.defineProperty(anyOf,"__esModule",{value:!0});const code_1=code,def$6={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:code_1.validateUnion,error:{message:"must match a schema in anyOf"}};anyOf.default=def$6;var oneOf={};Object.defineProperty(oneOf,"__esModule",{value:!0});const codegen_1$3=codegen,util_1$4=util,error$3={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,codegen_1$3._)`{passingSchemas: ${e.passing}}`},def$5={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:error$3,code(e){const{gen:t,schema:n,parentSchema:o,it:c}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(c.opts.discriminator&&o.discriminator)return;const a=n,u=t.let("valid",!1),h=t.let("passing",null),v=t.name("_valid");e.setParams({passing:h}),t.block(b),e.result(u,()=>e.reset(),()=>e.error(!0));function b(){a.forEach((y,w)=>{let O;(0,util_1$4.alwaysValidSchema)(c,y)?t.var(v,!0):O=e.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},v),w>0&&t.if((0,codegen_1$3._)`${v} && ${u}`).assign(u,!1).assign(h,(0,codegen_1$3._)`[${h}, ${w}]`).else(),t.if(v,()=>{t.assign(u,!0),t.assign(h,w),O&&e.mergeEvaluated(O,codegen_1$3.Name)})})}}};oneOf.default=def$5;var allOf={};Object.defineProperty(allOf,"__esModule",{value:!0});const util_1$3=util,def$4={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const c=t.name("valid");n.forEach((a,u)=>{if((0,util_1$3.alwaysValidSchema)(o,a))return;const h=e.subschema({keyword:"allOf",schemaProp:u},c);e.ok(c),e.mergeEvaluated(h)})}};allOf.default=def$4;var _if={};Object.defineProperty(_if,"__esModule",{value:!0});const codegen_1$2=codegen,util_1$2=util,error$2={message:({params:e})=>(0,codegen_1$2.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,codegen_1$2._)`{failingKeyword: ${e.ifClause}}`},def$3={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:error$2,code(e){const{gen:t,parentSchema:n,it:o}=e;n.then===void 0&&n.else===void 0&&(0,util_1$2.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const c=hasSchema(o,"then"),a=hasSchema(o,"else");if(!c&&!a)return;const u=t.let("valid",!0),h=t.name("_valid");if(v(),e.reset(),c&&a){const y=t.let("ifClause");e.setParams({ifClause:y}),t.if(h,b("then",y),b("else",y))}else c?t.if(h,b("then")):t.if((0,codegen_1$2.not)(h),b("else"));e.pass(u,()=>e.error(!0));function v(){const y=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);e.mergeEvaluated(y)}function b(y,w){return()=>{const O=e.subschema({keyword:y},h);t.assign(u,h),e.mergeValidEvaluated(O,u),w?t.assign(w,(0,codegen_1$2._)`${y}`):e.setParams({ifClause:y})}}}};function hasSchema(e,t){const n=e.schema[t];return n!==void 0&&!(0,util_1$2.alwaysValidSchema)(e,n)}_if.default=def$3;var thenElse={};Object.defineProperty(thenElse,"__esModule",{value:!0});const util_1$1=util,def$2={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,util_1$1.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};thenElse.default=def$2,Object.defineProperty(applicator,"__esModule",{value:!0});const additionalItems_1=additionalItems,prefixItems_1=prefixItems,items_1=items,items2020_1=items2020,contains_1=contains,dependencies_1=dependencies,propertyNames_1=propertyNames,additionalProperties_1=additionalProperties,properties_1=properties$1,patternProperties_1=patternProperties,not_1=not,anyOf_1=anyOf,oneOf_1=oneOf,allOf_1=allOf,if_1=_if,thenElse_1=thenElse;function getApplicator(e=!1){const t=[not_1.default,anyOf_1.default,oneOf_1.default,allOf_1.default,if_1.default,thenElse_1.default,propertyNames_1.default,additionalProperties_1.default,dependencies_1.default,properties_1.default,patternProperties_1.default];return e?t.push(prefixItems_1.default,items2020_1.default):t.push(additionalItems_1.default,items_1.default),t.push(contains_1.default),t}applicator.default=getApplicator;var format$3={},format$2={};Object.defineProperty(format$2,"__esModule",{value:!0});const codegen_1$1=codegen,error$1={message:({schemaCode:e})=>(0,codegen_1$1.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,codegen_1$1._)`{format: ${e}}`},def$1={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:error$1,code(e,t){const{gen:n,data:o,$data:c,schema:a,schemaCode:u,it:h}=e,{opts:v,errSchemaPath:b,schemaEnv:y,self:w}=h;if(!v.validateFormats)return;c?O():P();function O(){const C=n.scopeValue("formats",{ref:w.formats,code:v.code.formats}),x=n.const("fDef",(0,codegen_1$1._)`${C}[${u}]`),D=n.let("fType"),k=n.let("format");n.if((0,codegen_1$1._)`typeof ${x} == "object" && !(${x} instanceof RegExp)`,()=>n.assign(D,(0,codegen_1$1._)`${x}.type || "string"`).assign(k,(0,codegen_1$1._)`${x}.validate`),()=>n.assign(D,(0,codegen_1$1._)`"string"`).assign(k,x)),e.fail$data((0,codegen_1$1.or)(B(),q()));function B(){return v.strictSchema===!1?codegen_1$1.nil:(0,codegen_1$1._)`${u} && !${k}`}function q(){const V=y.$async?(0,codegen_1$1._)`(${x}.async ? await ${k}(${o}) : ${k}(${o}))`:(0,codegen_1$1._)`${k}(${o})`,ee=(0,codegen_1$1._)`(typeof ${k} == "function" ? ${V} : ${k}.test(${o}))`;return(0,codegen_1$1._)`${k} && ${k} !== true && ${D} === ${t} && !${ee}`}}function P(){const C=w.formats[a];if(!C){B();return}if(C===!0)return;const[x,D,k]=q(C);x===t&&e.pass(V());function B(){if(v.strictSchema===!1){w.logger.warn(ee());return}throw new Error(ee());function ee(){return`unknown format "${a}" ignored in schema at path "${b}"`}}function q(ee){const te=ee instanceof RegExp?(0,codegen_1$1.regexpCode)(ee):v.code.formats?(0,codegen_1$1._)`${v.code.formats}${(0,codegen_1$1.getProperty)(a)}`:void 0,ce=n.scopeValue("formats",{key:a,ref:ee,code:te});return typeof ee=="object"&&!(ee instanceof RegExp)?[ee.type||"string",ee.validate,(0,codegen_1$1._)`${ce}.validate`]:["string",ee,ce]}function V(){if(typeof C=="object"&&!(C instanceof RegExp)&&C.async){if(!y.$async)throw new Error("async format in sync schema");return(0,codegen_1$1._)`await ${k}(${o})`}return typeof D=="function"?(0,codegen_1$1._)`${k}(${o})`:(0,codegen_1$1._)`${k}.test(${o})`}}}};format$2.default=def$1,Object.defineProperty(format$3,"__esModule",{value:!0});const format_1$1=format$2,format$1=[format_1$1.default];format$3.default=format$1;var metadata={};Object.defineProperty(metadata,"__esModule",{value:!0}),metadata.contentVocabulary=metadata.metadataVocabulary=void 0,metadata.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],metadata.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(draft7,"__esModule",{value:!0});const core_1=core$1,validation_1=validation$1,applicator_1=applicator,format_1=format$3,metadata_1=metadata,draft7Vocabularies=[core_1.default,validation_1.default,(0,applicator_1.default)(),format_1.default,metadata_1.metadataVocabulary,metadata_1.contentVocabulary];draft7.default=draft7Vocabularies;var discriminator={},types={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(types),Object.defineProperty(discriminator,"__esModule",{value:!0});const codegen_1=codegen,types_1$1=types,compile_1=compile,util_1=util,error={message:({params:{discrError:e,tagName:t}})=>e===types_1$1.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,codegen_1._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},def={keyword:"discriminator",type:"object",schemaType:"object",error,code(e){const{gen:t,data:n,schema:o,parentSchema:c,it:a}=e,{oneOf:u}=c;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=o.propertyName;if(typeof h!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const v=t.let("valid",!1),b=t.const("tag",(0,codegen_1._)`${n}${(0,codegen_1.getProperty)(h)}`);t.if((0,codegen_1._)`typeof ${b} == "string"`,()=>y(),()=>e.error(!1,{discrError:types_1$1.DiscrError.Tag,tag:b,tagName:h})),e.ok(v);function y(){const P=O();t.if(!1);for(const C in P)t.elseIf((0,codegen_1._)`${b} === ${C}`),t.assign(v,w(P[C]));t.else(),e.error(!1,{discrError:types_1$1.DiscrError.Mapping,tag:b,tagName:h}),t.endIf()}function w(P){const C=t.name("valid"),x=e.subschema({keyword:"oneOf",schemaProp:P},C);return e.mergeEvaluated(x,codegen_1.Name),C}function O(){var P;const C={},x=k(c);let D=!0;for(let V=0;V<u.length;V++){let ee=u[V];ee!=null&&ee.$ref&&!(0,util_1.schemaHasRulesButRef)(ee,a.self.RULES)&&(ee=compile_1.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,ee==null?void 0:ee.$ref),ee instanceof compile_1.SchemaEnv&&(ee=ee.schema));const te=(P=ee==null?void 0:ee.properties)===null||P===void 0?void 0:P[h];if(typeof te!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);D=D&&(x||k(ee)),B(te,V)}if(!D)throw new Error(`discriminator: "${h}" must be required`);return C;function k({required:V}){return Array.isArray(V)&&V.includes(h)}function B(V,ee){if(V.const)q(V.const,ee);else if(V.enum)for(const te of V.enum)q(te,ee);else throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`)}function q(V,ee){if(typeof V!="string"||V in C)throw new Error(`discriminator: "${h}" values must be unique strings`);C[V]=ee}}}};discriminator.default=def;const $schema="http://json-schema.org/draft-07/schema#",$id="http://json-schema.org/draft-07/schema#",title="Core schema meta-schema",definitions={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type=["object","boolean"],properties={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},require$$3={$schema,$id,title,definitions,type,properties,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=core$2,o=draft7,c=discriminator,a=require$$3,u=["/properties"],h="http://json-schema.org/draft-07/schema";class v extends n.default{_addVocabularies(){super._addVocabularies(),o.default.forEach(C=>this.addVocabulary(C)),this.opts.discriminator&&this.addKeyword(c.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const C=this.opts.$data?this.$dataMetaSchema(a,u):a;this.addMetaSchema(C,h,!1),this.refs["http://json-schema.org/schema"]=h}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(h)?h:void 0)}}e.exports=t=v,Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var b=validate;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return b.KeywordCxt}});var y=codegen;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var w=validation_error;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return w.default}});var O=ref_error;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return O.default}})})(ajv,ajv.exports);var ajvExports=ajv.exports,errors={};Object.defineProperty(errors,"__esModule",{value:!0}),errors.ConflictingOptions=errors.ArgumentSchemaError=errors.UnknownArgumentError=errors.UnsupportedSerializationError=void 0;class UnsupportedSerializationError extends Error{constructor(t,n){super(`Contract method '${t}' is using an unsupported serialization type ${n}`)}}errors.UnsupportedSerializationError=UnsupportedSerializationError;class UnknownArgumentError extends Error{constructor(t,n){super(`Unrecognized argument '${t}', expected '${JSON.stringify(n)}'`)}}errors.UnknownArgumentError=UnknownArgumentError;class ArgumentSchemaError extends Error{constructor(t,n){super(`Argument '${t}' does not conform to the specified ABI schema: '${JSON.stringify(n)}'`)}}errors.ArgumentSchemaError=ArgumentSchemaError;class ConflictingOptions extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}errors.ConflictingOptions=ConflictingOptions;var __awaiter$7=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$2=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(contract$1,"__esModule",{value:!0}),contract$1.Contract=void 0;const utils_1$4=lib$6,types_1=lib$F,local_view_execution_1=localViewExecution,ajv_1=__importDefault$2(ajvExports),ajv_formats_1=__importDefault$2(distExports),bn_js_1$2=__importDefault$2(bnExports$6),depd_1=__importDefault$2(browser$a),near_abi_1=lib$y,errors_1=errors;function nameFunction(e,t){return{[e](...n){return t(...n)}}[e]}function validateArguments(e,t,n,o){var c;if(!isObject$9(e))return;if(t.params&&t.params.serialization_type!==near_abi_1.AbiSerializationType.Json)throw new errors_1.UnsupportedSerializationError(t.name,t.params.serialization_type);if(t.result&&t.result.serialization_type!==near_abi_1.AbiSerializationType.Json)throw new errors_1.UnsupportedSerializationError(t.name,t.result.serialization_type);const a=((c=t.params)===null||c===void 0?void 0:c.args)||[];for(const u of a){const h=e[u.name],v=u.type_schema;v.definitions=o.body.root_schema.definitions;const b=n.compile(v);if(!b(h))throw new errors_1.ArgumentSchemaError(u.name,b.errors)}for(const u of Object.keys(e))if(!a.find(h=>h.name===u))throw new errors_1.UnknownArgumentError(u,a.map(h=>h.name))}function createAjv(){const e=new ajv_1.default({strictSchema:!1,formats:{uint32:!0,uint64:!0}});return(0,ajv_formats_1.default)(e),e}const isUint8Array=e=>e&&e.byteLength!==void 0&&e.byteLength===e.length,isObject$9=e=>Object.prototype.toString.call(e)==="[object Object]";class Contract{constructor(t,n,o){this.account=t,this.contractId=n,this.lve=new local_view_execution_1.LocalViewExecution(t);const{viewMethods:c=[],changeMethods:a=[],abi:u,useLocalViewExecution:h}=o;let v=c.map(w=>({name:w,abi:null})),b=a.map(w=>({name:w,abi:null}));if(u){if(v.length>0||b.length>0)throw new errors_1.ConflictingOptions;v=u.body.functions.filter(w=>w.kind===near_abi_1.AbiFunctionKind.View).map(w=>({name:w.name,abi:w})),b=u.body.functions.filter(w=>w.kind===near_abi_1.AbiFunctionKind.Call).map(w=>({name:w.name,abi:w}))}const y=createAjv();v.forEach(({name:w,abi:O})=>{Object.defineProperty(this,w,{writable:!1,enumerable:!0,value:nameFunction(w,(P={},C={},...x)=>__awaiter$7(this,void 0,void 0,function*(){if(x.length||!(isObject$9(P)||isUint8Array(P))||!isObject$9(C))throw new types_1.PositionalArgsError;if(O&&validateArguments(P,O,y,u),h)try{return yield this.lve.viewFunction(Object.assign({contractId:this.contractId,methodName:w,args:P},C))}catch(D){utils_1$4.Logger.warn(`Local view execution failed with: "${D.message}"`),utils_1$4.Logger.warn("Fallback to normal RPC call")}return this.account.viewFunction(Object.assign({contractId:this.contractId,methodName:w,args:P},C))}))})}),b.forEach(({name:w,abi:O})=>{Object.defineProperty(this,w,{writable:!1,enumerable:!0,value:nameFunction(w,(...P)=>__awaiter$7(this,void 0,void 0,function*(){if(P.length&&(P.length>3||!(isObject$9(P[0])||isUint8Array(P[0]))))throw new types_1.PositionalArgsError;return(P.length>1||!(P[0]&&P[0].args))&&((0,depd_1.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),P[0]={args:P[0],gas:P[1],amount:P[2]}),O&&validateArguments(P[0].args,O,y,u),this._changeMethod(Object.assign({methodName:w},P[0]))}))})})}_changeMethod({args:t,methodName:n,gas:o,amount:c,meta:a,callbackUrl:u}){return __awaiter$7(this,void 0,void 0,function*(){validateBNLike({gas:o,amount:c});const h=yield this.account.functionCall({contractId:this.contractId,methodName:n,args:t,gas:o,attachedDeposit:c,walletMeta:a,walletCallbackUrl:u});return(0,utils_1$4.getTransactionLastResult)(h)})}}contract$1.Contract=Contract;function validateBNLike(e){const t="number, decimal string or BN";for(const n of Object.keys(e)){const o=e[n];if(o&&!bn_js_1$2.default.isBN(o)&&isNaN(o))throw new types_1.ArgumentTypeError(n,t,o)}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=e.Contract=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.Connection=e.AccountMultisig=e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=e.Account2FA=e.Account=void 0;var t=account$1;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}});var n=account_2fa;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return n.Account2FA}});var o=account_creator$1;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return o.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return o.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return o.UrlAccountCreator}});var c=account_multisig$1;Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return c.AccountMultisig}});var a=connection$1;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return a.Connection}});var u=constants;Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return u.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return u.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return u.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return u.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return u.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return u.MULTISIG_CONFIRM_METHODS}});var h=contract$1;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return h.Contract}});var v=errors;Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return v.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return v.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return v.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return v.UnsupportedSerializationError}});var b=types$1;Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return b.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return b.MultisigStateStatus}})})(lib$2),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.TypedError=e.PositionalArgsError=e.ErrorContext=e.ArgumentTypeError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=void 0;var t=lib$2;Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return t.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return t.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return t.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return t.UnsupportedSerializationError}});var n=lib$F;Object.defineProperty(e,"ArgumentTypeError",{enumerable:!0,get:function(){return n.ArgumentTypeError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return n.ErrorContext}}),Object.defineProperty(e,"PositionalArgsError",{enumerable:!0,get:function(){return n.PositionalArgsError}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return n.TypedError}});var o=lib$6;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return o.logWarning}})}(errors$2);var logger={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var t=lib$6;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return t.Logger}})})(logger),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(P,C,x,D){D===void 0&&(D=x);var k=Object.getOwnPropertyDescriptor(C,x);(!k||("get"in k?!C.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return C[x]}}),Object.defineProperty(P,D,k)}:function(P,C,x,D){D===void 0&&(D=x),P[D]=C[x]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(P,C){Object.defineProperty(P,"default",{enumerable:!0,value:C})}:function(P,C){P.default=C}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(P){if(P&&P.__esModule)return P;var C={};if(P!=null)for(var x in P)x!=="default"&&Object.prototype.hasOwnProperty.call(P,x)&&t(C,P,x);return n(C,P),C};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.logWarning=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.web=e.serialize=e.key_pair=void 0;const c=o(key_pair);e.key_pair=c;const a=o(serialize);e.serialize=a;const u=o(web);e.web=u;const h=o(enums);e.enums=h;const v=o(format$4);e.format=v;const b=o(rpc_errors);e.rpc_errors=b;const y=key_pair;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return y.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return y.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return y.KeyPairEd25519}});const w=errors$2;Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return w.logWarning}});const O=logger;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return O.Logger}})}(utils$3);var transaction={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.transfer=e.stake=e.functionCallAccessKey=e.functionCall=e.fullAccessKey=e.deployContract=e.deleteKey=e.deleteAccount=e.createAccount=e.addKey=e.encodeDelegateAction=e.encodeSignedDelegate=e.Transaction=e.SignedTransaction=e.Signature=e.signTransaction=e.createTransaction=e.SCHEMA=e.Transfer=e.Stake=e.FunctionCallPermission=e.FunctionCall=e.FullAccessPermission=e.DeployContract=e.DeleteKey=e.DeleteAccount=e.CreateAccount=e.AddKey=e.AccessKeyPermission=e.AccessKey=e.Action=e.stringifyJsonOrBytes=void 0;var t=lib$3;Object.defineProperty(e,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return t.stringifyJsonOrBytes}}),Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(e,"AccessKey",{enumerable:!0,get:function(){return t.AccessKey}}),Object.defineProperty(e,"AccessKeyPermission",{enumerable:!0,get:function(){return t.AccessKeyPermission}}),Object.defineProperty(e,"AddKey",{enumerable:!0,get:function(){return t.AddKey}}),Object.defineProperty(e,"CreateAccount",{enumerable:!0,get:function(){return t.CreateAccount}}),Object.defineProperty(e,"DeleteAccount",{enumerable:!0,get:function(){return t.DeleteAccount}}),Object.defineProperty(e,"DeleteKey",{enumerable:!0,get:function(){return t.DeleteKey}}),Object.defineProperty(e,"DeployContract",{enumerable:!0,get:function(){return t.DeployContract}}),Object.defineProperty(e,"FullAccessPermission",{enumerable:!0,get:function(){return t.FullAccessPermission}}),Object.defineProperty(e,"FunctionCall",{enumerable:!0,get:function(){return t.FunctionCall}}),Object.defineProperty(e,"FunctionCallPermission",{enumerable:!0,get:function(){return t.FunctionCallPermission}}),Object.defineProperty(e,"Stake",{enumerable:!0,get:function(){return t.Stake}}),Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return t.Transfer}}),Object.defineProperty(e,"SCHEMA",{enumerable:!0,get:function(){return t.SCHEMA}}),Object.defineProperty(e,"createTransaction",{enumerable:!0,get:function(){return t.createTransaction}}),Object.defineProperty(e,"signTransaction",{enumerable:!0,get:function(){return t.signTransaction}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return t.Signature}}),Object.defineProperty(e,"SignedTransaction",{enumerable:!0,get:function(){return t.SignedTransaction}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return t.Transaction}}),Object.defineProperty(e,"encodeSignedDelegate",{enumerable:!0,get:function(){return t.encodeSignedDelegate}}),Object.defineProperty(e,"encodeDelegateAction",{enumerable:!0,get:function(){return t.encodeDelegateAction}});const n=lib$3,o=(P,C)=>n.actionCreators.addKey(P,C);e.addKey=o;const c=()=>n.actionCreators.createAccount();e.createAccount=c;const a=P=>n.actionCreators.deleteAccount(P);e.deleteAccount=a;const u=P=>n.actionCreators.deleteKey(P);e.deleteKey=u;const h=P=>n.actionCreators.deployContract(P);e.deployContract=h;const v=()=>n.actionCreators.fullAccessKey();e.fullAccessKey=v;const b=(P,C,x,D,k,B)=>n.actionCreators.functionCall(P,C,x,D,k,B);e.functionCall=b;const y=(P,C,x)=>n.actionCreators.functionCallAccessKey(P,C,x);e.functionCallAccessKey=y;const w=(P,C)=>n.actionCreators.stake(P,C);e.stake=w;const O=P=>n.actionCreators.transfer(P);e.transfer=O})(transaction);var validators={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findSeatPrice=e.diffEpochValidators=void 0;var t=lib$6;Object.defineProperty(e,"diffEpochValidators",{enumerable:!0,get:function(){return t.diffEpochValidators}}),Object.defineProperty(e,"findSeatPrice",{enumerable:!0,get:function(){return t.findSeatPrice}})})(validators);var account={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;var t=lib$2;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}})})(account);var account_multisig={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.AccountMultisig=e.Account2FA=void 0;var t=lib$2;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return t.Account2FA}}),Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return t.AccountMultisig}}),Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return t.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return t.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return t.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return t.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return t.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return t.MultisigStateStatus}})})(account_multisig);var account_creator={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=void 0;var t=lib$2;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return t.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return t.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return t.UrlAccountCreator}})})(account_creator);var connection={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;var t=lib$2;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return t.Connection}})})(connection);var signer={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=lib$1;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}}),Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return t.Signer}})})(signer);var contract={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Contract=void 0;var t=lib$2;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return t.Contract}})})(contract);var near$1={},lib={},near={},__awaiter$6=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault$1=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(near,"__esModule",{value:!0}),near.Near=void 0;const accounts_1$1=lib$2,bn_js_1$1=__importDefault$1(bnExports$6);class Near{constructor(t){var n;if(this.config=t,this.connection=accounts_1$1.Connection.fromConfig({networkId:t.networkId,provider:{type:"JsonRpcProvider",args:{url:t.nodeUrl,headers:t.headers}},signer:t.signer||{type:"InMemorySigner",keyStore:t.keyStore||((n=t.deps)===null||n===void 0?void 0:n.keyStore)},jsvmAccountId:t.jsvmAccountId||`jsvm.${t.networkId}`}),t.masterAccount){const o=t.initialBalance?new bn_js_1$1.default(t.initialBalance):new bn_js_1$1.default("500000000000000000000000000");this.accountCreator=new accounts_1$1.LocalAccountCreator(new accounts_1$1.Account(this.connection,t.masterAccount),o)}else t.helperUrl?this.accountCreator=new accounts_1$1.UrlAccountCreator(this.connection,t.helperUrl):this.accountCreator=null}account(t){return __awaiter$6(this,void 0,void 0,function*(){return new accounts_1$1.Account(this.connection,t)})}createAccount(t,n){return __awaiter$6(this,void 0,void 0,function*(){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(t,n),new accounts_1$1.Account(this.connection,t)})}}near.Near=Near;var wallet_account={},__awaiter$5=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})},__importDefault=commonjsGlobal$7&&commonjsGlobal$7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wallet_account,"__esModule",{value:!0}),wallet_account.ConnectedWalletAccount=wallet_account.WalletConnection=void 0;const accounts_1=lib$2,crypto_1=lib$7,utils_1$3=lib$6,transactions_1=lib$3,bn_js_1=__importDefault(bnExports$6),borsh_1=cjs,LOGIN_WALLET_URL_SUFFIX="/login/",MULTISIG_HAS_METHOD="add_request_and_confirm",LOCAL_STORAGE_KEY_SUFFIX="_wallet_auth_key",PENDING_ACCESS_KEY_PREFIX="pending_key";class WalletConnection{constructor(t,n){if(typeof n!="string")throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if(typeof window>"u")return new Proxy(this,{get(a,u){return u==="isSignedIn"?()=>!1:u==="getAccountId"?()=>"":a[u]&&typeof a[u]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:a[u]}});this._near=t;const o=n+LOCAL_STORAGE_KEY_SUFFIX,c=JSON.parse(window.localStorage.getItem(o));this._networkId=t.config.networkId,this._walletBaseUrl=t.config.walletUrl,n=n||t.config.contractName||"default",this._keyStore=t.connection.signer.keyStore,this._authData=c||{allKeys:[]},this._authDataKey=o,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return __awaiter$5(this,void 0,void 0,function*(){return this._completeSignInPromise?(yield this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()})}getAccountId(){return this._authData.accountId||""}requestSignInUrl({contractId:t,methodNames:n,successUrl:o,failureUrl:c}){return __awaiter$5(this,void 0,void 0,function*(){const a=new URL(window.location.href),u=new URL(this._walletBaseUrl+LOGIN_WALLET_URL_SUFFIX);if(u.searchParams.set("success_url",o||a.href),u.searchParams.set("failure_url",c||a.href),t){yield(yield this._near.account(t)).state(),u.searchParams.set("contract_id",t);const h=crypto_1.KeyPair.fromRandom("ed25519");u.searchParams.set("public_key",h.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,PENDING_ACCESS_KEY_PREFIX+h.getPublicKey(),h)}return n&&n.forEach(h=>{u.searchParams.append("methodNames",h)}),u.toString()})}requestSignIn(t){return __awaiter$5(this,void 0,void 0,function*(){const n=yield this.requestSignInUrl(t);window.location.assign(n)})}requestSignTransactionsUrl({transactions:t,meta:n,callbackUrl:o}){const c=new URL(window.location.href),a=new URL("sign",this._walletBaseUrl);return a.searchParams.set("transactions",t.map(u=>(0,borsh_1.serialize)(transactions_1.SCHEMA.Transaction,u)).map(u=>Buffer$E.from(u).toString("base64")).join(",")),a.searchParams.set("callbackUrl",o||c.href),n&&a.searchParams.set("meta",n),a.toString()}requestSignTransactions(t){const n=this.requestSignTransactionsUrl(t);window.location.assign(n)}_completeSignInWithAccessKey(){return __awaiter$5(this,void 0,void 0,function*(){const t=new URL(window.location.href),n=t.searchParams.get("public_key")||"",o=(t.searchParams.get("all_keys")||"").split(","),c=t.searchParams.get("account_id")||"";if(c){const a={accountId:c,allKeys:o};window.localStorage.setItem(this._authDataKey,JSON.stringify(a)),n&&(yield this._moveKeyFromTempToPermanent(c,n)),this._authData=a}t.searchParams.delete("public_key"),t.searchParams.delete("all_keys"),t.searchParams.delete("account_id"),t.searchParams.delete("meta"),t.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,t.toString())})}_moveKeyFromTempToPermanent(t,n){return __awaiter$5(this,void 0,void 0,function*(){const o=yield this._keyStore.getKey(this._networkId,PENDING_ACCESS_KEY_PREFIX+n);yield this._keyStore.setKey(this._networkId,t,o),yield this._keyStore.removeKey(this._networkId,PENDING_ACCESS_KEY_PREFIX+n)})}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new ConnectedWalletAccount(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}wallet_account.WalletConnection=WalletConnection;class ConnectedWalletAccount extends accounts_1.Account{constructor(t,n,o){super(n,o),this.walletConnection=t}signAndSendTransaction({receiverId:t,actions:n,walletMeta:o,walletCallbackUrl:c=window.location.href}){const a=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return __awaiter$5(this,void 0,void 0,function*(){const u=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let h=yield this.accessKeyForTransaction(t,n,u);if(!h)throw new Error(`Cannot find matching key for transaction sent to ${t}`);if(u&&u.toString()===h.public_key)try{return yield a.signAndSendTransaction.call(this,{receiverId:t,actions:n})}catch(P){if(P.type==="NotEnoughAllowance")h=yield this.accessKeyForTransaction(t,n);else throw P}const v=yield this.connection.provider.block({finality:"final"}),b=(0,utils_1$3.baseDecode)(v.header.hash),y=crypto_1.PublicKey.from(h.public_key),w=h.access_key.nonce.add(new bn_js_1.default(1)),O=(0,transactions_1.createTransaction)(this.accountId,y,t,w,n,b);return yield this.walletConnection.requestSignTransactions({transactions:[O],meta:o,callbackUrl:c}),new Promise((P,C)=>{setTimeout(()=>{C(new Error("Failed to redirect to sign transaction"))},1e3)})})}accessKeyMatchesTransaction(t,n,o){return __awaiter$5(this,void 0,void 0,function*(){const{access_key:{permission:c}}=t;if(c==="FullAccess")return!0;if(c.FunctionCall){const{receiver_id:a,method_names:u}=c.FunctionCall;if(a===this.accountId&&u.includes(MULTISIG_HAS_METHOD))return!0;if(a===n){if(o.length!==1)return!1;const[{functionCall:h}]=o;return h&&(!h.deposit||h.deposit.toString()==="0")&&(u.length===0||u.includes(h.methodName))}}return!1})}accessKeyForTransaction(t,n,o){return __awaiter$5(this,void 0,void 0,function*(){const c=yield this.getAccessKeys();if(o){const u=c.find(h=>h.public_key.toString()===o.toString());if(u&&(yield this.accessKeyMatchesTransaction(u,t,n)))return u}const a=this.walletConnection._authData.allKeys;for(const u of c)if(a.indexOf(u.public_key)!==-1&&(yield this.accessKeyMatchesTransaction(u,t,n)))return u;return null})}}wallet_account.ConnectedWalletAccount=ConnectedWalletAccount,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=void 0;var t=near;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}});var n=wallet_account;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return n.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return n.WalletConnection}})}(lib),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Near=void 0;var t=lib;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}})}(near$1);var walletAccount={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=void 0;var t=lib;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return t.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return t.WalletConnection}})})(walletAccount),function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(k,B,q,V){V===void 0&&(V=q);var ee=Object.getOwnPropertyDescriptor(B,q);(!ee||("get"in ee?!B.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return B[q]}}),Object.defineProperty(k,V,ee)}:function(k,B,q,V){V===void 0&&(V=q),k[V]=B[q]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(k,B){Object.defineProperty(k,"default",{enumerable:!0,value:B})}:function(k,B){k.default=B}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(k){if(k&&k.__esModule)return k;var B={};if(k!=null)for(var q in k)q!=="default"&&Object.prototype.hasOwnProperty.call(k,q)&&t(B,k,q);return n(B,k),B};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=e.KeyPair=e.Signer=e.InMemorySigner=e.Contract=e.Connection=e.Account=e.multisig=e.validators=e.transactions=e.utils=e.providers=e.accountCreator=void 0;const c=o(providers);e.providers=c;const a=o(utils$3);e.utils=a;const u=o(transaction);e.transactions=u;const h=o(validators);e.validators=h;const v=account;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return v.Account}});const b=o(account_multisig);e.multisig=b;const y=o(account_creator);e.accountCreator=y;const w=connection;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return w.Connection}});const O=signer;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return O.Signer}}),Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return O.InMemorySigner}});const P=contract;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return P.Contract}});const C=key_pair;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return C.KeyPair}});const x=near$1;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return x.Near}});const D=walletAccount;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return D.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return D.WalletConnection}})}(commonIndex);var browserConnect={},__awaiter$4=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(browserConnect,"__esModule",{value:!0}),browserConnect.connect=void 0;const near_1=near$1;function connect(e){return __awaiter$4(this,void 0,void 0,function*(){return new near_1.Near(e)})}browserConnect.connect=connect,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(a,u,h,v){v===void 0&&(v=h);var b=Object.getOwnPropertyDescriptor(u,h);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(a,v,b)}:function(a,u,h,v){v===void 0&&(v=h),a[v]=u[h]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var h in a)h!=="default"&&Object.prototype.hasOwnProperty.call(a,h)&&t(u,a,h);return n(u,a),u},c=commonjsGlobal$7&&commonjsGlobal$7.__exportStar||function(a,u){for(var h in a)h!=="default"&&!Object.prototype.hasOwnProperty.call(u,h)&&t(u,a,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.keyStores=void 0,e.keyStores=o(browserIndex),c(commonIndex,e),c(browserConnect,e)}(browserIndex$1);var utils$2={};Object.defineProperty(utils$2,"__esModule",{value:!0}),utils$2.resolveWalletUrl=utils$2.resolveBitteWallet=utils$2.getCallbackUrl=utils$2.checkCallbackUrl=void 0;const checkCallbackUrl=e=>{function t(n){return/^(https?|ftp|http?):\/\/[^\s/$.?#].[^\s]*$/.test(n)}if(e!==null&&e.length>0)if(t(e)){if(e.startsWith("https://")||e.startsWith("http://"))return e.endsWith("/")?e.slice(0,-1):e}else return console.error("callbackUrl set with wrong format. please use an URL with http:// or https:// instead.Further help available on our telegram channel: https://t.me/mintdev"),new URL(window.location.href).toString();else{const n=localStorage.getItem("mintbase-wallet:callback_url");return t(n)?n:(console.warn(`We recommend you to set the callbackUrl property on setupMintbaseWallet  
 read more here:  
 https://docs.mintbase.xyz/dev/mintbase-sdk-ref/wallet#setupmintbasewallet  
  
 further help available on our telegram channel:  
 https://t.me/mintdev`),new URL(window.location.href).toString())}return new URL(window.location.href).toString()};utils$2.checkCallbackUrl=checkCallbackUrl;const getCallbackUrl=e=>{var t,n,o,c,a,u;if(typeof window!==void 0){let h="";!((n=(t=window==null?void 0:window.mbjs)===null||t===void 0?void 0:t.keys)===null||n===void 0)&&n.callbackUrl&&((c=(o=window==null?void 0:window.mbjs)===null||o===void 0?void 0:o.keys)===null||c===void 0?void 0:c.callbackUrl.length)>0&&(h=(u=(a=window==null?void 0:window.mbjs)===null||a===void 0?void 0:a.keys)===null||u===void 0?void 0:u.callbackUrl);const v=(localStorage==null?void 0:localStorage.getItem("mintbase-wallet:callback_url"))||h;return{cbUrl:checkCallbackUrl(e??v)}}return null};utils$2.getCallbackUrl=getCallbackUrl;const resolveWalletUrl=(e,t)=>{if(t)return t;switch(e){case"mainnet":return"https://wallet.mintbase.xyz";case"testnet":return"https://testnet.wallet.mintbase.xyz/";default:throw new Error("Invalid wallet url")}};utils$2.resolveWalletUrl=resolveWalletUrl;const resolveBitteWallet=(e,t)=>{if(t)return t;switch(e){case"mainnet":return"https://wallet.bitte.ai";case"testnet":return"https://testnet.wallet.bitte.ai/";default:throw new Error("Invalid wallet url")}};utils$2.resolveBitteWallet=resolveBitteWallet,function(e){var t=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(b,y,w,O){O===void 0&&(O=w);var P=Object.getOwnPropertyDescriptor(y,w);(!P||("get"in P?!y.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return y[w]}}),Object.defineProperty(b,O,P)}:function(b,y,w,O){O===void 0&&(O=w),b[O]=y[w]}),n=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(b,y){Object.defineProperty(b,"default",{enumerable:!0,value:y})}:function(b,y){b.default=y}),o=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(b){if(b&&b.__esModule)return b;var y={};if(b!=null)for(var w in b)w!=="default"&&Object.prototype.hasOwnProperty.call(b,w)&&t(y,b,w);return n(y,b),y},c=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(b,y,w,O){function P(C){return C instanceof w?C:new w(function(x){x(C)})}return new(w||(w=Promise))(function(C,x){function D(q){try{B(O.next(q))}catch(V){x(V)}}function k(q){try{B(O.throw(q))}catch(V){x(V)}}function B(q){q.done?C(q.value):P(q.value).then(D,k)}B((O=O.apply(b,y||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.BitteWallet=e.TransactionSuccessEnum=void 0;const a=o(browserIndex$1),u=utils$2,h=require$$2;(function(b){b.MINT="mint",b.TRANSFER="transfer",b.BURN="burn",b.DEPLOY_STORE="deploy-store",b.MAKE_OFFER="make-offer",b.REVOKE_MINTER="revoke-minter",b.ADD_MINTER="add-minter",b.TRANSFER_STORE_OWNERSHIP="transfer-store-ownership",b.AUCTION_LIST="list",b.SIMPLE_SALE_LIST="simple-sale-list",b.UNLIST="unlist",b.TAKE_OFFER="take-offer",b.WITHDRAW_OFFER="withdraw-offer"})(e.TransactionSuccessEnum||(e.TransactionSuccessEnum={}));const v=({metadata:b,options:y,successUrl:w,failureUrl:O,contractId:P,callback:C,networkId:x})=>c(void 0,void 0,void 0,function*(){const D=yield c(void 0,void 0,void 0,function*(){if(typeof window!==void 0){const{connect:I,WalletConnection:T,keyStores:S}=a,d={networkId:x,keyStore:new S.BrowserLocalStorageKeyStore,nodeUrl:y.network.nodeUrl,walletUrl:b.walletUrl,headers:{}},E=new URL(window.location.href).searchParams.get("account_id");E&&!P&&localStorage.setItem("mintbase-wallet_wallet_auth_key",JSON.stringify({accountId:E,allKeys:[]}));const M=yield I(d),U=new T(M,"mintbase-wallet");return localStorage.setItem("mintbase-wallet:callback_url",C),{wallet:U}}return null});let k;const B=()=>k,q=()=>c(void 0,void 0,void 0,function*(){return!!k}),V=()=>c(void 0,void 0,void 0,function*(){var I;const T=yield m(),S=encodeURI((I=window==null?void 0:window.location)===null||I===void 0?void 0:I.href);return T.length?T:(yield D.wallet.requestSignIn({methodNames:[],successUrl:w||S,failureUrl:O||S,contractId:P}),m())}),ee=()=>c(void 0,void 0,void 0,function*(){window.localStorage.removeItem("mintbase-wallet:account-data"),D.wallet.isSignedIn()&&D.wallet.signOut()}),te=I=>{if(I&&I!==D.wallet.getAccountId())throw new Error(`Cannot sign transactions for ${I} while signed in as ${k}`)},ce=({transactions:I,callbackUrl:T})=>c(void 0,void 0,void 0,function*(){if(!D.wallet.isSignedIn())throw new Error("Wallet not signed in");const{cbUrl:S}=(0,u.getCallbackUrl)(T??"");for(const{signerId:U}of I)te(U);const d=JSON.stringify(I),E=encodeURIComponent(d),M=new URL(`${b.walletUrl}/sign-transaction`);M.searchParams.set("transactions_data",E),M.searchParams.set("callback_url",S),window.location.assign(M.toString())}),Q=({receiverId:I,actions:T,signerId:S,callbackUrl:d})=>c(void 0,void 0,void 0,function*(){if(te(S),!I&&!P)throw new Error("No receiver found to send the transaction to");const{cbUrl:E}=(0,u.getCallbackUrl)(d??""),M=E||w;if(!P){const U=new URL(`${b.walletUrl}/sign-transaction`),F=JSON.stringify([{receiverId:I,signerId:S,actions:T}]),N=encodeURIComponent(F);U.searchParams.set("transactions_data",N),U.searchParams.set("callback_url",M),window.location.assign(U.toString())}return D.wallet.account().signAndSendTransaction({receiverId:I||P,actions:T.map(U=>(0,h.createAction)(U)),walletCallbackUrl:M})}),ne=()=>c(void 0,void 0,void 0,function*(){throw new Error(`The verifyOwner method is not supported by ${b.name}`)}),fe=({message:I,nonce:T,recipient:S,callbackUrl:d})=>c(void 0,void 0,void 0,function*(){const{cbUrl:E}=(0,u.getCallbackUrl)(d??""),M=new URL(`${b.walletUrl}/sign-message`);M.searchParams.set("message",I),M.searchParams.set("nonce",T),M.searchParams.set("recipient",S),M.searchParams.set("callbackUrl",E),window.location.assign(M.toString())}),l=({accountId:I,publicKey:T,signature:S,message:d,nonce:E,recipient:M,callbackUrl:U})=>c(void 0,void 0,void 0,function*(){const F=new URL(`${b.walletUrl}/api/verify-message`);F.searchParams.set("message",d),F.searchParams.set("accountId",I),F.searchParams.set("publicKey",T),F.searchParams.set("signature",S),F.searchParams.set("nonce",E),F.searchParams.set("recipient",M),F.searchParams.set("callbackUrl",U);try{const N=yield(yield fetch(F.toString())).json(),{isValid:L}=N;return L}catch{return!1}}),p=()=>c(void 0,void 0,void 0,function*(){throw`The getAvailableBalance method is not supported by ${b.name}`}),m=()=>c(void 0,void 0,void 0,function*(){var I;const T=D.wallet.getAccountId(),S=D.wallet.account();if(!T||!S)return[];const d=window.localStorage.getItem("mintbase-wallet:account-creation-data");return[{accountId:T,publicKey:(I=JSON.parse(d))===null||I===void 0?void 0:I.devicePublicKey}]}),_=I=>c(void 0,void 0,void 0,function*(){return A(I),null}),A=I=>(k=I,window.localStorage.setItem("mintbase-wallet:activeAccountId",I),null);return{getAccountId:B,isSignedIn:q,signIn:V,signOut:ee,signAndSendTransaction:Q,verifyOwner:ne,signMessage:fe,getAvailableBalance:p,getAccounts:m,switchAccount:_,signAndSendTransactions:ce,verifyMessage:l}});e.BitteWallet=v}(bitteWallet);var __awaiter$3=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(bitteWalletSetup,"__esModule",{value:!0}),bitteWalletSetup.setupBitteWallet=void 0;const bitte_wallet_1=bitteWallet,utils_1$2=utils$2,icon$1="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTUiIGhlaWdodD0iOTUiIHZpZXdCb3g9IjAgMCA5NSA5NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xLjc3NjE3IDU5LjE4MjZMNjIuNzIyNyA2My4zMTNDNjMuMTE4NSA2My40MzA5IDYzLjQ3ODggNjMuNjQ1NiA2My43NzA4IDYzLjkzNzdDNjQuMDYyOSA2NC4yMjk3IDY0LjI3NzUgNjQuNTg5OSA2NC4zOTU0IDY0Ljk4NThMNjguNTI1OSA3OC44NTU1QzY4LjY3ODcgNzkuMzY4NiA2OC45OTMyIDc5LjgxODYgNjkuNDIyNCA4MC4xMzg3QzY5Ljg1MTYgODAuNDU4NyA3MC4zNzI3IDgwLjYzMTYgNzAuOTA4MiA4MC42MzE2QzcxLjQ0MzYgODAuNjMxNiA3MS45NjQ3IDgwLjQ1ODcgNzIuMzkzOSA4MC4xMzg3QzcyLjgyMzEgNzkuODE4NiA3My4xMzc2IDc5LjM2ODYgNzMuMjkwNCA3OC44NTU1TDc3LjQyMDkgNjQuOTg1OEM3Ny41Mzg4IDY0LjU4OTkgNzcuNzUzNCA2NC4yMjk3IDc4LjA0NTUgNjMuOTM3N0M3OC4zMzc2IDYzLjY0NTYgNzguNjk3OCA2My40MzA5IDc5LjA5MzYgNjMuMzEzTDkyLjk2MzMgNTkuMTgyNkM5My40NzY0IDU5LjAyOTcgOTMuOTI2NSA1OC43MTUzIDk0LjI0NjYgNTguMjg2MUM5NC41NjY2IDU3Ljg1NjggOTQuNzM5NSA1Ny4zMzU3IDk0LjczOTUgNTYuODAwM0M5NC43Mzk1IDU2LjI2NDkgOTQuNTY2NiA1NS43NDM4IDk0LjI0NjYgNTUuMzE0NkM5My45MjY1IDU0Ljg4NTMgOTMuNDc2NCA1NC41NzA5IDkyLjk2MzMgNTQuNDE4MUw3OS4wOTM3IDUwLjI4NzZDNzguNjk3OCA1MC4xNjk3IDc4LjMzNzYgNDkuOTU1IDc4LjA0NTUgNDkuNjYzQzc3Ljc1MzUgNDkuMzcwOSA3Ny41Mzg4IDQ5LjAxMDcgNzcuNDIwOSA0OC42MTQ4TDczLjI5MDQgMzQuNzQ1MkM3My4xMzc2IDM0LjIzMiA3Mi44MjMyIDMzLjc4MTkgNzIuMzkzOSAzMy40NjE5QzcxLjk2NDcgMzMuMTQxOSA3MS40NDM2IDMyLjk2OSA3MC45MDgyIDMyLjk2OUM3MC4zNzI4IDMyLjk2OSA2OS44NTE3IDMzLjE0MTkgNjkuNDIyNCAzMy40NjE5QzY4Ljk5MzIgMzMuNzgxOSA2OC42Nzg4IDM0LjIzMiA2OC41MjYgMzQuNzQ1Mkw2NC4zOTU0IDQ4LjYxNDhDNjQuMjc3NiA0OS4wMTA3IDY0LjA2MjkgNDkuMzcwOSA2My43NzA4IDQ5LjY2M0M2My40Nzg4IDQ5Ljk1NSA2My4xMTg1IDUwLjE2OTcgNjIuNzIyNyA1MC4yODc2TDEuNzc2MTggNTQuNDE4MUMxLjI2MzA1IDU0LjU3MDkgMC44MTI5NTYgNTQuODg1MyAwLjQ5MjkyIDU1LjMxNDZDMC4xNzI4ODQgNTUuNzQzOCAyLjI0NzU1ZS0wNiA1Ni4yNjQ5IDAgNTYuODAwM0MtMi4yNDc1MWUtMDYgNTcuMzM1NyAwLjE3Mjg4NyA1Ny44NTY4IDAuNDkyOTIgNTguMjg2MUMwLjgxMjk1MyA1OC43MTUzIDEuMjYzMDMgNTkuMDI5NyAxLjc3NjE3IDU5LjE4MjZaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMyLjE2MzcgMjkuNDg2OEw0MC4zNTc4IDMxLjkyNzFDNDAuNTkxNyAzMS45OTY3IDQwLjgwNDUgMzIuMTIzNiA0MC45NzcgMzIuMjk2MUM0MS4xNDk2IDMyLjQ2ODcgNDEuMjc2NCAzMi42ODE1IDQxLjM0NjEgMzIuOTE1NEw0My43ODYzIDQxLjEwOTVDNDMuODc2NiA0MS40MTI2IDQ0LjA2MjQgNDEuNjc4NSA0NC4zMTYgNDEuODY3NkM0NC41Njk2IDQyLjA1NjcgNDQuODc3NCA0Mi4xNTg4IDQ1LjE5MzcgNDIuMTU4OEM0NS41MTAxIDQyLjE1ODggNDUuODE3OSA0Mi4wNTY3IDQ2LjA3MTUgNDEuODY3NkM0Ni4zMjUxIDQxLjY3ODUgNDYuNTEwOSA0MS40MTI2IDQ2LjYwMTEgNDEuMTA5NUw0OS4wNDE0IDMyLjkxNTRDNDkuMTExMSAzMi42ODE1IDQ5LjIzNzkgMzIuNDY4NyA0OS40MTA0IDMyLjI5NjFDNDkuNTgzIDMyLjEyMzYgNDkuNzk1OCAzMS45OTY3IDUwLjAyOTcgMzEuOTI3MUw1OC4yMjM4IDI5LjQ4NjhDNTguNTI2OSAyOS4zOTY2IDU4Ljc5MjggMjkuMjEwOCA1OC45ODE5IDI4Ljk1NzJDNTkuMTcxIDI4LjcwMzYgNTkuMjczMSAyOC4zOTU4IDU5LjI3MzEgMjguMDc5NEM1OS4yNzMxIDI3Ljc2MzEgNTkuMTcxIDI3LjQ1NTMgNTguOTgxOSAyNy4yMDE3QzU4Ljc5MjggMjYuOTQ4MSA1OC41MjY5IDI2Ljc2MjMgNTguMjIzOCAyNi42NzJMNTAuMDI5NiAyNC4yMzE3QzQ5Ljc5NTggMjQuMTYyMSA0OS41ODI5IDI0LjAzNTIgNDkuNDEwNCAyMy44NjI3QzQ5LjIzNzkgMjMuNjkwMiA0OS4xMTEgMjMuNDc3MyA0OS4wNDE0IDIzLjI0MzRMNDYuNjAxMSAxNS4wNDkzQzQ2LjUxMDggMTQuNzQ2MiA0Ni4zMjUgMTQuNDgwMyA0Ni4wNzE1IDE0LjI5MTJDNDUuODE3OSAxNC4xMDIxIDQ1LjUxIDE0IDQ1LjE5MzcgMTRDNDQuODc3NCAxNCA0NC41Njk1IDE0LjEwMjEgNDQuMzE1OSAxNC4yOTEyQzQ0LjA2MjMgMTQuNDgwMyA0My44NzY2IDE0Ljc0NjIgNDMuNzg2MyAxNS4wNDkzTDQxLjM0NiAyMy4yNDM0QzQxLjI3NjQgMjMuNDc3MyA0MS4xNDk1IDIzLjY5MDIgNDAuOTc3IDIzLjg2MjdDNDAuODA0NCAyNC4wMzUyIDQwLjU5MTYgMjQuMTYyMSA0MC4zNTc4IDI0LjIzMTdMMzIuMTYzNyAyNi42NzJDMzEuODYwNSAyNi43NjIyIDMxLjU5NDYgMjYuOTQ4IDMxLjQwNTUgMjcuMjAxNkMzMS4yMTY0IDI3LjQ1NTIgMzEuMTE0MyAyNy43NjMxIDMxLjExNDMgMjguMDc5NEMzMS4xMTQzIDI4LjM5NTggMzEuMjE2NCAyOC43MDM3IDMxLjQwNTUgMjguOTU3MkMzMS41OTQ2IDI5LjIxMDggMzEuODYwNSAyOS4zOTY2IDMyLjE2MzcgMjkuNDg2OFoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=";function setupBitteWallet({walletUrl:e="",deprecated:t=!1,successUrl:n="",failureUrl:o="",callbackUrl:c="",contractId:a=""}={}){return u=>__awaiter$3(this,void 0,void 0,function*(){return{id:"bitte-wallet",type:"browser",metadata:{name:"Bitte Wallet",description:"NEAR wallet to store, buy, send and stake assets for DeFi.",iconUrl:icon$1,deprecated:t,available:!0,successUrl:n,failureUrl:o,walletUrl:(0,utils_1$2.resolveBitteWallet)(u.options.network.networkId,e)},init:h=>(0,bitte_wallet_1.BitteWallet)(Object.assign({callback:c,networkId:u.options.network.networkId,successUrl:n,failureUrl:o,contractId:a},h))}})}bitteWalletSetup.setupBitteWallet=setupBitteWallet;var setup={},mintbaseWallet={},__createBinding=commonjsGlobal$7&&commonjsGlobal$7.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(t,n);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,c)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),__setModuleDefault=commonjsGlobal$7&&commonjsGlobal$7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=commonjsGlobal$7&&commonjsGlobal$7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t},__awaiter$2=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(mintbaseWallet,"__esModule",{value:!0}),mintbaseWallet.MintbaseWallet=void 0;const nearAPI=__importStar(browserIndex$1),utils_1$1=utils$2,wallet_utils_1=require$$2,MintbaseWallet=({metadata:e,options:t,successUrl:n,failureUrl:o,contractId:c,callback:a,networkId:u})=>__awaiter$2(void 0,void 0,void 0,function*(){const h=yield __awaiter$2(void 0,void 0,void 0,function*(){if(typeof window!==void 0){const{connect:ce,WalletConnection:Q,keyStores:ne}=nearAPI,fe={networkId:u,keyStore:new ne.BrowserLocalStorageKeyStore,nodeUrl:t.network.nodeUrl,walletUrl:e.walletUrl,headers:{}},l=new URL(window.location.href).searchParams.get("account_id");l&&!c&&localStorage.setItem("mintbase-wallet_wallet_auth_key",JSON.stringify({accountId:l,allKeys:[]}));const p=yield ce(fe),m=new Q(p,"mintbase-wallet");return localStorage.setItem("mintbase-wallet:callback_url",a),{wallet:m}}return null});let v;const b=()=>v,y=()=>__awaiter$2(void 0,void 0,void 0,function*(){return!!v}),w=()=>__awaiter$2(void 0,void 0,void 0,function*(){var ce;const Q=yield V(),ne=encodeURI((ce=window==null?void 0:window.location)===null||ce===void 0?void 0:ce.href);return Q.length?Q:(yield h.wallet.requestSignIn({methodNames:[],successUrl:n||ne,failureUrl:o||ne,contractId:c}),V())}),O=()=>__awaiter$2(void 0,void 0,void 0,function*(){window.localStorage.removeItem("mintbase-wallet:account-data"),h.wallet.isSignedIn()&&h.wallet.signOut()}),P=ce=>{if(ce&&ce!==h.wallet.getAccountId())throw new Error(`Cannot sign transactions for ${ce} while signed in as ${v}`)},C=({transactions:ce,callbackUrl:Q})=>__awaiter$2(void 0,void 0,void 0,function*(){if(!h.wallet.isSignedIn())throw new Error("Wallet not signed in");const{cbUrl:ne}=(0,utils_1$1.getCallbackUrl)(Q??"");for(const{signerId:m}of ce)P(m);const fe=JSON.stringify(ce),l=encodeURIComponent(fe),p=new URL(`${e.walletUrl}/sign-transaction`);p.searchParams.set("transactions_data",l),p.searchParams.set("callback_url",ne),window.location.assign(p.toString())}),x=({receiverId:ce,actions:Q,signerId:ne,callbackUrl:fe})=>__awaiter$2(void 0,void 0,void 0,function*(){if(P(ne),!ce&&!c)throw new Error("No receiver found to send the transaction to");const{cbUrl:l}=(0,utils_1$1.getCallbackUrl)(fe??""),p=l||n;if(!c){const m=new URL(`${e.walletUrl}/sign-transaction`),_=JSON.stringify([{receiverId:ce,signerId:ne,actions:Q}]),A=encodeURIComponent(_);m.searchParams.set("transactions_data",A),m.searchParams.set("callback_url",p),window.location.assign(m.toString())}return h.wallet.account().signAndSendTransaction({receiverId:ce||c,actions:Q.map(m=>(0,wallet_utils_1.createAction)(m)),walletCallbackUrl:p})}),D=()=>__awaiter$2(void 0,void 0,void 0,function*(){throw new Error(`The verifyOwner method is not supported by ${e.name}`)}),k=({message:ce,nonce:Q,recipient:ne,callbackUrl:fe})=>__awaiter$2(void 0,void 0,void 0,function*(){const{cbUrl:l}=(0,utils_1$1.getCallbackUrl)(fe??""),p=new URL(`${e.walletUrl}/sign-message`);p.searchParams.set("message",ce),p.searchParams.set("nonce",Q),p.searchParams.set("recipient",ne),p.searchParams.set("callbackUrl",l),window.location.assign(p.toString())}),B=({accountId:ce,publicKey:Q,signature:ne,message:fe,nonce:l,recipient:p,callbackUrl:m})=>__awaiter$2(void 0,void 0,void 0,function*(){const _=new URL(`${e.walletUrl}/api/verify-message`);_.searchParams.set("message",fe),_.searchParams.set("accountId",ce),_.searchParams.set("publicKey",Q),_.searchParams.set("signature",ne),_.searchParams.set("nonce",l),_.searchParams.set("recipient",p),_.searchParams.set("callbackUrl",m);try{const A=yield(yield fetch(_.toString())).json(),{isValid:I}=A;return I}catch{return!1}}),q=()=>__awaiter$2(void 0,void 0,void 0,function*(){throw`The getAvailableBalance method is not supported by ${e.name}`}),V=()=>__awaiter$2(void 0,void 0,void 0,function*(){var ce;const Q=h.wallet.getAccountId(),ne=h.wallet.account(),fe=window.localStorage.getItem("mintbase-wallet:account-creation-data");return!Q||!ne||!fe?[]:[{accountId:Q,publicKey:(ce=JSON.parse(fe))===null||ce===void 0?void 0:ce.devicePublicKey}]}),ee=ce=>__awaiter$2(void 0,void 0,void 0,function*(){return te(ce),null}),te=ce=>(v=ce,window.localStorage.setItem("mintbase-wallet:activeAccountId",ce),null);return{getAccountId:b,isSignedIn:y,signIn:w,signOut:O,signAndSendTransaction:x,verifyOwner:D,signMessage:k,getAvailableBalance:q,getAccounts:V,switchAccount:ee,signAndSendTransactions:C,verifyMessage:B}});mintbaseWallet.MintbaseWallet=MintbaseWallet;var __awaiter$1=commonjsGlobal$7&&commonjsGlobal$7.__awaiter||function(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,t||[])).next())})};Object.defineProperty(setup,"__esModule",{value:!0}),setup.setupMintbaseWallet=void 0;const mintbase_wallet_1=mintbaseWallet,utils_1=utils$2,icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnySURBVHgB7Z0HjBVFHMa/B/YK9u6BvUSwd8EeGyrWxMKJRk3sRBNb4NDYGyQaje3EXqJCrIkN7N2zS2gHhCJVaujnfDe37szcvvd273Zv/27mlyz3Zt6+t7z9dqd+/9kSImhqauqi/vRTW2+19VRbDTxp0KC2RrUNL5VKw6J2KLkZSozT1J96tXWBJ0smqG2wK0wnM6HEeEj9eRNejI6gm9rq1TkfZGb+d4e0vFEHTx48pO6UAXzRLIgSoxa6mPLkQ5Pa+ipRhgeCsDyrgSdP5qqte+eWu6MWnrxZS21/s1I/FR4JsLTqRUFq4JFCj5IqsprgkULTaigqixYB77wDjBgBfPttmH/QQUCfPsApp6hSey1Io3h3yMyZwMMPA2+8ASxZUn6/jTYCbrgBOPNMCKKpWIJMnw6cey4wZUr8z5x0EvDgg2rMohME0CTif5EaF14YLcaaawJ77BH9GRZrd98NKRRHkKFD1XDdBDvvqKOA114DfvtNja8OB8aMAZ54AthlF3u/Z54BfvoJEihGkcUK/MADgaVLw7zbb9fFVxT8yYMHAy+8EObtvz/w4ovImYIUWR98YItxzDHlxSAl1Qe76SZgu+3CvO+/1w2CnCmGIN99Z6cvuqj6Z1ivnH++nffll8ibYggycaKd3nVXxGLnncPXLMaStM4yohiCLFtmpzfYALHYeGM7PWcO8qYYgmy6qZ0ePRqx+PNPO71yJfKmGIK4zdiXX67+GRZRL71k5wnoHBZDkFOdGQQ2Z6v1K9jEdfdZtQp5UwxBtt9eN3UDePVfcgnw0Uet9+V7Tz4J3HEHJFKc0d6BA3WzdfFinZ4/H7j8cuCww3SnkS2qX34BRo4Efv89+js6d0beFEeQLbcEHn9c90GWLw/zP/9cb3HwlXrK8E54+mmgS0xbWc+edtpX6hnACaj33tO98Jqa8vtQuCFD7HwBw3rFnDHcZBNgUIshcPZsYNy48GRvsw2w9db69dSp9udKJeRNcadwA9gbd3vkAW4z1zd7PS5eEGF4QYThBRGGF0QYXhBheEGE4QURhhdEGF4QYcg2ytEA19AA/Pqrnt1buBCpQnMEvz9g8831ZJcLjdn77gv06AHsvTcyRKjZmmNKjz2mXezm3IYENtwQqKsDTj4ZGSBQkPHjgQEDys/qSeHoo7VJu0uqIf3CBKEvij807aIpK3bcEXjrLTVmntqguTBB+vcHPvvMzjv9dOC447QZesYMbRulW911utO0cPbZSASdir17R7/H2cczzgD2209HWn31FfD228Ann9j7XXYZcP31SAlBgrzyCnDrrWF6q620O2SnnaL3f+opO65js82Ajz/Wnt24RAnCSSqGNpxwQvRnPv0UuPhie3+GPLDCbz+C3O+86k14UsqJQXhSTjwxTPPuee45JCLqWrzmmvJikCOOCGcjg+8YNgxpIUeQsWPD18cf39qAEMWNN9rpDz9EIlxTQ9euwBVXVP/ceefpOzjgjz+QFjIEcVtUcd3rtP6ss06Y5l2SBHfK1rWkVsIMkWPLMCVkCOL+oG23RWx22CF8TXNcEtz6xgzgqQTrjagOZArIEMQNJ2hsRGzM1lYSIQndKeuvn/y4rDfMfVN0q8gcy3LDBMoxaZLdZ2FTNSl77RW+TtIZNfdNUtRVQaYgo0bpmL9KsPy/8047jwa4JPDKNusCjp098kjlz/DueP55YNq0MG/33ZEWMgVZsUI3a999N7ppumABcO21trudveZynbxKnHOOnaab8f77o4/LvEcfBW67LcyjqP36IS1kdAxff711EzaA65Lssw+w227A2msD33yjY83dFhU7Z3GaylEwVmTQIDtvzz113AmbtyzWfvhBx52YAaYU4+abgdpapISQnnolQeJwwQU6HKGt8BTQNf/FF/E/QzG4MAFHpdNDaJw6h7jjtFy4z1VXtU+M4Hs41N+3b/zjcvwqXTGakSkIBwpZubKY4o83T1KQPvRQPdh39dVIhfXWA+65R4+RcVys3HH5f+L6KJdeiiyQabbmDz/2WL1xhR+uUcKmMFtWrE8OOACZcfjhuuhi7Dub1ezn8LjsgHbvHjrnM0KmIOaQxhZb6I0nqiNhT5xbBx/XmxyE4QURhhdEGF4QYXhBhOEFEYYXRBheEGF4QYThBRFGxwydBCP8nGXj+JCLa3KgJejrr5EqtHvSpRLYdwSs2hBFtvMh/Gqu7ka3388/i1iGtdlpQnsovV9cSlaWMBlOUHFmjfMUpgFOGt266WH+Sg7JjiUjQejJ5dxCFLwi4xyyLVdupe8td1wuoMkp3HIrB3UsGQjCaCfOvJnwZPB5HZzLoBeK8+K0fZrODRP6a+l2TwLnTVwXOo/L4XPag2iCYLFJR4tr9+Fcx/vvQwApC8LndfDEmyYyLq1HJ4dbLNBPxfXXuUi+C4sRhiAkgSLSpRLAQJq77rLXYgzgHXzvvfYdw2eJZDQLmICU59R51ZticCqUYQZRZTSnTO+7r/WKos3/rYTXCB0ophg0UdfXR4tBuECm6+mi10oA6QrCIsGE8Rs88ZVgvB6DKk2S1h9cjN+EVzptPJVgMI45G8giT8AjK9IV5Mcfw9f0zMaZ/qRgjLloD1xt1KRSfEcARefTdQJ4V1ZzS3YA6Qpinpgk9spyT7+Jy6xZdjrusekgMSnc4ypMJ3mShe3nzrXTNDUkYfXVK39f3OOusQbyJl1BTCsnrTtx4SOJTExHehzcuI647nkz8olFWNz4kAxJVxA38JFLsVaDwjHCNaAtTvIjj7TT9TEefM0murtoP1fBzpl0BWHHz+SBB4C//iq/P08K2//mag1J7w5y8MF2McfO36uvlt+fFTj7KOZAJ+9uM24wJ9IV5JBDbFchI6No92dfhCfB3Nhb5vIUZq+Znl7GfbeFK68MX/P7b7lFhw3w2VTmcdkAYDy8+QAwFlftMXunSPpDJ6zMGezvLlLM4ExegeuuC0ye3LrS50mh3T/pkIkJn2NoFn8BrBu4di+HatjfcI971llSnpaQ0eAiV5LmUEbcJ91wmINBMr16oV1wOIaicDwtDhSDS3kwCEcGGYUjcLCOznRGQVXqdfM9VqQc9mivGISdTAbxV5vn4Hu8U7lyhBwxmsk+YIdNWq5fwnWp2JOfN09PELFFxvrGbSGlBe9SLsrPJ0VzfI1FFdfD4jA7V4DgIGi1YZ2Op2APJ/7/U7CHExcACtIIjxQaKEgDPFKYSEFGwSMB1uVvslLnooE0RnWFJ08mlEql7p3UP/+oRH948oR3Rx1fNLeylCh0GgyBJw8oxmClwbNMWN1ZVXzVqT8D3XxPZlCMoUqM64KMVideiVILLUoNvDBZQSE4XdlfiTHCfKPsCW8Rpg+0MG1c1cXj0AjdzRiptmdb6m+LfwEGoUIy8K/6BwAAAABJRU5ErkJggg==";function setupMintbaseWallet({walletUrl:e="",deprecated:t=!1,successUrl:n="",failureUrl:o="",callbackUrl:c="",contractId:a=""}={}){return u=>__awaiter$1(this,void 0,void 0,function*(){return{id:"mintbase-wallet",type:"browser",metadata:{name:"Mintbase Wallet",description:"NEAR wallet to store, buy, send and stake assets for DeFi.",iconUrl:icon,deprecated:t,available:!0,successUrl:n,failureUrl:o,walletUrl:(0,utils_1.resolveWalletUrl)(u.options.network.networkId,e)},init:h=>(0,mintbase_wallet_1.MintbaseWallet)(Object.assign({callback:c,networkId:u.options.network.networkId,successUrl:n,failureUrl:o,contractId:a},h))}})}setup.setupMintbaseWallet=setupMintbaseWallet,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.setupMintbaseWallet=e.setupBitteWallet=void 0;var t=bitteWalletSetup;Object.defineProperty(e,"setupBitteWallet",{enumerable:!0,get:function(){return t.setupBitteWallet}});var n=setup;Object.defineProperty(e,"setupMintbaseWallet",{enumerable:!0,get:function(){return n.setupMintbaseWallet}})}(lib$9);var toggleSelection=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(c){e.addRange(c)}),t&&t.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function copy(e,t){var n,o,c,a,u,h,v=!1;t||(t={}),n=t.debug||!1;try{c=deselectCurrent(),a=document.createRange(),u=document.getSelection(),h=document.createElement("span"),h.textContent=e,h.ariaHidden="true",h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",function(y){if(y.stopPropagation(),t.format)if(y.preventDefault(),typeof y.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var w=clipboardToIE11Formatting[t.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(w,e)}else y.clipboardData.clearData(),y.clipboardData.setData(t.format,e);t.onCopy&&(y.preventDefault(),t.onCopy(y.clipboardData))}),document.body.appendChild(h),a.selectNodeContents(h),u.addRange(a);var b=document.execCommand("copy");if(!b)throw new Error("copy command was unsuccessful");v=!0}catch(y){n&&console.error("unable to copy using execCommand: ",y),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),v=!0}catch(w){n&&console.error("unable to copy using clipboardData: ",w),n&&console.error("falling back to prompt"),o=format("message"in t?t.message:defaultMessage),window.prompt(o,e)}}finally{u&&(typeof u.removeRange=="function"?u.removeRange(a):u.removeAllRanges()),h&&document.body.removeChild(h),c()}return v}var copyToClipboard=copy;const copy$1=getDefaultExportFromCjs$1(copyToClipboard);var canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},utils$1={};let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$1.getSymbolSize=function e(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},utils$1.getSymbolTotalCodewords=function e(t){return CODEWORDS_COUNT[t]},utils$1.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t},utils$1.setToSJISFunction=function e(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=t},utils$1.isKanjiModeEnabled=function(){return typeof toSJISFunction<"u"},utils$1.toSJIS=function e(t){return toSJISFunction(t)};var errorCorrectionLevel={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,o){if(e.isValid(n))return n;try{return t(n)}catch{return o}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1;function BitMatrix$1(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}BitMatrix$1.prototype.set=function(e,t,n,o){const c=e*this.size+t;this.data[c]=n,o&&(this.reservedBit[c]=!0)},BitMatrix$1.prototype.get=function(e,t){return this.data[e*this.size+t]},BitMatrix$1.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},BitMatrix$1.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(e){const t=utils$1.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const o=Math.floor(n/7)+2,c=t(n),a=c===145?26:Math.ceil((c-13)/(2*o-2))*2,u=[c-7];for(let h=1;h<o-1;h++)u[h]=u[h-1]-a;return u.push(6),u.reverse()},e.getPositions=function(n){const o=[],c=e.getRowColCoords(n),a=c.length;for(let u=0;u<a;u++)for(let h=0;h<a;h++)u===0&&h===0||u===0&&h===a-1||u===a-1&&h===0||o.push([c[u],c[h]]);return o}})(alignmentPattern);var finderPattern={};const getSymbolSize=utils$1.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function e(t){const n=getSymbolSize(t);return[[0,0],[n-FINDER_PATTERN_SIZE,0],[0,n-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){const c=o.size;let a=0,u=0,h=0,v=null,b=null;for(let y=0;y<c;y++){u=h=0,v=b=null;for(let w=0;w<c;w++){let O=o.get(y,w);O===v?u++:(u>=5&&(a+=t.N1+(u-5)),v=O,u=1),O=o.get(w,y),O===b?h++:(h>=5&&(a+=t.N1+(h-5)),b=O,h=1)}u>=5&&(a+=t.N1+(u-5)),h>=5&&(a+=t.N1+(h-5))}return a},e.getPenaltyN2=function(o){const c=o.size;let a=0;for(let u=0;u<c-1;u++)for(let h=0;h<c-1;h++){const v=o.get(u,h)+o.get(u,h+1)+o.get(u+1,h)+o.get(u+1,h+1);(v===4||v===0)&&a++}return a*t.N2},e.getPenaltyN3=function(o){const c=o.size;let a=0,u=0,h=0;for(let v=0;v<c;v++){u=h=0;for(let b=0;b<c;b++)u=u<<1&2047|o.get(v,b),b>=10&&(u===1488||u===93)&&a++,h=h<<1&2047|o.get(b,v),b>=10&&(h===1488||h===93)&&a++}return a*t.N3},e.getPenaltyN4=function(o){let c=0;const a=o.data.length;for(let u=0;u<a;u++)c+=o.data[u];return Math.abs(Math.ceil(c*100/a/5)-10)*t.N4};function n(o,c,a){switch(o){case e.Patterns.PATTERN000:return(c+a)%2===0;case e.Patterns.PATTERN001:return c%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(c+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return c*a%2+c*a%3===0;case e.Patterns.PATTERN110:return(c*a%2+c*a%3)%2===0;case e.Patterns.PATTERN111:return(c*a%3+(c+a)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(o,c){const a=c.size;for(let u=0;u<a;u++)for(let h=0;h<a;h++)c.isReserved(h,u)||c.xor(h,u,n(o,h,u))},e.getBestMask=function(o,c){const a=Object.keys(e.Patterns).length;let u=0,h=1/0;for(let v=0;v<a;v++){c(v),e.applyMask(v,o);const b=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(v,o),b<h&&(h=b,u=v)}return u}})(maskPattern);var errorCorrectionCode={};const ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function e(t,n){switch(n){case ECLevel$1.L:return EC_BLOCKS_TABLE[(t-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(t-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(t-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(t-1)*4+3];default:return}},errorCorrectionCode.getTotalCodewordsCount=function e(t,n){switch(n){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(t-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(t-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(t-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(t-1)*4+3];default:return}};var polynomial={},galoisField={};const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);(function e(){let t=1;for(let n=0;n<255;n++)EXP_TABLE[n]=t,LOG_TABLE[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)EXP_TABLE[n]=EXP_TABLE[n-255]})(),galoisField.log=function e(t){if(t<1)throw new Error("log("+t+")");return LOG_TABLE[t]},galoisField.exp=function e(t){return EXP_TABLE[t]},galoisField.mul=function e(t,n){return t===0||n===0?0:EXP_TABLE[LOG_TABLE[t]+LOG_TABLE[n]]},function(e){const t=galoisField;e.mul=function(n,o){const c=new Uint8Array(n.length+o.length-1);for(let a=0;a<n.length;a++)for(let u=0;u<o.length;u++)c[a+u]^=t.mul(n[a],o[u]);return c},e.mod=function(n,o){let c=new Uint8Array(n);for(;c.length-o.length>=0;){const a=c[0];for(let h=0;h<o.length;h++)c[h]^=t.mul(o[h],a);let u=0;for(;u<c.length&&c[u]===0;)u++;c=c.slice(u)}return c},e.generateECPolynomial=function(n){let o=new Uint8Array([1]);for(let c=0;c<n;c++)o=e.mul(o,new Uint8Array([1,t.exp(c)]));return o}}(polynomial);const Polynomial=polynomial;function ReedSolomonEncoder$1(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function e(t){this.degree=t,this.genPoly=Polynomial.generateECPolynomial(this.degree)},ReedSolomonEncoder$1.prototype.encode=function e(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const o=Polynomial.mod(n,this.genPoly),c=this.degree-o.length;if(c>0){const a=new Uint8Array(this.degree);return a.set(o,c),a}return o};var reedSolomonEncoder=ReedSolomonEncoder$1,version$1={},mode={},versionCheck={};versionCheck.isValid=function e(t){return!isNaN(t)&&t>=1&&t<=40};var regex={};const numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+";let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g"),regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),regex.BYTE=new RegExp(byte,"g"),regex.NUMERIC=new RegExp(numeric,"g"),regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function e(t){return TEST_KANJI.test(t)},regex.testNumeric=function e(t){return TEST_NUMERIC.test(t)},regex.testAlphanumeric=function e(t){return TEST_ALPHANUMERIC.test(t)},function(e){const t=versionCheck,n=regex;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(c,a){if(!c.ccBits)throw new Error("Invalid mode: "+c);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?c.ccBits[0]:a<27?c.ccBits[1]:c.ccBits[2]},e.getBestModeForData=function(c){return n.testNumeric(c)?e.NUMERIC:n.testAlphanumeric(c)?e.ALPHANUMERIC:n.testKanji(c)?e.KANJI:e.BYTE},e.toString=function(c){if(c&&c.id)return c.id;throw new Error("Invalid mode")},e.isValid=function(c){return c&&c.bit&&c.ccBits};function o(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+c)}}e.from=function(c,a){if(e.isValid(c))return c;try{return o(c)}catch{return a}}}(mode),function(e){const t=utils$1,n=errorCorrectionCode,o=errorCorrectionLevel,c=mode,a=versionCheck,u=7973,h=t.getBCHDigit(u);function v(O,P,C){for(let x=1;x<=40;x++)if(P<=e.getCapacity(x,C,O))return x}function b(O,P){return c.getCharCountIndicator(O,P)+4}function y(O,P){let C=0;return O.forEach(function(x){const D=b(x.mode,P);C+=D+x.getBitsLength()}),C}function w(O,P){for(let C=1;C<=40;C++)if(y(O,C)<=e.getCapacity(C,P,c.MIXED))return C}e.from=function(O,P){return a.isValid(O)?parseInt(O,10):P},e.getCapacity=function(O,P,C){if(!a.isValid(O))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=c.BYTE);const x=t.getSymbolTotalCodewords(O),D=n.getTotalCodewordsCount(O,P),k=(x-D)*8;if(C===c.MIXED)return k;const B=k-b(C,O);switch(C){case c.NUMERIC:return Math.floor(B/10*3);case c.ALPHANUMERIC:return Math.floor(B/11*2);case c.KANJI:return Math.floor(B/13);case c.BYTE:default:return Math.floor(B/8)}},e.getBestVersionForData=function(O,P){let C;const x=o.from(P,o.M);if(Array.isArray(O)){if(O.length>1)return w(O,x);if(O.length===0)return 1;C=O[0]}else C=O;return v(C.mode,C.getLength(),x)},e.getEncodedBits=function(O){if(!a.isValid(O)||O<7)throw new Error("Invalid QR Code version");let P=O<<12;for(;t.getBCHDigit(P)-h>=0;)P^=u<<t.getBCHDigit(P)-h;return O<<12|P}}(version$1);var formatInfo={};const Utils$3=utils$1,G15=1335,G15_MASK=21522,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function e(t,n){const o=t.bit<<3|n;let c=o<<10;for(;Utils$3.getBCHDigit(c)-G15_BCH>=0;)c^=G15<<Utils$3.getBCHDigit(c)-G15_BCH;return(o<<10|c)^G15_MASK};var segments={};const Mode$4=mode;function NumericData(e){this.mode=Mode$4.NUMERIC,this.data=e.toString()}NumericData.getBitsLength=function e(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},NumericData.prototype.getLength=function e(){return this.data.length},NumericData.prototype.getBitsLength=function e(){return NumericData.getBitsLength(this.data.length)},NumericData.prototype.write=function e(t){let n,o,c;for(n=0;n+3<=this.data.length;n+=3)o=this.data.substr(n,3),c=parseInt(o,10),t.put(c,10);const a=this.data.length-n;a>0&&(o=this.data.substr(n),c=parseInt(o,10),t.put(c,a*3+1))};var numericData=NumericData;const Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(e){this.mode=Mode$3.ALPHANUMERIC,this.data=e}AlphanumericData.getBitsLength=function e(t){return 11*Math.floor(t/2)+6*(t%2)},AlphanumericData.prototype.getLength=function e(){return this.data.length},AlphanumericData.prototype.getBitsLength=function e(){return AlphanumericData.getBitsLength(this.data.length)},AlphanumericData.prototype.write=function e(t){let n;for(n=0;n+2<=this.data.length;n+=2){let o=ALPHA_NUM_CHARS.indexOf(this.data[n])*45;o+=ALPHA_NUM_CHARS.indexOf(this.data[n+1]),t.put(o,11)}this.data.length%2&&t.put(ALPHA_NUM_CHARS.indexOf(this.data[n]),6)};var alphanumericData=AlphanumericData,encodeUtf8$1=function e(t){for(var n=[],o=t.length,c=0;c<o;c++){var a=t.charCodeAt(c);if(a>=55296&&a<=56319&&o>c+1){var u=t.charCodeAt(c+1);u>=56320&&u<=57343&&(a=(a-55296)*1024+u-56320+65536,c+=1)}if(a<128){n.push(a);continue}if(a<2048){n.push(a>>6|192),n.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){n.push(a>>12|224),n.push(a>>6&63|128),n.push(a&63|128);continue}if(a>=65536&&a<=1114111){n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const encodeUtf8=encodeUtf8$1,Mode$2=mode;function ByteData(e){this.mode=Mode$2.BYTE,typeof e=="string"&&(e=encodeUtf8(e)),this.data=new Uint8Array(e)}ByteData.getBitsLength=function e(t){return t*8},ByteData.prototype.getLength=function e(){return this.data.length},ByteData.prototype.getBitsLength=function e(){return ByteData.getBitsLength(this.data.length)},ByteData.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var byteData=ByteData;const Mode$1=mode,Utils$2=utils$1;function KanjiData(e){this.mode=Mode$1.KANJI,this.data=e}KanjiData.getBitsLength=function e(t){return t*13},KanjiData.prototype.getLength=function e(){return this.data.length},KanjiData.prototype.getBitsLength=function e(){return KanjiData.getBitsLength(this.data.length)},KanjiData.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Utils$2.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,o,c){var a={},u={};u[o]=0;var h=t.PriorityQueue.make();h.push(o,0);for(var v,b,y,w,O,P,C,x,D;!h.empty();){v=h.pop(),b=v.value,w=v.cost,O=n[b]||{};for(y in O)O.hasOwnProperty(y)&&(P=O[y],C=w+P,x=u[y],D=typeof u[y]>"u",(D||x>C)&&(u[y]=C,h.push(y,C),a[y]=b))}if(typeof c<"u"&&typeof u[c]>"u"){var k=["Could not find a path from ",o," to ",c,"."].join("");throw new Error(k)}return a},extract_shortest_path_from_predecessor_list:function(n,o){for(var c=[],a=o;a;)c.push(a),n[a],a=n[a];return c.reverse(),c},find_path:function(n,o,c){var a=t.single_source_shortest_paths(n,o,c);return t.extract_shortest_path_from_predecessor_list(a,c)},PriorityQueue:{make:function(n){var o=t.PriorityQueue,c={},a;n=n||{};for(a in o)o.hasOwnProperty(a)&&(c[a]=o[a]);return c.queue=[],c.sorter=n.sorter||o.default_sorter,c},default_sorter:function(n,o){return n.cost-o.cost},push:function(n,o){var c={value:n,cost:o};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(dijkstra);var dijkstraExports=dijkstra.exports;(function(e){const t=mode,n=numericData,o=alphanumericData,c=byteData,a=kanjiData,u=regex,h=utils$1,v=dijkstraExports;function b(k){return unescape(encodeURIComponent(k)).length}function y(k,B,q){const V=[];let ee;for(;(ee=k.exec(q))!==null;)V.push({data:ee[0],index:ee.index,mode:B,length:ee[0].length});return V}function w(k){const B=y(u.NUMERIC,t.NUMERIC,k),q=y(u.ALPHANUMERIC,t.ALPHANUMERIC,k);let V,ee;return h.isKanjiModeEnabled()?(V=y(u.BYTE,t.BYTE,k),ee=y(u.KANJI,t.KANJI,k)):(V=y(u.BYTE_KANJI,t.BYTE,k),ee=[]),B.concat(q,V,ee).sort(function(te,ce){return te.index-ce.index}).map(function(te){return{data:te.data,mode:te.mode,length:te.length}})}function O(k,B){switch(B){case t.NUMERIC:return n.getBitsLength(k);case t.ALPHANUMERIC:return o.getBitsLength(k);case t.KANJI:return a.getBitsLength(k);case t.BYTE:return c.getBitsLength(k)}}function P(k){return k.reduce(function(B,q){const V=B.length-1>=0?B[B.length-1]:null;return V&&V.mode===q.mode?(B[B.length-1].data+=q.data,B):(B.push(q),B)},[])}function C(k){const B=[];for(let q=0;q<k.length;q++){const V=k[q];switch(V.mode){case t.NUMERIC:B.push([V,{data:V.data,mode:t.ALPHANUMERIC,length:V.length},{data:V.data,mode:t.BYTE,length:V.length}]);break;case t.ALPHANUMERIC:B.push([V,{data:V.data,mode:t.BYTE,length:V.length}]);break;case t.KANJI:B.push([V,{data:V.data,mode:t.BYTE,length:b(V.data)}]);break;case t.BYTE:B.push([{data:V.data,mode:t.BYTE,length:b(V.data)}])}}return B}function x(k,B){const q={},V={start:{}};let ee=["start"];for(let te=0;te<k.length;te++){const ce=k[te],Q=[];for(let ne=0;ne<ce.length;ne++){const fe=ce[ne],l=""+te+ne;Q.push(l),q[l]={node:fe,lastCount:0},V[l]={};for(let p=0;p<ee.length;p++){const m=ee[p];q[m]&&q[m].node.mode===fe.mode?(V[m][l]=O(q[m].lastCount+fe.length,fe.mode)-O(q[m].lastCount,fe.mode),q[m].lastCount+=fe.length):(q[m]&&(q[m].lastCount=fe.length),V[m][l]=O(fe.length,fe.mode)+4+t.getCharCountIndicator(fe.mode,B))}}ee=Q}for(let te=0;te<ee.length;te++)V[ee[te]].end=0;return{map:V,table:q}}function D(k,B){let q;const V=t.getBestModeForData(k);if(q=t.from(B,V),q!==t.BYTE&&q.bit<V.bit)throw new Error('"'+k+'" cannot be encoded with mode '+t.toString(q)+`.
 Suggested mode is: `+t.toString(V));switch(q===t.KANJI&&!h.isKanjiModeEnabled()&&(q=t.BYTE),q){case t.NUMERIC:return new n(k);case t.ALPHANUMERIC:return new o(k);case t.KANJI:return new a(k);case t.BYTE:return new c(k)}}e.fromArray=function(k){return k.reduce(function(B,q){return typeof q=="string"?B.push(D(q,null)):q.data&&B.push(D(q.data,q.mode)),B},[])},e.fromString=function(k,B){const q=w(k,h.isKanjiModeEnabled()),V=C(q),ee=x(V,B),te=v.find_path(ee.map,"start","end"),ce=[];for(let Q=1;Q<te.length-1;Q++)ce.push(ee.table[te[Q]].node);return e.fromArray(P(ce))},e.rawSplit=function(k){return e.fromArray(w(k,h.isKanjiModeEnabled()))}})(segments);const Utils$1=utils$1,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version$1,FormatInfo=formatInfo,Mode=mode,Segments=segments;function setupFinderPattern(e,t){const n=e.size,o=FinderPattern.getPositions(t);for(let c=0;c<o.length;c++){const a=o[c][0],u=o[c][1];for(let h=-1;h<=7;h++)if(!(a+h<=-1||n<=a+h))for(let v=-1;v<=7;v++)u+v<=-1||n<=u+v||(h>=0&&h<=6&&(v===0||v===6)||v>=0&&v<=6&&(h===0||h===6)||h>=2&&h<=4&&v>=2&&v<=4?e.set(a+h,u+v,!0,!0):e.set(a+h,u+v,!1,!0))}}function setupTimingPattern(e){const t=e.size;for(let n=8;n<t-8;n++){const o=n%2===0;e.set(n,6,o,!0),e.set(6,n,o,!0)}}function setupAlignmentPattern(e,t){const n=AlignmentPattern.getPositions(t);for(let o=0;o<n.length;o++){const c=n[o][0],a=n[o][1];for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)u===-2||u===2||h===-2||h===2||u===0&&h===0?e.set(c+u,a+h,!0,!0):e.set(c+u,a+h,!1,!0)}}function setupVersionInfo(e,t){const n=e.size,o=Version.getEncodedBits(t);let c,a,u;for(let h=0;h<18;h++)c=Math.floor(h/3),a=h%3+n-8-3,u=(o>>h&1)===1,e.set(c,a,u,!0),e.set(a,c,u,!0)}function setupFormatInfo(e,t,n){const o=e.size,c=FormatInfo.getEncodedBits(t,n);let a,u;for(a=0;a<15;a++)u=(c>>a&1)===1,a<6?e.set(a,8,u,!0):a<8?e.set(a+1,8,u,!0):e.set(o-15+a,8,u,!0),a<8?e.set(8,o-a-1,u,!0):a<9?e.set(8,15-a-1+1,u,!0):e.set(8,15-a-1,u,!0);e.set(o-8,8,1,!0)}function setupData(e,t){const n=e.size;let o=-1,c=n-1,a=7,u=0;for(let h=n-1;h>0;h-=2)for(h===6&&h--;;){for(let v=0;v<2;v++)if(!e.isReserved(c,h-v)){let b=!1;u<t.length&&(b=(t[u]>>>a&1)===1),e.set(c,h-v,b),a--,a===-1&&(u++,a=7)}if(c+=o,c<0||n<=c){c-=o,o=-o;break}}}function createData(e,t,n){const o=new BitBuffer;n.forEach(function(v){o.put(v.mode.bit,4),o.put(v.getLength(),Mode.getCharCountIndicator(v.mode,e)),v.write(o)});const c=Utils$1.getSymbolTotalCodewords(e),a=ECCode.getTotalCodewordsCount(e,t),u=(c-a)*8;for(o.getLengthInBits()+4<=u&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const h=(u-o.getLengthInBits())/8;for(let v=0;v<h;v++)o.put(v%2?17:236,8);return createCodewords(o,e,t)}function createCodewords(e,t,n){const o=Utils$1.getSymbolTotalCodewords(t),c=ECCode.getTotalCodewordsCount(t,n),a=o-c,u=ECCode.getBlocksCount(t,n),h=o%u,v=u-h,b=Math.floor(o/u),y=Math.floor(a/u),w=y+1,O=b-y,P=new ReedSolomonEncoder(O);let C=0;const x=new Array(u),D=new Array(u);let k=0;const B=new Uint8Array(e.buffer);for(let ce=0;ce<u;ce++){const Q=ce<v?y:w;x[ce]=B.slice(C,C+Q),D[ce]=P.encode(x[ce]),C+=Q,k=Math.max(k,Q)}const q=new Uint8Array(o);let V=0,ee,te;for(ee=0;ee<k;ee++)for(te=0;te<u;te++)ee<x[te].length&&(q[V++]=x[te][ee]);for(ee=0;ee<O;ee++)for(te=0;te<u;te++)q[V++]=D[te][ee];return q}function createSymbol(e,t,n,o){let c;if(Array.isArray(e))c=Segments.fromArray(e);else if(typeof e=="string"){let b=t;if(!b){const y=Segments.rawSplit(e);b=Version.getBestVersionForData(y,n)}c=Segments.fromString(e,b||40)}else throw new Error("Invalid data");const a=Version.getBestVersionForData(c,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const u=createData(t,n,c),h=Utils$1.getSymbolSize(t),v=new BitMatrix(h);return setupFinderPattern(v,t),setupTimingPattern(v),setupAlignmentPattern(v,t),setupFormatInfo(v,n,0),t>=7&&setupVersionInfo(v,t),setupData(v,u),isNaN(o)&&(o=MaskPattern.getBestMask(v,setupFormatInfo.bind(null,v,n))),MaskPattern.applyMask(o,v),setupFormatInfo(v,n,o),{modules:v,version:t,errorCorrectionLevel:n,maskPattern:o,segments:c}}qrcode.create=function e(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let o=ECLevel.M,c,a;return typeof n<"u"&&(o=ECLevel.from(n.errorCorrectionLevel,ECLevel.M),c=Version.from(n.version),a=MaskPattern.from(n.maskPattern),n.toSJISFunc&&Utils$1.setToSJISFunction(n.toSJISFunc)),createSymbol(t,c,o,a)};var canvas={},utils={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let o=n.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+n);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(a){return[a,a]}))),o.length===6&&o.push("F","F");const c=parseInt(o.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const o=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,c=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:c,scale:c?4:a,margin:o,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,o){return o.width&&o.width>=n+o.margin*2?o.width/(n+o.margin*2):o.scale},e.getImageWidth=function(n,o){const c=e.getScale(n,o);return Math.floor((n+o.margin*2)*c)},e.qrToImageData=function(n,o,c){const a=o.modules.size,u=o.modules.data,h=e.getScale(a,c),v=Math.floor((a+c.margin*2)*h),b=c.margin*h,y=[c.color.light,c.color.dark];for(let w=0;w<v;w++)for(let O=0;O<v;O++){let P=(w*v+O)*4,C=c.color.light;if(w>=b&&O>=b&&w<v-b&&O<v-b){const x=Math.floor((w-b)/h),D=Math.floor((O-b)/h);C=y[u[x*a+D]?1:0]}n[P++]=C.r,n[P++]=C.g,n[P++]=C.b,n[P]=C.a}}})(utils),function(e){const t=utils;function n(c,a,u){c.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=u,a.width=u,a.style.height=u+"px",a.style.width=u+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(c,a,u){let h=u,v=a;typeof h>"u"&&(!a||!a.getContext)&&(h=a,a=void 0),a||(v=o()),h=t.getOptions(h);const b=t.getImageWidth(c.modules.size,h),y=v.getContext("2d"),w=y.createImageData(b,b);return t.qrToImageData(w.data,c,h),n(y,v,b),y.putImageData(w,0,0),v},e.renderToDataURL=function(c,a,u){let h=u;typeof h>"u"&&(!a||!a.getContext)&&(h=a,a=void 0),h||(h={});const v=e.render(c,a,h),b=h.type||"image/png",y=h.rendererOpts||{};return v.toDataURL(b,y.quality)}}(canvas);var svgTag={};const Utils=utils;function getColorAttrib(e,t){const n=e.a/255,o=t+'="'+e.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function svgCmd(e,t,n){let o=e+t;return typeof n<"u"&&(o+=" "+n),o}function qrToPath(e,t,n){let o="",c=0,a=!1,u=0;for(let h=0;h<e.length;h++){const v=Math.floor(h%t),b=Math.floor(h/t);!v&&!a&&(a=!0),e[h]?(u++,h>0&&v>0&&e[h-1]||(o+=a?svgCmd("M",v+n,.5+b+n):svgCmd("m",c,0),c=0,a=!1),v+1<t&&e[h+1]||(o+=svgCmd("h",u),u=0)):c++}return o}svgTag.render=function e(t,n,o){const c=Utils.getOptions(n),a=t.modules.size,u=t.modules.data,h=a+c.margin*2,v=c.color.light.a?"<path "+getColorAttrib(c.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",b="<path "+getColorAttrib(c.color.dark,"stroke")+' d="'+qrToPath(u,a,c.margin)+'"/>',y='viewBox="0 0 '+h+" "+h+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+y+' shape-rendering="crispEdges">'+v+b+`</svg>
`;return typeof o=="function"&&o(null,w),w};const canPromise=canPromise$1,QRCode=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(e,t,n,o,c){const a=[].slice.call(arguments,1),u=a.length,h=typeof a[u-1]=="function";if(!h&&!canPromise())throw new Error("Callback required as last argument");if(h){if(u<2)throw new Error("Too few arguments provided");u===2?(c=n,n=t,t=o=void 0):u===3&&(t.getContext&&typeof c>"u"?(c=o,o=void 0):(c=o,o=n,n=t,t=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(n=t,t=o=void 0):u===2&&!t.getContext&&(o=n,n=t,t=void 0),new Promise(function(v,b){try{const y=QRCode.create(n,o);v(e(y,t,o))}catch(y){b(y)}})}try{const v=QRCode.create(n,o);c(null,e(v,t,o))}catch(v){c(v)}}QRCode.create,renderCanvas.bind(null,CanvasRenderer.render),renderCanvas.bind(null,CanvasRenderer.renderToDataURL);var toString$8=renderCanvas.bind(null,function(e,t,n){return SvgRenderer.render(e,n)}),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$u<"u"?global$u:typeof self<"u"?self:{},check=function(e){return e&&e.Math==Math&&e},global$k=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor={},fails$f=function(e){try{return!!e()}catch{return!0}},fails$e=fails$f,descriptors=!fails$e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),fails$d=fails$f,functionBindNative=!fails$d(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$3=functionBindNative,call$d=Function.prototype.call,functionCall=NATIVE_BIND$3?call$d.bind(call$d):function(){return call$d.apply(call$d,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$2&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function e(t){var n=getOwnPropertyDescriptor$2(this,t);return!!n&&n.enumerable}:$propertyIsEnumerable;var createPropertyDescriptor$3=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},NATIVE_BIND$2=functionBindNative,FunctionPrototype$2=Function.prototype,bind$5=FunctionPrototype$2.bind,call$c=FunctionPrototype$2.call,uncurryThis$i=NATIVE_BIND$2&&bind$5.bind(call$c,call$c),functionUncurryThis=NATIVE_BIND$2?function(e){return e&&uncurryThis$i(e)}:function(e){return e&&function(){return call$c.apply(e,arguments)}},uncurryThis$h=functionUncurryThis,toString$7=uncurryThis$h({}.toString),stringSlice$1=uncurryThis$h("".slice),classofRaw$1=function(e){return stringSlice$1(toString$7(e),8,-1)},uncurryThis$g=functionUncurryThis,fails$c=fails$f,classof$6=classofRaw$1,$Object$3=Object,split=uncurryThis$g("".split),indexedObject=fails$c(function(){return!$Object$3("z").propertyIsEnumerable(0)})?function(e){return classof$6(e)=="String"?split(e,""):$Object$3(e)}:$Object$3,$TypeError$d=TypeError,requireObjectCoercible$4=function(e){if(e==null)throw $TypeError$d("Can't call method on "+e);return e},IndexedObject=indexedObject,requireObjectCoercible$3=requireObjectCoercible$4,toIndexedObject$4=function(e){return IndexedObject(requireObjectCoercible$3(e))},isCallable$i=function(e){return typeof e=="function"},isCallable$h=isCallable$i,isObject$8=function(e){return typeof e=="object"?e!==null:isCallable$h(e)},global$j=global$k,isCallable$g=isCallable$i,aFunction=function(e){return isCallable$g(e)?e:void 0},getBuiltIn$8=function(e,t){return arguments.length<2?aFunction(global$j[e]):global$j[e]&&global$j[e][t]},uncurryThis$f=functionUncurryThis,objectIsPrototypeOf=uncurryThis$f({}.isPrototypeOf),getBuiltIn$7=getBuiltIn$8,engineUserAgent=getBuiltIn$7("navigator","userAgent")||"",global$i=global$k,userAgent$5=engineUserAgent,process$3=global$i.process,Deno$1=global$i.Deno,versions=process$3&&process$3.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version;v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent$5&&(match=userAgent$5.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$5.match(/Chrome\/(\d+)/),match&&(version=+match[1])));var engineV8Version=version,V8_VERSION$1=engineV8Version,fails$b=fails$f,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails$b(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1&&V8_VERSION$1<41}),NATIVE_SYMBOL$2=nativeSymbol,useSymbolAsUid=NATIVE_SYMBOL$2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$6=getBuiltIn$8,isCallable$f=isCallable$i,isPrototypeOf$4=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$2=Object,isSymbol$2=USE_SYMBOL_AS_UID$1?function(e){return typeof e=="symbol"}:function(e){var t=getBuiltIn$6("Symbol");return isCallable$f(t)&&isPrototypeOf$4(t.prototype,$Object$2(e))},$String$3=String,tryToString$5=function(e){try{return $String$3(e)}catch{return"Object"}},isCallable$e=isCallable$i,tryToString$4=tryToString$5,$TypeError$c=TypeError,aCallable$8=function(e){if(isCallable$e(e))return e;throw $TypeError$c(tryToString$4(e)+" is not a function")},aCallable$7=aCallable$8,getMethod$3=function(e,t){var n=e[t];return n==null?void 0:aCallable$7(n)},call$b=functionCall,isCallable$d=isCallable$i,isObject$7=isObject$8,$TypeError$b=TypeError,ordinaryToPrimitive$1=function(e,t){var n,o;if(t==="string"&&isCallable$d(n=e.toString)&&!isObject$7(o=call$b(n,e))||isCallable$d(n=e.valueOf)&&!isObject$7(o=call$b(n,e))||t!=="string"&&isCallable$d(n=e.toString)&&!isObject$7(o=call$b(n,e)))return o;throw $TypeError$b("Can't convert object to primitive value")},shared$3={exports:{}},global$h=global$k,defineProperty$4=Object.defineProperty,defineGlobalProperty$3=function(e,t){try{defineProperty$4(global$h,e,{value:t,configurable:!0,writable:!0})}catch{global$h[e]=t}return t},global$g=global$k,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=global$g[SHARED]||defineGlobalProperty$2(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$3.exports=function(e,t){return store$2[e]||(store$2[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var requireObjectCoercible$2=requireObjectCoercible$4,$Object$1=Object,toObject$2=function(e){return $Object$1(requireObjectCoercible$2(e))},uncurryThis$e=functionUncurryThis,toObject$1=toObject$2,hasOwnProperty=uncurryThis$e({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function e(t,n){return hasOwnProperty(toObject$1(t),n)},uncurryThis$d=functionUncurryThis,id=0,postfix=Math.random(),toString$6=uncurryThis$d(1 .toString),uid$2=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$6(++id+postfix,36)},global$f=global$k,shared$2=shared$3.exports,hasOwn$a=hasOwnProperty_1,uid$1=uid$2,NATIVE_SYMBOL$1=nativeSymbol,USE_SYMBOL_AS_UID=useSymbolAsUid,WellKnownSymbolsStore=shared$2("wks"),Symbol$2=global$f.Symbol,symbolFor=Symbol$2&&Symbol$2.for,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$2:Symbol$2&&Symbol$2.withoutSetter||uid$1,wellKnownSymbol$d=function(e){if(!hasOwn$a(WellKnownSymbolsStore,e)||!(NATIVE_SYMBOL$1||typeof WellKnownSymbolsStore[e]=="string")){var t="Symbol."+e;NATIVE_SYMBOL$1&&hasOwn$a(Symbol$2,e)?WellKnownSymbolsStore[e]=Symbol$2[e]:USE_SYMBOL_AS_UID&&symbolFor?WellKnownSymbolsStore[e]=symbolFor(t):WellKnownSymbolsStore[e]=createWellKnownSymbol(t)}return WellKnownSymbolsStore[e]},call$a=functionCall,isObject$6=isObject$8,isSymbol$1=isSymbol$2,getMethod$2=getMethod$3,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$c=wellKnownSymbol$d,$TypeError$a=TypeError,TO_PRIMITIVE=wellKnownSymbol$c("toPrimitive"),toPrimitive$1=function(e,t){if(!isObject$6(e)||isSymbol$1(e))return e;var n=getMethod$2(e,TO_PRIMITIVE),o;if(n){if(t===void 0&&(t="default"),o=call$a(n,e,t),!isObject$6(o)||isSymbol$1(o))return o;throw $TypeError$a("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive(e,t)},toPrimitive=toPrimitive$1,isSymbol=isSymbol$2,toPropertyKey$3=function(e){var t=toPrimitive(e,"string");return isSymbol(t)?t:t+""},global$e=global$k,isObject$5=isObject$8,document$3=global$e.document,EXISTS$1=isObject$5(document$3)&&isObject$5(document$3.createElement),documentCreateElement$1=function(e){return EXISTS$1?document$3.createElement(e):{}},DESCRIPTORS$9=descriptors,fails$a=fails$f,createElement$1=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$9&&!fails$a(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$8=descriptors,call$9=functionCall,propertyIsEnumerableModule=objectPropertyIsEnumerable,createPropertyDescriptor$2=createPropertyDescriptor$3,toIndexedObject$3=toIndexedObject$4,toPropertyKey$2=toPropertyKey$3,hasOwn$9=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$8?$getOwnPropertyDescriptor$1:function e(t,n){if(t=toIndexedObject$3(t),n=toPropertyKey$2(n),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$1(t,n)}catch{}if(hasOwn$9(t,n))return createPropertyDescriptor$2(!call$9(propertyIsEnumerableModule.f,t,n),t[n])};var objectDefineProperty={},DESCRIPTORS$7=descriptors,fails$9=fails$f,v8PrototypeDefineBug=DESCRIPTORS$7&&fails$9(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),isObject$4=isObject$8,$String$2=String,$TypeError$9=TypeError,anObject$c=function(e){if(isObject$4(e))return e;throw $TypeError$9($String$2(e)+" is not an object")},DESCRIPTORS$6=descriptors,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$b=anObject$c,toPropertyKey$1=toPropertyKey$3,$TypeError$8=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$6?V8_PROTOTYPE_DEFINE_BUG$1?function e(t,n,o){if(anObject$b(t),n=toPropertyKey$1(n),anObject$b(o),typeof t=="function"&&n==="prototype"&&"value"in o&&WRITABLE in o&&!o[WRITABLE]){var c=$getOwnPropertyDescriptor(t,n);c&&c[WRITABLE]&&(t[n]=o.value,o={configurable:CONFIGURABLE$1 in o?o[CONFIGURABLE$1]:c[CONFIGURABLE$1],enumerable:ENUMERABLE in o?o[ENUMERABLE]:c[ENUMERABLE],writable:!1})}return $defineProperty(t,n,o)}:$defineProperty:function e(t,n,o){if(anObject$b(t),n=toPropertyKey$1(n),anObject$b(o),IE8_DOM_DEFINE)try{return $defineProperty(t,n,o)}catch{}if("get"in o||"set"in o)throw $TypeError$8("Accessors not supported");return"value"in o&&(t[n]=o.value),t};var DESCRIPTORS$5=descriptors,definePropertyModule$5=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$3,createNonEnumerableProperty$2=DESCRIPTORS$5?function(e,t,n){return definePropertyModule$5.f(e,t,createPropertyDescriptor$1(1,n))}:function(e,t,n){return e[t]=n,e},makeBuiltIn$2={exports:{}},DESCRIPTORS$4=descriptors,hasOwn$8=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$4&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$8(FunctionPrototype$1,"name"),PROPER=EXISTS&&(function e(){}).name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS$4||DESCRIPTORS$4&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},uncurryThis$c=functionUncurryThis,isCallable$c=isCallable$i,store$1=sharedStore,functionToString=uncurryThis$c(Function.toString);isCallable$c(store$1.inspectSource)||(store$1.inspectSource=function(e){return functionToString(e)});var inspectSource$4=store$1.inspectSource,global$d=global$k,isCallable$b=isCallable$i,inspectSource$3=inspectSource$4,WeakMap$1=global$d.WeakMap,nativeWeakMap=isCallable$b(WeakMap$1)&&/native code/.test(inspectSource$3(WeakMap$1)),shared$1=shared$3.exports,uid=uid$2,keys=shared$1("keys"),sharedKey$2=function(e){return keys[e]||(keys[e]=uid(e))},hiddenKeys$4={},NATIVE_WEAK_MAP=nativeWeakMap,global$c=global$k,uncurryThis$b=functionUncurryThis,isObject$3=isObject$8,createNonEnumerableProperty$1=createNonEnumerableProperty$2,hasOwn$7=hasOwnProperty_1,shared=sharedStore,sharedKey$1=sharedKey$2,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$2=global$c.TypeError,WeakMap$2=global$c.WeakMap,set$1,get$1,has,enforce=function(e){return has(e)?get$1(e):set$1(e,{})},getterFor=function(e){return function(t){var n;if(!isObject$3(t)||(n=get$1(t)).type!==e)throw TypeError$2("Incompatible receiver, "+e+" required");return n}};if(NATIVE_WEAK_MAP||shared.state){var store=shared.state||(shared.state=new WeakMap$2),wmget=uncurryThis$b(store.get),wmhas=uncurryThis$b(store.has),wmset=uncurryThis$b(store.set);set$1=function(e,t){if(wmhas(store,e))throw new TypeError$2(OBJECT_ALREADY_INITIALIZED);return t.facade=e,wmset(store,e,t),t},get$1=function(e){return wmget(store,e)||{}},has=function(e){return wmhas(store,e)}}else{var STATE=sharedKey$1("state");hiddenKeys$3[STATE]=!0,set$1=function(e,t){if(hasOwn$7(e,STATE))throw new TypeError$2(OBJECT_ALREADY_INITIALIZED);return t.facade=e,createNonEnumerableProperty$1(e,STATE,t),t},get$1=function(e){return hasOwn$7(e,STATE)?e[STATE]:{}},has=function(e){return hasOwn$7(e,STATE)}}var internalState={set:set$1,get:get$1,has,enforce,getterFor},fails$8=fails$f,isCallable$a=isCallable$i,hasOwn$6=hasOwnProperty_1,DESCRIPTORS$3=descriptors,CONFIGURABLE_FUNCTION_NAME=functionName.CONFIGURABLE,inspectSource$2=inspectSource$4,InternalStateModule$1=internalState,enforceInternalState=InternalStateModule$1.enforce,getInternalState=InternalStateModule$1.get,defineProperty$3=Object.defineProperty,CONFIGURABLE_LENGTH=DESCRIPTORS$3&&!fails$8(function(){return defineProperty$3(function(){},"length",{value:8}).length!==8}),TEMPLATE=String(String).split("String"),makeBuiltIn$1=makeBuiltIn$2.exports=function(e,t,n){String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!hasOwn$6(e,"name")||CONFIGURABLE_FUNCTION_NAME&&e.name!==t)&&(DESCRIPTORS$3?defineProperty$3(e,"name",{value:t,configurable:!0}):e.name=t),CONFIGURABLE_LENGTH&&n&&hasOwn$6(n,"arity")&&e.length!==n.arity&&defineProperty$3(e,"length",{value:n.arity});try{n&&hasOwn$6(n,"constructor")&&n.constructor?DESCRIPTORS$3&&defineProperty$3(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var o=enforceInternalState(e);return hasOwn$6(o,"source")||(o.source=TEMPLATE.join(typeof t=="string"?t:"")),e};Function.prototype.toString=makeBuiltIn$1(function e(){return isCallable$a(this)&&getInternalState(this).source||inspectSource$2(this)},"toString");var isCallable$9=isCallable$i,definePropertyModule$4=objectDefineProperty,makeBuiltIn=makeBuiltIn$2.exports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$4=function(e,t,n,o){o||(o={});var c=o.enumerable,a=o.name!==void 0?o.name:t;if(isCallable$9(n)&&makeBuiltIn(n,a,o),o.global)c?e[t]=n:defineGlobalProperty$1(t,n);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch{}c?e[t]=n:definePropertyModule$4.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e},objectGetOwnPropertyNames={},ceil=Math.ceil,floor$1=Math.floor,mathTrunc=Math.trunc||function e(t){var n=+t;return(n>0?floor$1:ceil)(n)},trunc=mathTrunc,toIntegerOrInfinity$2=function(e){var t=+e;return t!==t||t===0?0:trunc(t)},toIntegerOrInfinity$1=toIntegerOrInfinity$2,max$1=Math.max,min$1=Math.min,toAbsoluteIndex$2=function(e,t){var n=toIntegerOrInfinity$1(e);return n<0?max$1(n+t,0):min$1(n,t)},toIntegerOrInfinity=toIntegerOrInfinity$2,min=Math.min,toLength$1=function(e){return e>0?min(toIntegerOrInfinity(e),9007199254740991):0},toLength=toLength$1,lengthOfArrayLike$4=function(e){return toLength(e.length)},toIndexedObject$2=toIndexedObject$4,toAbsoluteIndex$1=toAbsoluteIndex$2,lengthOfArrayLike$3=lengthOfArrayLike$4,createMethod$1=function(e){return function(t,n,o){var c=toIndexedObject$2(t),a=lengthOfArrayLike$3(c),u=toAbsoluteIndex$1(o,a),h;if(e&&n!=n){for(;a>u;)if(h=c[u++],h!=h)return!0}else for(;a>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}},arrayIncludes={includes:createMethod$1(!0),indexOf:createMethod$1(!1)},uncurryThis$a=functionUncurryThis,hasOwn$5=hasOwnProperty_1,toIndexedObject$1=toIndexedObject$4,indexOf=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,push$1=uncurryThis$a([].push),objectKeysInternal=function(e,t){var n=toIndexedObject$1(e),o=0,c=[],a;for(a in n)!hasOwn$5(hiddenKeys$2,a)&&hasOwn$5(n,a)&&push$1(c,a);for(;t.length>o;)hasOwn$5(n,a=t[o++])&&(~indexOf(c,a)||push$1(c,a));return c},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function e(t){return internalObjectKeys$1(t,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$5=getBuiltIn$8,uncurryThis$9=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$a=anObject$c,concat=uncurryThis$9([].concat),ownKeys$1=getBuiltIn$5("Reflect","ownKeys")||function e(t){var n=getOwnPropertyNamesModule.f(anObject$a(t)),o=getOwnPropertySymbolsModule.f;return o?concat(n,o(t)):n},hasOwn$4=hasOwnProperty_1,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$3=objectDefineProperty,copyConstructorProperties$2=function(e,t,n){for(var o=ownKeys(t),c=definePropertyModule$3.f,a=getOwnPropertyDescriptorModule.f,u=0;u<o.length;u++){var h=o[u];!hasOwn$4(e,h)&&!(n&&hasOwn$4(n,h))&&c(e,h,a(t,h))}},fails$7=fails$f,isCallable$8=isCallable$i,replacement=/#|\.prototype\./,isForced$2=function(e,t){var n=data[normalize(e)];return n==POLYFILL?!0:n==NATIVE?!1:isCallable$8(t)?fails$7(t):!!t},normalize=isForced$2.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced$2.data={},NATIVE=isForced$2.NATIVE="N",POLYFILL=isForced$2.POLYFILL="P",isForced_1=isForced$2,global$b=global$k,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty=createNonEnumerableProperty$2,defineBuiltIn$3=defineBuiltIn$4,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties$1=copyConstructorProperties$2,isForced$1=isForced_1,_export=function(e,t){var n=e.target,o=e.global,c=e.stat,a,u,h,v,b,y;if(o?u=global$b:c?u=global$b[n]||defineGlobalProperty(n,{}):u=(global$b[n]||{}).prototype,u)for(h in t){if(b=t[h],e.dontCallGetSet?(y=getOwnPropertyDescriptor$1(u,h),v=y&&y.value):v=u[h],a=isForced$1(o?h:n+(c?".":"#")+h,e.forced),!a&&v!==void 0){if(typeof b==typeof v)continue;copyConstructorProperties$1(b,v)}(e.sham||v&&v.sham)&&createNonEnumerableProperty(b,"sham",!0),defineBuiltIn$3(u,h,b,e)}},tryToString$3=tryToString$5,$TypeError$7=TypeError,deletePropertyOrThrow$1=function(e,t){if(!delete e[t])throw $TypeError$7("Cannot delete property "+tryToString$3(t)+" of "+tryToString$3(e))},wellKnownSymbol$b=wellKnownSymbol$d,TO_STRING_TAG$2=wellKnownSymbol$b("toStringTag"),test$1={};test$1[TO_STRING_TAG$2]="z";var toStringTagSupport=String(test$1)==="[object z]",TO_STRING_TAG_SUPPORT=toStringTagSupport,isCallable$7=isCallable$i,classofRaw=classofRaw$1,wellKnownSymbol$a=wellKnownSymbol$d,TO_STRING_TAG$1=wellKnownSymbol$a("toStringTag"),$Object=Object,CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments",tryGet=function(e,t){try{return e[t]}catch{}},classof$5=TO_STRING_TAG_SUPPORT?classofRaw:function(e){var t,n,o;return e===void 0?"Undefined":e===null?"Null":typeof(n=tryGet(t=$Object(e),TO_STRING_TAG$1))=="string"?n:CORRECT_ARGUMENTS?classofRaw(t):(o=classofRaw(t))=="Object"&&isCallable$7(t.callee)?"Arguments":o},classof$4=classof$5,$String$1=String,toString$5=function(e){if(classof$4(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $String$1(e)},toPropertyKey=toPropertyKey$3,definePropertyModule$2=objectDefineProperty,createPropertyDescriptor=createPropertyDescriptor$3,createProperty$1=function(e,t,n){var o=toPropertyKey(t);o in e?definePropertyModule$2.f(e,o,createPropertyDescriptor(0,n)):e[o]=n},toAbsoluteIndex=toAbsoluteIndex$2,lengthOfArrayLike$2=lengthOfArrayLike$4,createProperty=createProperty$1,$Array=Array,max=Math.max,arraySliceSimple=function(e,t,n){for(var o=lengthOfArrayLike$2(e),c=toAbsoluteIndex(t,o),a=toAbsoluteIndex(n===void 0?o:n,o),u=$Array(max(a-c,0)),h=0;c<a;c++,h++)createProperty(u,h,e[c]);return u.length=h,u},arraySlice$2=arraySliceSimple,floor=Math.floor,mergeSort=function(e,t){var n=e.length,o=floor(n/2);return n<8?insertionSort(e,t):merge(e,mergeSort(arraySlice$2(e,0,o),t),mergeSort(arraySlice$2(e,o),t),t)},insertionSort=function(e,t){for(var n=e.length,o=1,c,a;o<n;){for(a=o,c=e[o];a&&t(e[a-1],c)>0;)e[a]=e[--a];a!==o++&&(e[a]=c)}return e},merge=function(e,t,n,o){for(var c=t.length,a=n.length,u=0,h=0;u<c||h<a;)e[u+h]=u<c&&h<a?o(t[u],n[h])<=0?t[u++]:n[h++]:u<c?t[u++]:n[h++];return e},arraySort=mergeSort,fails$6=fails$f,arrayMethodIsStrict$1=function(e,t){var n=[][e];return!!n&&fails$6(function(){n.call(null,t||function(){return 1},1)})},userAgent$4=engineUserAgent,firefox=userAgent$4.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],UA=engineUserAgent,engineIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent$3=engineUserAgent,webkit=userAgent$3.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit&&+webkit[1],$$a=_export,uncurryThis$8=functionUncurryThis,aCallable$6=aCallable$8,toObject=toObject$2,lengthOfArrayLike$1=lengthOfArrayLike$4,deletePropertyOrThrow=deletePropertyOrThrow$1,toString$4=toString$5,fails$5=fails$f,internalSort=arraySort,arrayMethodIsStrict=arrayMethodIsStrict$1,FF=engineFfVersion,IE_OR_EDGE=engineIsIeOrEdge,V8=engineV8Version,WEBKIT=engineWebkitVersion,test=[],un$Sort=uncurryThis$8(test.sort),push=uncurryThis$8(test.push),FAILS_ON_UNDEFINED=fails$5(function(){test.sort(void 0)}),FAILS_ON_NULL=fails$5(function(){test.sort(null)}),STRICT_METHOD=arrayMethodIsStrict("sort"),STABLE_SORT=!fails$5(function(){if(V8)return V8<70;if(!(FF&&FF>3)){if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<603;var e="",t,n,o,c;for(t=65;t<76;t++){switch(n=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(c=0;c<47;c++)test.push({k:n+c,v:o})}for(test.sort(function(a,u){return u.v-a.v}),c=0;c<test.length;c++)n=test[c].k.charAt(0),e.charAt(e.length-1)!==n&&(e+=n);return e!=="DGBEFHACIJK"}}),FORCED$1=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD||!STABLE_SORT,getSortCompare=function(e){return function(t,n){return n===void 0?-1:t===void 0?1:e!==void 0?+e(t,n)||0:toString$4(t)>toString$4(n)?1:-1}};$$a({target:"Array",proto:!0,forced:FORCED$1},{sort:function e(t){t!==void 0&&aCallable$6(t);var n=toObject(this);if(STABLE_SORT)return t===void 0?un$Sort(n):un$Sort(n,t);var o=[],c=lengthOfArrayLike$1(n),a,u;for(u=0;u<c;u++)u in n&&push(o,n[u]);for(internalSort(o,getSortCompare(t)),a=o.length,u=0;u<a;)n[u]=o[u++];for(;u<c;)deletePropertyOrThrow(n,u++);return n}});function __awaiter(e,t,n,o){function c(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{b(o.next(y))}catch(w){u(w)}}function v(y){try{b(o.throw(y))}catch(w){u(w)}}function b(y){y.done?a(y.value):c(y.value).then(h,v)}b((o=o.apply(e,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var classof$3=classofRaw$1,global$a=global$k,engineIsNode=classof$3(global$a.process)=="process",isCallable$6=isCallable$i,$String=String,$TypeError$6=TypeError,aPossiblePrototype$1=function(e){if(typeof e=="object"||isCallable$6(e))return e;throw $TypeError$6("Can't set "+$String(e)+" as a prototype")},uncurryThis$7=functionUncurryThis,anObject$9=anObject$c,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=uncurryThis$7(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),n(t,[]),e=t instanceof Array}catch{}return function(o,c){return anObject$9(o),aPossiblePrototype(c),e?n(o,c):o.__proto__=c,o}}():void 0),defineProperty$2=objectDefineProperty.f,hasOwn$3=hasOwnProperty_1,wellKnownSymbol$9=wellKnownSymbol$d,TO_STRING_TAG=wellKnownSymbol$9("toStringTag"),setToStringTag$1=function(e,t,n){e&&!n&&(e=e.prototype),e&&!hasOwn$3(e,TO_STRING_TAG)&&defineProperty$2(e,TO_STRING_TAG,{configurable:!0,value:t})},getBuiltIn$4=getBuiltIn$8,definePropertyModule$1=objectDefineProperty,wellKnownSymbol$8=wellKnownSymbol$d,DESCRIPTORS$2=descriptors,SPECIES$2=wellKnownSymbol$8("species"),setSpecies$1=function(e){var t=getBuiltIn$4(e),n=definePropertyModule$1.f;DESCRIPTORS$2&&t&&!t[SPECIES$2]&&n(t,SPECIES$2,{configurable:!0,get:function(){return this}})},isPrototypeOf$3=objectIsPrototypeOf,$TypeError$5=TypeError,anInstance$1=function(e,t){if(isPrototypeOf$3(t,e))return e;throw $TypeError$5("Incorrect invocation")},uncurryThis$6=functionUncurryThis,fails$4=fails$f,isCallable$5=isCallable$i,classof$2=classof$5,getBuiltIn$3=getBuiltIn$8,inspectSource$1=inspectSource$4,noop=function(){},empty=[],construct=getBuiltIn$3("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$1=uncurryThis$6(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.exec(noop),isConstructorModern=function e(t){if(!isCallable$5(t))return!1;try{return construct(noop,empty,t),!0}catch{return!1}},isConstructorLegacy=function e(t){if(!isCallable$5(t))return!1;switch(classof$2(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$1(constructorRegExp,inspectSource$1(t))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor$1=!construct||fails$4(function(){var e;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){e=!0})||e})?isConstructorLegacy:isConstructorModern,isConstructor=isConstructor$1,tryToString$2=tryToString$5,$TypeError$4=TypeError,aConstructor$1=function(e){if(isConstructor(e))return e;throw $TypeError$4(tryToString$2(e)+" is not a constructor")},anObject$8=anObject$c,aConstructor=aConstructor$1,wellKnownSymbol$7=wellKnownSymbol$d,SPECIES$1=wellKnownSymbol$7("species"),speciesConstructor$1=function(e,t){var n=anObject$8(e).constructor,o;return n===void 0||(o=anObject$8(n)[SPECIES$1])==null?t:aConstructor(o)},NATIVE_BIND$1=functionBindNative,FunctionPrototype=Function.prototype,apply$1=FunctionPrototype.apply,call$8=FunctionPrototype.call,functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1?call$8.bind(apply$1):function(){return call$8.apply(apply$1,arguments)}),uncurryThis$5=functionUncurryThis,aCallable$5=aCallable$8,NATIVE_BIND=functionBindNative,bind$4=uncurryThis$5(uncurryThis$5.bind),functionBindContext=function(e,t){return aCallable$5(e),t===void 0?e:NATIVE_BIND?bind$4(e,t):function(){return e.apply(t,arguments)}},getBuiltIn$2=getBuiltIn$8,html$2=getBuiltIn$2("document","documentElement"),uncurryThis$4=functionUncurryThis,arraySlice$1=uncurryThis$4([].slice),$TypeError$3=TypeError,validateArgumentsLength$1=function(e,t){if(e<t)throw $TypeError$3("Not enough arguments");return e},userAgent$2=engineUserAgent,engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$2),global$9=global$k,apply=functionApply,bind$3=functionBindContext,isCallable$4=isCallable$i,hasOwn$2=hasOwnProperty_1,fails$3=fails$f,html$1=html$2,arraySlice=arraySlice$1,createElement=documentCreateElement$1,validateArgumentsLength=validateArgumentsLength$1,IS_IOS$1=engineIsIos,IS_NODE$2=engineIsNode,set$2=global$9.setImmediate,clear$2=global$9.clearImmediate,process$2=global$9.process,Dispatch=global$9.Dispatch,Function$1=global$9.Function,MessageChannel=global$9.MessageChannel,String$1=global$9.String,counter=0,queue$1={},ONREADYSTATECHANGE="onreadystatechange",location,defer,channel,port;try{location=global$9.location}catch(e){}var run=function(e){if(hasOwn$2(queue$1,e)){var t=queue$1[e];delete queue$1[e],t()}},runner=function(e){return function(){run(e)}},listener=function(e){run(e.data)},post=function(e){global$9.postMessage(String$1(e),location.protocol+"//"+location.host)};(!set$2||!clear$2)&&(set$2=function(e){validateArgumentsLength(arguments.length,1);var t=isCallable$4(e)?e:Function$1(e),n=arraySlice(arguments,1);return queue$1[++counter]=function(){apply(t,void 0,n)},defer(counter),counter},clear$2=function(e){delete queue$1[e]},IS_NODE$2?defer=function(e){process$2.nextTick(runner(e))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(runner(e))}:MessageChannel&&!IS_IOS$1?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=bind$3(port.postMessage,port)):global$9.addEventListener&&isCallable$4(global$9.postMessage)&&!global$9.importScripts&&location&&location.protocol!=="file:"&&!fails$3(post)?(defer=post,global$9.addEventListener("message",listener,!1)):ONREADYSTATECHANGE in createElement("script")?defer=function(e){html$1.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html$1.removeChild(this),run(e)}}:defer=function(e){setTimeout(runner(e),0)});var task$1={set:set$2,clear:clear$2},userAgent$1=engineUserAgent,global$8=global$k,engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$1)&&global$8.Pebble!==void 0,userAgent=engineUserAgent,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent),global$7=global$k,bind$2=functionBindContext,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,macrotask=task$1.set,IS_IOS=engineIsIos,IS_IOS_PEBBLE=engineIsIosPebble,IS_WEBOS_WEBKIT=engineIsWebosWebkit,IS_NODE$1=engineIsNode,MutationObserver$1=global$7.MutationObserver||global$7.WebKitMutationObserver,document$2=global$7.document,process$1=global$7.process,Promise$1=global$7.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor(global$7,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,flush,head,last,notify$1,toggle,node,promise,then;queueMicrotask||(flush=function(){var e,t;for(IS_NODE$1&&(e=process$1.domain)&&e.exit();head;){t=head.fn,head=head.next;try{t()}catch(n){throw head?notify$1():last=void 0,n}}last=void 0,e&&e.enter()},!IS_IOS&&!IS_NODE$1&&!IS_WEBOS_WEBKIT&&MutationObserver$1&&document$2?(toggle=!0,node=document$2.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}):!IS_IOS_PEBBLE&&Promise$1&&Promise$1.resolve?(promise=Promise$1.resolve(void 0),promise.constructor=Promise$1,then=bind$2(promise.then,promise),notify$1=function(){then(flush)}):IS_NODE$1?notify$1=function(){process$1.nextTick(flush)}:(macrotask=bind$2(macrotask,global$7),notify$1=function(){macrotask(flush)}));var microtask$1=queueMicrotask||function(e){var t={fn:e,next:void 0};last&&(last.next=t),head||(head=t,notify$1()),last=t},global$6=global$k,hostReportErrors$1=function(e,t){var n=global$6.console;n&&n.error&&(arguments.length==1?n.error(e):n.error(e,t))},perform$3=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},Queue$1=function(){this.head=null,this.tail=null};Queue$1.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var queue=Queue$1,global$5=global$k,promiseNativeConstructor=global$5.Promise,engineIsBrowser=typeof window=="object"&&typeof Deno!="object",global$4=global$k,NativePromiseConstructor$3=promiseNativeConstructor,isCallable$3=isCallable$i,isForced=isForced_1,inspectSource=inspectSource$4,wellKnownSymbol$6=wellKnownSymbol$d,IS_BROWSER=engineIsBrowser,V8_VERSION=engineV8Version;NativePromiseConstructor$3&&NativePromiseConstructor$3.prototype;var SPECIES=wellKnownSymbol$6("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT$1=isCallable$3(global$4.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5=isForced("Promise",function(){var e=inspectSource(NativePromiseConstructor$3),t=e!==String(NativePromiseConstructor$3);if(!t&&V8_VERSION===66)return!0;if(V8_VERSION>=51&&/native code/.test(e))return!1;var n=new NativePromiseConstructor$3(function(a){a(1)}),o=function(a){a(function(){},function(){})},c=n.constructor={};return c[SPECIES]=o,SUBCLASSING=n.then(function(){})instanceof o,SUBCLASSING?!t&&IS_BROWSER&&!NATIVE_PROMISE_REJECTION_EVENT$1:!0}),promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1,SUBCLASSING},newPromiseCapability$2={},aCallable$4=aCallable$8,PromiseCapability=function(e){var t,n;this.promise=new e(function(o,c){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=o,n=c}),this.resolve=aCallable$4(t),this.reject=aCallable$4(n)};newPromiseCapability$2.f=function(e){return new PromiseCapability(e)};var $$9=_export,IS_NODE=engineIsNode,global$3=global$k,call$7=functionCall,defineBuiltIn$2=defineBuiltIn$4,setPrototypeOf=objectSetPrototypeOf,setToStringTag=setToStringTag$1,setSpecies=setSpecies$1,aCallable$3=aCallable$8,isCallable$2=isCallable$i,isObject$2=isObject$8,anInstance=anInstance$1,speciesConstructor=speciesConstructor$1,task=task$1.set,microtask=microtask$1,hostReportErrors=hostReportErrors$1,perform$2=perform$3,Queue=queue,InternalStateModule=internalState,NativePromiseConstructor$2=promiseNativeConstructor,PromiseConstructorDetection=promiseConstructorDetection,newPromiseCapabilityModule$3=newPromiseCapability$2,PROMISE="Promise",FORCED_PROMISE_CONSTRUCTOR$4=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING=PromiseConstructorDetection.SUBCLASSING,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),setInternalState=InternalStateModule.set,NativePromisePrototype$1=NativePromiseConstructor$2&&NativePromiseConstructor$2.prototype,PromiseConstructor=NativePromiseConstructor$2,PromisePrototype=NativePromisePrototype$1,TypeError$1=global$3.TypeError,document$1=global$3.document,process=global$3.process,newPromiseCapability$1=newPromiseCapabilityModule$3.f,newGenericPromiseCapability=newPromiseCapability$1,DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$3.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,isThenable=function(e){var t;return isObject$2(e)&&isCallable$2(t=e.then)?t:!1},callReaction=function(e,t){var n=t.value,o=t.state==FULFILLED,c=o?e.ok:e.fail,a=e.resolve,u=e.reject,h=e.domain,v,b,y;try{c?(o||(t.rejection===UNHANDLED&&onHandleUnhandled(t),t.rejection=HANDLED),c===!0?v=n:(h&&h.enter(),v=c(n),h&&(h.exit(),y=!0)),v===e.promise?u(TypeError$1("Promise-chain cycle")):(b=isThenable(v))?call$7(b,v,a,u):a(v)):u(n)}catch(w){h&&!y&&h.exit(),u(w)}},notify=function(e,t){e.notified||(e.notified=!0,microtask(function(){for(var n=e.reactions,o;o=n.get();)callReaction(o,e);e.notified=!1,t&&!e.rejection&&onUnhandled(e)}))},dispatchEvent=function(e,t,n){var o,c;DISPATCH_EVENT?(o=document$1.createEvent("Event"),o.promise=t,o.reason=n,o.initEvent(e,!1,!0),global$3.dispatchEvent(o)):o={promise:t,reason:n},!NATIVE_PROMISE_REJECTION_EVENT&&(c=global$3["on"+e])?c(o):e===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",n)},onUnhandled=function(e){call$7(task,global$3,function(){var t=e.facade,n=e.value,o=isUnhandled(e),c;if(o&&(c=perform$2(function(){IS_NODE?process.emit("unhandledRejection",n,t):dispatchEvent(UNHANDLED_REJECTION,t,n)}),e.rejection=IS_NODE||isUnhandled(e)?UNHANDLED:HANDLED,c.error))throw c.value})},isUnhandled=function(e){return e.rejection!==HANDLED&&!e.parent},onHandleUnhandled=function(e){call$7(task,global$3,function(){var t=e.facade;IS_NODE?process.emit("rejectionHandled",t):dispatchEvent(REJECTION_HANDLED,t,e.value)})},bind$1=function(e,t,n){return function(o){e(t,o,n)}},internalReject=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=REJECTED,notify(e,!0))},internalResolve=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw TypeError$1("Promise can't be resolved itself");var o=isThenable(t);o?microtask(function(){var c={done:!1};try{call$7(o,t,bind$1(internalResolve,c,e),bind$1(internalReject,c,e))}catch(a){internalReject(c,a,e)}}):(e.value=t,e.state=FULFILLED,notify(e,!1))}catch(c){internalReject({done:!1},c,e)}}};if(FORCED_PROMISE_CONSTRUCTOR$4&&(PromiseConstructor=function(e){anInstance(this,PromisePrototype),aCallable$3(e),call$7(Internal,this);var t=getInternalPromiseState(this);try{e(bind$1(internalResolve,t),bind$1(internalReject,t))}catch(n){internalReject(t,n)}},PromisePrototype=PromiseConstructor.prototype,Internal=function(e){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:new Queue,rejection:!1,state:PENDING,value:void 0})},Internal.prototype=defineBuiltIn$2(PromisePrototype,"then",function(e,t){var n=getInternalPromiseState(this),o=newPromiseCapability$1(speciesConstructor(this,PromiseConstructor));return n.parent=!0,o.ok=isCallable$2(e)?e:!0,o.fail=isCallable$2(t)&&t,o.domain=IS_NODE?process.domain:void 0,n.state==PENDING?n.reactions.add(o):microtask(function(){callReaction(o,n)}),o.promise}),OwnPromiseCapability=function(){var e=new Internal,t=getInternalPromiseState(e);this.promise=e,this.resolve=bind$1(internalResolve,t),this.reject=bind$1(internalReject,t)},newPromiseCapabilityModule$3.f=newPromiseCapability$1=function(e){return e===PromiseConstructor||e===PromiseWrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)},isCallable$2(NativePromiseConstructor$2)&&NativePromisePrototype$1!==Object.prototype)){nativeThen=NativePromisePrototype$1.then,NATIVE_PROMISE_SUBCLASSING||defineBuiltIn$2(NativePromisePrototype$1,"then",function(e,t){var n=this;return new PromiseConstructor(function(o,c){call$7(nativeThen,n,o,c)}).then(e,t)},{unsafe:!0});try{delete NativePromisePrototype$1.constructor}catch{}setPrototypeOf&&setPrototypeOf(NativePromisePrototype$1,PromisePrototype)}$$9({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1),setSpecies(PROMISE);var iterators={},wellKnownSymbol$5=wellKnownSymbol$d,Iterators$1=iterators,ITERATOR$3=wellKnownSymbol$5("iterator"),ArrayPrototype$1=Array.prototype,isArrayIteratorMethod$1=function(e){return e!==void 0&&(Iterators$1.Array===e||ArrayPrototype$1[ITERATOR$3]===e)},classof$1=classof$5,getMethod$1=getMethod$3,Iterators=iterators,wellKnownSymbol$4=wellKnownSymbol$d,ITERATOR$2=wellKnownSymbol$4("iterator"),getIteratorMethod$2=function(e){if(e!=null)return getMethod$1(e,ITERATOR$2)||getMethod$1(e,"@@iterator")||Iterators[classof$1(e)]},call$6=functionCall,aCallable$2=aCallable$8,anObject$7=anObject$c,tryToString$1=tryToString$5,getIteratorMethod$1=getIteratorMethod$2,$TypeError$2=TypeError,getIterator$1=function(e,t){var n=arguments.length<2?getIteratorMethod$1(e):t;if(aCallable$2(n))return anObject$7(call$6(n,e));throw $TypeError$2(tryToString$1(e)+" is not iterable")},call$5=functionCall,anObject$6=anObject$c,getMethod=getMethod$3,iteratorClose$1=function(e,t,n){var o,c;anObject$6(e);try{if(o=getMethod(e,"return"),!o){if(t==="throw")throw n;return n}o=call$5(o,e)}catch(a){c=!0,o=a}if(t==="throw")throw n;if(c)throw o;return anObject$6(o),n},bind=functionBindContext,call$4=functionCall,anObject$5=anObject$c,tryToString=tryToString$5,isArrayIteratorMethod=isArrayIteratorMethod$1,lengthOfArrayLike=lengthOfArrayLike$4,isPrototypeOf$2=objectIsPrototypeOf,getIterator=getIterator$1,getIteratorMethod=getIteratorMethod$2,iteratorClose=iteratorClose$1,$TypeError$1=TypeError,Result=function(e,t){this.stopped=e,this.result=t},ResultPrototype=Result.prototype,iterate$2=function(e,t,n){var o=n&&n.that,c=!!(n&&n.AS_ENTRIES),a=!!(n&&n.IS_ITERATOR),u=!!(n&&n.INTERRUPTED),h=bind(t,o),v,b,y,w,O,P,C,x=function(k){return v&&iteratorClose(v,"normal",k),new Result(!0,k)},D=function(k){return c?(anObject$5(k),u?h(k[0],k[1],x):h(k[0],k[1])):u?h(k,x):h(k)};if(a)v=e;else{if(b=getIteratorMethod(e),!b)throw $TypeError$1(tryToString(e)+" is not iterable");if(isArrayIteratorMethod(b)){for(y=0,w=lengthOfArrayLike(e);w>y;y++)if(O=D(e[y]),O&&isPrototypeOf$2(ResultPrototype,O))return O;return new Result(!1)}v=getIterator(e,b)}for(P=v.next;!(C=call$4(P,v)).done;){try{O=D(C.value)}catch(k){iteratorClose(v,"throw",k)}if(typeof O=="object"&&O&&isPrototypeOf$2(ResultPrototype,O))return O}return new Result(!1)},wellKnownSymbol$3=wellKnownSymbol$d,ITERATOR$1=wellKnownSymbol$3("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$1]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$1=function(e,t){if(!t&&!SAFE_CLOSING)return!1;var n=!1;try{var o={};o[ITERATOR$1]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch{}return n},NativePromiseConstructor$1=promiseNativeConstructor,checkCorrectnessOfIteration=checkCorrectnessOfIteration$1,FORCED_PROMISE_CONSTRUCTOR$3=promiseConstructorDetection.CONSTRUCTOR,promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR$3||!checkCorrectnessOfIteration(function(e){NativePromiseConstructor$1.all(e).then(void 0,function(){})}),$$8=_export,call$3=functionCall,aCallable$1=aCallable$8,newPromiseCapabilityModule$2=newPromiseCapability$2,perform$1=perform$3,iterate$1=iterate$2,PROMISE_STATICS_INCORRECT_ITERATION$1=promiseStaticsIncorrectIteration;$$8({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1},{all:function e(t){var n=this,o=newPromiseCapabilityModule$2.f(n),c=o.resolve,a=o.reject,u=perform$1(function(){var h=aCallable$1(n.resolve),v=[],b=0,y=1;iterate$1(t,function(w){var O=b++,P=!1;y++,call$3(h,n,w).then(function(C){P||(P=!0,v[O]=C,--y||c(v))},a)}),--y||c(v)});return u.error&&a(u.value),o.promise}});var $$7=_export,FORCED_PROMISE_CONSTRUCTOR$2=promiseConstructorDetection.CONSTRUCTOR,NativePromiseConstructor=promiseNativeConstructor,getBuiltIn$1=getBuiltIn$8,isCallable$1=isCallable$i,defineBuiltIn$1=defineBuiltIn$4,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;if($$7({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2,real:!0},{catch:function(e){return this.then(void 0,e)}}),isCallable$1(NativePromiseConstructor)){var method=getBuiltIn$1("Promise").prototype.catch;NativePromisePrototype.catch!==method&&defineBuiltIn$1(NativePromisePrototype,"catch",method,{unsafe:!0})}var $$6=_export,call$2=functionCall,aCallable=aCallable$8,newPromiseCapabilityModule$1=newPromiseCapability$2,perform=perform$3,iterate=iterate$2,PROMISE_STATICS_INCORRECT_ITERATION=promiseStaticsIncorrectIteration;$$6({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{race:function e(t){var n=this,o=newPromiseCapabilityModule$1.f(n),c=o.reject,a=perform(function(){var u=aCallable(n.resolve);iterate(t,function(h){call$2(u,n,h).then(o.resolve,c)})});return a.error&&c(a.value),o.promise}});var $$5=_export,call$1=functionCall,newPromiseCapabilityModule=newPromiseCapability$2,FORCED_PROMISE_CONSTRUCTOR$1=promiseConstructorDetection.CONSTRUCTOR;$$5({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1},{reject:function e(t){var n=newPromiseCapabilityModule.f(this);return call$1(n.reject,void 0,t),n.promise}});var anObject$4=anObject$c,isObject$1=isObject$8,newPromiseCapability=newPromiseCapability$2,promiseResolve$1=function(e,t){if(anObject$4(e),isObject$1(t)&&t.constructor===e)return t;var n=newPromiseCapability.f(e),o=n.resolve;return o(t),n.promise},$$4=_export,getBuiltIn=getBuiltIn$8,FORCED_PROMISE_CONSTRUCTOR=promiseConstructorDetection.CONSTRUCTOR,promiseResolve=promiseResolve$1;getBuiltIn("Promise"),$$4({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{resolve:function e(t){return promiseResolve(this,t)}});var $$3=_export,DESCRIPTORS$1=descriptors,global$2=global$k,uncurryThis$3=functionUncurryThis,hasOwn$1=hasOwnProperty_1,isCallable=isCallable$i,isPrototypeOf$1=objectIsPrototypeOf,toString$3=toString$5,defineProperty$1=objectDefineProperty.f,copyConstructorProperties=copyConstructorProperties$2,NativeSymbol=global$2.Symbol,SymbolPrototype=NativeSymbol&&NativeSymbol.prototype;if(DESCRIPTORS$1&&isCallable(NativeSymbol)&&(!("description"in SymbolPrototype)||NativeSymbol().description!==void 0)){var EmptyStringDescriptionStore={},SymbolWrapper=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:toString$3(arguments[0]),t=isPrototypeOf$1(SymbolPrototype,this)?new NativeSymbol(e):e===void 0?NativeSymbol():NativeSymbol(e);return e===""&&(EmptyStringDescriptionStore[t]=!0),t};copyConstructorProperties(SymbolWrapper,NativeSymbol),SymbolWrapper.prototype=SymbolPrototype,SymbolPrototype.constructor=SymbolWrapper;var NATIVE_SYMBOL=String(NativeSymbol("test"))=="Symbol(test)",symbolToString=uncurryThis$3(SymbolPrototype.toString),symbolValueOf=uncurryThis$3(SymbolPrototype.valueOf),regexp=/^Symbol\((.*)\)[^)]+$/,replace$1=uncurryThis$3("".replace),stringSlice=uncurryThis$3("".slice);defineProperty$1(SymbolPrototype,"description",{configurable:!0,get:function(){var e=symbolValueOf(this),t=symbolToString(e);if(hasOwn$1(EmptyStringDescriptionStore,e))return"";var n=NATIVE_SYMBOL?stringSlice(t,7,-1):replace$1(t,regexp,"$1");return n===""?void 0:n}}),$$3({global:!0,constructor:!0,forced:!0},{Symbol:SymbolWrapper})}var objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$1=Object.keys||function e(t){return internalObjectKeys(t,enumBugKeys$1)},DESCRIPTORS=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule=objectDefineProperty,anObject$3=anObject$c,toIndexedObject=toIndexedObject$4,objectKeys=objectKeys$1;objectDefineProperties.f=DESCRIPTORS&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function e(t,n){anObject$3(t);for(var o=toIndexedObject(n),c=objectKeys(n),a=c.length,u=0,h;a>u;)definePropertyModule.f(t,h=c[u++],o[h]);return t};var anObject$2=anObject$c,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html=html$2,documentCreateElement=documentCreateElement$1,sharedKey=sharedKey$2,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame=function(){var e=documentCreateElement("iframe"),t="java"+SCRIPT+":",n;return e.style.display="none",html.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(scriptTag("document.F=Object")),n.close(),n.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var e=enumBugKeys.length;e--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[e]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0;var objectCreate=Object.create||function e(t,n){var o;return t!==null?(EmptyConstructor[PROTOTYPE]=anObject$2(t),o=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,o[IE_PROTO]=t):o=NullProtoObject(),n===void 0?o:definePropertiesModule.f(o,n)},wellKnownSymbol$2=wellKnownSymbol$d,create=objectCreate,defineProperty=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$2("unscopables"),ArrayPrototype=Array.prototype;ArrayPrototype[UNSCOPABLES]==null&&defineProperty(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create(null)});var addToUnscopables$1=function(e){ArrayPrototype[UNSCOPABLES][e]=!0},$$2=_export,$includes=arrayIncludes.includes,fails$2=fails$f,addToUnscopables=addToUnscopables$1,BROKEN_ON_SPARSE=fails$2(function(){return!Array(1).includes()});$$2({target:"Array",proto:!0,forced:BROKEN_ON_SPARSE},{includes:function e(t){return $includes(this,t,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("includes");var isObject=isObject$8,classof=classofRaw$1,wellKnownSymbol$1=wellKnownSymbol$d,MATCH$1=wellKnownSymbol$1("match"),isRegexp=function(e){var t;return isObject(e)&&((t=e[MATCH$1])!==void 0?!!t:classof(e)=="RegExp")},isRegExp=isRegexp,$TypeError=TypeError,notARegexp=function(e){if(isRegExp(e))throw $TypeError("The method doesn't accept regular expressions");return e},wellKnownSymbol=wellKnownSymbol$d,MATCH=wellKnownSymbol("match"),correctIsRegexpLogic=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[MATCH]=!1,"/./"[e](t)}catch{}}return!1},$$1=_export,uncurryThis$2=functionUncurryThis,notARegExp=notARegexp,requireObjectCoercible$1=requireObjectCoercible$4,toString$2=toString$5,correctIsRegExpLogic=correctIsRegexpLogic,stringIndexOf=uncurryThis$2("".indexOf);$$1({target:"String",proto:!0,forced:!correctIsRegExpLogic("includes")},{includes:function e(t){return!!~stringIndexOf(toString$2(requireObjectCoercible$1(this)),toString$2(notARegExp(t)),arguments.length>1?arguments[1]:void 0)}});var whitespaces$2=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,uncurryThis$1=functionUncurryThis,requireObjectCoercible=requireObjectCoercible$4,toString$1=toString$5,whitespaces$1=whitespaces$2,replace=uncurryThis$1("".replace),whitespace="["+whitespaces$1+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod=function(e){return function(t){var n=toString$1(requireObjectCoercible(t));return e&1&&(n=replace(n,ltrim,"")),e&2&&(n=replace(n,rtrim,"")),n}},stringTrim={start:createMethod(1),end:createMethod(2),trim:createMethod(3)},global$1=global$k,fails$1=fails$f,uncurryThis=functionUncurryThis,toString=toString$5,trim=stringTrim.trim,whitespaces=whitespaces$2,$parseInt$1=global$1.parseInt,Symbol$1=global$1.Symbol,ITERATOR=Symbol$1&&Symbol$1.iterator,hex=/^[+-]?0x/i,exec=uncurryThis(hex.exec),FORCED=$parseInt$1(whitespaces+"08")!==8||$parseInt$1(whitespaces+"0x16")!==22||ITERATOR&&!fails$1(function(){$parseInt$1(Object(ITERATOR))}),numberParseInt=FORCED?function e(t,n){var o=trim(toString(t));return $parseInt$1(o,n>>>0||(exec(hex,o)?16:10))}:$parseInt$1,$=_export,$parseInt=numberParseInt;$({global:!0,forced:parseInt!=$parseInt},{parseInt:$parseInt});var anObject$1=anObject$c,regexpFlags=function(){var e=anObject$1(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},call=functionCall,hasOwn=hasOwnProperty_1,isPrototypeOf=objectIsPrototypeOf,regExpFlags=regexpFlags,RegExpPrototype$1=RegExp.prototype,regexpGetFlags=function(e){var t=e.flags;return t===void 0&&!("flags"in RegExpPrototype$1)&&!hasOwn(e,"flags")&&isPrototypeOf(RegExpPrototype$1,e)?call(regExpFlags,e):t},PROPER_FUNCTION_NAME=functionName.PROPER,defineBuiltIn=defineBuiltIn$4,anObject=anObject$c,$toString=toString$5,fails=fails$f,getRegExpFlags=regexpGetFlags,TO_STRING="toString",RegExpPrototype=RegExp.prototype,n$ToString=RegExpPrototype[TO_STRING],NOT_GENERIC=fails(function(){return n$ToString.call({source:"a",flags:"b"})!="/a/b"}),INCORRECT_NAME=PROPER_FUNCTION_NAME&&n$ToString.name!=TO_STRING;(NOT_GENERIC||INCORRECT_NAME)&&defineBuiltIn(RegExp.prototype,TO_STRING,function(){var e=anObject(this),t=$toString(e.source),n=$toString(getRegExpFlags(e));return"/"+t+"/"+n},{unsafe:!0});const BackArrowIcon=`
<svg width="8" height="14" viewBox="0 0 8 14"
  fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 13L1 7L7 1" stroke="#6494EE" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
  </path>
</svg>`,CloseIcon=`
<svg
  xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="#C1C1C1">
  <path d="M0 0h24v24H0z" fill="none"></path>
  <path
    d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z">
  </path>
</svg>`;function renderLedgerSelectAccount(e,t){var n,o,c;return __awaiter(this,void 0,void 0,function*(){if(modalState){document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
      <div class="nws-modal-header-wrapper"><button class="back-button" id="back-button">${BackArrowIcon}</button>
        <div class="nws-modal-header">
          <h3 class="middleTitle">${translate("modal.ledger.selectYourAccounts")}</h3>
            <button class="close-button">${CloseIcon}</button>
        </div>
      </div>
      <div class="derivation-path-wrapper">
        <div class="choose-ledger-account-form-wrapper">
          <p>We found ${t.length} accounts on your device. Select the account(s) you wish to connect.</p>
          <div class="button-wrapper"><button id="change-derivation-path-button">HD.../${modalState.derivationPath.slice(-2,-1)}</button></div>
          <form class="form">
            <div>
              <div class="nws-form-control">
                <div id="accounts"></div>
              <div class="action-buttons"><button class="middleButton" id="connect-button">Connect</button></div>
            </div>
          </form>
        </div>
      </div>
    </div>
  `;for(let a=0;a<t.length;a++)(n=document.getElementById("accounts"))===null||n===void 0||n.insertAdjacentHTML("beforeend",`
      <div class="account">
        <input type="checkbox" id="${t[a].accountId}" name="account" value="${t[a].accountId}" ${a===0?"checked":""}>
        <label for="${t[a].accountId}"> ${t[a].accountId}</label>
        <br>
      </div>
      `);(o=document.getElementById("change-derivation-path-button"))===null||o===void 0||o.addEventListener("click",()=>{renderSpecifyDerivationPath(e)}),(c=document.getElementById("connect-button"))===null||c===void 0||c.addEventListener("click",a=>{a.preventDefault();const u=Array.from(document.querySelectorAll("input[name='account']")).map(v=>v.checked),h=t.filter((v,b)=>u[b]);h.length<1||renderLedgerAccountsOverviewList(e,t,h)})}})}const ConnectionErrorIcon=`
<svg
  width="21"
  height="20"
  viewBox="0 0 21 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M10.5001 18.3333C15.1025 18.3333 18.8334 14.6023 18.8334 9.99996C18.8334 5.39759 15.1025 1.66663 10.5001 1.66663C5.89771 1.66663 2.16675 5.39759 2.16675 9.99996C2.16675 14.6023 5.89771 18.3333 10.5001 18.3333Z"
    stroke="#CE5A6F"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
  <path
    d="M13 7.5L8 12.5"
    stroke="#CE5A6F"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
  <path
    d="M8 7.5L13 12.5"
    stroke="#CE5A6F"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
</svg>`;function renderWalletConnectionFailed(e,t){var n;return __awaiter(this,void 0,void 0,function*(){document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
      <div class="nws-modal-header">
        <h3 class="middleTitle"></h3>
        <button class="close-button">
          ${CloseIcon}
        </button>
      </div>
      <div class="alert-message connecting-wrapper connecting-wrapper-err">
        <div class="content">
          <div class="icon"><img src="${e.metadata.iconUrl}" alt="${e.metadata.name}"></div>
          <h3 class="connecting-name">${e.metadata.name}</h3>
          <div class="connecting-details">
            <div class="connection">
              <div class="error-wrapper">
                <div class="error">
                    ${ConnectionErrorIcon}
                  ${translate("modal.wallet.connectionFailed")}
                </div>
                  <p>${t&&t.message?t.message:""}</p>
                  ${!(e!=null&&e.metadata.deprecated)&&(e!=null&&e.metadata.available)?`<button id='retry-button'>${translate("modal.ledger.retry")}</button>`:""}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  `,(n=document.getElementById("retry-button"))===null||n===void 0||n.addEventListener("click",()=>{connectToWallet(e,!1)})})}function renderLedgerAccountsOverviewList(e,t,n){var o,c,a;return __awaiter(this,void 0,void 0,function*(){document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
    <div class="nws-modal-header-wrapper">
      <button class="back-button" id="back-button">
        ${BackArrowIcon}
      </button>
        <div class="nws-modal-header">
          <h3 class="middleTitle">
          ${translate("modal.ledger.connecting")} ${n.length} ${translate("modal.ledger.ofAccounts")}
          </h3>
    <button class="close-button">${CloseIcon}</button>
        </div>
      </div>
      <div class="derivation-path-wrapper">
        <div class="overview-wrapper">
          <p>
            ${translate("modal.ledger.overviewTheListOfAuthorized")}
          </p>
          <div class="accounts" id="accounts"></div>
          <div class="action-buttons">
            <button class="middleButton" id="finish-button">
              ${translate("modal.ledger.finish")}
            </button>
          </div>
        </div>
      </div>
    </div>
  `;for(let u=0;u<n.length;u++)(o=document.getElementById("accounts"))===null||o===void 0||o.insertAdjacentHTML("beforeend",`
        <div>
          <div class="account">
            <span>${n[u].accountId}</span>
          </div>
        </div>
      `);(c=document.getElementById("back-button"))===null||c===void 0||c.addEventListener("click",()=>{renderLedgerSelectAccount(e,t)}),(a=document.getElementById("finish-button"))===null||a===void 0||a.addEventListener("click",()=>__awaiter(this,void 0,void 0,function*(){try{if(!modalState)return;(yield e.wallet()).signIn({contractId:modalState.options.contractId,methodNames:modalState.options.methodNames,accounts:n}),modalState.container.children[0].classList.remove("open"),modalState.emitter.emit("onHide",{hideReason:"wallet-navigation"})}catch(u){yield renderWalletConnectionFailed(e,u)}}))})}function renderNoLedgerAccountsFound(e){var t;return __awaiter(this,void 0,void 0,function*(){document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
      <div class="nws-modal-header-wrapper"><button class="back-button" id="back-button">${BackArrowIcon}</button>
        <div class="nws-modal-header">
          <h3 class="middleTitle">
            ${translate("modal.ledger.noAccountsFound")}
          </h3>
          <button class="close-button">${CloseIcon}</button>
        </div>
      </div>
      <div class="derivation-path-wrapper">
        <div class="no-accounts-found-wrapper">
          <p>
            ${translate("modal.ledger.cantFindAnyAccount")}
            <a href="https://testnet.mynearwallet.com/create" target="_blank">MyNearWallet</a>
            ${translate("modal.ledger.orConnectAnAnotherLedger")}
          </p>
        </div>
      </div>
    </div>
  `,(t=document.getElementById("back-button"))===null||t===void 0||t.addEventListener("click",()=>{renderConnectHardwareWallet(e)})})}function renderWalletConnecting(e=null){return __awaiter(this,void 0,void 0,function*(){document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
      <div class="nws-modal-header">
        <h3 class="middleTitle"></h3>
        <button class="close-button">
          ${CloseIcon}
        </button>
      </div>
      <div class="connecting-wrapper">
        <div class="content">
          <div class="icon">
            <img src="${e==null?void 0:e.metadata.iconUrl}" alt="${e==null?void 0:e.metadata.name}">
          </div>
          <h3 class="connecting-name">${e==null?void 0:e.metadata.name}</h3>
          <div class="connecting-details">
            <div class="spinner"><img
                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR3SURBVHgBpVZ9aJVVGH+e55z33bi7zY9hMz+yMAeNoEIq6A9ZRKQWEsQNFIIpsf5Y9E+GsD9iBEEDMUkDa6ShRKKZYIWiRkaKaUGUGCKOTGMF84PNO99773vOefq9720yK5ZzD/dwPt/nd37P17lEk5Qnuz9roUkKT7T5bNe+QjTNLCHv24h1Xgh+OmtwQYPH2jUXwlnW9NRooqePfLS6MmmQ59cdeEGJlkJZA5MGVecoAwghBYZTVY9ftuaDSy8x8w9fbFl95JZAXuw9dmelkvRAyXxS7wMFryG4bIyWZiqzPgMhaFfGfn3NY3AZG9sPf/Dy8HidZvxkZc/h1pqnPlKey6yspMqUd9jVAEYY6RCGDQTwjGDwGTgAlbwRijV1C9vanz577tT+6r+YrOz5rlXFrQ/qZ+FbDxCfXS5oOgxln4v473f3rbgwdn7FK5/MCaH2eAg6X8g3K2iBMTiBkNJVKbod+ze9mgPZsY/UaicYzCE1HgpZc558olCTjTvWLxv9p1n3bV45iO7T5zq3TU9j9xTOLwQ5D9t48aEYrtGj2P/2BpNS78nZJoRdlDsYd8vphz273lqyhW5Rnlnz3hOe6SEwghvxPUMTVfYe2rpuUOqOkZeIxdSbsSJ8eTIAmXy5tftrMPkzi0C4B2ZDNHp+INvLQURkhYiJ6gDGko376DbEJ8k3mcnYBSeSM2ptL/XGsurNnxfnDIQNwCKADO1845Ef6Tbk0M51g4joMgncDyBmkrtsNEMQovcDxGYsGL2yDNAUxPv0VySs4yxhfeYbabJg0Awg+ILylEB6nKMpSOp0WCR1+QSuD4ELljNDEfyRrdXPCU1BTEgD7pyOzVmC2iBm0KgYAMCEeXovoClIjdKiVdQ3FYbzmatxWRqMPcNsDHyfNWskWk5TkJhNEwVyxA6hLL5clLJsW7voFxa6LiR5CCOeWzo3XFxKtyEdy3tnp7VahAoDp6PEVGvJye09l3P7K9k9WQijXBv4B6WG+0pvD0ybFEBHZ6OPh+/OGaBsIvNRAGp/ZHv1jJeon+omszBkFsr3FhsLB7rev3JLQKVSyfjmaW2BJSavDlqR7c5VrR+4AbLttbkXMehH7gjA8gZiD/tq+Or/ABZ3dUW/J62LcPUGcrW8pKSVFAg6cHz3O0l25qZHa/XGwWPg9aAwwzdZAaDX+7tbNsMYf5+bpaUS0dDQEF8rtsUxCbI5e5KRzGhBMiqNxllKju7d8NOYXjseRBytQngcVDL3wD9H+7vf3YS7mnnzqrZpwSxrwkh04cpM5NTMyJdHbIgaESyxJ6tZ5cDbw3qd0tqVCp25Se/4yYdr5/zm/ehjwvpxZHgN0Wlub0/Yt7awdykqRYFHy6NUQVrBd4o6p6ngrVL2Bo8ksuJqoXzq9Ln9m6rj9U74b6Wjo8OeP082aY5NUxRsYzwDkeFsU+MdUU3U4PG0QtbahqhadDMuHTy4fvS/9EwIUpdeuW/ZiShOipFxURRbNdWETFMRZrCFlEZGkuPHdycTafgLExNiI6YfUpcAAAAASUVORK5CYII="
                alt="loading-icon"></div>
                <span>
                  ${translate("modal.wallet.connectingTo")} ${e==null?void 0:e.metadata.name}...
                </span>
        </div>
          <div class="connecting-message">
            <span>
              ${translate("modal.wallet.connectingMessage."+(e==null?void 0:e.type))}
            </span>
          </div>
      </div>
    </div>
  </div>
  `})}const UpArrowIcon=`
<svg width="10" height="7" viewBox="0 0 10 7" fill="none"
  xmlns="http://www.w3.org/2000/svg">
  <path d="M9 5.4762L5 1.4762L1 5.4762" stroke="#4F7CD1" stroke-width="1.5" stroke-linecap="round"
    stroke-linejoin="round"></path>
</svg>`,DownArrowIcon=`
<svg width="10" height="7" viewBox="0 0 10 7" fill="none"
  xmlns="http://www.w3.org/2000/svg">
  <path d="M1 1.52382L5 5.52382L9 1.52382" stroke="#4F7CD1" stroke-width="1.5" stroke-linecap="round"
    stroke-linejoin="round"></path>
</svg>`;function renderSpecifyDerivationPath(e){var t,n,o,c;if(!modalState)return;document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
      <div class="nws-modal-header-wrapper"><button class="back-button" id="back-button">${BackArrowIcon}</button>
        <div class="nws-modal-header">
          <h3 class="middleTitle">
            ${translate("modal.ledger.specifyHDPath")}
          </h3>
          <button class="close-button">
            ${CloseIcon}
          </button>
        </div>
      </div>
      <div class="derivation-path-wrapper">
        <div class="specify-path-wrapper">
          <div class="change-path-wrapper">
            <div class="display-path"><span>44'/397'/0'/0'/</span></div>
            <div class="change-path">
              <div class="path-value"><span id="derivation-path-index"></span></div>
              <div class="buttons-wrapper">
                <button id="increase-index-button">
                  ${UpArrowIcon}
                </button>
                <button id="decrease-index-button">
                  ${DownArrowIcon}
                </button>
              </div>
            </div>
          </div>
          <p class="path-description">
            ${translate("modal.ledger.enterYourPreferredHDPath")}
          </p>
          <p class="what-link">
            <a
              href="https://www.ledger.com/academy/crypto/what-are-hierarchical-deterministic-hd-wallets"
              target="_blank"
            >
              What's this?
            </a>
          </p>
          <div class="action-buttons">
            <button class="middleButton" id="scan-button">
            ${translate("modal.ledger.scan")}
            </button>
          </div>
        </div>
      </div>
    </div>
  `;const a=document.getElementById("derivation-path-index");a.innerText=modalState.derivationPath.slice(-2,-1),(t=document.getElementById("increase-index-button"))===null||t===void 0||t.addEventListener("click",()=>{if(!modalState)return;const u=parseInt(a.innerText)+1;modalState.derivationPath=modalState.derivationPath.slice(0,-2)+u.toString()+"'",a.innerText=u.toString()}),(n=document.getElementById("decrease-index-button"))===null||n===void 0||n.addEventListener("click",()=>{if(!modalState)return;const u=parseInt(a.innerText)-1;modalState.derivationPath=modalState.derivationPath.slice(0,-2)+u.toString()+"'",u>=0&&(a.innerText=u.toString())}),(o=document.getElementById("back-button"))===null||o===void 0||o.addEventListener("click",()=>{renderConnectHardwareWallet(e)}),(c=document.getElementById("scan-button"))===null||c===void 0||c.addEventListener("click",()=>__awaiter(this,void 0,void 0,function*(){try{const u=yield e.wallet();renderWalletConnecting(e);const h=yield resolveAccounts(u);if(!h||h.length<1)return renderNoLedgerAccountsFound(e);h.length===1&&renderLedgerAccountsOverviewList(e,h,h),renderLedgerSelectAccount(e,h)}catch(u){yield renderWalletConnectionFailed(e,u)}}))}const LedgerDeviceIcon=`
<svg width="317" height="157" viewBox="0 0 317 157" fill="none"
  xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M249.99 16.0994C270.063 -0.864155 289.788 1.58873 301.497 10.7365C307.402 15.3499 311.278 21.6575 312.267 28.1258C313.247 34.5412 311.413 41.2233 305.692 46.8044C297.366 54.9273 286.343 55.3362 273.015 51.5109C261.654 48.25 249.058 42.0377 235.726 35.4627L235.726 35.4626L235.717 35.458C233.367 34.2992 230.995 33.129 228.602 31.9618C212.742 24.2253 196.067 16.6575 179.842 13.8595C163.538 11.0479 147.552 13.0313 133.266 24.522C128.032 28.732 123.478 35.2086 121.716 44.8205C119.961 54.3947 120.992 66.9771 126.703 83.4311C135.432 108.583 132.899 126.677 123.575 138.063C114.217 149.491 97.5614 154.733 76.7887 153.121C55.0043 151.43 29.0621 142.206 3.29867 125.227L0.887817 127.942C27.2472 145.405 53.9251 154.952 76.5105 156.705C97.9028 158.365 115.96 153.035 126.356 140.341C136.785 127.606 139.045 108.029 130.099 82.2524C124.521 66.1801 123.642 54.2493 125.252 45.4687C126.854 36.7258 130.94 31.006 135.519 27.3232C148.794 16.6458 163.649 14.715 179.231 17.4021C194.891 20.1027 211.146 27.4463 227.026 35.1928C229.381 36.3415 231.729 37.5001 234.066 38.6531L234.073 38.6568C247.382 45.223 260.324 51.608 272.024 54.9662C285.819 58.9258 298.493 58.8501 308.202 49.3776C314.764 42.9759 316.974 35.1288 315.82 27.5826C314.675 20.0893 310.237 13.0029 303.71 7.90363C290.555 -2.37382 268.938 -4.62038 247.67 13.3537L249.99 16.0994Z"
    fill="url(#paint0_linear_3_672)"></path>
  <path d="M260.264 17.8767L177.605 89.4649L157.679 73.9664L239.23 3.85423L260.264 17.8767Z" fill="#6A7075">
  </path>
  <path d="M205.939 54.4577L199.764 50.2636L233.316 20.9053L239.907 25.8395L205.939 54.4577Z" fill="#494E52">
  </path>
  <path d="M260.264 17.8757L177.605 89.4639L182.033 98.3202L264.323 26.363L260.264 17.8757Z" fill="#494E52">
  </path>
  <path d="M177.236 89.4646L181.295 98.3209L165.059 85.7745L170.963 85.0365L177.236 89.4646Z" fill="black">
  </path>
  <path d="M93.4708 99.6384L91.9948 110.13L174.653 92.894L164.69 85.7749L93.4708 99.6384Z" fill="#DCDADA">
  </path>
  <path d="M93.1157 104.323L94.314 100.129L165.613 86.3483L169.208 89.344L93.1157 104.323Z" fill="#C1C1C1">
  </path>
  <path d="M94.2086 99.7963L86.0903 101.272L92.3635 110.129L94.2086 99.7963Z" fill="#B3AAAA"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M86.0903 100.907L89.0027 74.1304L178.455 55.2416C184.695 53.9962 195.766 54.7675 197.177 63.7058C198.284 70.717 195.506 73.9943 191.628 77.3592C188.495 80.0671 180.152 82.4646 178.343 82.8944C178.293 82.9064 178.241 82.9188 178.186 82.9319C177.38 83.1245 176.007 83.4525 170.644 84.5088C169.085 84.8158 167.382 85.1501 165.557 85.5078L164.933 85.63C146.312 89.2764 115.528 95.2297 93.9844 99.3849C91.1808 99.9257 88.5337 100.436 86.0903 100.907ZM185.076 75.554C190.748 73.3535 193.99 68.0745 192.318 63.7631C190.645 59.4517 184.691 57.7405 179.019 59.941C173.347 62.1416 170.105 67.4206 171.778 71.732C173.45 76.0434 179.404 77.7546 185.076 75.554Z"
    fill="#F4F1E8"></path>
  <path d="M199.764 50.3994L196.768 48.3043L232.194 18.0454L233.316 21.6403L199.764 50.3994Z" fill="black">
  </path>
  <path d="M239.968 25.9943L232.588 20.4592V17.5071L241.813 24.5183L239.968 25.9943Z" fill="black"></path>
  <ellipse cx="182.084" cy="68.0811" rx="10.242" ry="7.46772" transform="rotate(-23.7949 182.084 68.0811)"
    fill="#494E52"></ellipse>
  <ellipse cx="182.084" cy="68.0816" rx="6.68462" ry="4.87394" transform="rotate(-23.7949 182.084 68.0816)"
    fill="#494E52"></ellipse>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M238.725 2.93094L260.368 17.2564L264.865 26.4556L181.615 99.0341L175.16 94.311L92.0028 110.947L85.3267 101.399L88.3269 73.8157L178.118 54.8553L238.725 2.93094ZM178.599 56.2622L89.6786 75.0388L86.9321 100.29C89.0979 99.8725 91.4124 99.4263 93.8446 98.9572C115.388 94.8019 146.171 88.8488 164.791 85.2026L165.415 85.0804C167.24 84.7228 168.943 84.3885 170.501 84.0816C175.853 83.0275 177.219 82.701 178.015 82.5107C178.07 82.4976 178.122 82.4852 178.173 82.4732C179.048 82.2652 181.558 81.5669 184.235 80.5851C186.742 79.6655 189.286 78.5354 190.802 77.3758L191.151 77.0922L191.644 76.6595C193.341 75.147 194.723 73.6739 195.61 71.871C196.571 69.916 196.982 67.5029 196.448 64.1178C195.8 60.0131 192.959 57.7574 189.408 56.6566C185.833 55.5483 181.637 55.6566 178.603 56.2615C178.601 56.2617 178.6 56.262 178.599 56.2622ZM192.631 77.7565L259.555 18.9531L263.042 26.0869L181.808 96.9078L178.132 89.5713L191.724 78.529C191.859 78.4249 191.988 78.32 192.11 78.2144L192.111 78.2136C192.286 78.0617 192.46 77.9094 192.631 77.7565ZM185.491 81.6908C185.24 81.7868 184.99 81.8802 184.743 81.9709C182.013 82.9723 179.447 83.6875 178.514 83.9093C178.463 83.9213 178.411 83.9338 178.356 83.9468C177.635 84.1192 176.472 84.3971 172.491 85.1919L177.172 88.4492L185.491 81.6908ZM176.631 89.8707L170.479 85.5903C169.306 85.8213 168.054 86.0673 166.731 86.3265L175.769 92.9276L179.548 95.6924L176.631 89.8707ZM164.758 86.7132C146.252 90.3362 116.027 96.1817 94.6324 100.308L93.2258 109.197L173.543 93.1293L164.758 86.7132ZM91.888 108.207L93.0909 100.606C91.0848 100.993 89.1642 101.363 87.3471 101.713L91.888 108.207ZM258.581 17.8436L197.306 71.6841C198.142 69.5779 198.41 67.0795 197.906 63.8876C197.143 59.0539 193.743 56.4549 189.845 55.2467C186.921 54.3402 183.662 54.1916 180.861 54.449L238.84 4.77668L258.581 17.8436ZM232.505 16.82L243.089 24.5643L205.915 56.5106L196.042 48.0665L232.505 16.82ZM232.118 19.096L198.312 48.0654L199.744 49.29L232.584 20.9424L232.118 19.096ZM233.456 22.1396L200.878 50.2604L205.913 54.5664L239.041 26.0969L233.456 22.1396ZM240.195 25.1054L240.717 24.6571L233.759 19.5663L234.06 20.7586L240.195 25.1054Z"
    fill="black"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M190.194 69.9744C191.32 68.1409 191.576 66.2271 190.942 64.5937C190.308 62.9603 188.829 61.7198 186.761 61.1254C184.691 60.5307 182.116 60.6196 179.553 61.6139C176.991 62.6081 175.029 64.2794 173.902 66.1141C172.776 67.9477 172.52 69.8614 173.154 71.4948C173.788 73.1282 175.267 74.3687 177.335 74.9631C179.405 75.5578 181.98 75.4689 184.543 74.4746C187.105 73.4804 189.067 71.8091 190.194 69.9744ZM185.077 75.8508C190.749 73.6502 193.991 68.3712 192.318 64.0598C190.645 59.7484 184.691 58.0372 179.019 60.2378C173.347 62.4383 170.105 67.7173 171.778 72.0287C173.451 76.3401 179.405 78.0513 185.077 75.8508Z"
    fill="black"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M187.391 69.169C188.127 67.9713 188.266 66.7721 187.881 65.7812C187.497 64.7903 186.586 63.9984 185.235 63.6102C183.883 63.2216 182.173 63.2741 180.456 63.9404C178.738 64.6068 177.441 65.7208 176.705 66.9196C175.969 68.1172 175.83 69.3165 176.215 70.3074C176.599 71.2983 177.511 72.0901 178.861 72.4783C180.214 72.8669 181.923 72.8144 183.64 72.1481C185.358 71.4818 186.655 70.3678 187.391 69.169ZM184.174 73.5242C188.156 71.9795 190.432 68.2738 189.257 65.2473C188.083 62.2208 183.904 61.0196 179.922 62.5643C175.94 64.1091 173.665 67.8148 174.839 70.8412C176.013 73.8677 180.193 75.0689 184.174 73.5242Z"
    fill="black"></path>
  <path
    d="M240.499 41.2441C239.744 40.3649 239.844 39.04 240.724 38.285L249.781 30.5067C250.66 29.7516 251.985 29.8523 252.74 30.7315V30.7315C253.495 31.6108 253.395 32.9356 252.516 33.6907L243.458 41.469C242.579 42.224 241.254 42.1234 240.499 41.2441V41.2441Z"
    fill="black"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M250.743 31.6265L241.685 39.4048C241.424 39.6287 241.395 40.0217 241.619 40.2825C241.842 40.5433 242.235 40.5731 242.496 40.3492L251.554 32.5709C251.815 32.3469 251.845 31.954 251.621 31.6932C251.397 31.4324 251.004 31.4025 250.743 31.6265ZM240.724 38.285C239.844 39.04 239.744 40.3649 240.499 41.2441C241.254 42.1234 242.579 42.224 243.458 41.469L252.516 33.6907C253.395 32.9356 253.495 31.6108 252.74 30.7315C251.985 29.8523 250.66 29.7516 249.781 30.5067L240.724 38.285Z"
    fill="black"></path>
  <path
    d="M205.779 71.4647C205.005 70.5642 205.108 69.2073 206.009 68.4339L214.989 60.7218C215.89 59.9485 217.247 60.0516 218.02 60.9521V60.9521C218.793 61.8526 218.69 63.2095 217.79 63.9829L208.809 71.695C207.909 72.4683 206.552 72.3652 205.779 71.4647V71.4647Z"
    fill="black"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M215.951 61.8416L206.97 69.5537C206.688 69.796 206.656 70.221 206.898 70.5031C207.141 70.7851 207.566 70.8174 207.848 70.5752L216.828 62.863C217.11 62.6208 217.143 62.1958 216.9 61.9137C216.658 61.6317 216.233 61.5994 215.951 61.8416ZM206.009 68.4339C205.108 69.2073 205.005 70.5642 205.779 71.4647C206.552 72.3652 207.909 72.4683 208.809 71.695L217.79 63.9829C218.69 63.2095 218.793 61.8526 218.02 60.9521C217.247 60.0516 215.89 59.9485 214.989 60.7218L206.009 68.4339Z"
    fill="black"></path>
  <circle cx="141.356" cy="19.525" r="10.1855" fill="#FE89B4"></circle>
  <ellipse cx="139.062" cy="14.7094" rx="2.42519" ry="1.94015" transform="rotate(-34.544 139.062 14.7094)"
    fill="#FDF7FF"></ellipse>
  <circle cx="252.489" cy="79.7577" r="7.78893" fill="#EC5236"></circle>
  <ellipse cx="250.434" cy="76.3701" rx="2.61272" ry="2.09018" transform="rotate(-34.544 250.434 76.3701)"
    fill="#EDB69D"></ellipse>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M100.436 79.9254C100.461 79.6567 100.732 79.3897 101.042 79.329L106.657 78.2299C107.587 78.0478 108.281 78.5536 108.207 79.3596L107.759 84.2243C107.734 84.493 107.463 84.76 107.153 84.8207L100.416 86.1396C100.106 86.2003 99.8742 86.0317 99.899 85.7631L100.436 79.9254Z"
    fill="#B3AAAA"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M95.8553 81.7775C95.9294 80.9715 96.7437 80.1704 97.6739 79.9883L98.7968 79.7685C99.1069 79.7078 99.3382 79.8764 99.3135 80.1451L99.1344 82.091C99.1096 82.3597 98.8382 82.6267 98.5282 82.6874L96.2824 83.127C95.9723 83.1877 95.741 83.0191 95.7657 82.7505L95.8553 81.7775Z"
    fill="#B3AAAA"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M95.5865 84.6965C95.6112 84.4278 95.8826 84.1608 96.1927 84.1001L98.4385 83.6605C98.7486 83.5998 98.9799 83.7684 98.9552 84.037L98.7761 85.9829C98.7513 86.2516 98.4799 86.5186 98.1699 86.5793L95.9241 87.019C95.614 87.0797 95.3827 86.9111 95.4074 86.6424L95.5865 84.6965Z"
    fill="#B3AAAA"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M95.2282 88.5884C95.2529 88.3197 95.5244 88.0527 95.8344 87.992L98.0802 87.5524C98.3903 87.4917 98.6216 87.6603 98.5969 87.929L98.4178 89.8749C98.3931 90.1435 98.1216 90.4105 97.8116 90.4712L96.6887 90.6911C95.7584 90.8732 95.0645 90.3674 95.1387 89.5614L95.2282 88.5884Z"
    fill="#B3AAAA"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M99.7197 87.709C99.7444 87.4403 100.016 87.1733 100.326 87.1126L102.572 86.673C102.882 86.6123 103.113 86.7809 103.088 87.0496L102.909 88.9955C102.885 89.2641 102.613 89.5312 102.303 89.5919L100.057 90.0315C99.7472 90.0922 99.5159 89.9236 99.5406 89.6549L99.7197 87.709Z"
    fill="#B3AAAA"></path>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M104.211 86.8298C104.236 86.5611 104.507 86.2941 104.817 86.2334L107.063 85.7938C107.373 85.7331 107.605 85.9017 107.58 86.1704L107.49 87.1433C107.416 87.9493 106.602 88.7504 105.672 88.9325L104.549 89.1523C104.239 89.213 104.007 89.0444 104.032 88.7757L104.211 86.8298Z"
    fill="#B3AAAA"></path>
  <defs>
    <linearGradient id="paint0_linear_3_672" x1="-44.5195" y1="122.42" x2="263.357" y2="-8.65023"
      gradientUnits="userSpaceOnUse">
      <stop offset="0.110697" stop-color="#232323"></stop>
      <stop offset="1" stop-color="#3D3D3D"></stop>
    </linearGradient>
  </defs>
 </svg>`;function renderConnectHardwareWallet(e){var t,n;modalState&&(modalState.derivationPath=DEFAULT_DERIVATION_PATH,document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
      <div class="nws-modal-header-wrapper">
        <div class="nws-modal-header">
          <h3 class="middleTitle">
            ${translate("modal.ledger.connectWithLedger")}
          </h3>
          <button class="close-button">
          ${CloseIcon}
          </button>
        </div>
      </div>
      <div class="derivation-path-wrapper">
        <div class="enter-derivation-path">
          <div class="ledger-image">
            ${LedgerDeviceIcon}
          </div>
          <div class="ledger-description">
            <p> ${translate("modal.ledger.makeSureYourLedger")} </p>
            <p class="specify-path" id="specify-derivation-path-button">${translate("modal.ledger.specifyHDPath")}</p>
          </div>
          <div class="action-buttons"><button class="middleButton" id="continue-button">${translate("modal.ledger.continue")}</button></div>
        </div>
      </div>
    </div>
  `,(t=document.getElementById("continue-button"))===null||t===void 0||t.addEventListener("click",()=>{connectToWallet(e,!1)}),(n=document.getElementById("specify-derivation-path-button"))===null||n===void 0||n.addEventListener("click",()=>{renderSpecifyDerivationPath(e)}))}const QRIcon=`
<svg
  width="18"
  height="16"
  viewBox="0 0 18 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.22224 1.33334H1.44446V6.66668H7.22224V1.33334Z"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
  <path
    d="M15.8889 1.33334H10.1111V6.66668H15.8889V1.33334Z"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
  <path
    d="M7.22224 9.33334H1.44446V14.6667H7.22224V9.33334Z"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
  <path
    d="M10.1111 13.1429V14.6667H15.8889M10.1111 9.33334V10.8572H12.5873V9.33334H15.8889V12.381"
    stroke="#4C5155"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
  <rect
    x="3.61108"
    y="3.33334"
    width="1.44444"
    height="1.33333"
    fill="#4C5155"
  />
  <rect
    x="3.61108"
    y="11.3333"
    width="1.44444"
    height="1.33333"
    fill="#4C5155"
  />
  <rect
    x="12.2778"
    y="3.33334"
    width="1.44445"
    height="1.33333"
    fill="#4C5155"
  />
</svg>`,LinkIcon=`
<svg
  width="18"
  height="16"
  viewBox="0 0 18 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M13 8.66667V12.6667C13 13.0203 12.8478 13.3594 12.577 13.6095C12.3061 13.8595 11.9387 14 11.5556 14H3.61113C3.22804 14 2.86064 13.8595 2.58975 13.6095C2.31887 13.3594 2.16669 13.0203 2.16669 12.6667V5.33333C2.16669 4.97971 2.31887 4.64057 2.58975 4.39052C2.86064 4.14048 3.22804 4 3.61113 4H7.94447"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
  <path
    d="M10.8333 2H15.1666V6"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
  <path
    d="M7.22223 9.33333L15.1667 2"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
</svg>`;function getWalletUrl(e){if(!modalState)return;let t="";return e.type==="injected"&&(t=e.metadata.downloadUrl),e.type==="browser"&&(t=e.metadata.walletUrl),t}function renderGetAWallet(){var e,t;return __awaiter(this,void 0,void 0,function*(){if(!modalState)return;document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
      <div class="wallet-home-wrapper">
        <div class="nws-modal-header-wrapper">
        <button class="back-button" id="back-button">
          ${BackArrowIcon}
        </button>
          <div class="nws-modal-header">
            <h3 class="middleTitle -open">${translate("modal.wallet.getAWallet")}</h3>
            <button class="close-button">
              ${CloseIcon}
            </button>
          </div>
        </div>
        <div class="get-wallet-wrapper" id="wallets">

        </div>
      </div>
    </div>
  `;const n=c=>c.type!=="bridge"&&c.type!=="hardware"&&c.type!=="instant-link",o=modalState.modules.filter(n);for(let c=0;c<o.length;c++){const a=["nearfi","here-wallet"].includes(o[c].id),u=o[c].id==="here-wallet"?"mobile":"",h=getWalletUrl(o[c]);(e=document.getElementById("wallets"))===null||e===void 0||e.insertAdjacentHTML("beforeend",`
    <div tabindex="0" class="single-wallet-get ${o[c].id}" id="${o[c].id}">
      <div class="small-icon">
      ${a&&h?`${QRIcon}`:!a&&h?`${LinkIcon}`:""}

      </div>
      <div class="icon">
      <img
          src="${o[c].metadata.iconUrl}"
          alt="${o[c].metadata.name}"></div>
      <div class="content">
        <div class="title">${o[c].metadata.name}</div>
        <div class="type">${translate(`modal.walletTypes.${u||o[c].type}`)}</div>
      </div>
    </div>
`)}Array.from(document.querySelectorAll(".single-wallet-get")).forEach(c=>{c.addEventListener("click",()=>{if(!modalState)return;const a=modalState.modules.find(h=>h.id===c.id);if(!a)return;const u=getWalletUrl(a);u&&window.open(u,"_blank")})}),(t=document.getElementById("back-button"))===null||t===void 0||t.addEventListener("click",()=>{renderWhatIsAWallet()})})}const KeyIcon=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M33.5 1.83325L30.1666 5.16658M17.4818 17.8514C19.1406 19.5103 20.1666 21.8019 20.1666 24.3333C20.1666 29.3959 16.0626 33.4999 11 33.4999C5.93735 33.4999 1.8333 29.3959 1.8333 24.3333C1.8333 19.2706 5.93735 15.1666 11 15.1666C13.5313 15.1666 15.8229 16.1926 17.4818 17.8514ZM17.4818 17.8514L24.3333 10.9999M24.3333 10.9999L29.3333 15.9999L35.1666 10.1666L30.1666 5.16658M24.3333 10.9999L30.1666 5.16658" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,FolderIcon=`
<svg width="40" height="41" viewBox="0 0 40 41" fill="none" xmlns="http://www.w3.org/2000/svg">
  <circle cx="28.3333" cy="23.8333" r="1.66667" fill="currentColor"/>
  <path d="M35 12.1667H7C5.89543 12.1667 5 11.2712 5 10.1667V7.5C5 6.39543 5.89543 5.5 7 5.5H31.6667" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M35 12.1667V35.5H7C5.89543 35.5 5 34.6046 5 33.5V8.83334" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`;function renderWhatIsAWallet(){var e,t;return __awaiter(this,void 0,void 0,function*(){document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
      <div class="wallet-home-wrapper">
        <div class="nws-modal-header-wrapper">
          <div class="nws-modal-header">
            <h3 class="middleTitle">${translate("modal.wallet.whatIsAWallet")}</h3>
            <button class="close-button">
              ${CloseIcon}
            </button>
          </div>
        </div>

        <div class="wallet-info-wrapper  what-wallet-hide">
          <div class="wallet-what">
            <div class="icon-side">
                ${KeyIcon}
            </div>
            <div class="content-side">
              <h3>${translate("modal.wallet.secureAndManage")}</h3>
              <p>${translate("modal.wallet.safelyStore")}</p>
            </div>
          </div>

          <div class="wallet-what">
            <div class="icon-side">
              ${FolderIcon}
            </div>
            <div class="content-side">
              <h3>${translate("modal.wallet.logInToAny")}</h3>
              <p>${translate("modal.wallet.noNeedToCreate")}</p>
            </div>
          </div>

            <div class="button-spacing"></div>
              <button class="middleButton" id="get-a-wallet-button">
                ${translate("modal.wallet.getAWallet")}
              </button>
        </div>

        <div class="what-wallet-mobile">
          <p>
            ${translate("modal.wallet.useAWallet")}
          </p>
          <button class="middleButton" id="get-a-wallet-button-mobile">
            ${translate("modal.wallet.getAWallet")}
          </button>
        </div>

        <div class="lang-selector-wrapper">
          <select class="lang-selector" name="lang">
            <option value="en">English</option>
            <option value="es">Spanish</option>
          </select>
        </div>

      </div>
    </div>
  `,(e=document.getElementById("get-a-wallet-button"))===null||e===void 0||e.addEventListener("click",()=>{renderGetAWallet()}),(t=document.getElementById("get-a-wallet-button-mobile"))===null||t===void 0||t.addEventListener("click",()=>{renderGetAWallet()})})}function renderWalletNotInstalled(e){var t,n,o;modalState&&(document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
      <div class="nws-modal-header-wrapper"><button class="back-button" id="back-button">${BackArrowIcon}</button>
        <div class="nws-modal-header">
          <h3 class="middleTitle"></h3><button class="close-button">${CloseIcon}</button>
        </div>
      </div>
      <div class="wallet-not-installed-wrapper">
        <div class="wallet-data">
          <div class="wallet-icon-box"><img
              src="${e.metadata.iconUrl}" alt="${e.metadata.name}">
          </div>
          <p>
            ${e.metadata.name}
          </p>
        </div>
        <p>
          ${translate("modal.install.youllNeedToInstall")} ${e.metadata.name}
          ${translate("modal.install.toContinueAfterInstalling")}
          <span class="refresh-link" id="refresh-page-lint">&nbsp;
            ${translate("modal.install.refreshThePage")}
          </span>
        </p>
        <div class="action-buttons">
          <button class="middleButton" id="download-button">
            ${translate("modal.install.open")} ${e.metadata.name}
          </button>
        </div>
      </div>
    </div>
  `,(t=document.getElementById("back-button"))===null||t===void 0||t.addEventListener("click",()=>{renderWhatIsAWallet()}),(n=document.getElementById("refresh-page-lint"))===null||n===void 0||n.addEventListener("click",()=>{window.location.reload()}),(o=document.getElementById("download-button"))===null||o===void 0||o.addEventListener("click",()=>{e.type==="injected"&&window.open(e.metadata.downloadUrl,"_blank")}))}const ConnectionSuccessIcon=`
<svg
  width="21"
  height="20"
  viewBox="0 0 21 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M18.8333 9.2333V9.99997C18.8323 11.797 18.2504 13.5455 17.1744 14.9848C16.0984 16.4241 14.586 17.477 12.8628 17.9866C11.1395 18.4961 9.29768 18.4349 7.61202 17.8121C5.92636 17.1894 4.48717 16.0384 3.50909 14.5309C2.53101 13.0233 2.06645 11.24 2.18469 9.4469C2.30293 7.65377 2.99763 5.94691 4.16519 4.58086C5.33275 3.21482 6.91061 2.26279 8.66345 1.86676C10.4163 1.47073 12.2502 1.65192 13.8916 2.3833"
    stroke="#4FD98F"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
  <path
    d="M18.8333 3.33337L10.5 11.675L8 9.17504"
    stroke="#4FD98F"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
</svg>`;function renderWalletAccount(e=null){return __awaiter(this,void 0,void 0,function*(){document.querySelector(".modal-right").innerHTML=`
    <div class="nws-modal-body">
    <div class="nws-modal-header">
        <h3 class="middleTitle"></h3>
        <button class="close-button">
          ${CloseIcon}
        </button>
      </div>
      <div class="connecting-wrapper">
        <div class="content">
          <div class="icon">
            <div class="green-dot"></div>
            <img src="${e==null?void 0:e.metadata.iconUrl}" alt="${e==null?void 0:e.metadata.name}">
          </div>
          <h3 class="connecting-name">${e==null?void 0:e.metadata.name}</h3>
          <div class="wallet-connected-success">
             ${ConnectionSuccessIcon}
            <span>
              ${translate("modal.wallet.connectionSuccessful")}
            </span>
          </div>
        </div>
      </div>
    </div>
  `})}const CopyIcon=`
<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M6.5 15.25a1.75 1.75 0 0 1-1.75-1.75V6.75a2 2 0 0 1 2-2h6.75c.966 0 1.75.784 1.75 1.75"
    stroke="#4F7CD1"
    stroke-width="1.5"
    stroke-linecap="round"
    stroke-linejoin="round"
  ></path>
  <path
    d="M8.75 10.75a2 2 0 0 1 2-2h6.5a2 2 0 0 1 2 2v6.5a2 2 0 0 1-2 2h-6.5a2 2 0 0 1-2-2v-6.5Z"
    stroke="#4F7CD1"
    stroke-width="1.5"
    stroke-linecap="round"
    stroke-linejoin="round"
  ></path>
</svg>`;function renderScanQRCode(e,t){var n,o,c;return __awaiter(this,void 0,void 0,function*(){function a(w){return __awaiter(this,void 0,void 0,function*(){return yield toString$8(w,{margin:0,type:"svg"})})}const u=yield a(t.uri);document.querySelector(".modal-right").innerHTML=`
      <div class="nws-modal-body">
        <section class="scan-qr-code">
          <div class="nws-modal-header">
            <h3 class="middleTitle">${translate("modal.qr.scanWithYourMobile")}</h3>
            <button class="close-button">
                ${CloseIcon}
            </button>
          </div>
          <section class="qr-code">
            <div>
                ${u}
            </div>
            <div class="notification" id="uri-copy-notification"></div>
            <div class="copy-btn" id="copy-uri-to-clipboard">
                ${CopyIcon}
                ${translate("modal.qr.copyToClipboard")}
              </div>
        </section>
        <footer class="footer">
          <p>${translate("modal.qr.preferTheOfficial")} ${e.metadata.name}?</p>
          <button class="btn" id="default-modal-trigger">${translate("modal.qr.open")}</button>
        </footer>
      </section>
    </div>
`,(n=document.getElementById("continue-button"))===null||n===void 0||n.addEventListener("click",()=>{connectToWallet(e,!1)});const h=document.getElementById("copy-uri-to-clipboard"),v=document.getElementById("uri-copy-notification"),b=w=>{v&&h&&(v.innerHTML=w,v.style.display="block",h.style.display="none")},y=()=>{v&&h&&(h.style.display="flex",v.style.display="none")};(o=document.getElementById("copy-uri-to-clipboard"))===null||o===void 0||o.addEventListener("click",()=>{t.uri&&(copy$1(t.uri)?(b(translate("modal.qr.copiedToClipboard")),setTimeout(()=>y(),1200)):(b(translate("modal.qr.failedToCopy")),setTimeout(()=>y(),1200)))}),(c=document.getElementById("default-modal-trigger"))===null||c===void 0||c.addEventListener("click",()=>{t.handleOpenDefaultModal()})})}const WarningIcon=`
<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.95215 16.3536L10.2152 5.85657C10.9531 4.38481 13.0538 4.38519 13.7912 5.85723L19.0494 16.3543C19.7156 17.6841 18.7486 19.25 17.2612 19.25H6.74001C5.25228 19.25 4.28535 17.6835 4.95215 16.3536Z" stroke="#E6B73E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
  <path d="M12 10V12" stroke="#E6B73E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
  <path d="M12.5 16C12.5 16.2761 12.2761 16.5 12 16.5C11.7239 16.5 11.5 16.2761 11.5 16C11.5 15.7239 11.7239 15.5 12 15.5C12.2761 15.5 12.5 15.7239 12.5 16Z" stroke="#E6B73E"></path>
 </svg>`;let initialRender=!0;const getAccountIds=e=>__awaiter(void 0,void 0,void 0,function*(){if(!modalState)return[];const t=yield fetch(`${modalState.selector.options.network.indexerUrl}/publicKey/ed25519:${e}/accounts`);if(!t.ok)throw new Error("Failed to get account id from public key");const n=yield t.json();return!Array.isArray(n)||!n.length?[]:n}),resolveAccounts=e=>__awaiter(void 0,void 0,void 0,function*(){if(!modalState)return[];const t=yield e.getPublicKey(modalState.derivationPath);try{return(yield getAccountIds(t)).map((n,o)=>({derivationPath:modalState.derivationPath,publicKey:t,accountId:n,selected:o===0}))}catch{return null}});function connectToWallet(e,t=!1){return __awaiter(this,void 0,void 0,function*(){if(!modalState)return;const{selectedWalletId:n}=modalState.selector.store.getState();if(n===e.id){renderWalletAccount(e);return}try{if(e.type==="injected"&&!e.metadata.available)return renderWalletNotInstalled(e);if(e.metadata.deprecated)return renderWalletConnectionFailed(e,new Error("Wallet is deprecated"));const o=yield e.wallet();if(yield renderWalletConnecting(e),o.type==="hardware"){const c=yield resolveAccounts(o);return!c||c.length<1?renderNoLedgerAccountsFound(e):c.length===1?renderLedgerAccountsOverviewList(e,c,c):renderLedgerSelectAccount(e,c)}if(o.type==="bridge"){const c=modalState.selector.on("uriChanged",({uri:a})=>{renderScanQRCode(e,{uri:a,handleOpenDefaultModal:()=>{connectToWallet(e,!0)}})});yield o.signIn({contractId:modalState.options.contractId,methodNames:modalState.options.methodNames,qrCodeModal:t}),c.remove(),modalState.container.children[0].classList.remove("open"),modalState.emitter.emit("onHide",{hideReason:"wallet-navigation"});return}if(o.type==="browser"){yield o.signIn({contractId:modalState.options.contractId,methodNames:modalState.options.methodNames,successUrl:o.metadata.successUrl,failureUrl:o.metadata.failureUrl}),modalState.container.children[0].classList.remove("open"),modalState.emitter.emit("onHide",{hideReason:"wallet-navigation"});return}yield o.signIn({contractId:modalState.options.contractId,methodNames:modalState.options.methodNames}),modalState.container.children[0].classList.remove("open"),modalState.emitter.emit("onHide",{hideReason:"wallet-navigation"})}catch(o){const{name:c}=e.metadata,a=o&&typeof o=="object"&&"message"in o?o.message:"Something went wrong";yield renderWalletConnectionFailed(e,new Error(`Failed to sign in with ${c}: ${a}`))}})}function renderOptionsList(e,t){var n,o;if(modalState)for(let c=0;c<t.length;c++){const a=t[c];if(t[c].type==="instant-link"&&modalState.selector.store.getState().selectedWalletId!==a.id)continue;const{name:u,description:h,iconUrl:v}=a.metadata;(n=document.querySelector(e))===null||n===void 0||n.insertAdjacentHTML("beforeend",`
        <div tabindex="0" class="single-wallet ${a.id===modalState.selector.store.getState().selectedWalletId?"selected-wallet connected-wallet":""} sidebar ${a.metadata.deprecated?"deprecated-wallet":""} ${a.id}" id="module-${a.id}">
          <div class="icon"><img src="${v}" alt="${u}"></div>
          <div class="content">
            <div class="title">${u}</div>
            <div class="description">${h}</div>
          </div>
          ${a.metadata.deprecated?`
              <div class="warning-triangle">
                ${WarningIcon}
              </div>
                `:""}
        </div>
      `),(o=document.getElementById("module-"+a.id))===null||o===void 0||o.addEventListener("click",()=>{var b;if(document.querySelectorAll(".selected-wallet").forEach(y=>{y.classList.remove("selected-wallet")}),(b=document.getElementById("module-"+a.id))===null||b===void 0||b.classList.add("selected-wallet"),a.type==="hardware")return renderConnectHardwareWallet(a);connectToWallet(a,!1)})}}function renderModal(){var e,t,n,o;if(!modalState)return;modalState.container.innerHTML=`
    <div class="nws-modal-wrapper ${modalState.options.theme==="dark"?"dark-theme":""}">
      <div class="nws-modal-overlay"></div>
      <div class="nws-modal">
        <div class="modal-left">
          <div class="modal-left-title">
            <h2>${translate("modal.wallet.connectYourWallet")}</h2>
          </div>
          <div class="nws-modal-body">
            <div class="wallet-options-wrapper"></div>
          </div>
        </div>
        <div class="modal-right"></div>
      </div>
    </div>
  `;const c=[],a=[];modalState.modules.forEach(u=>{modalState!=null&&modalState.selector.store.getState().recentlySignedInWallets.includes(u.id)?a.push(u):c.push(u)}),modalState.selector.options.optimizeWalletOrder&&a.length>0?((e=document.querySelector(".wallet-options-wrapper"))===null||e===void 0||e.insertAdjacentHTML("beforeend",`
      <div class="options-list-section">
        <div class="options-list-section-header">Recent</div>
        <div class="options-list recent-options-list-content"></div>
      </div>
      `),(t=document.querySelector(".wallet-options-wrapper"))===null||t===void 0||t.insertAdjacentHTML("beforeend",`
      <div class="options-list-section">
        <div class="options-list-section-header">More</div>
        <div class="options-list more-options-list-content"></div>
      </div>
      `),renderOptionsList(".recent-options-list-content",a),modalState.selector.options.randomizeWalletOrder?renderOptionsList(".more-options-list-content",c.sort(()=>Math.random()-.5)):renderOptionsList(".more-options-list-content",c)):((n=document.querySelector(".wallet-options-wrapper"))===null||n===void 0||n.insertAdjacentHTML("beforeend",'<div class="options-list"></div>'),renderOptionsList(".options-list",modalState.modules)),(o=document.querySelector(".nws-modal-overlay"))===null||o===void 0||o.addEventListener("click",()=>{modalState&&(modalState.container.children[0].classList.remove("open"),modalState.emitter.emit("onHide",{hideReason:"user-triggered"}))}),initialRender&&(document.addEventListener("click",u=>{if(!modalState)return;const h=u.target;h&&h.className==="close-button"&&(modalState.container.children[0].classList.remove("open"),modalState.emitter.emit("onHide",{hideReason:"user-triggered"}))}),initialRender=!1)}const MODAL_ELEMENT_ID="near-wallet-selector-modal",DEFAULT_DERIVATION_PATH="44'/397'/0'/0'/1'";let modalInstance=null,modalState=null;if(typeof window<"u"){const e=document.createElement("div");e.id=MODAL_ELEMENT_ID,document.body.appendChild(e)}const setupModal=(e,t)=>{const n=new EventEmitter;e.store.getState().modules.forEach(c=>__awaiter(void 0,void 0,void 0,function*(){if("topLevelInjected"in c.metadata){if(!c.metadata.topLevelInjected)return;const a=yield c.wallet();if(a.type!=="injected")return;yield a.signIn({contractId:t.contractId,methodNames:t.methodNames})}})),modalState={container:document.getElementById(MODAL_ELEMENT_ID),selector:e,options:t,route:{name:"WalletOptions"},modules:[],derivationPath:DEFAULT_DERIVATION_PATH,emitter:n},modalState.selector.store.observable.subscribe(c=>{modalState&&(e.options.optimizeWalletOrder&&(c.modules.sort((a,u)=>a.metadata.deprecated===u.metadata.deprecated?0:a.metadata.deprecated?1:-1),c.modules.sort((a,u)=>u.metadata.available===a.metadata.available?0:u.metadata.available?1:-1)),modalState.modules=c.modules)});const o=c=>{if(c.key==="Escape"){if(!modalState)return;modalState.container.children[0].classList.remove("open"),modalState.emitter.emit("onHide",{hideReason:"user-triggered"})}};return window.addEventListener("keydown",o),renderModal(),modalInstance||(modalInstance={show:()=>{if(!modalState)return;allowOnlyLanguage(modalState.selector.options.languageCode),renderModal();const c=modalState.selector.store.getState().selectedWalletId;if(c){const a=modalState.modules.find(u=>u.id===c);renderWalletAccount(a)}else renderWhatIsAWallet();modalState.container.children[0].classList.add("open")},hide:()=>{modalState&&modalState.container.children[0].classList.remove("open")},on:(c,a)=>modalState.emitter.on(c,a),off:(c,a)=>{modalState.emitter.off(c,a)}}),modalInstance};var ms={};function getItem(e){return e in ms?ms[e]:null}function setItem(e,t){return ms[e]=t,!0}function removeItem(e){var t=e in ms;return t?delete ms[e]:!1}function clear$1(){return ms={},!0}var stub$1={getItem,setItem,removeItem,clear:clear$1};function parse$2(e){const t=parseValue(e);return t===void 0?null:t}function parseValue(e){try{return JSON.parse(e)}catch{return e}}var parse_1=parse$2,parse$1=parse_1,listeners={};function listen(){commonjsGlobal$7.addEventListener?commonjsGlobal$7.addEventListener("storage",change,!1):commonjsGlobal$7.attachEvent?commonjsGlobal$7.attachEvent("onstorage",change):commonjsGlobal$7.onstorage=change}function change(e){e||(e=commonjsGlobal$7.event);var t=listeners[e.key];t&&t.forEach(n);function n(o){o(parse$1(e.newValue),parse$1(e.oldValue),e.url||e.uri)}}function on(e,t){listeners[e]?listeners[e].push(t):listeners[e]=[t],listen()}function off(e,t){var n=listeners[e];n.length>1?n.splice(n.indexOf(t),1):listeners[e]=[]}var tracking$1={on,off},stub=stub$1,parse=parse_1,tracking=tracking$1,ls="localStorage"in commonjsGlobal$7&&commonjsGlobal$7.localStorage?commonjsGlobal$7.localStorage:stub;function accessor(e,t){return arguments.length===1?get(e):set(e,t)}function get(e){const t=ls.getItem(e);return parse(t)}function set(e,t){try{return ls.setItem(e,JSON.stringify(t)),!0}catch{return!1}}function remove(e){return ls.removeItem(e)}function clear(){return ls.clear()}function backend(e){return e&&(ls=e),ls}accessor.set=set,accessor.get=get,accessor.remove=remove,accessor.clear=clear,accessor.backend=backend,accessor.on=tracking.on,accessor.off=tracking.off;var localStorage$1=accessor;const ls$1=getDefaultExportFromCjs$1(localStorage$1);async function getAccount(){var o;const e=window.selector.options.network.networkId,t=(o=window.selector.store.getState().accounts[0])==null?void 0:o.accountId;if(!t||!e)return null;const n=await getKeyPair(e,t);return n?JSON.stringify({accountId:t,key:n.toString()}):null}function clearNearWalletSelectorCredentials(){for(let e=localStorage.length-1;e>=0;e--){const t=localStorage.key(e);(t.startsWith("near")||t.startsWith("_meteor_wallet")||t.startsWith("herewallet")||t.startsWith("mintbase"))&&localStorage.removeItem(t)}}async function getKeyPair(e,t){const n=await new browserIndex$9.keyStores.BrowserLocalStorageKeyStore().getKey(e,t);if(n)return n;try{const o=ls$1.get("herewallet:keystore");if(o)return browserIndex$9.KeyPair.fromString(o[e].accounts[t])}catch{}try{const o=ls$1.get(`_meteor_wallet${t}:${e}`);if(o)return browserIndex$9.KeyPair.fromString(o)}catch{}return null}window.clearNearWalletSelectorCredentials=clearNearWalletSelectorCredentials,window.initWalletSelector=async(e,t)=>{const n=await setupWalletSelector({network:e,modules:[setupMyNearWallet(),lib$9.setupBitteWallet({networkId:e,contractId:t}),setupHereWallet(),setupMeteorWallet(),lib$k.setupMintbaseWallet({networkId:e,contractId:t})]}),o=setupModal(n,{contractId:t});window.selector=n,window.showSelector=()=>{o.show()},window.getAccount=getAccount,console.log("Wallet selector initialized")}}),pr=$r();export{pr as default};
